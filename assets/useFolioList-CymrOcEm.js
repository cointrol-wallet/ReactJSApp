import{a as D}from"./vendor-react-C4KqQK9E.js";import{u as L}from"./index-BRJ5KNqN.js";function i(c,r){const t=(c??"").toLocaleLowerCase(),e=(r??"").toLocaleLowerCase();return t.localeCompare(e)}function u(c,r){const t=c??0,e=r??0;return t<e?-1:t>e?1:0}function b(c,r,t,e,n,I,h){switch(h){case"nameAsc":return i(c?.name,r?.name);case"nameDesc":return i(r?.name,c?.name);case"createdAsc":return u(c?.createdAt,r?.createdAt);case"createdDesc":return u(r?.createdAt,c?.createdAt);case"addressAsc":return i(c?.address,r?.address);case"addressDesc":return i(r?.address,c?.address);case"chainIdAsc":return u(c?.chainId,r?.chainId);case"chainIdDesc":return u(r?.chainId,c?.chainId);case"coinSymbolAsc":return i(t?.symbol,e?.symbol);case"coinSymbolDesc":return i(e?.symbol,t?.symbol);case"coinBalanceAsc":{const l=Number(n?.balance??0),s=Number(I?.balance??0),a=t?.decimals??1,d=e?.decimals??1,m=l/a,o=s/d;return u(m,o)}case"coinBalanceDesc":{const l=Number(n?.balance??0),s=Number(I?.balance??0),a=t?.decimals??1,d=e?.decimals??1,m=l/a,o=s/d;return u(o,m)}default:return 0}}function M(c,r,t,e,n){const I=[...c],h=new Map(r.map(s=>[s.id,s])),l=new Map(t.map(s=>[s.id,s]));return I.sort((s,a)=>{const d=h.get(s.folioId),m=h.get(a.folioId),o=l.get(s.coinId),A=l.get(a.coinId),p=d?.wallet?.[s.walletId],f=m?.wallet?.[a.walletId],w=b(d,m,o,A,p,f,e);if(w!==0)return w;const y=b(d,m,o,A,p,f,n);return y!==0?y:i(s.folioId,a.folioId)||s.walletId-a.walletId}),I}function F(c,r="createdAsc"){const t=[...c];return t.sort((e,n)=>{switch(r){case"nameAsc":return i(e.name,n.name);case"nameDesc":return i(n.name,e.name);case"createdAsc":return u(e.createdAt,n.createdAt);case"createdDesc":return u(n.createdAt,e.createdAt);case"addressAsc":return i(e.address,n.address);case"addressDesc":return i(n.address,e.address);case"chainIdAsc":return u(e.chainId,n.chainId);case"chainIdDesc":return u(n.chainId,e.chainId);default:return 0}}),t}function N(c={}){const{folios:r,loading:t,error:e,addFolio:n,updateFolio:I,deleteFolio:h,clearFolios:l}=L(),{query:s="",sortMode:a="createdAsc",chainId:d=0}=c;return{folios:D.useMemo(()=>{let o=r;if(s.trim()){const A=s.trim().toLowerCase();o=o.filter(p=>p.name.toLowerCase().includes(A)||p.address.toLowerCase().includes(A))}return d&&(o=o.filter(A=>A.chainId===d)),F(o,a)},[r,s,a,d]),loading:t,error:e,addFolio:n,updateFolio:I,deleteFolio:h,clearFolios:l}}export{M as s,N as u};
