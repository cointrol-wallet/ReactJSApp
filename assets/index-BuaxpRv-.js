(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function $g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tp={exports:{}},du={},np={exports:{}},ut={};var m6;function jA(){if(m6)return ut;m6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=h&&M[h]||M["@@iterator"],typeof M=="function"?M:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(M,V,se){this.props=M,this.context=V,this.refs=w,this.updater=se||g}_.prototype.isReactComponent={},_.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},_.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=_.prototype;function A(M,V,se){this.props=M,this.context=V,this.refs=w,this.updater=se||g}var I=A.prototype=new C;I.constructor=A,b(I,_.prototype),I.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,P={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(M,V,se){var de,xe={},we=null,Ee=null;if(V!=null)for(de in V.ref!==void 0&&(Ee=V.ref),V.key!==void 0&&(we=""+V.key),V)O.call(V,de)&&!k.hasOwnProperty(de)&&(xe[de]=V[de]);var Te=arguments.length-2;if(Te===1)xe.children=se;else if(1<Te){for(var De=Array(Te),_e=0;_e<Te;_e++)De[_e]=arguments[_e+2];xe.children=De}if(M&&M.defaultProps)for(de in Te=M.defaultProps,Te)xe[de]===void 0&&(xe[de]=Te[de]);return{$$typeof:t,type:M,key:we,ref:Ee,props:xe,_owner:P.current}}function z(M,V){return{$$typeof:t,type:M.type,key:V,ref:M.ref,props:M.props,_owner:M._owner}}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function U(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return V[se]})}var H=/\/+/g;function Y(M,V){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):V.toString(36)}function ae(M,V,se,de,xe){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(we){case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case t:case e:Ee=!0}}if(Ee)return Ee=M,xe=xe(Ee),M=de===""?"."+Y(Ee,0):de,T(xe)?(se="",M!=null&&(se=M.replace(H,"$&/")+"/"),ae(xe,V,se,"",function(_e){return _e})):xe!=null&&(F(xe)&&(xe=z(xe,se+(!xe.key||Ee&&Ee.key===xe.key?"":(""+xe.key).replace(H,"$&/")+"/")+M)),V.push(xe)),1;if(Ee=0,de=de===""?".":de+":",T(M))for(var Te=0;Te<M.length;Te++){we=M[Te];var De=de+Y(we,Te);Ee+=ae(we,V,se,De,xe)}else if(De=m(M),typeof De=="function")for(M=De.call(M),Te=0;!(we=M.next()).done;)we=we.value,De=de+Y(we,Te++),Ee+=ae(we,V,se,De,xe);else if(we==="object")throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ee}function X(M,V,se){if(M==null)return M;var de=[],xe=0;return ae(M,de,"","",function(we){return V.call(se,we,xe++)}),de}function q(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var re={current:null},L={transition:null},K={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:L,ReactCurrentOwner:P};function ee(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:X,forEach:function(M,V,se){X(M,function(){V.apply(this,arguments)},se)},count:function(M){var V=0;return X(M,function(){V++}),V},toArray:function(M){return X(M,function(V){return V})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ut.Component=_,ut.Fragment=n,ut.Profiler=o,ut.PureComponent=A,ut.StrictMode=r,ut.Suspense=u,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ut.act=ee,ut.cloneElement=function(M,V,se){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var de=b({},M.props),xe=M.key,we=M.ref,Ee=M._owner;if(V!=null){if(V.ref!==void 0&&(we=V.ref,Ee=P.current),V.key!==void 0&&(xe=""+V.key),M.type&&M.type.defaultProps)var Te=M.type.defaultProps;for(De in V)O.call(V,De)&&!k.hasOwnProperty(De)&&(de[De]=V[De]===void 0&&Te!==void 0?Te[De]:V[De])}var De=arguments.length-2;if(De===1)de.children=se;else if(1<De){Te=Array(De);for(var _e=0;_e<De;_e++)Te[_e]=arguments[_e+2];de.children=Te}return{$$typeof:t,type:M.type,key:xe,ref:we,props:de,_owner:Ee}},ut.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},ut.createElement=R,ut.createFactory=function(M){var V=R.bind(null,M);return V.type=M,V},ut.createRef=function(){return{current:null}},ut.forwardRef=function(M){return{$$typeof:s,render:M}},ut.isValidElement=F,ut.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:q}},ut.memo=function(M,V){return{$$typeof:f,type:M,compare:V===void 0?null:V}},ut.startTransition=function(M){var V=L.transition;L.transition={};try{M()}finally{L.transition=V}},ut.unstable_act=ee,ut.useCallback=function(M,V){return re.current.useCallback(M,V)},ut.useContext=function(M){return re.current.useContext(M)},ut.useDebugValue=function(){},ut.useDeferredValue=function(M){return re.current.useDeferredValue(M)},ut.useEffect=function(M,V){return re.current.useEffect(M,V)},ut.useId=function(){return re.current.useId()},ut.useImperativeHandle=function(M,V,se){return re.current.useImperativeHandle(M,V,se)},ut.useInsertionEffect=function(M,V){return re.current.useInsertionEffect(M,V)},ut.useLayoutEffect=function(M,V){return re.current.useLayoutEffect(M,V)},ut.useMemo=function(M,V){return re.current.useMemo(M,V)},ut.useReducer=function(M,V,se){return re.current.useReducer(M,V,se)},ut.useRef=function(M){return re.current.useRef(M)},ut.useState=function(M){return re.current.useState(M)},ut.useSyncExternalStore=function(M,V,se){return re.current.useSyncExternalStore(M,V,se)},ut.useTransition=function(){return re.current.useTransition()},ut.version="18.3.1",ut}var g6;function hl(){return g6||(g6=1,np.exports=jA()),np.exports}var y6;function zA(){if(y6)return du;y6=1;var t=hl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(s,u,f){var d,h={},m=null,g=null;f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(d in u)r.call(u,d)&&!i.hasOwnProperty(d)&&(h[d]=u[d]);if(s&&s.defaultProps)for(d in u=s.defaultProps,u)h[d]===void 0&&(h[d]=u[d]);return{$$typeof:e,type:s,key:m,ref:g,props:h,_owner:o.current}}return du.Fragment=n,du.jsx=a,du.jsxs=a,du}var v6;function $A(){return v6||(v6=1,tp.exports=zA()),tp.exports}var y=$A(),S=hl();const Xe=$g(S);var Wf={},rp={exports:{}},wr={},op={exports:{}},ip={};var b6;function UA(){return b6||(b6=1,(function(t){function e(L,K){var ee=L.length;L.push(K);e:for(;0<ee;){var M=ee-1>>>1,V=L[M];if(0<o(V,K))L[M]=K,L[ee]=V,ee=M;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],ee=L.pop();if(ee!==K){L[0]=ee;e:for(var M=0,V=L.length,se=V>>>1;M<se;){var de=2*(M+1)-1,xe=L[de],we=de+1,Ee=L[we];if(0>o(xe,ee))we<V&&0>o(Ee,xe)?(L[M]=Ee,L[we]=ee,M=we):(L[M]=xe,L[de]=ee,M=de);else if(we<V&&0>o(Ee,ee))L[M]=Ee,L[we]=ee,M=we;else break e}}return K}function o(L,K){var ee=L.sortIndex-K.sortIndex;return ee!==0?ee:L.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],f=[],d=1,h=null,m=3,g=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(L){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=L)r(f),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(f)}}function T(L){if(w=!1,I(L),!b)if(n(u)!==null)b=!0,q(O);else{var K=n(f);K!==null&&re(T,K.startTime-L)}}function O(L,K){b=!1,w&&(w=!1,C(R),R=-1),g=!0;var ee=m;try{for(I(K),h=n(u);h!==null&&(!(h.expirationTime>K)||L&&!U());){var M=h.callback;if(typeof M=="function"){h.callback=null,m=h.priorityLevel;var V=M(h.expirationTime<=K);K=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(u)&&r(u),I(K)}else r(u);h=n(u)}if(h!==null)var se=!0;else{var de=n(f);de!==null&&re(T,de.startTime-K),se=!1}return se}finally{h=null,m=ee,g=!1}}var P=!1,k=null,R=-1,z=5,F=-1;function U(){return!(t.unstable_now()-F<z)}function H(){if(k!==null){var L=t.unstable_now();F=L;var K=!0;try{K=k(!0,L)}finally{K?Y():(P=!1,k=null)}}else P=!1}var Y;if(typeof A=="function")Y=function(){A(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,X=ae.port2;ae.port1.onmessage=H,Y=function(){X.postMessage(null)}}else Y=function(){_(H,0)};function q(L){k=L,P||(P=!0,Y())}function re(L,K){R=_(function(){L(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,q(O))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var ee=m;m=K;try{return L()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=m;m=L;try{return K()}finally{m=ee}},t.unstable_scheduleCallback=function(L,K,ee){var M=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?M+ee:M):ee=M,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,L={id:d++,callback:K,priorityLevel:L,startTime:ee,expirationTime:V,sortIndex:-1},ee>M?(L.sortIndex=ee,e(f,L),n(u)===null&&L===n(f)&&(w?(C(R),R=-1):w=!0,re(T,ee-M))):(L.sortIndex=V,e(u,L),b||g||(b=!0,q(O))),L},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(L){var K=m;return function(){var ee=m;m=K;try{return L.apply(this,arguments)}finally{m=ee}}}})(ip)),ip}var x6;function HA(){return x6||(x6=1,op.exports=UA()),op.exports}var w6;function VA(){if(w6)return wr;w6=1;var t=hl(),e=HA();function n(c){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(c,l){a(c,l),a(c+"Capture",l)}function a(c,l){for(o[c]=l,c=0;c<l.length;c++)r.add(l[c])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(c){return u.call(h,c)?!0:u.call(d,c)?!1:f.test(c)?h[c]=!0:(d[c]=!0,!1)}function g(c,l,p,v){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,l,p,v){if(l===null||typeof l>"u"||g(c,l,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(c,l,p,v,x,E,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=x,this.mustUseProperty=p,this.propertyName=c,this.type=l,this.sanitizeURL=E,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_[c]=new w(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var l=c[0];_[l]=new w(l,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){_[c]=new w(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_[c]=new w(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_[c]=new w(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){_[c]=new w(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){_[c]=new w(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){_[c]=new w(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){_[c]=new w(c,5,!1,c.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function A(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var l=c.replace(C,A);_[l]=new w(l,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var l=c.replace(C,A);_[l]=new w(l,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var l=c.replace(C,A);_[l]=new w(l,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){_[c]=new w(c,1,!1,c.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){_[c]=new w(c,1,!1,c.toLowerCase(),null,!0,!0)});function I(c,l,p,v){var x=_.hasOwnProperty(l)?_[l]:null;(x!==null?x.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,p,x,v)&&(p=null),v||x===null?m(l)&&(p===null?c.removeAttribute(l):c.setAttribute(l,""+p)):x.mustUseProperty?c[x.propertyName]=p===null?x.type===3?!1:"":p:(l=x.attributeName,v=x.attributeNamespace,p===null?c.removeAttribute(l):(x=x.type,p=x===3||x===4&&p===!0?"":""+p,v?c.setAttributeNS(v,l,p):c.setAttribute(l,p))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),L=Symbol.iterator;function K(c){return c===null||typeof c!="object"?null:(c=L&&c[L]||c["@@iterator"],typeof c=="function"?c:null)}var ee=Object.assign,M;function V(c){if(M===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);M=l&&l[1]||""}return`
`+M+c}var se=!1;function de(c,l){if(!c||se)return"";se=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(J){var v=J}Reflect.construct(c,[],l)}else{try{l.call()}catch(J){v=J}c.call(l.prototype)}else{try{throw Error()}catch(J){v=J}c()}}catch(J){if(J&&v&&typeof J.stack=="string"){for(var x=J.stack.split(`
`),E=v.stack.split(`
`),N=x.length-1,B=E.length-1;1<=N&&0<=B&&x[N]!==E[B];)B--;for(;1<=N&&0<=B;N--,B--)if(x[N]!==E[B]){if(N!==1||B!==1)do if(N--,B--,0>B||x[N]!==E[B]){var j=`
`+x[N].replace(" at new "," at ");return c.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",c.displayName)),j}while(1<=N&&0<=B);break}}}finally{se=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?V(c):""}function xe(c){switch(c.tag){case 5:return V(c.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return c=de(c.type,!1),c;case 11:return c=de(c.type.render,!1),c;case 1:return c=de(c.type,!0),c;default:return""}}function we(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case P:return"Portal";case z:return"Profiler";case R:return"StrictMode";case Y:return"Suspense";case ae:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case U:return(c.displayName||"Context")+".Consumer";case F:return(c._context.displayName||"Context")+".Provider";case H:var l=c.render;return c=c.displayName,c||(c=l.displayName||l.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case X:return l=c.displayName||null,l!==null?l:we(c.type)||"Memo";case q:l=c._payload,c=c._init;try{return we(c(l))}catch{}}return null}function Ee(c){var l=c.type;switch(c.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=l.render,c=c.displayName||c.name||"",l.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function De(c){var l=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function _e(c){var l=De(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,l),v=""+c[l];if(!c.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,E=p.set;return Object.defineProperty(c,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){v=""+N,E.call(this,N)}}),Object.defineProperty(c,l,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(N){v=""+N},stopTracking:function(){c._valueTracker=null,delete c[l]}}}}function It(c){c._valueTracker||(c._valueTracker=_e(c))}function rt(c){if(!c)return!1;var l=c._valueTracker;if(!l)return!0;var p=l.getValue(),v="";return c&&(v=De(c)?c.checked?"true":"false":c.value),c=v,c!==p?(l.setValue(c),!0):!1}function ht(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Tt(c,l){var p=l.checked;return ee({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??c._wrapperState.initialChecked})}function ct(c,l){var p=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;p=Te(l.value!=null?l.value:p),c._wrapperState={initialChecked:v,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ce(c,l){l=l.checked,l!=null&&I(c,"checked",l,!1)}function te(c,l){ce(c,l);var p=Te(l.value),v=l.type;if(p!=null)v==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(v==="submit"||v==="reset"){c.removeAttribute("value");return}l.hasOwnProperty("value")?ze(c,l.type,p):l.hasOwnProperty("defaultValue")&&ze(c,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(c.defaultChecked=!!l.defaultChecked)}function be(c,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+c._wrapperState.initialValue,p||l===c.value||(c.value=l),c.defaultValue=l}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function ze(c,l,p){(l!=="number"||ht(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var qe=Array.isArray;function We(c,l,p,v){if(c=c.options,l){l={};for(var x=0;x<p.length;x++)l["$"+p[x]]=!0;for(p=0;p<c.length;p++)x=l.hasOwnProperty("$"+c[p].value),c[p].selected!==x&&(c[p].selected=x),x&&v&&(c[p].defaultSelected=!0)}else{for(p=""+Te(p),l=null,x=0;x<c.length;x++){if(c[x].value===p){c[x].selected=!0,v&&(c[x].defaultSelected=!0);return}l!==null||c[x].disabled||(l=c[x])}l!==null&&(l.selected=!0)}}function mt(c,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},l,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function vt(c,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(qe(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}c._wrapperState={initialValue:Te(p)}}function bt(c,l){var p=Te(l.value),v=Te(l.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),l.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),v!=null&&(c.defaultValue=""+v)}function on(c){var l=c.textContent;l===c._wrapperState.initialValue&&l!==""&&l!==null&&(c.value=l)}function an(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(c,l){return c==null||c==="http://www.w3.org/1999/xhtml"?an(l):c==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Be,tt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,v,x){MSApp.execUnsafeLocalFunction(function(){return c(l,p,v,x)})}:c})(function(c,l){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=l;else{for(Be=Be||document.createElement("div"),Be.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Be.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;l.firstChild;)c.appendChild(l.firstChild)}});function ne(c,l){if(l){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=l;return}}c.textContent=l}var ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];Object.keys(ye).forEach(function(c){Se.forEach(function(l){l=l+c.charAt(0).toUpperCase()+c.substring(1),ye[l]=ye[c]})});function Ze(c,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||ye.hasOwnProperty(c)&&ye[c]?(""+l).trim():l+"px"}function ot(c,l){c=c.style;for(var p in l)if(l.hasOwnProperty(p)){var v=p.indexOf("--")===0,x=Ze(p,l[p],v);p==="float"&&(p="cssFloat"),v?c.setProperty(p,x):c[p]=x}}var Je=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(c,l){if(l){if(Je[c]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function bn(c,l){if(c.indexOf("-")===-1)return typeof l.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rr=null;function or(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var fn=null,Kn=null,Ke=null;function Nt(c){if(c=Yc(c)){if(typeof fn!="function")throw Error(n(280));var l=c.stateNode;l&&(l=sf(l),fn(c.stateNode,c.type,l))}}function it(c){Kn?Ke?Ke.push(c):Ke=[c]:Kn=c}function et(){if(Kn){var c=Kn,l=Ke;if(Ke=Kn=null,Nt(c),l)for(c=0;c<l.length;c++)Nt(l[c])}}function xt(c,l){return c(l)}function nt(){}var sn=!1;function Hn(c,l,p){if(sn)return c(l,p);sn=!0;try{return xt(c,l,p)}finally{sn=!1,(Kn!==null||Ke!==null)&&(nt(),et())}}function Ft(c,l){var p=c.stateNode;if(p===null)return null;var v=sf(p);if(v===null)return null;p=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var pr=!1;if(s)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{pr=!1}function kr(c,l,p,v,x,E,N,B,j){var J=Array.prototype.slice.call(arguments,3);try{l.apply(p,J)}catch(le){this.onError(le)}}var Dr=!1,Q=null,pe=!1,Ce=null,Le={onError:function(c){Dr=!0,Q=c}};function kn(c,l,p,v,x,E,N,B,j){Dr=!1,Q=null,kr.apply(Le,arguments)}function Bt(c,l,p,v,x,E,N,B,j){if(kn.apply(this,arguments),Dr){if(Dr){var J=Q;Dr=!1,Q=null}else throw Error(n(198));pe||(pe=!0,Ce=J)}}function _t(c){var l=c,p=c;if(c.alternate)for(;l.return;)l=l.return;else{c=l;do l=c,(l.flags&4098)!==0&&(p=l.return),c=l.return;while(c)}return l.tag===3?p:null}function xn(c){if(c.tag===13){var l=c.memoizedState;if(l===null&&(c=c.alternate,c!==null&&(l=c.memoizedState)),l!==null)return l.dehydrated}return null}function Dn(c){if(_t(c)!==c)throw Error(n(188))}function mr(c){var l=c.alternate;if(!l){if(l=_t(c),l===null)throw Error(n(188));return l!==c?null:c}for(var p=c,v=l;;){var x=p.return;if(x===null)break;var E=x.alternate;if(E===null){if(v=x.return,v!==null){p=v;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===p)return Dn(x),c;if(E===v)return Dn(x),l;E=E.sibling}throw Error(n(188))}if(p.return!==v.return)p=x,v=E;else{for(var N=!1,B=x.child;B;){if(B===p){N=!0,p=x,v=E;break}if(B===v){N=!0,v=x,p=E;break}B=B.sibling}if(!N){for(B=E.child;B;){if(B===p){N=!0,p=E,v=x;break}if(B===v){N=!0,v=E,p=x;break}B=B.sibling}if(!N)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:l}function Rc(c){return c=mr(c),c!==null?$v(c):null}function $v(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var l=$v(c);if(l!==null)return l;c=c.sibling}return null}var Uv=e.unstable_scheduleCallback,Hv=e.unstable_cancelCallback,K9=e.unstable_shouldYield,Y9=e.unstable_requestPaint,dn=e.unstable_now,Q9=e.unstable_getCurrentPriorityLevel,w1=e.unstable_ImmediatePriority,Vv=e.unstable_UserBlockingPriority,zl=e.unstable_NormalPriority,J9=e.unstable_LowPriority,Gv=e.unstable_IdlePriority,$l=null,Po=null;function eC(c){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot($l,c,void 0,(c.current.flags&128)===128)}catch{}}var so=Math.clz32?Math.clz32:rC,tC=Math.log,nC=Math.LN2;function rC(c){return c>>>=0,c===0?32:31-(tC(c)/nC|0)|0}var Ul=64,Hl=4194304;function kc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Vl(c,l){var p=c.pendingLanes;if(p===0)return 0;var v=0,x=c.suspendedLanes,E=c.pingedLanes,N=p&268435455;if(N!==0){var B=N&~x;B!==0?v=kc(B):(E&=N,E!==0&&(v=kc(E)))}else N=p&~x,N!==0?v=kc(N):E!==0&&(v=kc(E));if(v===0)return 0;if(l!==0&&l!==v&&(l&x)===0&&(x=v&-v,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if((v&4)!==0&&(v|=p&16),l=c.entangledLanes,l!==0)for(c=c.entanglements,l&=v;0<l;)p=31-so(l),x=1<<p,v|=c[p],l&=~x;return v}function oC(c,l){switch(c){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iC(c,l){for(var p=c.suspendedLanes,v=c.pingedLanes,x=c.expirationTimes,E=c.pendingLanes;0<E;){var N=31-so(E),B=1<<N,j=x[N];j===-1?((B&p)===0||(B&v)!==0)&&(x[N]=oC(B,l)):j<=l&&(c.expiredLanes|=B),E&=~B}}function E1(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Wv(){var c=Ul;return Ul<<=1,(Ul&4194240)===0&&(Ul=64),c}function _1(c){for(var l=[],p=0;31>p;p++)l.push(c);return l}function Dc(c,l,p){c.pendingLanes|=l,l!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,l=31-so(l),c[l]=p}function aC(c,l){var p=c.pendingLanes&~l;c.pendingLanes=l,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=l,c.mutableReadLanes&=l,c.entangledLanes&=l,l=c.entanglements;var v=c.eventTimes;for(c=c.expirationTimes;0<p;){var x=31-so(p),E=1<<x;l[x]=0,v[x]=-1,c[x]=-1,p&=~E}}function C1(c,l){var p=c.entangledLanes|=l;for(c=c.entanglements;p;){var v=31-so(p),x=1<<v;x&l|c[v]&l&&(c[v]|=l),p&=~x}}var Rt=0;function Zv(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Xv,A1,qv,Kv,Yv,S1=!1,Gl=[],Ri=null,ki=null,Di=null,Mc=new Map,Bc=new Map,Mi=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qv(c,l){switch(c){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Mc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(l.pointerId)}}function Lc(c,l,p,v,x,E){return c===null||c.nativeEvent!==E?(c={blockedOn:l,domEventName:p,eventSystemFlags:v,nativeEvent:E,targetContainers:[x]},l!==null&&(l=Yc(l),l!==null&&A1(l)),c):(c.eventSystemFlags|=v,l=c.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),c)}function cC(c,l,p,v,x){switch(l){case"focusin":return Ri=Lc(Ri,c,l,p,v,x),!0;case"dragenter":return ki=Lc(ki,c,l,p,v,x),!0;case"mouseover":return Di=Lc(Di,c,l,p,v,x),!0;case"pointerover":var E=x.pointerId;return Mc.set(E,Lc(Mc.get(E)||null,c,l,p,v,x)),!0;case"gotpointercapture":return E=x.pointerId,Bc.set(E,Lc(Bc.get(E)||null,c,l,p,v,x)),!0}return!1}function Jv(c){var l=wa(c.target);if(l!==null){var p=_t(l);if(p!==null){if(l=p.tag,l===13){if(l=xn(p),l!==null){c.blockedOn=l,Yv(c.priority,function(){qv(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Wl(c){if(c.blockedOn!==null)return!1;for(var l=c.targetContainers;0<l.length;){var p=T1(c.domEventName,c.eventSystemFlags,l[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var v=new p.constructor(p.type,p);rr=v,p.target.dispatchEvent(v),rr=null}else return l=Yc(p),l!==null&&A1(l),c.blockedOn=p,!1;l.shift()}return!0}function e2(c,l,p){Wl(c)&&p.delete(l)}function uC(){S1=!1,Ri!==null&&Wl(Ri)&&(Ri=null),ki!==null&&Wl(ki)&&(ki=null),Di!==null&&Wl(Di)&&(Di=null),Mc.forEach(e2),Bc.forEach(e2)}function Fc(c,l){c.blockedOn===l&&(c.blockedOn=null,S1||(S1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uC)))}function jc(c){function l(x){return Fc(x,c)}if(0<Gl.length){Fc(Gl[0],c);for(var p=1;p<Gl.length;p++){var v=Gl[p];v.blockedOn===c&&(v.blockedOn=null)}}for(Ri!==null&&Fc(Ri,c),ki!==null&&Fc(ki,c),Di!==null&&Fc(Di,c),Mc.forEach(l),Bc.forEach(l),p=0;p<Mi.length;p++)v=Mi[p],v.blockedOn===c&&(v.blockedOn=null);for(;0<Mi.length&&(p=Mi[0],p.blockedOn===null);)Jv(p),p.blockedOn===null&&Mi.shift()}var ss=T.ReactCurrentBatchConfig,Zl=!0;function lC(c,l,p,v){var x=Rt,E=ss.transition;ss.transition=null;try{Rt=1,I1(c,l,p,v)}finally{Rt=x,ss.transition=E}}function fC(c,l,p,v){var x=Rt,E=ss.transition;ss.transition=null;try{Rt=4,I1(c,l,p,v)}finally{Rt=x,ss.transition=E}}function I1(c,l,p,v){if(Zl){var x=T1(c,l,p,v);if(x===null)G1(c,l,v,Xl,p),Qv(c,v);else if(cC(x,c,l,p,v))v.stopPropagation();else if(Qv(c,v),l&4&&-1<sC.indexOf(c)){for(;x!==null;){var E=Yc(x);if(E!==null&&Xv(E),E=T1(c,l,p,v),E===null&&G1(c,l,v,Xl,p),E===x)break;x=E}x!==null&&v.stopPropagation()}else G1(c,l,v,null,p)}}var Xl=null;function T1(c,l,p,v){if(Xl=null,c=or(v),c=wa(c),c!==null)if(l=_t(c),l===null)c=null;else if(p=l.tag,p===13){if(c=xn(l),c!==null)return c;c=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;c=null}else l!==c&&(c=null);return Xl=c,null}function t2(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q9()){case w1:return 1;case Vv:return 4;case zl:case J9:return 16;case Gv:return 536870912;default:return 16}default:return 16}}var Bi=null,N1=null,ql=null;function n2(){if(ql)return ql;var c,l=N1,p=l.length,v,x="value"in Bi?Bi.value:Bi.textContent,E=x.length;for(c=0;c<p&&l[c]===x[c];c++);var N=p-c;for(v=1;v<=N&&l[p-v]===x[E-v];v++);return ql=x.slice(c,1<v?1-v:void 0)}function Kl(c){var l=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&l===13&&(c=13)):c=l,c===10&&(c=13),32<=c||c===13?c:0}function Yl(){return!0}function r2(){return!1}function Mr(c){function l(p,v,x,E,N){this._reactName=p,this._targetInst=x,this.type=v,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var B in c)c.hasOwnProperty(B)&&(p=c[B],this[B]=p?p(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Yl:r2,this.isPropagationStopped=r2,this}return ee(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),l}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O1=Mr(cs),zc=ee({},cs,{view:0,detail:0}),dC=Mr(zc),P1,R1,$c,Ql=ee({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D1,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==$c&&($c&&c.type==="mousemove"?(P1=c.screenX-$c.screenX,R1=c.screenY-$c.screenY):R1=P1=0,$c=c),P1)},movementY:function(c){return"movementY"in c?c.movementY:R1}}),o2=Mr(Ql),hC=ee({},Ql,{dataTransfer:0}),pC=Mr(hC),mC=ee({},zc,{relatedTarget:0}),k1=Mr(mC),gC=ee({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),yC=Mr(gC),vC=ee({},cs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),bC=Mr(vC),xC=ee({},cs,{data:0}),i2=Mr(xC),wC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(c){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(c):(c=_C[c])?!!l[c]:!1}function D1(){return CC}var AC=ee({},zc,{key:function(c){if(c.key){var l=wC[c.key]||c.key;if(l!=="Unidentified")return l}return c.type==="keypress"?(c=Kl(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?EC[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D1,charCode:function(c){return c.type==="keypress"?Kl(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Kl(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),SC=Mr(AC),IC=ee({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a2=Mr(IC),TC=ee({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D1}),NC=Mr(TC),OC=ee({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=Mr(OC),RC=ee({},Ql,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),kC=Mr(RC),DC=[9,13,27,32],M1=s&&"CompositionEvent"in window,Uc=null;s&&"documentMode"in document&&(Uc=document.documentMode);var MC=s&&"TextEvent"in window&&!Uc,s2=s&&(!M1||Uc&&8<Uc&&11>=Uc),c2=" ",u2=!1;function l2(c,l){switch(c){case"keyup":return DC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f2(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var us=!1;function BC(c,l){switch(c){case"compositionend":return f2(l);case"keypress":return l.which!==32?null:(u2=!0,c2);case"textInput":return c=l.data,c===c2&&u2?null:c;default:return null}}function LC(c,l){if(us)return c==="compositionend"||!M1&&l2(c,l)?(c=n2(),ql=N1=Bi=null,us=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return s2&&l.locale!=="ko"?null:l.data;default:return null}}var FC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d2(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l==="input"?!!FC[c.type]:l==="textarea"}function h2(c,l,p,v){it(v),l=rf(l,"onChange"),0<l.length&&(p=new O1("onChange","change",null,p,v),c.push({event:p,listeners:l}))}var Hc=null,Vc=null;function jC(c){P2(c,0)}function Jl(c){var l=ps(c);if(rt(l))return c}function zC(c,l){if(c==="change")return l}var p2=!1;if(s){var B1;if(s){var L1="oninput"in document;if(!L1){var m2=document.createElement("div");m2.setAttribute("oninput","return;"),L1=typeof m2.oninput=="function"}B1=L1}else B1=!1;p2=B1&&(!document.documentMode||9<document.documentMode)}function g2(){Hc&&(Hc.detachEvent("onpropertychange",y2),Vc=Hc=null)}function y2(c){if(c.propertyName==="value"&&Jl(Vc)){var l=[];h2(l,Vc,c,or(c)),Hn(jC,l)}}function $C(c,l,p){c==="focusin"?(g2(),Hc=l,Vc=p,Hc.attachEvent("onpropertychange",y2)):c==="focusout"&&g2()}function UC(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Jl(Vc)}function HC(c,l){if(c==="click")return Jl(l)}function VC(c,l){if(c==="input"||c==="change")return Jl(l)}function GC(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var co=typeof Object.is=="function"?Object.is:GC;function Gc(c,l){if(co(c,l))return!0;if(typeof c!="object"||c===null||typeof l!="object"||l===null)return!1;var p=Object.keys(c),v=Object.keys(l);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var x=p[v];if(!u.call(l,x)||!co(c[x],l[x]))return!1}return!0}function v2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function b2(c,l){var p=v2(c);c=0;for(var v;p;){if(p.nodeType===3){if(v=c+p.textContent.length,c<=l&&v>=l)return{node:p,offset:l-c};c=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=v2(p)}}function x2(c,l){return c&&l?c===l?!0:c&&c.nodeType===3?!1:l&&l.nodeType===3?x2(c,l.parentNode):"contains"in c?c.contains(l):c.compareDocumentPosition?!!(c.compareDocumentPosition(l)&16):!1:!1}function w2(){for(var c=window,l=ht();l instanceof c.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)c=l.contentWindow;else break;l=ht(c.document)}return l}function F1(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l&&(l==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||l==="textarea"||c.contentEditable==="true")}function WC(c){var l=w2(),p=c.focusedElem,v=c.selectionRange;if(l!==p&&p&&p.ownerDocument&&x2(p.ownerDocument.documentElement,p)){if(v!==null&&F1(p)){if(l=v.start,c=v.end,c===void 0&&(c=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(c,p.value.length);else if(c=(l=p.ownerDocument||document)&&l.defaultView||window,c.getSelection){c=c.getSelection();var x=p.textContent.length,E=Math.min(v.start,x);v=v.end===void 0?E:Math.min(v.end,x),!c.extend&&E>v&&(x=v,v=E,E=x),x=b2(p,E);var N=b2(p,v);x&&N&&(c.rangeCount!==1||c.anchorNode!==x.node||c.anchorOffset!==x.offset||c.focusNode!==N.node||c.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),c.removeAllRanges(),E>v?(c.addRange(l),c.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),c.addRange(l)))}}for(l=[],c=p;c=c.parentNode;)c.nodeType===1&&l.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)c=l[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var ZC=s&&"documentMode"in document&&11>=document.documentMode,ls=null,j1=null,Wc=null,z1=!1;function E2(c,l,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;z1||ls==null||ls!==ht(v)||(v=ls,"selectionStart"in v&&F1(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Wc&&Gc(Wc,v)||(Wc=v,v=rf(j1,"onSelect"),0<v.length&&(l=new O1("onSelect","select",null,l,p),c.push({event:l,listeners:v}),l.target=ls)))}function ef(c,l){var p={};return p[c.toLowerCase()]=l.toLowerCase(),p["Webkit"+c]="webkit"+l,p["Moz"+c]="moz"+l,p}var fs={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},$1={},_2={};s&&(_2=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function tf(c){if($1[c])return $1[c];if(!fs[c])return c;var l=fs[c],p;for(p in l)if(l.hasOwnProperty(p)&&p in _2)return $1[c]=l[p];return c}var C2=tf("animationend"),A2=tf("animationiteration"),S2=tf("animationstart"),I2=tf("transitionend"),T2=new Map,N2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(c,l){T2.set(c,l),i(l,[c])}for(var U1=0;U1<N2.length;U1++){var H1=N2[U1],XC=H1.toLowerCase(),qC=H1[0].toUpperCase()+H1.slice(1);Li(XC,"on"+qC)}Li(C2,"onAnimationEnd"),Li(A2,"onAnimationIteration"),Li(S2,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(I2,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function O2(c,l,p){var v=c.type||"unknown-event";c.currentTarget=p,Bt(v,l,void 0,c),c.currentTarget=null}function P2(c,l){l=(l&4)!==0;for(var p=0;p<c.length;p++){var v=c[p],x=v.event;v=v.listeners;e:{var E=void 0;if(l)for(var N=v.length-1;0<=N;N--){var B=v[N],j=B.instance,J=B.currentTarget;if(B=B.listener,j!==E&&x.isPropagationStopped())break e;O2(x,B,J),E=j}else for(N=0;N<v.length;N++){if(B=v[N],j=B.instance,J=B.currentTarget,B=B.listener,j!==E&&x.isPropagationStopped())break e;O2(x,B,J),E=j}}}if(pe)throw c=Ce,pe=!1,Ce=null,c}function Ht(c,l){var p=l[Y1];p===void 0&&(p=l[Y1]=new Set);var v=c+"__bubble";p.has(v)||(R2(l,c,2,!1),p.add(v))}function V1(c,l,p){var v=0;l&&(v|=4),R2(p,c,v,l)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Xc(c){if(!c[nf]){c[nf]=!0,r.forEach(function(p){p!=="selectionchange"&&(KC.has(p)||V1(p,!1,c),V1(p,!0,c))});var l=c.nodeType===9?c:c.ownerDocument;l===null||l[nf]||(l[nf]=!0,V1("selectionchange",!1,l))}}function R2(c,l,p,v){switch(t2(l)){case 1:var x=lC;break;case 4:x=fC;break;default:x=I1}p=x.bind(null,l,p,c),x=void 0,!pr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),v?x!==void 0?c.addEventListener(l,p,{capture:!0,passive:x}):c.addEventListener(l,p,!0):x!==void 0?c.addEventListener(l,p,{passive:x}):c.addEventListener(l,p,!1)}function G1(c,l,p,v,x){var E=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var N=v.tag;if(N===3||N===4){var B=v.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(N===4)for(N=v.return;N!==null;){var j=N.tag;if((j===3||j===4)&&(j=N.stateNode.containerInfo,j===x||j.nodeType===8&&j.parentNode===x))return;N=N.return}for(;B!==null;){if(N=wa(B),N===null)return;if(j=N.tag,j===5||j===6){v=E=N;continue e}B=B.parentNode}}v=v.return}Hn(function(){var J=E,le=or(p),he=[];e:{var ue=T2.get(c);if(ue!==void 0){var Ae=O1,Ne=c;switch(c){case"keypress":if(Kl(p)===0)break e;case"keydown":case"keyup":Ae=SC;break;case"focusin":Ne="focus",Ae=k1;break;case"focusout":Ne="blur",Ae=k1;break;case"beforeblur":case"afterblur":Ae=k1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=o2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=pC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=NC;break;case C2:case A2:case S2:Ae=yC;break;case I2:Ae=PC;break;case"scroll":Ae=dC;break;case"wheel":Ae=kC;break;case"copy":case"cut":case"paste":Ae=bC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=a2}var Re=(l&4)!==0,hn=!Re&&c==="scroll",G=Re?ue!==null?ue+"Capture":null:ue;Re=[];for(var $=J,Z;$!==null;){Z=$;var me=Z.stateNode;if(Z.tag===5&&me!==null&&(Z=me,G!==null&&(me=Ft($,G),me!=null&&Re.push(qc($,me,Z)))),hn)break;$=$.return}0<Re.length&&(ue=new Ae(ue,Ne,null,p,le),he.push({event:ue,listeners:Re}))}}if((l&7)===0){e:{if(ue=c==="mouseover"||c==="pointerover",Ae=c==="mouseout"||c==="pointerout",ue&&p!==rr&&(Ne=p.relatedTarget||p.fromElement)&&(wa(Ne)||Ne[Jo]))break e;if((Ae||ue)&&(ue=le.window===le?le:(ue=le.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ae?(Ne=p.relatedTarget||p.toElement,Ae=J,Ne=Ne?wa(Ne):null,Ne!==null&&(hn=_t(Ne),Ne!==hn||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Ae=null,Ne=J),Ae!==Ne)){if(Re=o2,me="onMouseLeave",G="onMouseEnter",$="mouse",(c==="pointerout"||c==="pointerover")&&(Re=a2,me="onPointerLeave",G="onPointerEnter",$="pointer"),hn=Ae==null?ue:ps(Ae),Z=Ne==null?ue:ps(Ne),ue=new Re(me,$+"leave",Ae,p,le),ue.target=hn,ue.relatedTarget=Z,me=null,wa(le)===J&&(Re=new Re(G,$+"enter",Ne,p,le),Re.target=Z,Re.relatedTarget=hn,me=Re),hn=me,Ae&&Ne)t:{for(Re=Ae,G=Ne,$=0,Z=Re;Z;Z=ds(Z))$++;for(Z=0,me=G;me;me=ds(me))Z++;for(;0<$-Z;)Re=ds(Re),$--;for(;0<Z-$;)G=ds(G),Z--;for(;$--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=ds(Re),G=ds(G)}Re=null}else Re=null;Ae!==null&&k2(he,ue,Ae,Re,!1),Ne!==null&&hn!==null&&k2(he,hn,Ne,Re,!0)}}e:{if(ue=J?ps(J):window,Ae=ue.nodeName&&ue.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ue.type==="file")var Me=zC;else if(d2(ue))if(p2)Me=VC;else{Me=UC;var He=$C}else(Ae=ue.nodeName)&&Ae.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Me=HC);if(Me&&(Me=Me(c,J))){h2(he,Me,p,le);break e}He&&He(c,ue,J),c==="focusout"&&(He=ue._wrapperState)&&He.controlled&&ue.type==="number"&&ze(ue,"number",ue.value)}switch(He=J?ps(J):window,c){case"focusin":(d2(He)||He.contentEditable==="true")&&(ls=He,j1=J,Wc=null);break;case"focusout":Wc=j1=ls=null;break;case"mousedown":z1=!0;break;case"contextmenu":case"mouseup":case"dragend":z1=!1,E2(he,p,le);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":E2(he,p,le)}var Ve;if(M1)e:{switch(c){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else us?l2(c,p)&&(Ye="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Ye="onCompositionStart");Ye&&(s2&&p.locale!=="ko"&&(us||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&us&&(Ve=n2()):(Bi=le,N1="value"in Bi?Bi.value:Bi.textContent,us=!0)),He=rf(J,Ye),0<He.length&&(Ye=new i2(Ye,c,null,p,le),he.push({event:Ye,listeners:He}),Ve?Ye.data=Ve:(Ve=f2(p),Ve!==null&&(Ye.data=Ve)))),(Ve=MC?BC(c,p):LC(c,p))&&(J=rf(J,"onBeforeInput"),0<J.length&&(le=new i2("onBeforeInput","beforeinput",null,p,le),he.push({event:le,listeners:J}),le.data=Ve))}P2(he,l)})}function qc(c,l,p){return{instance:c,listener:l,currentTarget:p}}function rf(c,l){for(var p=l+"Capture",v=[];c!==null;){var x=c,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=Ft(c,p),E!=null&&v.unshift(qc(c,E,x)),E=Ft(c,l),E!=null&&v.push(qc(c,E,x))),c=c.return}return v}function ds(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function k2(c,l,p,v,x){for(var E=l._reactName,N=[];p!==null&&p!==v;){var B=p,j=B.alternate,J=B.stateNode;if(j!==null&&j===v)break;B.tag===5&&J!==null&&(B=J,x?(j=Ft(p,E),j!=null&&N.unshift(qc(p,j,B))):x||(j=Ft(p,E),j!=null&&N.push(qc(p,j,B)))),p=p.return}N.length!==0&&c.push({event:l,listeners:N})}var YC=/\r\n?/g,QC=/\u0000|\uFFFD/g;function D2(c){return(typeof c=="string"?c:""+c).replace(YC,`
`).replace(QC,"")}function of(c,l,p){if(l=D2(l),D2(c)!==l&&p)throw Error(n(425))}function af(){}var W1=null,Z1=null;function X1(c,l){return c==="textarea"||c==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var q1=typeof setTimeout=="function"?setTimeout:void 0,JC=typeof clearTimeout=="function"?clearTimeout:void 0,M2=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof M2<"u"?function(c){return M2.resolve(null).then(c).catch(tA)}:q1;function tA(c){setTimeout(function(){throw c})}function K1(c,l){var p=l,v=0;do{var x=p.nextSibling;if(c.removeChild(p),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(v===0){c.removeChild(x),jc(l);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=x}while(p);jc(l)}function Fi(c){for(;c!=null;c=c.nextSibling){var l=c.nodeType;if(l===1||l===3)break;if(l===8){if(l=c.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return c}function B2(c){c=c.previousSibling;for(var l=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return c;l--}else p==="/$"&&l++}c=c.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Ro="__reactFiber$"+hs,Kc="__reactProps$"+hs,Jo="__reactContainer$"+hs,Y1="__reactEvents$"+hs,nA="__reactListeners$"+hs,rA="__reactHandles$"+hs;function wa(c){var l=c[Ro];if(l)return l;for(var p=c.parentNode;p;){if(l=p[Jo]||p[Ro]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(c=B2(c);c!==null;){if(p=c[Ro])return p;c=B2(c)}return l}c=p,p=c.parentNode}return null}function Yc(c){return c=c[Ro]||c[Jo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function ps(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function sf(c){return c[Kc]||null}var Q1=[],ms=-1;function ji(c){return{current:c}}function Vt(c){0>ms||(c.current=Q1[ms],Q1[ms]=null,ms--)}function zt(c,l){ms++,Q1[ms]=c.current,c.current=l}var zi={},Yn=ji(zi),gr=ji(!1),Ea=zi;function gs(c,l){var p=c.type.contextTypes;if(!p)return zi;var v=c.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in p)x[E]=l[E];return v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=l,c.__reactInternalMemoizedMaskedChildContext=x),x}function yr(c){return c=c.childContextTypes,c!=null}function cf(){Vt(gr),Vt(Yn)}function L2(c,l,p){if(Yn.current!==zi)throw Error(n(168));zt(Yn,l),zt(gr,p)}function F2(c,l,p){var v=c.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var x in v)if(!(x in l))throw Error(n(108,Ee(c)||"Unknown",x));return ee({},p,v)}function uf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||zi,Ea=Yn.current,zt(Yn,c),zt(gr,gr.current),!0}function j2(c,l,p){var v=c.stateNode;if(!v)throw Error(n(169));p?(c=F2(c,l,Ea),v.__reactInternalMemoizedMergedChildContext=c,Vt(gr),Vt(Yn),zt(Yn,c)):Vt(gr),zt(gr,p)}var ei=null,lf=!1,J1=!1;function z2(c){ei===null?ei=[c]:ei.push(c)}function oA(c){lf=!0,z2(c)}function $i(){if(!J1&&ei!==null){J1=!0;var c=0,l=Rt;try{var p=ei;for(Rt=1;c<p.length;c++){var v=p[c];do v=v(!0);while(v!==null)}ei=null,lf=!1}catch(x){throw ei!==null&&(ei=ei.slice(c+1)),Uv(w1,$i),x}finally{Rt=l,J1=!1}}return null}var ys=[],vs=0,ff=null,df=0,Gr=[],Wr=0,_a=null,ti=1,ni="";function Ca(c,l){ys[vs++]=df,ys[vs++]=ff,ff=c,df=l}function $2(c,l,p){Gr[Wr++]=ti,Gr[Wr++]=ni,Gr[Wr++]=_a,_a=c;var v=ti;c=ni;var x=32-so(v)-1;v&=~(1<<x),p+=1;var E=32-so(l)+x;if(30<E){var N=x-x%5;E=(v&(1<<N)-1).toString(32),v>>=N,x-=N,ti=1<<32-so(l)+x|p<<x|v,ni=E+c}else ti=1<<E|p<<x|v,ni=c}function eh(c){c.return!==null&&(Ca(c,1),$2(c,1,0))}function th(c){for(;c===ff;)ff=ys[--vs],ys[vs]=null,df=ys[--vs],ys[vs]=null;for(;c===_a;)_a=Gr[--Wr],Gr[Wr]=null,ni=Gr[--Wr],Gr[Wr]=null,ti=Gr[--Wr],Gr[Wr]=null}var Br=null,Lr=null,Xt=!1,uo=null;function U2(c,l){var p=Kr(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=c,l=c.deletions,l===null?(c.deletions=[p],c.flags|=16):l.push(p)}function H2(c,l){switch(c.tag){case 5:var p=c.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(c.stateNode=l,Br=c,Lr=Fi(l.firstChild),!0):!1;case 6:return l=c.pendingProps===""||l.nodeType!==3?null:l,l!==null?(c.stateNode=l,Br=c,Lr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=_a!==null?{id:ti,overflow:ni}:null,c.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=Kr(18,null,null,0),p.stateNode=l,p.return=c,c.child=p,Br=c,Lr=null,!0):!1;default:return!1}}function nh(c){return(c.mode&1)!==0&&(c.flags&128)===0}function rh(c){if(Xt){var l=Lr;if(l){var p=l;if(!H2(c,l)){if(nh(c))throw Error(n(418));l=Fi(p.nextSibling);var v=Br;l&&H2(c,l)?U2(v,p):(c.flags=c.flags&-4097|2,Xt=!1,Br=c)}}else{if(nh(c))throw Error(n(418));c.flags=c.flags&-4097|2,Xt=!1,Br=c}}}function V2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Br=c}function hf(c){if(c!==Br)return!1;if(!Xt)return V2(c),Xt=!0,!1;var l;if((l=c.tag!==3)&&!(l=c.tag!==5)&&(l=c.type,l=l!=="head"&&l!=="body"&&!X1(c.type,c.memoizedProps)),l&&(l=Lr)){if(nh(c))throw G2(),Error(n(418));for(;l;)U2(c,l),l=Fi(l.nextSibling)}if(V2(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,l=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(l===0){Lr=Fi(c.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}c=c.nextSibling}Lr=null}}else Lr=Br?Fi(c.stateNode.nextSibling):null;return!0}function G2(){for(var c=Lr;c;)c=Fi(c.nextSibling)}function bs(){Lr=Br=null,Xt=!1}function oh(c){uo===null?uo=[c]:uo.push(c)}var iA=T.ReactCurrentBatchConfig;function Qc(c,l,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var v=p.stateNode}if(!v)throw Error(n(147,c));var x=v,E=""+c;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(N){var B=x.refs;N===null?delete B[E]:B[E]=N},l._stringRef=E,l)}if(typeof c!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,c))}return c}function pf(c,l){throw c=Object.prototype.toString.call(l),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":c))}function W2(c){var l=c._init;return l(c._payload)}function Z2(c){function l(G,$){if(c){var Z=G.deletions;Z===null?(G.deletions=[$],G.flags|=16):Z.push($)}}function p(G,$){if(!c)return null;for(;$!==null;)l(G,$),$=$.sibling;return null}function v(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function x(G,$){return G=qi(G,$),G.index=0,G.sibling=null,G}function E(G,$,Z){return G.index=Z,c?(Z=G.alternate,Z!==null?(Z=Z.index,Z<$?(G.flags|=2,$):Z):(G.flags|=2,$)):(G.flags|=1048576,$)}function N(G){return c&&G.alternate===null&&(G.flags|=2),G}function B(G,$,Z,me){return $===null||$.tag!==6?($=qh(Z,G.mode,me),$.return=G,$):($=x($,Z),$.return=G,$)}function j(G,$,Z,me){var Me=Z.type;return Me===k?le(G,$,Z.props.children,me,Z.key):$!==null&&($.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&W2(Me)===$.type)?(me=x($,Z.props),me.ref=Qc(G,$,Z),me.return=G,me):(me=Ff(Z.type,Z.key,Z.props,null,G.mode,me),me.ref=Qc(G,$,Z),me.return=G,me)}function J(G,$,Z,me){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Kh(Z,G.mode,me),$.return=G,$):($=x($,Z.children||[]),$.return=G,$)}function le(G,$,Z,me,Me){return $===null||$.tag!==7?($=Ra(Z,G.mode,me,Me),$.return=G,$):($=x($,Z),$.return=G,$)}function he(G,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number")return $=qh(""+$,G.mode,Z),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return Z=Ff($.type,$.key,$.props,null,G.mode,Z),Z.ref=Qc(G,null,$),Z.return=G,Z;case P:return $=Kh($,G.mode,Z),$.return=G,$;case q:var me=$._init;return he(G,me($._payload),Z)}if(qe($)||K($))return $=Ra($,G.mode,Z,null),$.return=G,$;pf(G,$)}return null}function ue(G,$,Z,me){var Me=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Me!==null?null:B(G,$,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return Z.key===Me?j(G,$,Z,me):null;case P:return Z.key===Me?J(G,$,Z,me):null;case q:return Me=Z._init,ue(G,$,Me(Z._payload),me)}if(qe(Z)||K(Z))return Me!==null?null:le(G,$,Z,me,null);pf(G,Z)}return null}function Ae(G,$,Z,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number")return G=G.get(Z)||null,B($,G,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case O:return G=G.get(me.key===null?Z:me.key)||null,j($,G,me,Me);case P:return G=G.get(me.key===null?Z:me.key)||null,J($,G,me,Me);case q:var He=me._init;return Ae(G,$,Z,He(me._payload),Me)}if(qe(me)||K(me))return G=G.get(Z)||null,le($,G,me,Me,null);pf($,me)}return null}function Ne(G,$,Z,me){for(var Me=null,He=null,Ve=$,Ye=$=0,Ln=null;Ve!==null&&Ye<Z.length;Ye++){Ve.index>Ye?(Ln=Ve,Ve=null):Ln=Ve.sibling;var wt=ue(G,Ve,Z[Ye],me);if(wt===null){Ve===null&&(Ve=Ln);break}c&&Ve&&wt.alternate===null&&l(G,Ve),$=E(wt,$,Ye),He===null?Me=wt:He.sibling=wt,He=wt,Ve=Ln}if(Ye===Z.length)return p(G,Ve),Xt&&Ca(G,Ye),Me;if(Ve===null){for(;Ye<Z.length;Ye++)Ve=he(G,Z[Ye],me),Ve!==null&&($=E(Ve,$,Ye),He===null?Me=Ve:He.sibling=Ve,He=Ve);return Xt&&Ca(G,Ye),Me}for(Ve=v(G,Ve);Ye<Z.length;Ye++)Ln=Ae(Ve,G,Ye,Z[Ye],me),Ln!==null&&(c&&Ln.alternate!==null&&Ve.delete(Ln.key===null?Ye:Ln.key),$=E(Ln,$,Ye),He===null?Me=Ln:He.sibling=Ln,He=Ln);return c&&Ve.forEach(function(Ki){return l(G,Ki)}),Xt&&Ca(G,Ye),Me}function Re(G,$,Z,me){var Me=K(Z);if(typeof Me!="function")throw Error(n(150));if(Z=Me.call(Z),Z==null)throw Error(n(151));for(var He=Me=null,Ve=$,Ye=$=0,Ln=null,wt=Z.next();Ve!==null&&!wt.done;Ye++,wt=Z.next()){Ve.index>Ye?(Ln=Ve,Ve=null):Ln=Ve.sibling;var Ki=ue(G,Ve,wt.value,me);if(Ki===null){Ve===null&&(Ve=Ln);break}c&&Ve&&Ki.alternate===null&&l(G,Ve),$=E(Ki,$,Ye),He===null?Me=Ki:He.sibling=Ki,He=Ki,Ve=Ln}if(wt.done)return p(G,Ve),Xt&&Ca(G,Ye),Me;if(Ve===null){for(;!wt.done;Ye++,wt=Z.next())wt=he(G,wt.value,me),wt!==null&&($=E(wt,$,Ye),He===null?Me=wt:He.sibling=wt,He=wt);return Xt&&Ca(G,Ye),Me}for(Ve=v(G,Ve);!wt.done;Ye++,wt=Z.next())wt=Ae(Ve,G,Ye,wt.value,me),wt!==null&&(c&&wt.alternate!==null&&Ve.delete(wt.key===null?Ye:wt.key),$=E(wt,$,Ye),He===null?Me=wt:He.sibling=wt,He=wt);return c&&Ve.forEach(function(FA){return l(G,FA)}),Xt&&Ca(G,Ye),Me}function hn(G,$,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:e:{for(var Me=Z.key,He=$;He!==null;){if(He.key===Me){if(Me=Z.type,Me===k){if(He.tag===7){p(G,He.sibling),$=x(He,Z.props.children),$.return=G,G=$;break e}}else if(He.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&W2(Me)===He.type){p(G,He.sibling),$=x(He,Z.props),$.ref=Qc(G,He,Z),$.return=G,G=$;break e}p(G,He);break}else l(G,He);He=He.sibling}Z.type===k?($=Ra(Z.props.children,G.mode,me,Z.key),$.return=G,G=$):(me=Ff(Z.type,Z.key,Z.props,null,G.mode,me),me.ref=Qc(G,$,Z),me.return=G,G=me)}return N(G);case P:e:{for(He=Z.key;$!==null;){if($.key===He)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){p(G,$.sibling),$=x($,Z.children||[]),$.return=G,G=$;break e}else{p(G,$);break}else l(G,$);$=$.sibling}$=Kh(Z,G.mode,me),$.return=G,G=$}return N(G);case q:return He=Z._init,hn(G,$,He(Z._payload),me)}if(qe(Z))return Ne(G,$,Z,me);if(K(Z))return Re(G,$,Z,me);pf(G,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,$!==null&&$.tag===6?(p(G,$.sibling),$=x($,Z),$.return=G,G=$):(p(G,$),$=qh(Z,G.mode,me),$.return=G,G=$),N(G)):p(G,$)}return hn}var xs=Z2(!0),X2=Z2(!1),mf=ji(null),gf=null,ws=null,ih=null;function ah(){ih=ws=gf=null}function sh(c){var l=mf.current;Vt(mf),c._currentValue=l}function ch(c,l,p){for(;c!==null;){var v=c.alternate;if((c.childLanes&l)!==l?(c.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),c===p)break;c=c.return}}function Es(c,l){gf=c,ih=ws=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&l)!==0&&(vr=!0),c.firstContext=null)}function Zr(c){var l=c._currentValue;if(ih!==c)if(c={context:c,memoizedValue:l,next:null},ws===null){if(gf===null)throw Error(n(308));ws=c,gf.dependencies={lanes:0,firstContext:c}}else ws=ws.next=c;return l}var Aa=null;function uh(c){Aa===null?Aa=[c]:Aa.push(c)}function q2(c,l,p,v){var x=l.interleaved;return x===null?(p.next=p,uh(l)):(p.next=x.next,x.next=p),l.interleaved=p,ri(c,v)}function ri(c,l){c.lanes|=l;var p=c.alternate;for(p!==null&&(p.lanes|=l),p=c,c=c.return;c!==null;)c.childLanes|=l,p=c.alternate,p!==null&&(p.childLanes|=l),p=c,c=c.return;return p.tag===3?p.stateNode:null}var Ui=!1;function lh(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K2(c,l){c=c.updateQueue,l.updateQueue===c&&(l.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function oi(c,l){return{eventTime:c,lane:l,tag:0,payload:null,callback:null,next:null}}function Hi(c,l,p){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(gt&2)!==0){var x=v.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),v.pending=l,ri(c,p)}return x=v.interleaved,x===null?(l.next=l,uh(v)):(l.next=x.next,x.next=l),v.interleaved=l,ri(c,p)}function yf(c,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var v=l.lanes;v&=c.pendingLanes,p|=v,l.lanes=p,C1(c,p)}}function Y2(c,l){var p=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var x=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var N={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?x=E=N:E=E.next=N,p=p.next}while(p!==null);E===null?x=E=l:E=E.next=l}else x=E=l;p={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:v.shared,effects:v.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=l:c.next=l,p.lastBaseUpdate=l}function vf(c,l,p,v){var x=c.updateQueue;Ui=!1;var E=x.firstBaseUpdate,N=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var j=B,J=j.next;j.next=null,N===null?E=J:N.next=J,N=j;var le=c.alternate;le!==null&&(le=le.updateQueue,B=le.lastBaseUpdate,B!==N&&(B===null?le.firstBaseUpdate=J:B.next=J,le.lastBaseUpdate=j))}if(E!==null){var he=x.baseState;N=0,le=J=j=null,B=E;do{var ue=B.lane,Ae=B.eventTime;if((v&ue)===ue){le!==null&&(le=le.next={eventTime:Ae,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=c,Re=B;switch(ue=l,Ae=p,Re.tag){case 1:if(Ne=Re.payload,typeof Ne=="function"){he=Ne.call(Ae,he,ue);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Re.payload,ue=typeof Ne=="function"?Ne.call(Ae,he,ue):Ne,ue==null)break e;he=ee({},he,ue);break e;case 2:Ui=!0}}B.callback!==null&&B.lane!==0&&(c.flags|=64,ue=x.effects,ue===null?x.effects=[B]:ue.push(B))}else Ae={eventTime:Ae,lane:ue,tag:B.tag,payload:B.payload,callback:B.callback,next:null},le===null?(J=le=Ae,j=he):le=le.next=Ae,N|=ue;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);if(le===null&&(j=he),x.baseState=j,x.firstBaseUpdate=J,x.lastBaseUpdate=le,l=x.shared.interleaved,l!==null){x=l;do N|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);Ta|=N,c.lanes=N,c.memoizedState=he}}function Q2(c,l,p){if(c=l.effects,l.effects=null,c!==null)for(l=0;l<c.length;l++){var v=c[l],x=v.callback;if(x!==null){if(v.callback=null,v=p,typeof x!="function")throw Error(n(191,x));x.call(v)}}}var Jc={},ko=ji(Jc),eu=ji(Jc),tu=ji(Jc);function Sa(c){if(c===Jc)throw Error(n(174));return c}function fh(c,l){switch(zt(tu,l),zt(eu,c),zt(ko,Jc),c=l.nodeType,c){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ge(null,"");break;default:c=c===8?l.parentNode:l,l=c.namespaceURI||null,c=c.tagName,l=ge(l,c)}Vt(ko),zt(ko,l)}function _s(){Vt(ko),Vt(eu),Vt(tu)}function J2(c){Sa(tu.current);var l=Sa(ko.current),p=ge(l,c.type);l!==p&&(zt(eu,c),zt(ko,p))}function dh(c){eu.current===c&&(Vt(ko),Vt(eu))}var Jt=ji(0);function bf(c){for(var l=c;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var hh=[];function ph(){for(var c=0;c<hh.length;c++)hh[c]._workInProgressVersionPrimary=null;hh.length=0}var xf=T.ReactCurrentDispatcher,mh=T.ReactCurrentBatchConfig,Ia=0,en=null,wn=null,Mn=null,wf=!1,nu=!1,ru=0,aA=0;function Qn(){throw Error(n(321))}function gh(c,l){if(l===null)return!1;for(var p=0;p<l.length&&p<c.length;p++)if(!co(c[p],l[p]))return!1;return!0}function yh(c,l,p,v,x,E){if(Ia=E,en=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xf.current=c===null||c.memoizedState===null?lA:fA,c=p(v,x),nu){E=0;do{if(nu=!1,ru=0,25<=E)throw Error(n(301));E+=1,Mn=wn=null,l.updateQueue=null,xf.current=dA,c=p(v,x)}while(nu)}if(xf.current=Cf,l=wn!==null&&wn.next!==null,Ia=0,Mn=wn=en=null,wf=!1,l)throw Error(n(300));return c}function vh(){var c=ru!==0;return ru=0,c}function Do(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?en.memoizedState=Mn=c:Mn=Mn.next=c,Mn}function Xr(){if(wn===null){var c=en.alternate;c=c!==null?c.memoizedState:null}else c=wn.next;var l=Mn===null?en.memoizedState:Mn.next;if(l!==null)Mn=l,wn=c;else{if(c===null)throw Error(n(310));wn=c,c={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Mn===null?en.memoizedState=Mn=c:Mn=Mn.next=c}return Mn}function ou(c,l){return typeof l=="function"?l(c):l}function bh(c){var l=Xr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var v=wn,x=v.baseQueue,E=p.pending;if(E!==null){if(x!==null){var N=x.next;x.next=E.next,E.next=N}v.baseQueue=x=E,p.pending=null}if(x!==null){E=x.next,v=v.baseState;var B=N=null,j=null,J=E;do{var le=J.lane;if((Ia&le)===le)j!==null&&(j=j.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),v=J.hasEagerState?J.eagerState:c(v,J.action);else{var he={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};j===null?(B=j=he,N=v):j=j.next=he,en.lanes|=le,Ta|=le}J=J.next}while(J!==null&&J!==E);j===null?N=v:j.next=B,co(v,l.memoizedState)||(vr=!0),l.memoizedState=v,l.baseState=N,l.baseQueue=j,p.lastRenderedState=v}if(c=p.interleaved,c!==null){x=c;do E=x.lane,en.lanes|=E,Ta|=E,x=x.next;while(x!==c)}else x===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function xh(c){var l=Xr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var v=p.dispatch,x=p.pending,E=l.memoizedState;if(x!==null){p.pending=null;var N=x=x.next;do E=c(E,N.action),N=N.next;while(N!==x);co(E,l.memoizedState)||(vr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),p.lastRenderedState=E}return[E,v]}function e5(){}function t5(c,l){var p=en,v=Xr(),x=l(),E=!co(v.memoizedState,x);if(E&&(v.memoizedState=x,vr=!0),v=v.queue,wh(o5.bind(null,p,v,c),[c]),v.getSnapshot!==l||E||Mn!==null&&Mn.memoizedState.tag&1){if(p.flags|=2048,iu(9,r5.bind(null,p,v,x,l),void 0,null),Bn===null)throw Error(n(349));(Ia&30)!==0||n5(p,l,x)}return x}function n5(c,l,p){c.flags|=16384,c={getSnapshot:l,value:p},l=en.updateQueue,l===null?(l={lastEffect:null,stores:null},en.updateQueue=l,l.stores=[c]):(p=l.stores,p===null?l.stores=[c]:p.push(c))}function r5(c,l,p,v){l.value=p,l.getSnapshot=v,i5(l)&&a5(c)}function o5(c,l,p){return p(function(){i5(l)&&a5(c)})}function i5(c){var l=c.getSnapshot;c=c.value;try{var p=l();return!co(c,p)}catch{return!0}}function a5(c){var l=ri(c,1);l!==null&&po(l,c,1,-1)}function s5(c){var l=Do();return typeof c=="function"&&(c=c()),l.memoizedState=l.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:c},l.queue=c,c=c.dispatch=uA.bind(null,en,c),[l.memoizedState,c]}function iu(c,l,p,v){return c={tag:c,create:l,destroy:p,deps:v,next:null},l=en.updateQueue,l===null?(l={lastEffect:null,stores:null},en.updateQueue=l,l.lastEffect=c.next=c):(p=l.lastEffect,p===null?l.lastEffect=c.next=c:(v=p.next,p.next=c,c.next=v,l.lastEffect=c)),c}function c5(){return Xr().memoizedState}function Ef(c,l,p,v){var x=Do();en.flags|=c,x.memoizedState=iu(1|l,p,void 0,v===void 0?null:v)}function _f(c,l,p,v){var x=Xr();v=v===void 0?null:v;var E=void 0;if(wn!==null){var N=wn.memoizedState;if(E=N.destroy,v!==null&&gh(v,N.deps)){x.memoizedState=iu(l,p,E,v);return}}en.flags|=c,x.memoizedState=iu(1|l,p,E,v)}function u5(c,l){return Ef(8390656,8,c,l)}function wh(c,l){return _f(2048,8,c,l)}function l5(c,l){return _f(4,2,c,l)}function f5(c,l){return _f(4,4,c,l)}function d5(c,l){if(typeof l=="function")return c=c(),l(c),function(){l(null)};if(l!=null)return c=c(),l.current=c,function(){l.current=null}}function h5(c,l,p){return p=p!=null?p.concat([c]):null,_f(4,4,d5.bind(null,l,c),p)}function Eh(){}function p5(c,l){var p=Xr();l=l===void 0?null:l;var v=p.memoizedState;return v!==null&&l!==null&&gh(l,v[1])?v[0]:(p.memoizedState=[c,l],c)}function m5(c,l){var p=Xr();l=l===void 0?null:l;var v=p.memoizedState;return v!==null&&l!==null&&gh(l,v[1])?v[0]:(c=c(),p.memoizedState=[c,l],c)}function g5(c,l,p){return(Ia&21)===0?(c.baseState&&(c.baseState=!1,vr=!0),c.memoizedState=p):(co(p,l)||(p=Wv(),en.lanes|=p,Ta|=p,c.baseState=!0),l)}function sA(c,l){var p=Rt;Rt=p!==0&&4>p?p:4,c(!0);var v=mh.transition;mh.transition={};try{c(!1),l()}finally{Rt=p,mh.transition=v}}function y5(){return Xr().memoizedState}function cA(c,l,p){var v=Zi(c);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},v5(c))b5(l,p);else if(p=q2(c,l,p,v),p!==null){var x=ar();po(p,c,v,x),x5(p,l,v)}}function uA(c,l,p){var v=Zi(c),x={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(v5(c))b5(l,x);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var N=l.lastRenderedState,B=E(N,p);if(x.hasEagerState=!0,x.eagerState=B,co(B,N)){var j=l.interleaved;j===null?(x.next=x,uh(l)):(x.next=j.next,j.next=x),l.interleaved=x;return}}catch{}p=q2(c,l,x,v),p!==null&&(x=ar(),po(p,c,v,x),x5(p,l,v))}}function v5(c){var l=c.alternate;return c===en||l!==null&&l===en}function b5(c,l){nu=wf=!0;var p=c.pending;p===null?l.next=l:(l.next=p.next,p.next=l),c.pending=l}function x5(c,l,p){if((p&4194240)!==0){var v=l.lanes;v&=c.pendingLanes,p|=v,l.lanes=p,C1(c,p)}}var Cf={readContext:Zr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},lA={readContext:Zr,useCallback:function(c,l){return Do().memoizedState=[c,l===void 0?null:l],c},useContext:Zr,useEffect:u5,useImperativeHandle:function(c,l,p){return p=p!=null?p.concat([c]):null,Ef(4194308,4,d5.bind(null,l,c),p)},useLayoutEffect:function(c,l){return Ef(4194308,4,c,l)},useInsertionEffect:function(c,l){return Ef(4,2,c,l)},useMemo:function(c,l){var p=Do();return l=l===void 0?null:l,c=c(),p.memoizedState=[c,l],c},useReducer:function(c,l,p){var v=Do();return l=p!==void 0?p(l):l,v.memoizedState=v.baseState=l,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:l},v.queue=c,c=c.dispatch=cA.bind(null,en,c),[v.memoizedState,c]},useRef:function(c){var l=Do();return c={current:c},l.memoizedState=c},useState:s5,useDebugValue:Eh,useDeferredValue:function(c){return Do().memoizedState=c},useTransition:function(){var c=s5(!1),l=c[0];return c=sA.bind(null,c[1]),Do().memoizedState=c,[l,c]},useMutableSource:function(){},useSyncExternalStore:function(c,l,p){var v=en,x=Do();if(Xt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Bn===null)throw Error(n(349));(Ia&30)!==0||n5(v,l,p)}x.memoizedState=p;var E={value:p,getSnapshot:l};return x.queue=E,u5(o5.bind(null,v,E,c),[c]),v.flags|=2048,iu(9,r5.bind(null,v,E,p,l),void 0,null),p},useId:function(){var c=Do(),l=Bn.identifierPrefix;if(Xt){var p=ni,v=ti;p=(v&~(1<<32-so(v)-1)).toString(32)+p,l=":"+l+"R"+p,p=ru++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=aA++,l=":"+l+"r"+p.toString(32)+":";return c.memoizedState=l},unstable_isNewReconciler:!1},fA={readContext:Zr,useCallback:p5,useContext:Zr,useEffect:wh,useImperativeHandle:h5,useInsertionEffect:l5,useLayoutEffect:f5,useMemo:m5,useReducer:bh,useRef:c5,useState:function(){return bh(ou)},useDebugValue:Eh,useDeferredValue:function(c){var l=Xr();return g5(l,wn.memoizedState,c)},useTransition:function(){var c=bh(ou)[0],l=Xr().memoizedState;return[c,l]},useMutableSource:e5,useSyncExternalStore:t5,useId:y5,unstable_isNewReconciler:!1},dA={readContext:Zr,useCallback:p5,useContext:Zr,useEffect:wh,useImperativeHandle:h5,useInsertionEffect:l5,useLayoutEffect:f5,useMemo:m5,useReducer:xh,useRef:c5,useState:function(){return xh(ou)},useDebugValue:Eh,useDeferredValue:function(c){var l=Xr();return wn===null?l.memoizedState=c:g5(l,wn.memoizedState,c)},useTransition:function(){var c=xh(ou)[0],l=Xr().memoizedState;return[c,l]},useMutableSource:e5,useSyncExternalStore:t5,useId:y5,unstable_isNewReconciler:!1};function lo(c,l){if(c&&c.defaultProps){l=ee({},l),c=c.defaultProps;for(var p in c)l[p]===void 0&&(l[p]=c[p]);return l}return l}function _h(c,l,p,v){l=c.memoizedState,p=p(v,l),p=p==null?l:ee({},l,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Af={isMounted:function(c){return(c=c._reactInternals)?_t(c)===c:!1},enqueueSetState:function(c,l,p){c=c._reactInternals;var v=ar(),x=Zi(c),E=oi(v,x);E.payload=l,p!=null&&(E.callback=p),l=Hi(c,E,x),l!==null&&(po(l,c,x,v),yf(l,c,x))},enqueueReplaceState:function(c,l,p){c=c._reactInternals;var v=ar(),x=Zi(c),E=oi(v,x);E.tag=1,E.payload=l,p!=null&&(E.callback=p),l=Hi(c,E,x),l!==null&&(po(l,c,x,v),yf(l,c,x))},enqueueForceUpdate:function(c,l){c=c._reactInternals;var p=ar(),v=Zi(c),x=oi(p,v);x.tag=2,l!=null&&(x.callback=l),l=Hi(c,x,v),l!==null&&(po(l,c,v,p),yf(l,c,v))}};function w5(c,l,p,v,x,E,N){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,E,N):l.prototype&&l.prototype.isPureReactComponent?!Gc(p,v)||!Gc(x,E):!0}function E5(c,l,p){var v=!1,x=zi,E=l.contextType;return typeof E=="object"&&E!==null?E=Zr(E):(x=yr(l)?Ea:Yn.current,v=l.contextTypes,E=(v=v!=null)?gs(c,x):zi),l=new l(p,E),c.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Af,c.stateNode=l,l._reactInternals=c,v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=x,c.__reactInternalMemoizedMaskedChildContext=E),l}function _5(c,l,p,v){c=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,v),l.state!==c&&Af.enqueueReplaceState(l,l.state,null)}function Ch(c,l,p,v){var x=c.stateNode;x.props=p,x.state=c.memoizedState,x.refs={},lh(c);var E=l.contextType;typeof E=="object"&&E!==null?x.context=Zr(E):(E=yr(l)?Ea:Yn.current,x.context=gs(c,E)),x.state=c.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(_h(c,l,E,p),x.state=c.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Af.enqueueReplaceState(x,x.state,null),vf(c,p,x,v),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308)}function Cs(c,l){try{var p="",v=l;do p+=xe(v),v=v.return;while(v);var x=p}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:c,source:l,stack:x,digest:null}}function Ah(c,l,p){return{value:c,source:null,stack:p??null,digest:l??null}}function Sh(c,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var hA=typeof WeakMap=="function"?WeakMap:Map;function C5(c,l,p){p=oi(-1,p),p.tag=3,p.payload={element:null};var v=l.value;return p.callback=function(){Rf||(Rf=!0,$h=v),Sh(c,l)},p}function A5(c,l,p){p=oi(-1,p),p.tag=3;var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=l.value;p.payload=function(){return v(x)},p.callback=function(){Sh(c,l)}}var E=c.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){Sh(c,l),typeof v!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),p}function S5(c,l,p){var v=c.pingCache;if(v===null){v=c.pingCache=new hA;var x=new Set;v.set(l,x)}else x=v.get(l),x===void 0&&(x=new Set,v.set(l,x));x.has(p)||(x.add(p),c=IA.bind(null,c,l,p),l.then(c,c))}function I5(c){do{var l;if((l=c.tag===13)&&(l=c.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return c;c=c.return}while(c!==null);return null}function T5(c,l,p,v,x){return(c.mode&1)===0?(c===l?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=oi(-1,1),l.tag=2,Hi(p,l,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=x,c)}var pA=T.ReactCurrentOwner,vr=!1;function ir(c,l,p,v){l.child=c===null?X2(l,null,p,v):xs(l,c.child,p,v)}function N5(c,l,p,v,x){p=p.render;var E=l.ref;return Es(l,x),v=yh(c,l,p,v,E,x),p=vh(),c!==null&&!vr?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,ii(c,l,x)):(Xt&&p&&eh(l),l.flags|=1,ir(c,l,v,x),l.child)}function O5(c,l,p,v,x){if(c===null){var E=p.type;return typeof E=="function"&&!Xh(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=E,P5(c,l,E,v,x)):(c=Ff(p.type,null,v,l,l.mode,x),c.ref=l.ref,c.return=l,l.child=c)}if(E=c.child,(c.lanes&x)===0){var N=E.memoizedProps;if(p=p.compare,p=p!==null?p:Gc,p(N,v)&&c.ref===l.ref)return ii(c,l,x)}return l.flags|=1,c=qi(E,v),c.ref=l.ref,c.return=l,l.child=c}function P5(c,l,p,v,x){if(c!==null){var E=c.memoizedProps;if(Gc(E,v)&&c.ref===l.ref)if(vr=!1,l.pendingProps=v=E,(c.lanes&x)!==0)(c.flags&131072)!==0&&(vr=!0);else return l.lanes=c.lanes,ii(c,l,x)}return Ih(c,l,p,v,x)}function R5(c,l,p){var v=l.pendingProps,x=v.children,E=c!==null?c.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ss,Fr),Fr|=p;else{if((p&1073741824)===0)return c=E!==null?E.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:c,cachePool:null,transitions:null},l.updateQueue=null,zt(Ss,Fr),Fr|=c,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:p,zt(Ss,Fr),Fr|=v}else E!==null?(v=E.baseLanes|p,l.memoizedState=null):v=p,zt(Ss,Fr),Fr|=v;return ir(c,l,x,p),l.child}function k5(c,l){var p=l.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function Ih(c,l,p,v,x){var E=yr(p)?Ea:Yn.current;return E=gs(l,E),Es(l,x),p=yh(c,l,p,v,E,x),v=vh(),c!==null&&!vr?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,ii(c,l,x)):(Xt&&v&&eh(l),l.flags|=1,ir(c,l,p,x),l.child)}function D5(c,l,p,v,x){if(yr(p)){var E=!0;uf(l)}else E=!1;if(Es(l,x),l.stateNode===null)If(c,l),E5(l,p,v),Ch(l,p,v,x),v=!0;else if(c===null){var N=l.stateNode,B=l.memoizedProps;N.props=B;var j=N.context,J=p.contextType;typeof J=="object"&&J!==null?J=Zr(J):(J=yr(p)?Ea:Yn.current,J=gs(l,J));var le=p.getDerivedStateFromProps,he=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function";he||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==v||j!==J)&&_5(l,N,v,J),Ui=!1;var ue=l.memoizedState;N.state=ue,vf(l,v,N,x),j=l.memoizedState,B!==v||ue!==j||gr.current||Ui?(typeof le=="function"&&(_h(l,p,le,v),j=l.memoizedState),(B=Ui||w5(l,p,B,v,ue,j,J))?(he||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=j),N.props=v,N.state=j,N.context=J,v=B):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{N=l.stateNode,K2(c,l),B=l.memoizedProps,J=l.type===l.elementType?B:lo(l.type,B),N.props=J,he=l.pendingProps,ue=N.context,j=p.contextType,typeof j=="object"&&j!==null?j=Zr(j):(j=yr(p)?Ea:Yn.current,j=gs(l,j));var Ae=p.getDerivedStateFromProps;(le=typeof Ae=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==he||ue!==j)&&_5(l,N,v,j),Ui=!1,ue=l.memoizedState,N.state=ue,vf(l,v,N,x);var Ne=l.memoizedState;B!==he||ue!==Ne||gr.current||Ui?(typeof Ae=="function"&&(_h(l,p,Ae,v),Ne=l.memoizedState),(J=Ui||w5(l,p,J,v,ue,Ne,j)||!1)?(le||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,Ne,j),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,Ne,j)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||B===c.memoizedProps&&ue===c.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&ue===c.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Ne),N.props=v,N.state=Ne,N.context=j,v=J):(typeof N.componentDidUpdate!="function"||B===c.memoizedProps&&ue===c.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&ue===c.memoizedState||(l.flags|=1024),v=!1)}return Th(c,l,p,v,E,x)}function Th(c,l,p,v,x,E){k5(c,l);var N=(l.flags&128)!==0;if(!v&&!N)return x&&j2(l,p,!1),ii(c,l,E);v=l.stateNode,pA.current=l;var B=N&&typeof p.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,c!==null&&N?(l.child=xs(l,c.child,null,E),l.child=xs(l,null,B,E)):ir(c,l,B,E),l.memoizedState=v.state,x&&j2(l,p,!0),l.child}function M5(c){var l=c.stateNode;l.pendingContext?L2(c,l.pendingContext,l.pendingContext!==l.context):l.context&&L2(c,l.context,!1),fh(c,l.containerInfo)}function B5(c,l,p,v,x){return bs(),oh(x),l.flags|=256,ir(c,l,p,v),l.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Oh(c){return{baseLanes:c,cachePool:null,transitions:null}}function L5(c,l,p){var v=l.pendingProps,x=Jt.current,E=!1,N=(l.flags&128)!==0,B;if((B=N)||(B=c!==null&&c.memoizedState===null?!1:(x&2)!==0),B?(E=!0,l.flags&=-129):(c===null||c.memoizedState!==null)&&(x|=1),zt(Jt,x&1),c===null)return rh(l),c=l.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((l.mode&1)===0?l.lanes=1:c.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=v.children,c=v.fallback,E?(v=l.mode,E=l.child,N={mode:"hidden",children:N},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=N):E=jf(N,v,0,null),c=Ra(c,v,p,null),E.return=l,c.return=l,E.sibling=c,l.child=E,l.child.memoizedState=Oh(p),l.memoizedState=Nh,c):Ph(l,N));if(x=c.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return mA(c,l,N,v,B,x,p);if(E){E=v.fallback,N=l.mode,x=c.child,B=x.sibling;var j={mode:"hidden",children:v.children};return(N&1)===0&&l.child!==x?(v=l.child,v.childLanes=0,v.pendingProps=j,l.deletions=null):(v=qi(x,j),v.subtreeFlags=x.subtreeFlags&14680064),B!==null?E=qi(B,E):(E=Ra(E,N,p,null),E.flags|=2),E.return=l,v.return=l,v.sibling=E,l.child=v,v=E,E=l.child,N=c.child.memoizedState,N=N===null?Oh(p):{baseLanes:N.baseLanes|p,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=c.childLanes&~p,l.memoizedState=Nh,v}return E=c.child,c=E.sibling,v=qi(E,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=p),v.return=l,v.sibling=null,c!==null&&(p=l.deletions,p===null?(l.deletions=[c],l.flags|=16):p.push(c)),l.child=v,l.memoizedState=null,v}function Ph(c,l){return l=jf({mode:"visible",children:l},c.mode,0,null),l.return=c,c.child=l}function Sf(c,l,p,v){return v!==null&&oh(v),xs(l,c.child,null,p),c=Ph(l,l.pendingProps.children),c.flags|=2,l.memoizedState=null,c}function mA(c,l,p,v,x,E,N){if(p)return l.flags&256?(l.flags&=-257,v=Ah(Error(n(422))),Sf(c,l,N,v)):l.memoizedState!==null?(l.child=c.child,l.flags|=128,null):(E=v.fallback,x=l.mode,v=jf({mode:"visible",children:v.children},x,0,null),E=Ra(E,x,N,null),E.flags|=2,v.return=l,E.return=l,v.sibling=E,l.child=v,(l.mode&1)!==0&&xs(l,c.child,null,N),l.child.memoizedState=Oh(N),l.memoizedState=Nh,E);if((l.mode&1)===0)return Sf(c,l,N,null);if(x.data==="$!"){if(v=x.nextSibling&&x.nextSibling.dataset,v)var B=v.dgst;return v=B,E=Error(n(419)),v=Ah(E,v,void 0),Sf(c,l,N,v)}if(B=(N&c.childLanes)!==0,vr||B){if(v=Bn,v!==null){switch(N&-N){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(v.suspendedLanes|N))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,ri(c,x),po(v,c,x,-1))}return Zh(),v=Ah(Error(n(421))),Sf(c,l,N,v)}return x.data==="$?"?(l.flags|=128,l.child=c.child,l=TA.bind(null,c),x._reactRetry=l,null):(c=E.treeContext,Lr=Fi(x.nextSibling),Br=l,Xt=!0,uo=null,c!==null&&(Gr[Wr++]=ti,Gr[Wr++]=ni,Gr[Wr++]=_a,ti=c.id,ni=c.overflow,_a=l),l=Ph(l,v.children),l.flags|=4096,l)}function F5(c,l,p){c.lanes|=l;var v=c.alternate;v!==null&&(v.lanes|=l),ch(c.return,l,p)}function Rh(c,l,p,v,x){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=p,E.tailMode=x)}function j5(c,l,p){var v=l.pendingProps,x=v.revealOrder,E=v.tail;if(ir(c,l,v.children,p),v=Jt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=l.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&F5(c,p,l);else if(c.tag===19)F5(c,p,l);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}if(zt(Jt,v),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(p=l.child,x=null;p!==null;)c=p.alternate,c!==null&&bf(c)===null&&(x=p),p=p.sibling;p=x,p===null?(x=l.child,l.child=null):(x=p.sibling,p.sibling=null),Rh(l,!1,x,p,E);break;case"backwards":for(p=null,x=l.child,l.child=null;x!==null;){if(c=x.alternate,c!==null&&bf(c)===null){l.child=x;break}c=x.sibling,x.sibling=p,p=x,x=c}Rh(l,!0,p,null,E);break;case"together":Rh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function If(c,l){(l.mode&1)===0&&c!==null&&(c.alternate=null,l.alternate=null,l.flags|=2)}function ii(c,l,p){if(c!==null&&(l.dependencies=c.dependencies),Ta|=l.lanes,(p&l.childLanes)===0)return null;if(c!==null&&l.child!==c.child)throw Error(n(153));if(l.child!==null){for(c=l.child,p=qi(c,c.pendingProps),l.child=p,p.return=l;c.sibling!==null;)c=c.sibling,p=p.sibling=qi(c,c.pendingProps),p.return=l;p.sibling=null}return l.child}function gA(c,l,p){switch(l.tag){case 3:M5(l),bs();break;case 5:J2(l);break;case 1:yr(l.type)&&uf(l);break;case 4:fh(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,x=l.memoizedProps.value;zt(mf,v._currentValue),v._currentValue=x;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(zt(Jt,Jt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?L5(c,l,p):(zt(Jt,Jt.current&1),c=ii(c,l,p),c!==null?c.sibling:null);zt(Jt,Jt.current&1);break;case 19:if(v=(p&l.childLanes)!==0,(c.flags&128)!==0){if(v)return j5(c,l,p);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),zt(Jt,Jt.current),v)break;return null;case 22:case 23:return l.lanes=0,R5(c,l,p)}return ii(c,l,p)}var z5,kh,$5,U5;z5=function(c,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},kh=function(){},$5=function(c,l,p,v){var x=c.memoizedProps;if(x!==v){c=l.stateNode,Sa(ko.current);var E=null;switch(p){case"input":x=Tt(c,x),v=Tt(c,v),E=[];break;case"select":x=ee({},x,{value:void 0}),v=ee({},v,{value:void 0}),E=[];break;case"textarea":x=mt(c,x),v=mt(c,v),E=[];break;default:typeof x.onClick!="function"&&typeof v.onClick=="function"&&(c.onclick=af)}dt(p,v);var N;p=null;for(J in x)if(!v.hasOwnProperty(J)&&x.hasOwnProperty(J)&&x[J]!=null)if(J==="style"){var B=x[J];for(N in B)B.hasOwnProperty(N)&&(p||(p={}),p[N]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?E||(E=[]):(E=E||[]).push(J,null));for(J in v){var j=v[J];if(B=x?.[J],v.hasOwnProperty(J)&&j!==B&&(j!=null||B!=null))if(J==="style")if(B){for(N in B)!B.hasOwnProperty(N)||j&&j.hasOwnProperty(N)||(p||(p={}),p[N]="");for(N in j)j.hasOwnProperty(N)&&B[N]!==j[N]&&(p||(p={}),p[N]=j[N])}else p||(E||(E=[]),E.push(J,p)),p=j;else J==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,B=B?B.__html:void 0,j!=null&&B!==j&&(E=E||[]).push(J,j)):J==="children"?typeof j!="string"&&typeof j!="number"||(E=E||[]).push(J,""+j):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(j!=null&&J==="onScroll"&&Ht("scroll",c),E||B===j||(E=[])):(E=E||[]).push(J,j))}p&&(E=E||[]).push("style",p);var J=E;(l.updateQueue=J)&&(l.flags|=4)}},U5=function(c,l,p,v){p!==v&&(l.flags|=4)};function au(c,l){if(!Xt)switch(c.tailMode){case"hidden":l=c.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?l||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Jn(c){var l=c.alternate!==null&&c.alternate.child===c.child,p=0,v=0;if(l)for(var x=c.child;x!==null;)p|=x.lanes|x.childLanes,v|=x.subtreeFlags&14680064,v|=x.flags&14680064,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)p|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=v,c.childLanes=p,l}function yA(c,l,p){var v=l.pendingProps;switch(th(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(l),null;case 1:return yr(l.type)&&cf(),Jn(l),null;case 3:return v=l.stateNode,_s(),Vt(gr),Vt(Yn),ph(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(hf(l)?l.flags|=4:c===null||c.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,uo!==null&&(Vh(uo),uo=null))),kh(c,l),Jn(l),null;case 5:dh(l);var x=Sa(tu.current);if(p=l.type,c!==null&&l.stateNode!=null)$5(c,l,p,v,x),c.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return Jn(l),null}if(c=Sa(ko.current),hf(l)){v=l.stateNode,p=l.type;var E=l.memoizedProps;switch(v[Ro]=l,v[Kc]=E,c=(l.mode&1)!==0,p){case"dialog":Ht("cancel",v),Ht("close",v);break;case"iframe":case"object":case"embed":Ht("load",v);break;case"video":case"audio":for(x=0;x<Zc.length;x++)Ht(Zc[x],v);break;case"source":Ht("error",v);break;case"img":case"image":case"link":Ht("error",v),Ht("load",v);break;case"details":Ht("toggle",v);break;case"input":ct(v,E),Ht("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},Ht("invalid",v);break;case"textarea":vt(v,E),Ht("invalid",v)}dt(p,E),x=null;for(var N in E)if(E.hasOwnProperty(N)){var B=E[N];N==="children"?typeof B=="string"?v.textContent!==B&&(E.suppressHydrationWarning!==!0&&of(v.textContent,B,c),x=["children",B]):typeof B=="number"&&v.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&of(v.textContent,B,c),x=["children",""+B]):o.hasOwnProperty(N)&&B!=null&&N==="onScroll"&&Ht("scroll",v)}switch(p){case"input":It(v),be(v,E,!0);break;case"textarea":It(v),on(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=af)}v=x,l.updateQueue=v,v!==null&&(l.flags|=4)}else{N=x.nodeType===9?x:x.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=an(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=N.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof v.is=="string"?c=N.createElement(p,{is:v.is}):(c=N.createElement(p),p==="select"&&(N=c,v.multiple?N.multiple=!0:v.size&&(N.size=v.size))):c=N.createElementNS(c,p),c[Ro]=l,c[Kc]=v,z5(c,l,!1,!1),l.stateNode=c;e:{switch(N=bn(p,v),p){case"dialog":Ht("cancel",c),Ht("close",c),x=v;break;case"iframe":case"object":case"embed":Ht("load",c),x=v;break;case"video":case"audio":for(x=0;x<Zc.length;x++)Ht(Zc[x],c);x=v;break;case"source":Ht("error",c),x=v;break;case"img":case"image":case"link":Ht("error",c),Ht("load",c),x=v;break;case"details":Ht("toggle",c),x=v;break;case"input":ct(c,v),x=Tt(c,v),Ht("invalid",c);break;case"option":x=v;break;case"select":c._wrapperState={wasMultiple:!!v.multiple},x=ee({},v,{value:void 0}),Ht("invalid",c);break;case"textarea":vt(c,v),x=mt(c,v),Ht("invalid",c);break;default:x=v}dt(p,x),B=x;for(E in B)if(B.hasOwnProperty(E)){var j=B[E];E==="style"?ot(c,j):E==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&tt(c,j)):E==="children"?typeof j=="string"?(p!=="textarea"||j!=="")&&ne(c,j):typeof j=="number"&&ne(c,""+j):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?j!=null&&E==="onScroll"&&Ht("scroll",c):j!=null&&I(c,E,j,N))}switch(p){case"input":It(c),be(c,v,!1);break;case"textarea":It(c),on(c);break;case"option":v.value!=null&&c.setAttribute("value",""+Te(v.value));break;case"select":c.multiple=!!v.multiple,E=v.value,E!=null?We(c,!!v.multiple,E,!1):v.defaultValue!=null&&We(c,!!v.multiple,v.defaultValue,!0);break;default:typeof x.onClick=="function"&&(c.onclick=af)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Jn(l),null;case 6:if(c&&l.stateNode!=null)U5(c,l,c.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(p=Sa(tu.current),Sa(ko.current),hf(l)){if(v=l.stateNode,p=l.memoizedProps,v[Ro]=l,(E=v.nodeValue!==p)&&(c=Br,c!==null))switch(c.tag){case 3:of(v.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&of(v.nodeValue,p,(c.mode&1)!==0)}E&&(l.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[Ro]=l,l.stateNode=v}return Jn(l),null;case 13:if(Vt(Jt),v=l.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Xt&&Lr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)G2(),bs(),l.flags|=98560,E=!1;else if(E=hf(l),v!==null&&v.dehydrated!==null){if(c===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Ro]=l}else bs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Jn(l),E=!1}else uo!==null&&(Vh(uo),uo=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(v=v!==null,v!==(c!==null&&c.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(c===null||(Jt.current&1)!==0?En===0&&(En=3):Zh())),l.updateQueue!==null&&(l.flags|=4),Jn(l),null);case 4:return _s(),kh(c,l),c===null&&Xc(l.stateNode.containerInfo),Jn(l),null;case 10:return sh(l.type._context),Jn(l),null;case 17:return yr(l.type)&&cf(),Jn(l),null;case 19:if(Vt(Jt),E=l.memoizedState,E===null)return Jn(l),null;if(v=(l.flags&128)!==0,N=E.rendering,N===null)if(v)au(E,!1);else{if(En!==0||c!==null&&(c.flags&128)!==0)for(c=l.child;c!==null;){if(N=bf(c),N!==null){for(l.flags|=128,au(E,!1),v=N.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=p,p=l.child;p!==null;)E=p,c=v,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=c,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,c=N.dependencies,E.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return zt(Jt,Jt.current&1|2),l.child}c=c.sibling}E.tail!==null&&dn()>Is&&(l.flags|=128,v=!0,au(E,!1),l.lanes=4194304)}else{if(!v)if(c=bf(N),c!==null){if(l.flags|=128,v=!0,p=c.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),au(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!Xt)return Jn(l),null}else 2*dn()-E.renderingStartTime>Is&&p!==1073741824&&(l.flags|=128,v=!0,au(E,!1),l.lanes=4194304);E.isBackwards?(N.sibling=l.child,l.child=N):(p=E.last,p!==null?p.sibling=N:l.child=N,E.last=N)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=dn(),l.sibling=null,p=Jt.current,zt(Jt,v?p&1|2:p&1),l):(Jn(l),null);case 22:case 23:return Wh(),v=l.memoizedState!==null,c!==null&&c.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Fr&1073741824)!==0&&(Jn(l),l.subtreeFlags&6&&(l.flags|=8192)):Jn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function vA(c,l){switch(th(l),l.tag){case 1:return yr(l.type)&&cf(),c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 3:return _s(),Vt(gr),Vt(Yn),ph(),c=l.flags,(c&65536)!==0&&(c&128)===0?(l.flags=c&-65537|128,l):null;case 5:return dh(l),null;case 13:if(Vt(Jt),c=l.memoizedState,c!==null&&c.dehydrated!==null){if(l.alternate===null)throw Error(n(340));bs()}return c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 19:return Vt(Jt),null;case 4:return _s(),null;case 10:return sh(l.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Tf=!1,er=!1,bA=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function As(c,l){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){cn(c,l,v)}else p.current=null}function Dh(c,l,p){try{p()}catch(v){cn(c,l,v)}}var H5=!1;function xA(c,l){if(W1=Zl,c=w2(),F1(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var x=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var N=0,B=-1,j=-1,J=0,le=0,he=c,ue=null;t:for(;;){for(var Ae;he!==p||x!==0&&he.nodeType!==3||(B=N+x),he!==E||v!==0&&he.nodeType!==3||(j=N+v),he.nodeType===3&&(N+=he.nodeValue.length),(Ae=he.firstChild)!==null;)ue=he,he=Ae;for(;;){if(he===c)break t;if(ue===p&&++J===x&&(B=N),ue===E&&++le===v&&(j=N),(Ae=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=Ae}p=B===-1||j===-1?null:{start:B,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(Z1={focusedElem:c,selectionRange:p},Zl=!1,Ie=l;Ie!==null;)if(l=Ie,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,Ie=c;else for(;Ie!==null;){l=Ie;try{var Ne=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Re=Ne.memoizedProps,hn=Ne.memoizedState,G=l.stateNode,$=G.getSnapshotBeforeUpdate(l.elementType===l.type?Re:lo(l.type,Re),hn);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Z=l.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){cn(l,l.return,me)}if(c=l.sibling,c!==null){c.return=l.return,Ie=c;break}Ie=l.return}return Ne=H5,H5=!1,Ne}function su(c,l,p){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var x=v=v.next;do{if((x.tag&c)===c){var E=x.destroy;x.destroy=void 0,E!==void 0&&Dh(l,p,E)}x=x.next}while(x!==v)}}function Nf(c,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&c)===c){var v=p.create;p.destroy=v()}p=p.next}while(p!==l)}}function Mh(c){var l=c.ref;if(l!==null){var p=c.stateNode;c.tag,c=p,typeof l=="function"?l(c):l.current=c}}function V5(c){var l=c.alternate;l!==null&&(c.alternate=null,V5(l)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(l=c.stateNode,l!==null&&(delete l[Ro],delete l[Kc],delete l[Y1],delete l[nA],delete l[rA])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function G5(c){return c.tag===5||c.tag===3||c.tag===4}function W5(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||G5(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Bh(c,l,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(c,l):p.insertBefore(c,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(c,p)):(l=p,l.appendChild(c)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=af));else if(v!==4&&(c=c.child,c!==null))for(Bh(c,l,p),c=c.sibling;c!==null;)Bh(c,l,p),c=c.sibling}function Lh(c,l,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,l?p.insertBefore(c,l):p.appendChild(c);else if(v!==4&&(c=c.child,c!==null))for(Lh(c,l,p),c=c.sibling;c!==null;)Lh(c,l,p),c=c.sibling}var Vn=null,fo=!1;function Vi(c,l,p){for(p=p.child;p!==null;)Z5(c,l,p),p=p.sibling}function Z5(c,l,p){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount($l,p)}catch{}switch(p.tag){case 5:er||As(p,l);case 6:var v=Vn,x=fo;Vn=null,Vi(c,l,p),Vn=v,fo=x,Vn!==null&&(fo?(c=Vn,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):Vn.removeChild(p.stateNode));break;case 18:Vn!==null&&(fo?(c=Vn,p=p.stateNode,c.nodeType===8?K1(c.parentNode,p):c.nodeType===1&&K1(c,p),jc(c)):K1(Vn,p.stateNode));break;case 4:v=Vn,x=fo,Vn=p.stateNode.containerInfo,fo=!0,Vi(c,l,p),Vn=v,fo=x;break;case 0:case 11:case 14:case 15:if(!er&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){x=v=v.next;do{var E=x,N=E.destroy;E=E.tag,N!==void 0&&((E&2)!==0||(E&4)!==0)&&Dh(p,l,N),x=x.next}while(x!==v)}Vi(c,l,p);break;case 1:if(!er&&(As(p,l),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(B){cn(p,l,B)}Vi(c,l,p);break;case 21:Vi(c,l,p);break;case 22:p.mode&1?(er=(v=er)||p.memoizedState!==null,Vi(c,l,p),er=v):Vi(c,l,p);break;default:Vi(c,l,p)}}function X5(c){var l=c.updateQueue;if(l!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new bA),l.forEach(function(v){var x=NA.bind(null,c,v);p.has(v)||(p.add(v),v.then(x,x))})}}function ho(c,l){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var x=p[v];try{var E=c,N=l,B=N;e:for(;B!==null;){switch(B.tag){case 5:Vn=B.stateNode,fo=!1;break e;case 3:Vn=B.stateNode.containerInfo,fo=!0;break e;case 4:Vn=B.stateNode.containerInfo,fo=!0;break e}B=B.return}if(Vn===null)throw Error(n(160));Z5(E,N,x),Vn=null,fo=!1;var j=x.alternate;j!==null&&(j.return=null),x.return=null}catch(J){cn(x,l,J)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)q5(l,c),l=l.sibling}function q5(c,l){var p=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ho(l,c),Mo(c),v&4){try{su(3,c,c.return),Nf(3,c)}catch(Re){cn(c,c.return,Re)}try{su(5,c,c.return)}catch(Re){cn(c,c.return,Re)}}break;case 1:ho(l,c),Mo(c),v&512&&p!==null&&As(p,p.return);break;case 5:if(ho(l,c),Mo(c),v&512&&p!==null&&As(p,p.return),c.flags&32){var x=c.stateNode;try{ne(x,"")}catch(Re){cn(c,c.return,Re)}}if(v&4&&(x=c.stateNode,x!=null)){var E=c.memoizedProps,N=p!==null?p.memoizedProps:E,B=c.type,j=c.updateQueue;if(c.updateQueue=null,j!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&ce(x,E),bn(B,N);var J=bn(B,E);for(N=0;N<j.length;N+=2){var le=j[N],he=j[N+1];le==="style"?ot(x,he):le==="dangerouslySetInnerHTML"?tt(x,he):le==="children"?ne(x,he):I(x,le,he,J)}switch(B){case"input":te(x,E);break;case"textarea":bt(x,E);break;case"select":var ue=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var Ae=E.value;Ae!=null?We(x,!!E.multiple,Ae,!1):ue!==!!E.multiple&&(E.defaultValue!=null?We(x,!!E.multiple,E.defaultValue,!0):We(x,!!E.multiple,E.multiple?[]:"",!1))}x[Kc]=E}catch(Re){cn(c,c.return,Re)}}break;case 6:if(ho(l,c),Mo(c),v&4){if(c.stateNode===null)throw Error(n(162));x=c.stateNode,E=c.memoizedProps;try{x.nodeValue=E}catch(Re){cn(c,c.return,Re)}}break;case 3:if(ho(l,c),Mo(c),v&4&&p!==null&&p.memoizedState.isDehydrated)try{jc(l.containerInfo)}catch(Re){cn(c,c.return,Re)}break;case 4:ho(l,c),Mo(c);break;case 13:ho(l,c),Mo(c),x=c.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(zh=dn())),v&4&&X5(c);break;case 22:if(le=p!==null&&p.memoizedState!==null,c.mode&1?(er=(J=er)||le,ho(l,c),er=J):ho(l,c),Mo(c),v&8192){if(J=c.memoizedState!==null,(c.stateNode.isHidden=J)&&!le&&(c.mode&1)!==0)for(Ie=c,le=c.child;le!==null;){for(he=Ie=le;Ie!==null;){switch(ue=Ie,Ae=ue.child,ue.tag){case 0:case 11:case 14:case 15:su(4,ue,ue.return);break;case 1:As(ue,ue.return);var Ne=ue.stateNode;if(typeof Ne.componentWillUnmount=="function"){v=ue,p=ue.return;try{l=v,Ne.props=l.memoizedProps,Ne.state=l.memoizedState,Ne.componentWillUnmount()}catch(Re){cn(v,p,Re)}}break;case 5:As(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Q5(he);continue}}Ae!==null?(Ae.return=ue,Ie=Ae):Q5(he)}le=le.sibling}e:for(le=null,he=c;;){if(he.tag===5){if(le===null){le=he;try{x=he.stateNode,J?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=he.stateNode,j=he.memoizedProps.style,N=j!=null&&j.hasOwnProperty("display")?j.display:null,B.style.display=Ze("display",N))}catch(Re){cn(c,c.return,Re)}}}else if(he.tag===6){if(le===null)try{he.stateNode.nodeValue=J?"":he.memoizedProps}catch(Re){cn(c,c.return,Re)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===c)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===c)break e;for(;he.sibling===null;){if(he.return===null||he.return===c)break e;le===he&&(le=null),he=he.return}le===he&&(le=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ho(l,c),Mo(c),v&4&&X5(c);break;case 21:break;default:ho(l,c),Mo(c)}}function Mo(c){var l=c.flags;if(l&2){try{e:{for(var p=c.return;p!==null;){if(G5(p)){var v=p;break e}p=p.return}throw Error(n(160))}switch(v.tag){case 5:var x=v.stateNode;v.flags&32&&(ne(x,""),v.flags&=-33);var E=W5(c);Lh(c,E,x);break;case 3:case 4:var N=v.stateNode.containerInfo,B=W5(c);Bh(c,B,N);break;default:throw Error(n(161))}}catch(j){cn(c,c.return,j)}c.flags&=-3}l&4096&&(c.flags&=-4097)}function wA(c,l,p){Ie=c,K5(c)}function K5(c,l,p){for(var v=(c.mode&1)!==0;Ie!==null;){var x=Ie,E=x.child;if(x.tag===22&&v){var N=x.memoizedState!==null||Tf;if(!N){var B=x.alternate,j=B!==null&&B.memoizedState!==null||er;B=Tf;var J=er;if(Tf=N,(er=j)&&!J)for(Ie=x;Ie!==null;)N=Ie,j=N.child,N.tag===22&&N.memoizedState!==null?J5(x):j!==null?(j.return=N,Ie=j):J5(x);for(;E!==null;)Ie=E,K5(E),E=E.sibling;Ie=x,Tf=B,er=J}Y5(c)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,Ie=E):Y5(c)}}function Y5(c){for(;Ie!==null;){var l=Ie;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:er||Nf(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!er)if(p===null)v.componentDidMount();else{var x=l.elementType===l.type?p.memoizedProps:lo(l.type,p.memoizedProps);v.componentDidUpdate(x,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&Q2(l,E,v);break;case 3:var N=l.updateQueue;if(N!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Q2(l,N,p)}break;case 5:var B=l.stateNode;if(p===null&&l.flags&4){p=B;var j=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&p.focus();break;case"img":j.src&&(p.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var J=l.alternate;if(J!==null){var le=J.memoizedState;if(le!==null){var he=le.dehydrated;he!==null&&jc(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}er||l.flags&512&&Mh(l)}catch(ue){cn(l,l.return,ue)}}if(l===c){Ie=null;break}if(p=l.sibling,p!==null){p.return=l.return,Ie=p;break}Ie=l.return}}function Q5(c){for(;Ie!==null;){var l=Ie;if(l===c){Ie=null;break}var p=l.sibling;if(p!==null){p.return=l.return,Ie=p;break}Ie=l.return}}function J5(c){for(;Ie!==null;){var l=Ie;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Nf(4,l)}catch(j){cn(l,p,j)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var x=l.return;try{v.componentDidMount()}catch(j){cn(l,x,j)}}var E=l.return;try{Mh(l)}catch(j){cn(l,E,j)}break;case 5:var N=l.return;try{Mh(l)}catch(j){cn(l,N,j)}}}catch(j){cn(l,l.return,j)}if(l===c){Ie=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Ie=B;break}Ie=l.return}}var EA=Math.ceil,Of=T.ReactCurrentDispatcher,Fh=T.ReactCurrentOwner,qr=T.ReactCurrentBatchConfig,gt=0,Bn=null,mn=null,Gn=0,Fr=0,Ss=ji(0),En=0,cu=null,Ta=0,Pf=0,jh=0,uu=null,br=null,zh=0,Is=1/0,ai=null,Rf=!1,$h=null,Gi=null,kf=!1,Wi=null,Df=0,lu=0,Uh=null,Mf=-1,Bf=0;function ar(){return(gt&6)!==0?dn():Mf!==-1?Mf:Mf=dn()}function Zi(c){return(c.mode&1)===0?1:(gt&2)!==0&&Gn!==0?Gn&-Gn:iA.transition!==null?(Bf===0&&(Bf=Wv()),Bf):(c=Rt,c!==0||(c=window.event,c=c===void 0?16:t2(c.type)),c)}function po(c,l,p,v){if(50<lu)throw lu=0,Uh=null,Error(n(185));Dc(c,p,v),((gt&2)===0||c!==Bn)&&(c===Bn&&((gt&2)===0&&(Pf|=p),En===4&&Xi(c,Gn)),xr(c,v),p===1&&gt===0&&(l.mode&1)===0&&(Is=dn()+500,lf&&$i()))}function xr(c,l){var p=c.callbackNode;iC(c,l);var v=Vl(c,c===Bn?Gn:0);if(v===0)p!==null&&Hv(p),c.callbackNode=null,c.callbackPriority=0;else if(l=v&-v,c.callbackPriority!==l){if(p!=null&&Hv(p),l===1)c.tag===0?oA(t6.bind(null,c)):z2(t6.bind(null,c)),eA(function(){(gt&6)===0&&$i()}),p=null;else{switch(Zv(v)){case 1:p=w1;break;case 4:p=Vv;break;case 16:p=zl;break;case 536870912:p=Gv;break;default:p=zl}p=u6(p,e6.bind(null,c))}c.callbackPriority=l,c.callbackNode=p}}function e6(c,l){if(Mf=-1,Bf=0,(gt&6)!==0)throw Error(n(327));var p=c.callbackNode;if(Ts()&&c.callbackNode!==p)return null;var v=Vl(c,c===Bn?Gn:0);if(v===0)return null;if((v&30)!==0||(v&c.expiredLanes)!==0||l)l=Lf(c,v);else{l=v;var x=gt;gt|=2;var E=r6();(Bn!==c||Gn!==l)&&(ai=null,Is=dn()+500,Oa(c,l));do try{AA();break}catch(B){n6(c,B)}while(!0);ah(),Of.current=E,gt=x,mn!==null?l=0:(Bn=null,Gn=0,l=En)}if(l!==0){if(l===2&&(x=E1(c),x!==0&&(v=x,l=Hh(c,x))),l===1)throw p=cu,Oa(c,0),Xi(c,v),xr(c,dn()),p;if(l===6)Xi(c,v);else{if(x=c.current.alternate,(v&30)===0&&!_A(x)&&(l=Lf(c,v),l===2&&(E=E1(c),E!==0&&(v=E,l=Hh(c,E))),l===1))throw p=cu,Oa(c,0),Xi(c,v),xr(c,dn()),p;switch(c.finishedWork=x,c.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:Pa(c,br,ai);break;case 3:if(Xi(c,v),(v&130023424)===v&&(l=zh+500-dn(),10<l)){if(Vl(c,0)!==0)break;if(x=c.suspendedLanes,(x&v)!==v){ar(),c.pingedLanes|=c.suspendedLanes&x;break}c.timeoutHandle=q1(Pa.bind(null,c,br,ai),l);break}Pa(c,br,ai);break;case 4:if(Xi(c,v),(v&4194240)===v)break;for(l=c.eventTimes,x=-1;0<v;){var N=31-so(v);E=1<<N,N=l[N],N>x&&(x=N),v&=~E}if(v=x,v=dn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*EA(v/1960))-v,10<v){c.timeoutHandle=q1(Pa.bind(null,c,br,ai),v);break}Pa(c,br,ai);break;case 5:Pa(c,br,ai);break;default:throw Error(n(329))}}}return xr(c,dn()),c.callbackNode===p?e6.bind(null,c):null}function Hh(c,l){var p=uu;return c.current.memoizedState.isDehydrated&&(Oa(c,l).flags|=256),c=Lf(c,l),c!==2&&(l=br,br=p,l!==null&&Vh(l)),c}function Vh(c){br===null?br=c:br.push.apply(br,c)}function _A(c){for(var l=c;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var x=p[v],E=x.getSnapshot;x=x.value;try{if(!co(E(),x))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Xi(c,l){for(l&=~jh,l&=~Pf,c.suspendedLanes|=l,c.pingedLanes&=~l,c=c.expirationTimes;0<l;){var p=31-so(l),v=1<<p;c[p]=-1,l&=~v}}function t6(c){if((gt&6)!==0)throw Error(n(327));Ts();var l=Vl(c,0);if((l&1)===0)return xr(c,dn()),null;var p=Lf(c,l);if(c.tag!==0&&p===2){var v=E1(c);v!==0&&(l=v,p=Hh(c,v))}if(p===1)throw p=cu,Oa(c,0),Xi(c,l),xr(c,dn()),p;if(p===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=l,Pa(c,br,ai),xr(c,dn()),null}function Gh(c,l){var p=gt;gt|=1;try{return c(l)}finally{gt=p,gt===0&&(Is=dn()+500,lf&&$i())}}function Na(c){Wi!==null&&Wi.tag===0&&(gt&6)===0&&Ts();var l=gt;gt|=1;var p=qr.transition,v=Rt;try{if(qr.transition=null,Rt=1,c)return c()}finally{Rt=v,qr.transition=p,gt=l,(gt&6)===0&&$i()}}function Wh(){Fr=Ss.current,Vt(Ss)}function Oa(c,l){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,JC(p)),mn!==null)for(p=mn.return;p!==null;){var v=p;switch(th(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&cf();break;case 3:_s(),Vt(gr),Vt(Yn),ph();break;case 5:dh(v);break;case 4:_s();break;case 13:Vt(Jt);break;case 19:Vt(Jt);break;case 10:sh(v.type._context);break;case 22:case 23:Wh()}p=p.return}if(Bn=c,mn=c=qi(c.current,null),Gn=Fr=l,En=0,cu=null,jh=Pf=Ta=0,br=uu=null,Aa!==null){for(l=0;l<Aa.length;l++)if(p=Aa[l],v=p.interleaved,v!==null){p.interleaved=null;var x=v.next,E=p.pending;if(E!==null){var N=E.next;E.next=x,v.next=N}p.pending=v}Aa=null}return c}function n6(c,l){do{var p=mn;try{if(ah(),xf.current=Cf,wf){for(var v=en.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}wf=!1}if(Ia=0,Mn=wn=en=null,nu=!1,ru=0,Fh.current=null,p===null||p.return===null){En=1,cu=l,mn=null;break}e:{var E=c,N=p.return,B=p,j=l;if(l=Gn,B.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=j,le=B,he=le.tag;if((le.mode&1)===0&&(he===0||he===11||he===15)){var ue=le.alternate;ue?(le.updateQueue=ue.updateQueue,le.memoizedState=ue.memoizedState,le.lanes=ue.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ae=I5(N);if(Ae!==null){Ae.flags&=-257,T5(Ae,N,B,E,l),Ae.mode&1&&S5(E,J,l),l=Ae,j=J;var Ne=l.updateQueue;if(Ne===null){var Re=new Set;Re.add(j),l.updateQueue=Re}else Ne.add(j);break e}else{if((l&1)===0){S5(E,J,l),Zh();break e}j=Error(n(426))}}else if(Xt&&B.mode&1){var hn=I5(N);if(hn!==null){(hn.flags&65536)===0&&(hn.flags|=256),T5(hn,N,B,E,l),oh(Cs(j,B));break e}}E=j=Cs(j,B),En!==4&&(En=2),uu===null?uu=[E]:uu.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var G=C5(E,j,l);Y2(E,G);break e;case 1:B=j;var $=E.type,Z=E.stateNode;if((E.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Gi===null||!Gi.has(Z)))){E.flags|=65536,l&=-l,E.lanes|=l;var me=A5(E,B,l);Y2(E,me);break e}}E=E.return}while(E!==null)}i6(p)}catch(Me){l=Me,mn===p&&p!==null&&(mn=p=p.return);continue}break}while(!0)}function r6(){var c=Of.current;return Of.current=Cf,c===null?Cf:c}function Zh(){(En===0||En===3||En===2)&&(En=4),Bn===null||(Ta&268435455)===0&&(Pf&268435455)===0||Xi(Bn,Gn)}function Lf(c,l){var p=gt;gt|=2;var v=r6();(Bn!==c||Gn!==l)&&(ai=null,Oa(c,l));do try{CA();break}catch(x){n6(c,x)}while(!0);if(ah(),gt=p,Of.current=v,mn!==null)throw Error(n(261));return Bn=null,Gn=0,En}function CA(){for(;mn!==null;)o6(mn)}function AA(){for(;mn!==null&&!K9();)o6(mn)}function o6(c){var l=c6(c.alternate,c,Fr);c.memoizedProps=c.pendingProps,l===null?i6(c):mn=l,Fh.current=null}function i6(c){var l=c;do{var p=l.alternate;if(c=l.return,(l.flags&32768)===0){if(p=yA(p,l,Fr),p!==null){mn=p;return}}else{if(p=vA(p,l),p!==null){p.flags&=32767,mn=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{En=6,mn=null;return}}if(l=l.sibling,l!==null){mn=l;return}mn=l=c}while(l!==null);En===0&&(En=5)}function Pa(c,l,p){var v=Rt,x=qr.transition;try{qr.transition=null,Rt=1,SA(c,l,p,v)}finally{qr.transition=x,Rt=v}return null}function SA(c,l,p,v){do Ts();while(Wi!==null);if((gt&6)!==0)throw Error(n(327));p=c.finishedWork;var x=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var E=p.lanes|p.childLanes;if(aC(c,E),c===Bn&&(mn=Bn=null,Gn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||kf||(kf=!0,u6(zl,function(){return Ts(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=qr.transition,qr.transition=null;var N=Rt;Rt=1;var B=gt;gt|=4,Fh.current=null,xA(c,p),q5(p,c),WC(Z1),Zl=!!W1,Z1=W1=null,c.current=p,wA(p),Y9(),gt=B,Rt=N,qr.transition=E}else c.current=p;if(kf&&(kf=!1,Wi=c,Df=x),E=c.pendingLanes,E===0&&(Gi=null),eC(p.stateNode),xr(c,dn()),l!==null)for(v=c.onRecoverableError,p=0;p<l.length;p++)x=l[p],v(x.value,{componentStack:x.stack,digest:x.digest});if(Rf)throw Rf=!1,c=$h,$h=null,c;return(Df&1)!==0&&c.tag!==0&&Ts(),E=c.pendingLanes,(E&1)!==0?c===Uh?lu++:(lu=0,Uh=c):lu=0,$i(),null}function Ts(){if(Wi!==null){var c=Zv(Df),l=qr.transition,p=Rt;try{if(qr.transition=null,Rt=16>c?16:c,Wi===null)var v=!1;else{if(c=Wi,Wi=null,Df=0,(gt&6)!==0)throw Error(n(331));var x=gt;for(gt|=4,Ie=c.current;Ie!==null;){var E=Ie,N=E.child;if((Ie.flags&16)!==0){var B=E.deletions;if(B!==null){for(var j=0;j<B.length;j++){var J=B[j];for(Ie=J;Ie!==null;){var le=Ie;switch(le.tag){case 0:case 11:case 15:su(8,le,E)}var he=le.child;if(he!==null)he.return=le,Ie=he;else for(;Ie!==null;){le=Ie;var ue=le.sibling,Ae=le.return;if(V5(le),le===J){Ie=null;break}if(ue!==null){ue.return=Ae,Ie=ue;break}Ie=Ae}}}var Ne=E.alternate;if(Ne!==null){var Re=Ne.child;if(Re!==null){Ne.child=null;do{var hn=Re.sibling;Re.sibling=null,Re=hn}while(Re!==null)}}Ie=E}}if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,Ie=N;else e:for(;Ie!==null;){if(E=Ie,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:su(9,E,E.return)}var G=E.sibling;if(G!==null){G.return=E.return,Ie=G;break e}Ie=E.return}}var $=c.current;for(Ie=$;Ie!==null;){N=Ie;var Z=N.child;if((N.subtreeFlags&2064)!==0&&Z!==null)Z.return=N,Ie=Z;else e:for(N=$;Ie!==null;){if(B=Ie,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Nf(9,B)}}catch(Me){cn(B,B.return,Me)}if(B===N){Ie=null;break e}var me=B.sibling;if(me!==null){me.return=B.return,Ie=me;break e}Ie=B.return}}if(gt=x,$i(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot($l,c)}catch{}v=!0}return v}finally{Rt=p,qr.transition=l}}return!1}function a6(c,l,p){l=Cs(p,l),l=C5(c,l,1),c=Hi(c,l,1),l=ar(),c!==null&&(Dc(c,1,l),xr(c,l))}function cn(c,l,p){if(c.tag===3)a6(c,c,p);else for(;l!==null;){if(l.tag===3){a6(l,c,p);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Gi===null||!Gi.has(v))){c=Cs(p,c),c=A5(l,c,1),l=Hi(l,c,1),c=ar(),l!==null&&(Dc(l,1,c),xr(l,c));break}}l=l.return}}function IA(c,l,p){var v=c.pingCache;v!==null&&v.delete(l),l=ar(),c.pingedLanes|=c.suspendedLanes&p,Bn===c&&(Gn&p)===p&&(En===4||En===3&&(Gn&130023424)===Gn&&500>dn()-zh?Oa(c,0):jh|=p),xr(c,l)}function s6(c,l){l===0&&((c.mode&1)===0?l=1:(l=Hl,Hl<<=1,(Hl&130023424)===0&&(Hl=4194304)));var p=ar();c=ri(c,l),c!==null&&(Dc(c,l,p),xr(c,p))}function TA(c){var l=c.memoizedState,p=0;l!==null&&(p=l.retryLane),s6(c,p)}function NA(c,l){var p=0;switch(c.tag){case 13:var v=c.stateNode,x=c.memoizedState;x!==null&&(p=x.retryLane);break;case 19:v=c.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),s6(c,p)}var c6;c6=function(c,l,p){if(c!==null)if(c.memoizedProps!==l.pendingProps||gr.current)vr=!0;else{if((c.lanes&p)===0&&(l.flags&128)===0)return vr=!1,gA(c,l,p);vr=(c.flags&131072)!==0}else vr=!1,Xt&&(l.flags&1048576)!==0&&$2(l,df,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;If(c,l),c=l.pendingProps;var x=gs(l,Yn.current);Es(l,p),x=yh(null,l,v,c,x,p);var E=vh();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yr(v)?(E=!0,uf(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,lh(l),x.updater=Af,l.stateNode=x,x._reactInternals=l,Ch(l,v,c,p),l=Th(null,l,v,!0,E,p)):(l.tag=0,Xt&&E&&eh(l),ir(null,l,x,p),l=l.child),l;case 16:v=l.elementType;e:{switch(If(c,l),c=l.pendingProps,x=v._init,v=x(v._payload),l.type=v,x=l.tag=PA(v),c=lo(v,c),x){case 0:l=Ih(null,l,v,c,p);break e;case 1:l=D5(null,l,v,c,p);break e;case 11:l=N5(null,l,v,c,p);break e;case 14:l=O5(null,l,v,lo(v.type,c),p);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:lo(v,x),Ih(c,l,v,x,p);case 1:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:lo(v,x),D5(c,l,v,x,p);case 3:e:{if(M5(l),c===null)throw Error(n(387));v=l.pendingProps,E=l.memoizedState,x=E.element,K2(c,l),vf(l,v,null,p);var N=l.memoizedState;if(v=N.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=Cs(Error(n(423)),l),l=B5(c,l,v,p,x);break e}else if(v!==x){x=Cs(Error(n(424)),l),l=B5(c,l,v,p,x);break e}else for(Lr=Fi(l.stateNode.containerInfo.firstChild),Br=l,Xt=!0,uo=null,p=X2(l,null,v,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(bs(),v===x){l=ii(c,l,p);break e}ir(c,l,v,p)}l=l.child}return l;case 5:return J2(l),c===null&&rh(l),v=l.type,x=l.pendingProps,E=c!==null?c.memoizedProps:null,N=x.children,X1(v,x)?N=null:E!==null&&X1(v,E)&&(l.flags|=32),k5(c,l),ir(c,l,N,p),l.child;case 6:return c===null&&rh(l),null;case 13:return L5(c,l,p);case 4:return fh(l,l.stateNode.containerInfo),v=l.pendingProps,c===null?l.child=xs(l,null,v,p):ir(c,l,v,p),l.child;case 11:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:lo(v,x),N5(c,l,v,x,p);case 7:return ir(c,l,l.pendingProps,p),l.child;case 8:return ir(c,l,l.pendingProps.children,p),l.child;case 12:return ir(c,l,l.pendingProps.children,p),l.child;case 10:e:{if(v=l.type._context,x=l.pendingProps,E=l.memoizedProps,N=x.value,zt(mf,v._currentValue),v._currentValue=N,E!==null)if(co(E.value,N)){if(E.children===x.children&&!gr.current){l=ii(c,l,p);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var B=E.dependencies;if(B!==null){N=E.child;for(var j=B.firstContext;j!==null;){if(j.context===v){if(E.tag===1){j=oi(-1,p&-p),j.tag=2;var J=E.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?j.next=j:(j.next=le.next,le.next=j),J.pending=j}}E.lanes|=p,j=E.alternate,j!==null&&(j.lanes|=p),ch(E.return,p,l),B.lanes|=p;break}j=j.next}}else if(E.tag===10)N=E.type===l.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=p,B=N.alternate,B!==null&&(B.lanes|=p),ch(N,p,l),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===l){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}ir(c,l,x.children,p),l=l.child}return l;case 9:return x=l.type,v=l.pendingProps.children,Es(l,p),x=Zr(x),v=v(x),l.flags|=1,ir(c,l,v,p),l.child;case 14:return v=l.type,x=lo(v,l.pendingProps),x=lo(v.type,x),O5(c,l,v,x,p);case 15:return P5(c,l,l.type,l.pendingProps,p);case 17:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:lo(v,x),If(c,l),l.tag=1,yr(v)?(c=!0,uf(l)):c=!1,Es(l,p),E5(l,v,x),Ch(l,v,x,p),Th(null,l,v,!0,c,p);case 19:return j5(c,l,p);case 22:return R5(c,l,p)}throw Error(n(156,l.tag))};function u6(c,l){return Uv(c,l)}function OA(c,l,p,v){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(c,l,p,v){return new OA(c,l,p,v)}function Xh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function PA(c){if(typeof c=="function")return Xh(c)?1:0;if(c!=null){if(c=c.$$typeof,c===H)return 11;if(c===X)return 14}return 2}function qi(c,l){var p=c.alternate;return p===null?(p=Kr(c.tag,l,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=l,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,l=c.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function Ff(c,l,p,v,x,E){var N=2;if(v=c,typeof c=="function")Xh(c)&&(N=1);else if(typeof c=="string")N=5;else e:switch(c){case k:return Ra(p.children,x,E,l);case R:N=8,x|=8;break;case z:return c=Kr(12,p,l,x|2),c.elementType=z,c.lanes=E,c;case Y:return c=Kr(13,p,l,x),c.elementType=Y,c.lanes=E,c;case ae:return c=Kr(19,p,l,x),c.elementType=ae,c.lanes=E,c;case re:return jf(p,x,E,l);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case F:N=10;break e;case U:N=9;break e;case H:N=11;break e;case X:N=14;break e;case q:N=16,v=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return l=Kr(N,p,l,x),l.elementType=c,l.type=v,l.lanes=E,l}function Ra(c,l,p,v){return c=Kr(7,c,v,l),c.lanes=p,c}function jf(c,l,p,v){return c=Kr(22,c,v,l),c.elementType=re,c.lanes=p,c.stateNode={isHidden:!1},c}function qh(c,l,p){return c=Kr(6,c,null,l),c.lanes=p,c}function Kh(c,l,p){return l=Kr(4,c.children!==null?c.children:[],c.key,l),l.lanes=p,l.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},l}function RA(c,l,p,v,x){this.tag=l,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_1(0),this.expirationTimes=_1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_1(0),this.identifierPrefix=v,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Yh(c,l,p,v,x,E,N,B,j){return c=new RA(c,l,p,B,j),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Kr(3,null,null,l),c.current=E,E.stateNode=c,E.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(E),c}function kA(c,l,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:v==null?null:""+v,children:c,containerInfo:l,implementation:p}}function l6(c){if(!c)return zi;c=c._reactInternals;e:{if(_t(c)!==c||c.tag!==1)throw Error(n(170));var l=c;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(c.tag===1){var p=c.type;if(yr(p))return F2(c,p,l)}return l}function f6(c,l,p,v,x,E,N,B,j){return c=Yh(p,v,!0,c,x,E,N,B,j),c.context=l6(null),p=c.current,v=ar(),x=Zi(p),E=oi(v,x),E.callback=l??null,Hi(p,E,x),c.current.lanes=x,Dc(c,x,v),xr(c,v),c}function zf(c,l,p,v){var x=l.current,E=ar(),N=Zi(x);return p=l6(p),l.context===null?l.context=p:l.pendingContext=p,l=oi(E,N),l.payload={element:c},v=v===void 0?null:v,v!==null&&(l.callback=v),c=Hi(x,l,N),c!==null&&(po(c,x,N,E),yf(c,x,N)),N}function $f(c){return c=c.current,c.child?(c.child.tag===5,c.child.stateNode):null}function d6(c,l){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<l?p:l}}function Qh(c,l){d6(c,l),(c=c.alternate)&&d6(c,l)}function DA(){return null}var h6=typeof reportError=="function"?reportError:function(c){console.error(c)};function Jh(c){this._internalRoot=c}Uf.prototype.render=Jh.prototype.render=function(c){var l=this._internalRoot;if(l===null)throw Error(n(409));zf(c,l,null,null)},Uf.prototype.unmount=Jh.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var l=c.containerInfo;Na(function(){zf(null,c,null,null)}),l[Jo]=null}};function Uf(c){this._internalRoot=c}Uf.prototype.unstable_scheduleHydration=function(c){if(c){var l=Kv();c={blockedOn:null,target:c,priority:l};for(var p=0;p<Mi.length&&l!==0&&l<Mi[p].priority;p++);Mi.splice(p,0,c),p===0&&Jv(c)}};function ep(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Hf(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function p6(){}function MA(c,l,p,v,x){if(x){if(typeof v=="function"){var E=v;v=function(){var J=$f(N);E.call(J)}}var N=f6(l,v,c,0,null,!1,!1,"",p6);return c._reactRootContainer=N,c[Jo]=N.current,Xc(c.nodeType===8?c.parentNode:c),Na(),N}for(;x=c.lastChild;)c.removeChild(x);if(typeof v=="function"){var B=v;v=function(){var J=$f(j);B.call(J)}}var j=Yh(c,0,!1,null,null,!1,!1,"",p6);return c._reactRootContainer=j,c[Jo]=j.current,Xc(c.nodeType===8?c.parentNode:c),Na(function(){zf(l,j,p,v)}),j}function Vf(c,l,p,v,x){var E=p._reactRootContainer;if(E){var N=E;if(typeof x=="function"){var B=x;x=function(){var j=$f(N);B.call(j)}}zf(l,N,c,x)}else N=MA(p,l,c,x,v);return $f(N)}Xv=function(c){switch(c.tag){case 3:var l=c.stateNode;if(l.current.memoizedState.isDehydrated){var p=kc(l.pendingLanes);p!==0&&(C1(l,p|1),xr(l,dn()),(gt&6)===0&&(Is=dn()+500,$i()))}break;case 13:Na(function(){var v=ri(c,1);if(v!==null){var x=ar();po(v,c,1,x)}}),Qh(c,1)}},A1=function(c){if(c.tag===13){var l=ri(c,134217728);if(l!==null){var p=ar();po(l,c,134217728,p)}Qh(c,134217728)}},qv=function(c){if(c.tag===13){var l=Zi(c),p=ri(c,l);if(p!==null){var v=ar();po(p,c,l,v)}Qh(c,l)}},Kv=function(){return Rt},Yv=function(c,l){var p=Rt;try{return Rt=c,l()}finally{Rt=p}},fn=function(c,l,p){switch(l){case"input":if(te(c,p),l=p.name,p.type==="radio"&&l!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var v=p[l];if(v!==c&&v.form===c.form){var x=sf(v);if(!x)throw Error(n(90));rt(v),te(v,x)}}}break;case"textarea":bt(c,p);break;case"select":l=p.value,l!=null&&We(c,!!p.multiple,l,!1)}},xt=Gh,nt=Na;var BA={usingClientEntryPoint:!1,Events:[Yc,ps,sf,it,et,Gh]},fu={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LA={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Rc(c),c===null?null:c.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||DA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{$l=Gf.inject(LA),Po=Gf}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BA,wr.createPortal=function(c,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(l))throw Error(n(200));return kA(c,l,null,p)},wr.createRoot=function(c,l){if(!ep(c))throw Error(n(299));var p=!1,v="",x=h6;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Yh(c,1,!1,null,null,p,!1,v,x),c[Jo]=l.current,Xc(c.nodeType===8?c.parentNode:c),new Jh(l)},wr.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var l=c._reactInternals;if(l===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Rc(l),c=c===null?null:c.stateNode,c},wr.flushSync=function(c){return Na(c)},wr.hydrate=function(c,l,p){if(!Hf(l))throw Error(n(200));return Vf(null,c,l,!0,p)},wr.hydrateRoot=function(c,l,p){if(!ep(c))throw Error(n(405));var v=p!=null&&p.hydratedSources||null,x=!1,E="",N=h6;if(p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(N=p.onRecoverableError)),l=f6(l,null,c,1,p??null,x,!1,E,N),c[Jo]=l.current,Xc(c),v)for(c=0;c<v.length;c++)p=v[c],x=p._getVersion,x=x(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,x]:l.mutableSourceEagerHydrationData.push(p,x);return new Uf(l)},wr.render=function(c,l,p){if(!Hf(l))throw Error(n(200));return Vf(null,c,l,!1,p)},wr.unmountComponentAtNode=function(c){if(!Hf(c))throw Error(n(40));return c._reactRootContainer?(Na(function(){Vf(null,null,c,!1,function(){c._reactRootContainer=null,c[Jo]=null})}),!0):!1},wr.unstable_batchedUpdates=Gh,wr.unstable_renderSubtreeIntoContainer=function(c,l,p,v){if(!Hf(p))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return Vf(c,l,p,!1,v)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var E6;function e8(){if(E6)return rp.exports;E6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rp.exports=VA(),rp.exports}var _6;function GA(){if(_6)return Wf;_6=1;var t=e8();return Wf.createRoot=t.createRoot,Wf.hydrateRoot=t.hydrateRoot,Wf}var WA=GA();const ZA=$g(WA);var C6="popstate";function XA(t={}){function e(o,i){let{pathname:a="/",search:s="",hash:u=""}=ts(o.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),vm("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let a=o.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let u=o.location.href,f=u.indexOf("#");s=f===-1?u:u.slice(0,f)}return s+"#"+(typeof i=="string"?i:Pu(i))}function r(o,i){oo(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return KA(e,n,r,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qA(){return Math.random().toString(36).substring(2,10)}function A6(t,e){return{usr:t.state,key:t.key,idx:e}}function vm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ts(e):e,state:n,key:e&&e.key||r||qA()}}function Pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KA(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",u=null,f=d();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function d(){return(a.state||{idx:null}).idx}function h(){s="POP";let _=d(),C=_==null?null:_-f;f=_,u&&u({action:s,location:w.location,delta:C})}function m(_,C){s="PUSH";let A=vm(w.location,_,C);n&&n(A,_),f=d()+1;let I=A6(A,f),T=w.createHref(A);try{a.pushState(I,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(T)}i&&u&&u({action:s,location:w.location,delta:1})}function g(_,C){s="REPLACE";let A=vm(w.location,_,C);n&&n(A,_),f=d();let I=A6(A,f),T=w.createHref(A);a.replaceState(I,"",T),i&&u&&u({action:s,location:w.location,delta:0})}function b(_){return YA(_)}let w={get action(){return s},get location(){return t(o,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(C6,h),u=_,()=>{o.removeEventListener(C6,h),u=null}},createHref(_){return e(o,_)},createURL:b,encodeLocation(_){let C=b(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:g,go(_){return a.go(_)}};return w}function YA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Pu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function t8(t,e,n="/"){return QA(t,e,n,!1)}function QA(t,e,n,r){let o=typeof e=="string"?ts(e):e,i=Ei(o.pathname||"/",n);if(i==null)return null;let a=n8(t);JA(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let f=lS(i);s=cS(a[u],f,r)}return s}function n8(t,e=[],n=[],r="",o=!1){let i=(a,s,u=o,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;qt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=bi([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(qt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),n8(a.children,e,m,h,u)),!(a.path==null&&!a.index)&&e.push({path:h,score:aS(h,a.index),routesMeta:m})};return t.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))i(a,s);else for(let u of r8(a.path))i(a,s,!0,u)}),e}function r8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=r8(r.join("/")),s=[];return s.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&s.push(...a),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function JA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eS=/^:[\w-]+$/,tS=3,nS=2,rS=1,oS=10,iS=-2,S6=t=>t==="*";function aS(t,e){let n=t.split("/"),r=n.length;return n.some(S6)&&(r+=iS),e&&(r+=nS),n.filter(o=>!S6(o)).reduce((o,i)=>o+(eS.test(i)?tS:i===""?rS:oS),r)}function sS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function cS(t,e,n=!1){let{routesMeta:r}=t,o={},i="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Bd({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),m=u.route;if(!h&&f&&n&&!r[r.length-1].route.index&&(h=Bd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(o,h.params),a.push({params:o,pathname:bi([i,h.pathname]),pathnameBase:pS(bi([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=bi([i,h.pathnameBase]))}return a}function Bd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:h},m)=>{if(d==="*"){let b=s[m]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=s[m];return h&&!g?f[d]=void 0:f[d]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function uS(t,e=!1,n=!0){oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function lS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function dS(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ts(t):t,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=I6(n.substring(1),"/"):i=I6(n,e)):i=e,{pathname:i,search:mS(r),hash:gS(o)}}function I6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ug(t){let e=hS(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Hg(t,e,n,r=!1){let o;typeof t=="string"?o=ts(t):(o={...t},qt(!o.pathname||!o.pathname.includes("?"),ap("?","pathname","search",o)),qt(!o.pathname||!o.pathname.includes("#"),ap("#","pathname","hash",o)),qt(!o.search||!o.search.includes("#"),ap("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,s;if(a==null)s=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;o.pathname=m.join("/")}s=h>=0?e[h]:"/"}let u=dS(o,s),f=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),pS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,yS=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function bS(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var o8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function i8(t,e){let n=t;if(typeof n!="string"||!fS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(o8)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),s=Ei(a.pathname,e);a.origin===i.origin&&s!=null?n=s+a.search+a.hash:o=!0}catch{oo(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var a8=["POST","PUT","PATCH","DELETE"];new Set(a8);var xS=["GET",...a8];new Set(xS);var gc=S.createContext(null);gc.displayName="DataRouter";var m0=S.createContext(null);m0.displayName="DataRouterState";var wS=S.createContext(!1),s8=S.createContext({isTransitioning:!1});s8.displayName="ViewTransition";var ES=S.createContext(new Map);ES.displayName="Fetchers";var _S=S.createContext(null);_S.displayName="Await";var Hr=S.createContext(null);Hr.displayName="Navigation";var pl=S.createContext(null);pl.displayName="Location";var Qo=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qo.displayName="Route";var Vg=S.createContext(null);Vg.displayName="RouteError";var c8="REACT_ROUTER_ERROR",CS="REDIRECT",AS="ROUTE_ERROR_RESPONSE";function SS(t){if(t.startsWith(`${c8}:${CS}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function IS(t){if(t.startsWith(`${c8}:${AS}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new yS(e.status,e.statusText,e.data)}catch{}}function TS(t,{relative:e}={}){qt(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Hr),{hash:o,pathname:i,search:a}=ml(t,{relative:e}),s=i;return n!=="/"&&(s=i==="/"?n:bi([n,i])),r.createHref({pathname:s,search:a,hash:o})}function yc(){return S.useContext(pl)!=null}function Ni(){return qt(yc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(pl).location}var u8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l8(t){S.useContext(Hr).static||S.useLayoutEffect(t)}function vc(){let{isDataRoute:t}=S.useContext(Qo);return t?$S():NS()}function NS(){qt(yc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(gc),{basename:e,navigator:n}=S.useContext(Hr),{matches:r}=S.useContext(Qo),{pathname:o}=Ni(),i=JSON.stringify(Ug(r)),a=S.useRef(!1);return l8(()=>{a.current=!0}),S.useCallback((u,f={})=>{if(oo(a.current,u8),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Hg(u,JSON.parse(i),o,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bi([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,i,o,t])}S.createContext(null);function ml(t,{relative:e}={}){let{matches:n}=S.useContext(Qo),{pathname:r}=Ni(),o=JSON.stringify(Ug(n));return S.useMemo(()=>Hg(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function OS(t,e){return f8(t,e)}function f8(t,e,n,r,o){qt(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Hr),{matches:a}=S.useContext(Qo),s=a[a.length-1],u=s?s.params:{},f=s?s.pathname:"/",d=s?s.pathnameBase:"/",h=s&&s.route;{let A=h&&h.path||"";h8(f,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=Ni(),g;if(e){let A=typeof e=="string"?ts(e):e;qt(d==="/"||A.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=m;let b=g.pathname||"/",w=b;if(d!=="/"){let A=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=t8(t,{pathname:w});oo(h||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),oo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=MS(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:bi([d,i.encodeLocation?i.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:bi([d,i.encodeLocation?i.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,r,o);return e&&C?S.createElement(pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function PS(){let t=zS(),e=vS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,a)}var RS=S.createElement(PS,null),d8=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=IS(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Qo.Provider,{value:this.props.routeContext},S.createElement(Vg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(kS,{error:t},e):e}};d8.contextType=wS;var sp=new WeakMap;function kS({children:t,error:e}){let{basename:n}=S.useContext(Hr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=SS(e.digest);if(r){let o=sp.get(e);if(o)throw o;let i=i8(r.location,n);if(o8&&!sp.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw sp.set(e,a),a}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function DS({routeContext:t,match:e,children:n}){let r=S.useContext(gc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Qo.Provider,{value:t},n)}function MS(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let s=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let f=n&&r?(d,h)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:bS(n.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,m)=>{let g,b=!1,w=null,_=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||RS,s&&(u<0&&m===0?(h8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):u===m&&(b=!0,_=h.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),A=()=>{let I;return g?I=w:b?I=_:h.route.Component?I=S.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=d,S.createElement(DS,{match:h,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?S.createElement(d8,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):A()},null)}function Gg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(t){let e=S.useContext(gc);return qt(e,Gg(t)),e}function LS(t){let e=S.useContext(m0);return qt(e,Gg(t)),e}function FS(t){let e=S.useContext(Qo);return qt(e,Gg(t)),e}function Wg(t){let e=FS(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jS(){return Wg("useRouteId")}function zS(){let t=S.useContext(Vg),e=LS("useRouteError"),n=Wg("useRouteError");return t!==void 0?t:e.errors?.[n]}function $S(){let{router:t}=BS("useNavigate"),e=Wg("useNavigate"),n=S.useRef(!1);return l8(()=>{n.current=!0}),S.useCallback(async(o,i={})=>{oo(n.current,u8),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...i}))},[t,e])}var T6={};function h8(t,e,n){!e&&!T6[t]&&(T6[t]=!0,oo(!1,n))}S.memo(US);function US({routes:t,future:e,state:n,onError:r}){return f8(t,void 0,n,r,e)}function HS({to:t,replace:e,state:n,relative:r}){qt(yc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Hr);oo(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Qo),{pathname:a}=Ni(),s=vc(),u=Hg(t,Ug(i),a,r==="path"),f=JSON.stringify(u);return S.useEffect(()=>{s(JSON.parse(f),{replace:e,state:n,relative:r})},[s,f,r,e,n]),null}function _r(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VS({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:a}){qt(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:s,navigator:o,static:i,unstable_useTransitions:a,future:{}}),[s,o,i,a]);typeof n=="string"&&(n=ts(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:g="default"}=n,b=S.useMemo(()=>{let w=Ei(f,s);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:g},navigationType:r}},[s,f,d,h,m,g,r]);return oo(b!=null,`<Router basename="${s}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Hr.Provider,{value:u},S.createElement(pl.Provider,{children:e,value:b}))}function p8({children:t,location:e}){return OS(bm(t),e)}function bm(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let i=[...e,o];if(r.type===S.Fragment){n.push.apply(n,bm(r.props.children,i));return}qt(r.type===_r,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bm(r.props.children,i)),n.push(a)}),n}var yd="get",vd="application/x-www-form-urlencoded";function g0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function GS(t){return g0(t)&&t.tagName.toLowerCase()==="button"}function WS(t){return g0(t)&&t.tagName.toLowerCase()==="form"}function ZS(t){return g0(t)&&t.tagName.toLowerCase()==="input"}function XS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qS(t,e){return t.button===0&&(!e||e==="_self")&&!XS(t)}var Zf=null;function KS(){if(Zf===null)try{new FormData(document.createElement("form"),0),Zf=!1}catch{Zf=!0}return Zf}var YS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(t){return t!=null&&!YS.has(t)?(oo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):t}function QS(t,e){let n,r,o,i,a;if(WS(t)){let s=t.getAttribute("action");r=s?Ei(s,e):null,n=t.getAttribute("method")||yd,o=cp(t.getAttribute("enctype"))||vd,i=new FormData(t)}else if(GS(t)||ZS(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(r=u?Ei(u,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||yd,o=cp(t.getAttribute("formenctype"))||cp(s.getAttribute("enctype"))||vd,i=new FormData(s,t),!KS()){let{name:f,type:d,value:h}=t;if(d==="image"){let m=f?`${f}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else f&&i.append(f,h)}}else{if(g0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yd,r=null,o=vd,a=t}return i&&o==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JS(t,e,n,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ei(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function eI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nI(t,e,n){let r=await Promise.all(t.map(async o=>{let i=e.routes[o.route.id];if(i){let a=await eI(i,n);return a.links?a.links():[]}return[]}));return aI(r.flat(1).filter(tI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N6(t,e,n,r,o,i){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,s=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,f)=>a(u,f)||s(u,f)):i==="data"?e.filter((u,f)=>{let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,f)||s(u,f))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function rI(t,e,{includeHydrateFallback:n}={}){return oI(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function oI(t){return[...new Set(t)]}function iI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aI(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let i=JSON.stringify(iI(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function m8(){let t=S.useContext(gc);return Zg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sI(){let t=S.useContext(m0);return Zg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xg=S.createContext(void 0);Xg.displayName="FrameworkContext";function g8(){let t=S.useContext(Xg);return Zg(t,"You must render this element inside a <HydratedRouter> element"),t}function cI(t,e){let n=S.useContext(Xg),[r,o]=S.useState(!1),[i,a]=S.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:h}=e,m=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=C=>{C.forEach(A=>{a(A.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let g=()=>{o(!0)},b=()=>{o(!1),a(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:hu(s,g),onBlur:hu(u,b),onMouseEnter:hu(f,g),onMouseLeave:hu(d,b),onTouchStart:hu(h,g)}]:[!1,m,{}]}function hu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uI({page:t,...e}){let{router:n}=m8(),r=S.useMemo(()=>t8(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(fI,{page:t,matches:r,...e}):null}function lI(t){let{manifest:e,routeModules:n}=g8(),[r,o]=S.useState([]);return S.useEffect(()=>{let i=!1;return nI(t,e,n).then(a=>{i||o(a)}),()=>{i=!0}},[t,e,n]),r}function fI({page:t,matches:e,...n}){let r=Ni(),{future:o,manifest:i,routeModules:a}=g8(),{basename:s}=m8(),{loaderData:u,matches:f}=sI(),d=S.useMemo(()=>N6(t,e,f,i,r,"data"),[t,e,f,i,r]),h=S.useMemo(()=>N6(t,e,f,i,r,"assets"),[t,e,f,i,r]),m=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(A=>{let I=i.routes[A.route.id];!I||!I.hasLoader||(!d.some(T=>T.route.id===A.route.id)&&A.route.id in u&&a[A.route.id]?.shouldRevalidate||I.hasClientLoader?_=!0:w.add(A.route.id))}),w.size===0)return[];let C=JS(t,s,o.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&C.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[s,o.unstable_trailingSlashAwareDataRequests,u,r,i,d,e,t,a]),g=S.useMemo(()=>rI(h,i),[h,i]),b=lI(h);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:_})=>S.createElement("link",{key:w,nonce:n.nonce,..._,crossOrigin:_.crossOrigin??n.crossOrigin})))}function dI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hI&&(window.__reactRouterVersion="7.13.0")}catch{}function pI({basename:t,children:e,unstable_useTransitions:n,window:r}){let o=S.useRef();o.current==null&&(o.current=XA({window:r,v5Compat:!0}));let i=o.current,[a,s]=S.useState({action:i.action,location:i.location}),u=S.useCallback(f=>{n===!1?s(f):S.startTransition(()=>s(f))},[n]);return S.useLayoutEffect(()=>i.listen(u),[i,u]),S.createElement(VS,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var y8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:a,state:s,target:u,to:f,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:m,...g},b){let{basename:w,unstable_useTransitions:_}=S.useContext(Hr),C=typeof f=="string"&&y8.test(f),A=i8(f,w);f=A.to;let I=TS(f,{relative:o}),[T,O,P]=cI(r,g),k=yI(f,{replace:a,state:s,target:u,preventScrollReset:d,relative:o,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:_});function R(F){e&&e(F),F.defaultPrevented||k(F)}let z=S.createElement("a",{...g,...P,href:A.absoluteURL||I,onClick:A.isExternal||i?e:R,ref:dI(b,O),target:u,"data-discover":!C&&n==="render"?"true":void 0});return T&&!C?S.createElement(S.Fragment,null,z,S.createElement(uI,{page:I})):z});Gs.displayName="Link";var Ms=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:a,viewTransition:s,children:u,...f},d){let h=ml(a,{relative:f.relative}),m=Ni(),g=S.useContext(m0),{navigator:b,basename:w}=S.useContext(Hr),_=g!=null&&EI(h)&&s===!0,C=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,A=m.pathname,I=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(A=A.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&w&&(I=Ei(I,w)||I);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let O=A===C||!o&&A.startsWith(C)&&A.charAt(T)==="/",P=I!=null&&(I===C||!o&&I.startsWith(C)&&I.charAt(C.length)==="/"),k={isActive:O,isPending:P,isTransitioning:_},R=O?e:void 0,z;typeof r=="function"?z=r(k):z=[r,O?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(k):i;return S.createElement(Gs,{...f,"aria-current":R,className:z,ref:d,style:F,to:a,viewTransition:s},typeof u=="function"?u(k):u)});Ms.displayName="NavLink";var mI=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:i,method:a=yd,action:s,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:m,...g},b)=>{let{unstable_useTransitions:w}=S.useContext(Hr),_=xI(),C=wI(s,{relative:f}),A=a.toLowerCase()==="get"?"get":"post",I=typeof s=="string"&&y8.test(s),T=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,k=P?.getAttribute("formmethod")||a,R=()=>_(P||O.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:o,state:i,relative:f,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:m});w&&n!==!1?S.startTransition(()=>R()):R()};return S.createElement("form",{ref:b,method:A,action:C,onSubmit:r?u:T,...g,"data-discover":!I&&t==="render"?"true":void 0})});mI.displayName="Form";function gI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v8(t){let e=S.useContext(gc);return qt(e,gI(t)),e}function yI(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let f=vc(),d=Ni(),h=ml(t,{relative:i});return S.useCallback(m=>{if(qS(m,e)){m.preventDefault();let g=n!==void 0?n:Pu(d)===Pu(h),b=()=>f(t,{replace:g,state:r,preventScrollReset:o,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:s});u?S.startTransition(()=>b()):b()}},[d,f,h,n,r,e,t,o,i,a,s,u])}var vI=0,bI=()=>`__${String(++vI)}__`;function xI(){let{router:t}=v8("useSubmit"),{basename:e}=S.useContext(Hr),n=jS(),r=t.fetch,o=t.navigate;return S.useCallback(async(i,a={})=>{let{action:s,method:u,encType:f,formData:d,body:h}=QS(i,e);if(a.navigate===!1){let m=a.fetcherKey||bI();await r(m,n,a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await o(a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,o,e,n])}function wI(t,{relative:e}={}){let{basename:n}=S.useContext(Hr),r=S.useContext(Qo);qt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...ml(t||".",{relative:e})},a=Ni();if(t==null){i.search=a.search;let s=new URLSearchParams(i.search),u=s.getAll("index");if(u.some(d=>d==="")){s.delete("index"),u.filter(h=>h).forEach(h=>s.append("index",h));let d=s.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:bi([n,i.pathname])),Pu(i)}function EI(t,{relative:e}={}){let n=S.useContext(s8);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=v8("useViewTransitionState"),o=ml(t,{relative:e});if(!n.isTransitioning)return!1;let i=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bd(o.pathname,a)!=null||Bd(o.pathname,i)!=null}var un=e8();function b8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=b8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _I(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=b8(t))&&(r&&(r+=" "),r+=e);return r}const CI=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},AI=(t,e)=>({classGroupId:t,validator:e}),x8=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Ld="-",O6=[],SI="arbitrary..",II=t=>{const e=NI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return TI(a);const s=a.split(Ld),u=s[0]===""&&s.length>1?1:0;return w8(s,u,e)},getConflictingClassGroupIds:(a,s)=>{if(s){const u=r[a],f=n[a];return u?f?CI(f,u):u:f||O6}return n[a]||O6}}},w8=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],i=n.nextPart.get(o);if(i){const f=w8(t,e+1,i);if(f)return f}const a=n.validators;if(a===null)return;const s=e===0?t.join(Ld):t.slice(e).join(Ld),u=a.length;for(let f=0;f<u;f++){const d=a[f];if(d.validator(s))return d.classGroupId}},TI=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?SI+r:void 0})(),NI=t=>{const{theme:e,classGroups:n}=t;return OI(n,e)},OI=(t,e)=>{const n=x8();for(const r in t){const o=t[r];qg(o,n,r,e)}return n},qg=(t,e,n,r)=>{const o=t.length;for(let i=0;i<o;i++){const a=t[i];PI(a,e,n,r)}},PI=(t,e,n,r)=>{if(typeof t=="string"){RI(t,e,n);return}if(typeof t=="function"){kI(t,e,n,r);return}DI(t,e,n,r)},RI=(t,e,n)=>{const r=t===""?e:E8(e,t);r.classGroupId=n},kI=(t,e,n,r)=>{if(MI(t)){qg(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(AI(n,t))},DI=(t,e,n,r)=>{const o=Object.entries(t),i=o.length;for(let a=0;a<i;a++){const[s,u]=o[a];qg(u,E8(e,s),n,r)}},E8=(t,e)=>{let n=t;const r=e.split(Ld),o=r.length;for(let i=0;i<o;i++){const a=r[i];let s=n.nextPart.get(a);s||(s=x8(),n.nextPart.set(a,s)),n=s}return n},MI=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,BI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const o=(i,a)=>{n[i]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let a=n[i];if(a!==void 0)return a;if((a=r[i])!==void 0)return o(i,a),a},set(i,a){i in n?n[i]=a:o(i,a)}}},xm="!",P6=":",LI=[],R6=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),FI=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const i=[];let a=0,s=0,u=0,f;const d=o.length;for(let w=0;w<d;w++){const _=o[w];if(a===0&&s===0){if(_===P6){i.push(o.slice(u,w)),u=w+1;continue}if(_==="/"){f=w;continue}}_==="["?a++:_==="]"?a--:_==="("?s++:_===")"&&s--}const h=i.length===0?o:o.slice(u);let m=h,g=!1;h.endsWith(xm)?(m=h.slice(0,-1),g=!0):h.startsWith(xm)&&(m=h.slice(1),g=!0);const b=f&&f>u?f-u:void 0;return R6(i,g,m,b)};if(e){const o=e+P6,i=r;r=a=>a.startsWith(o)?i(a.slice(o.length)):R6(LI,!1,a,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},jI=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const a=n[i],s=a[0]==="[",u=e.has(a);s||u?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(a)):o.push(a)}return o.length>0&&(o.sort(),r.push(...o)),r}},zI=t=>({cache:BI(t.cacheSize),parseClassName:FI(t),sortModifiers:jI(t),...II(t)}),$I=/\s+/,UI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=e,a=[],s=t.trim().split($I);let u="";for(let f=s.length-1;f>=0;f-=1){const d=s[f],{isExternal:h,modifiers:m,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}=n(d);if(h){u=d+(u.length>0?" "+u:u);continue}let _=!!w,C=r(_?b.substring(0,w):b);if(!C){if(!_){u=d+(u.length>0?" "+u:u);continue}if(C=r(b),!C){u=d+(u.length>0?" "+u:u);continue}_=!1}const A=m.length===0?"":m.length===1?m[0]:i(m).join(":"),I=g?A+xm:A,T=I+C;if(a.indexOf(T)>-1)continue;a.push(T);const O=o(C,_);for(let P=0;P<O.length;++P){const k=O[P];a.push(I+k)}u=d+(u.length>0?" "+u:u)}return u},HI=(...t)=>{let e=0,n,r,o="";for(;e<t.length;)(n=t[e++])&&(r=_8(n))&&(o&&(o+=" "),o+=r);return o},_8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_8(t[r]))&&(n&&(n+=" "),n+=e);return n},VI=(t,...e)=>{let n,r,o,i;const a=u=>{const f=e.reduce((d,h)=>h(d),t());return n=zI(f),r=n.cache.get,o=n.cache.set,i=s,s(u)},s=u=>{const f=r(u);if(f)return f;const d=UI(u,n);return o(u,d),d};return i=a,(...u)=>i(HI(...u))},GI=[],_n=t=>{const e=n=>n[t]||GI;return e.isThemeGetter=!0,e},C8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,A8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WI=/^\d+\/\d+$/,ZI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=t=>WI.test(t),at=t=>!!t&&!Number.isNaN(Number(t)),Yi=t=>!!t&&Number.isInteger(Number(t)),up=t=>t.endsWith("%")&&at(t.slice(0,-1)),si=t=>ZI.test(t),QI=()=>!0,JI=t=>XI.test(t)&&!qI.test(t),S8=()=>!1,e7=t=>KI.test(t),t7=t=>YI.test(t),n7=t=>!Oe(t)&&!Pe(t),r7=t=>bc(t,N8,S8),Oe=t=>C8.test(t),ka=t=>bc(t,O8,JI),lp=t=>bc(t,c7,at),k6=t=>bc(t,I8,S8),o7=t=>bc(t,T8,t7),Xf=t=>bc(t,P8,e7),Pe=t=>A8.test(t),pu=t=>xc(t,O8),i7=t=>xc(t,u7),D6=t=>xc(t,I8),a7=t=>xc(t,N8),s7=t=>xc(t,T8),qf=t=>xc(t,P8,!0),bc=(t,e,n)=>{const r=C8.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},xc=(t,e,n=!1)=>{const r=A8.exec(t);return r?r[1]?e(r[1]):n:!1},I8=t=>t==="position"||t==="percentage",T8=t=>t==="image"||t==="url",N8=t=>t==="length"||t==="size"||t==="bg-size",O8=t=>t==="length",c7=t=>t==="number",u7=t=>t==="family-name",P8=t=>t==="shadow",l7=()=>{const t=_n("color"),e=_n("font"),n=_n("text"),r=_n("font-weight"),o=_n("tracking"),i=_n("leading"),a=_n("breakpoint"),s=_n("container"),u=_n("spacing"),f=_n("radius"),d=_n("shadow"),h=_n("inset-shadow"),m=_n("text-shadow"),g=_n("drop-shadow"),b=_n("blur"),w=_n("perspective"),_=_n("aspect"),C=_n("ease"),A=_n("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...T(),Pe,Oe],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],R=()=>[Pe,Oe,u],z=()=>[Ns,"full","auto",...R()],F=()=>[Yi,"none","subgrid",Pe,Oe],U=()=>["auto",{span:["full",Yi,Pe,Oe]},Yi,Pe,Oe],H=()=>[Yi,"auto",Pe,Oe],Y=()=>["auto","min","max","fr",Pe,Oe],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...R()],re=()=>[Ns,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],L=()=>[t,Pe,Oe],K=()=>[...T(),D6,k6,{position:[Pe,Oe]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",a7,r7,{size:[Pe,Oe]}],V=()=>[up,pu,ka],se=()=>["","none","full",f,Pe,Oe],de=()=>["",at,pu,ka],xe=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[at,up,D6,k6],Te=()=>["","none",b,Pe,Oe],De=()=>["none",at,Pe,Oe],_e=()=>["none",at,Pe,Oe],It=()=>[at,Pe,Oe],rt=()=>[Ns,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[si],breakpoint:[si],color:[QI],container:[si],"drop-shadow":[si],ease:["in","out","in-out"],font:[n7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[si],shadow:[si],spacing:["px",at],text:[si],"text-shadow":[si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ns,Oe,Pe,_]}],container:["container"],columns:[{columns:[at,Oe,Pe,s]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Yi,"auto",Pe,Oe]}],basis:[{basis:[Ns,"full","auto",s,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[at,Ns,"auto","initial","none",Oe]}],grow:[{grow:["",at,Pe,Oe]}],shrink:[{shrink:["",at,Pe,Oe]}],order:[{order:[Yi,"first","last","none",Pe,Oe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[s,"screen",...re()]}],"min-w":[{"min-w":[s,"screen","none",...re()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,pu,ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pe,lp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",up,Oe]}],"font-family":[{font:[i7,Oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Pe,Oe]}],"line-clamp":[{"line-clamp":[at,"none",Pe,lp]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",Pe,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[at,"from-font","auto",Pe,ka]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[at,"auto",Pe,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yi,Pe,Oe],radial:["",Pe,Oe],conic:[Yi,Pe,Oe]},s7,o7]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[at,Pe,Oe]}],"outline-w":[{outline:["",at,pu,ka]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,qf,Xf]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",h,qf,Xf]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[at,ka]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,qf,Xf]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[at,Pe,Oe]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[at]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Pe,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[at]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Oe]}],filter:[{filter:["","none",Pe,Oe]}],blur:[{blur:Te()}],brightness:[{brightness:[at,Pe,Oe]}],contrast:[{contrast:[at,Pe,Oe]}],"drop-shadow":[{"drop-shadow":["","none",g,qf,Xf]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",at,Pe,Oe]}],"hue-rotate":[{"hue-rotate":[at,Pe,Oe]}],invert:[{invert:["",at,Pe,Oe]}],saturate:[{saturate:[at,Pe,Oe]}],sepia:[{sepia:["",at,Pe,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Oe]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[at,Pe,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[at,Pe,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",at,Pe,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at,Pe,Oe]}],"backdrop-invert":[{"backdrop-invert":["",at,Pe,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[at,Pe,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[at,Pe,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",at,Pe,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[at,"initial",Pe,Oe]}],ease:[{ease:["linear","initial",C,Pe,Oe]}],delay:[{delay:[at,Pe,Oe]}],animate:[{animate:["none",A,Pe,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Pe,Oe]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:It()}],"skew-x":[{"skew-x":It()}],"skew-y":[{"skew-y":It()}],transform:[{transform:[Pe,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:rt()}],"translate-x":[{"translate-x":rt()}],"translate-y":[{"translate-y":rt()}],"translate-z":[{"translate-z":rt()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Oe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[at,pu,ka,lp]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},f7=VI(l7);function gl(...t){return f7(_I(t))}const ns=S.forwardRef(({className:t,variant:e="default",size:n="md",...r},o)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none",a={default:"bg-neutral-900 text-white hover:bg-neutral-800",outline:"border border-neutral-300 hover:bg-neutral-100",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-200",ghost:"hover:bg-neutral-100"},s={sm:"h-8 px-3",md:"h-9 px-4",lg:"h-10 px-5",icon:"h-9 w-9 p-0"};return y.jsx("button",{ref:o,className:gl(i,a[e],s[n],t),...r})});ns.displayName="Button";function y0(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function d7(t,e){let n;const r=()=>{if(n)return n;const o=indexedDB.open(t);return o.onupgradeneeded=()=>o.result.createObjectStore(e),n=y0(o),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(o,i)=>r().then(a=>i(a.transaction(e,o).objectStore(e)))}let fp;function Kg(){return fp||(fp=d7("keyval-store","keyval")),fp}function Pt(t,e=Kg()){return e("readonly",n=>y0(n.get(t)))}function vn(t,e,n=Kg()){return n("readwrite",r=>(r.put(e,t),y0(r.transaction)))}function mu(t,e=Kg()){return e("readwrite",n=>(n.delete(t),y0(n.transaction)))}const Yg="cointrol:address:v1",R8="cointrol:address:schemaVersion",bd=1,wm=new Set;function h7(t){for(const e of wm)e(t)}function p7(t){return wm.add(t),()=>{wm.delete(t)}}async function m7(){const t=await Pt(R8);return t||bd}async function g7(t){await vn(R8,t)}async function y7(){const t=await m7();t!==bd&&(await Pt(Yg),t<bd&&await g7(bd))}async function v0(){return await y7(),await Pt(Yg)??[]}async function b0(t){await vn(Yg,t),h7(t)}async function v7(){return v0()}async function Qg(t){const e=Date.now(),n=await v0(),r={id:t.id,name:t.name,group:t.group||void 0,isContact:t.isContact,isVisible:t.isVisible,indexOrder:t.indexOrder,createdAt:e,updatedAt:e},o=[...n,r];return await b0(o),o}async function Jg(t,e){const n=await v0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await b0(o),o}async function ey(t){const n=(await v0()).filter(r=>r.id!==t);return await b0(n),n}async function b7(){await b0([])}function ty(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await v7();a||(e(u),r(!1))}catch(u){console.error("[address] Failed to load:",u),a||(i(u?.message??"Failed to load addresses"),r(!1))}})();const s=p7(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{address:t,loading:n,error:o,addAddress:Qg,updateAddress:Jg,deleteAddress:ey,clearAddress:b7}}function k8(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="createdAsc"?n.sort((r,o)=>r.createdAt-o.createdAt):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="custom"&&n.sort((r,o)=>r.indexOrder-o.indexOrder),n}function D8(t={}){const{address:e,loading:n,error:r,addAddress:o,updateAddress:i,deleteAddress:a,clearAddress:s}=ty(),{query:u="",sortMode:f="createdAsc",tags:d=[],tagMode:h="any"}=t;return{address:S.useMemo(()=>{let g=e;if(u.trim()){const b=u.trim().toLowerCase();g=g.filter(w=>w.name.toLowerCase().includes(b))}return d&&d.length>0&&(h=="any"?g=g.filter(b=>b.group?.some(w=>d.includes(w))):g=g.filter(b=>d.every(w=>b.group?.includes(w)))),k8(g,f)},[e,u,f,d,h]),loading:n,error:r,addAddress:o,updateAddress:i,deleteAddress:a,clearAddress:s}}function x7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(o=>o(r))},e)}const x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function ny(t){return"nodeType"in t}function Tr(t){var e,n;return t?wc(t)?t:ny(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function ry(t){const{Document:e}=Tr(t);return t instanceof e}function yl(t){return wc(t)?!1:t instanceof Tr(t).HTMLElement}function M8(t){return t instanceof Tr(t).SVGElement}function Ec(t){return t?wc(t)?t.document:ny(t)?ry(t)?t:yl(t)||M8(t)?t.ownerDocument:document:document:document}const Go=x0?S.useLayoutEffect:S.useEffect;function oy(t){const e=S.useRef(t);return Go(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function w7(){const t=S.useRef(null),e=S.useCallback((r,o)=>{t.current=setInterval(r,o)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ru(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Go(()=>{n.current!==t&&(n.current=t)},e),n}function vl(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Fd(t){const e=oy(t),n=S.useRef(null),r=S.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,r]}function Em(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let dp={};function bl(t,e){return S.useMemo(()=>{if(e)return e;const n=dp[t]==null?0:dp[t]+1;return dp[t]=n,t+"-"+n},[t,e])}function B8(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,a)=>{const s=Object.entries(a);for(const[u,f]of s){const d=i[u];d!=null&&(i[u]=d+t*f)}return i},{...e})}}const Ws=B8(1),jd=B8(-1);function E7(t){return"clientX"in t&&"clientY"in t}function iy(t){if(!t)return!1;const{KeyboardEvent:e}=Tr(t.target);return e&&t instanceof e}function _7(t){if(!t)return!1;const{TouchEvent:e}=Tr(t.target);return e&&t instanceof e}function _m(t){if(_7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return E7(t)?{x:t.clientX,y:t.clientY}:null}const ku=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ku.Translate.toString(t),ku.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),M6="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function C7(t){return t.matches(M6)?t:t.querySelector(M6)}const A7={display:"none"};function S7(t){let{id:e,value:n}=t;return Xe.createElement("div",{id:e,style:A7},n)}function I7(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xe.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function T7(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const L8=S.createContext(null);function N7(t){const e=S.useContext(L8);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function O7(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:o,event:i}=r;t.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[t]),e]}const P7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},R7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function k7(t){let{announcements:e=R7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=P7}=t;const{announce:i,announcement:a}=T7(),s=bl("DndLiveRegion"),[u,f]=S.useState(!1);if(S.useEffect(()=>{f(!0)},[]),N7(S.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&i(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;i(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;i(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;i(e.onDragCancel({active:m,over:g}))}}),[i,e])),!u)return null;const d=Xe.createElement(Xe.Fragment,null,Xe.createElement(S7,{id:r,value:o.draggable}),Xe.createElement(I7,{id:s,announcement:a}));return n?un.createPortal(d,n):d}var In;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(In||(In={}));function zd(){}function D7(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function M7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const _o=Object.freeze({x:0,y:0});function B7(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function L7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function F7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function j7(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function B6(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const z7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=B6(e,e.left,e.top),i=[];for(const a of r){const{id:s}=a,u=n.get(s);if(u){const f=B7(B6(u),o);i.push({id:s,data:{droppableContainer:a,value:f}})}}return i.sort(L7)};function $7(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),a=o-r,s=i-n;if(r<o&&n<i){const u=e.width*e.height,f=t.width*t.height,d=a*s,h=d/(u+f-d);return Number(h.toFixed(4))}return 0}const U7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=[];for(const i of r){const{id:a}=i,s=n.get(a);if(s){const u=$7(s,e);u>0&&o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(F7)};function H7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function F8(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:_o}function V7(t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+t*s.y,bottom:a.bottom+t*s.y,left:a.left+t*s.x,right:a.right+t*s.x}),{...n})}}const G7=V7(1);function W7(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Z7(t,e,n){const r=W7(e);if(!r)return t;const{scaleX:o,scaleY:i,x:a,y:s}=r,u=t.left-a-(1-o)*parseFloat(n),f=t.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?t.width/o:t.width,h=i?t.height/i:t.height;return{width:d,height:h,top:f,right:u+d,bottom:f+h,left:u}}const X7={ignoreTransform:!1};function _c(t,e){e===void 0&&(e=X7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:d}=Tr(t).getComputedStyle(t);f&&(n=Z7(n,f,d))}const{top:r,left:o,width:i,height:a,bottom:s,right:u}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:u}}function L6(t){return _c(t,{ignoreTransform:!0})}function q7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function K7(t,e){return e===void 0&&(e=Tr(t).getComputedStyle(t)),e.position==="fixed"}function Y7(t,e){e===void 0&&(e=Tr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=e[o];return typeof i=="string"?n.test(i):!1})}function ay(t,e){const n=[];function r(o){if(e!=null&&n.length>=e||!o)return n;if(ry(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!yl(o)||M8(o)||n.includes(o))return n;const i=Tr(t).getComputedStyle(o);return o!==t&&Y7(o,i)&&n.push(o),K7(o,i)?n:r(o.parentNode)}return t?r(t):n}function j8(t){const[e]=ay(t,1);return e??null}function hp(t){return!x0||!t?null:wc(t)?t:ny(t)?ry(t)||t===Ec(t).scrollingElement?window:yl(t)?t:null:null}function z8(t){return wc(t)?t.scrollX:t.scrollLeft}function $8(t){return wc(t)?t.scrollY:t.scrollTop}function Cm(t){return{x:z8(t),y:$8(t)}}var $n;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})($n||($n={}));function U8(t){return!x0||!t?!1:t===document.scrollingElement}function H8(t){const e={x:0,y:0},n=U8(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,s=t.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:r,minScroll:e}}const Q7={x:.2,y:.2};function J7(t,e,n,r,o){let{top:i,left:a,right:s,bottom:u}=n;r===void 0&&(r=10),o===void 0&&(o=Q7);const{isTop:f,isBottom:d,isLeft:h,isRight:m}=H8(t),g={x:0,y:0},b={x:0,y:0},w={height:e.height*o.y,width:e.width*o.x};return!f&&i<=e.top+w.height?(g.y=$n.Backward,b.y=r*Math.abs((e.top+w.height-i)/w.height)):!d&&u>=e.bottom-w.height&&(g.y=$n.Forward,b.y=r*Math.abs((e.bottom-w.height-u)/w.height)),!m&&s>=e.right-w.width?(g.x=$n.Forward,b.x=r*Math.abs((e.right-w.width-s)/w.width)):!h&&a<=e.left+w.width&&(g.x=$n.Backward,b.x=r*Math.abs((e.left+w.width-a)/w.width)),{direction:g,speed:b}}function eT(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:e,left:n,right:r,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:o,width:t.clientWidth,height:t.clientHeight}}function V8(t){return t.reduce((e,n)=>Ws(e,Cm(n)),_o)}function tT(t){return t.reduce((e,n)=>e+z8(n),0)}function nT(t){return t.reduce((e,n)=>e+$8(n),0)}function rT(t,e){if(e===void 0&&(e=_c),!t)return;const{top:n,left:r,bottom:o,right:i}=e(t);j8(t)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const oT=[["x",["left","right"],tT],["y",["top","bottom"],nT]];class sy{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ay(n),o=V8(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,a,s]of oT)for(const u of a)Object.defineProperty(this,u,{get:()=>{const f=s(r),d=o[i]-f;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Au{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var o;(o=this.target)==null||o.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function iT(t){const{EventTarget:e}=Tr(t);return t instanceof e?t:Ec(t)}function pp(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var to;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(to||(to={}));function F6(t){t.preventDefault()}function aT(t){t.stopPropagation()}var St;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(St||(St={}));const G8={start:[St.Space,St.Enter],cancel:[St.Esc],end:[St.Space,St.Enter,St.Tab]},sT=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case St.Right:return{...n,x:n.x+25};case St.Left:return{...n,x:n.x-25};case St.Down:return{...n,y:n.y+25};case St.Up:return{...n,y:n.y-25}}};class W8{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Au(Ec(n)),this.windowListeners=new Au(Tr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(to.Resize,this.handleCancel),this.windowListeners.add(to.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(to.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&rT(r),n(_o)}handleKeyDown(e){if(iy(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=G8,coordinateGetter:a=sT,scrollBehavior:s="smooth"}=o,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:f}=r.current,d=f?{x:f.left,y:f.top}:_o;this.referenceCoordinates||(this.referenceCoordinates=d);const h=a(e,{active:n,context:r.current,currentCoordinates:d});if(h){const m=jd(h,d),g={x:0,y:0},{scrollableAncestors:b}=r.current;for(const w of b){const _=e.code,{isTop:C,isRight:A,isLeft:I,isBottom:T,maxScroll:O,minScroll:P}=H8(w),k=eT(w),R={x:Math.min(_===St.Right?k.right-k.width/2:k.right,Math.max(_===St.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(_===St.Down?k.bottom-k.height/2:k.bottom,Math.max(_===St.Down?k.top:k.top+k.height/2,h.y))},z=_===St.Right&&!A||_===St.Left&&!I,F=_===St.Down&&!T||_===St.Up&&!C;if(z&&R.x!==h.x){const U=w.scrollLeft+m.x,H=_===St.Right&&U<=O.x||_===St.Left&&U>=P.x;if(H&&!m.y){w.scrollTo({left:U,behavior:s});return}H?g.x=w.scrollLeft-U:g.x=_===St.Right?w.scrollLeft-O.x:w.scrollLeft-P.x,g.x&&w.scrollBy({left:-g.x,behavior:s});break}else if(F&&R.y!==h.y){const U=w.scrollTop+m.y,H=_===St.Down&&U<=O.y||_===St.Up&&U>=P.y;if(H&&!m.x){w.scrollTo({top:U,behavior:s});return}H?g.y=w.scrollTop-U:g.y=_===St.Down?w.scrollTop-O.y:w.scrollTop-P.y,g.y&&w.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(e,Ws(jd(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}W8.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=G8,onActivation:o}=e,{active:i}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const s=i.activatorNode.current;return s&&t.target!==s?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function j6(t){return!!(t&&"distance"in t)}function z6(t){return!!(t&&"delay"in t)}class cy{constructor(e,n,r){var o;r===void 0&&(r=iT(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:a}=i;this.props=e,this.events=n,this.document=Ec(a),this.documentListeners=new Au(this.document),this.listeners=new Au(r),this.windowListeners=new Au(Tr(a)),this.initialCoordinates=(o=_m(i))!=null?o:_o,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(to.Resize,this.handleCancel),this.windowListeners.add(to.DragStart,F6),this.windowListeners.add(to.VisibilityChange,this.handleCancel),this.windowListeners.add(to.ContextMenu,F6),this.documentListeners.add(to.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(z6(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(j6(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:o}=this.props;o(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(to.Click,aT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(to.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;const u=(n=_m(e))!=null?n:_o,f=jd(o,u);if(!r&&s){if(j6(s)){if(s.tolerance!=null&&pp(f,s.tolerance))return this.handleCancel();if(pp(f,s.distance))return this.handleStart()}if(z6(s)&&pp(f,s.tolerance))return this.handleCancel();this.handlePending(s,f);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===St.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const cT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class uy extends cy{constructor(e){const{event:n}=e,r=Ec(n.target);super(e,cT,r)}}uy.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const uT={move:{name:"mousemove"},end:{name:"mouseup"}};var Am;(function(t){t[t.RightClick=2]="RightClick"})(Am||(Am={}));class lT extends cy{constructor(e){super(e,uT,Ec(e.event.target))}}lT.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Am.RightClick?!1:(r?.({event:n}),!0)}}];const mp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fT extends cy{constructor(e){super(e,mp)}static setup(){return window.addEventListener(mp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(mp.move.name,e)};function e(){}}}fT.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var Su;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Su||(Su={}));var $d;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})($d||($d={}));function dT(t){let{acceleration:e,activator:n=Su.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:a=5,order:s=$d.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:d,delta:h,threshold:m}=t;const g=pT({delta:h,disabled:!i}),[b,w]=w7(),_=S.useRef({x:0,y:0}),C=S.useRef({x:0,y:0}),A=S.useMemo(()=>{switch(n){case Su.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Su.DraggableRect:return o}},[n,o,u]),I=S.useRef(null),T=S.useCallback(()=>{const P=I.current;if(!P)return;const k=_.current.x*C.current.x,R=_.current.y*C.current.y;P.scrollBy(k,R)},[]),O=S.useMemo(()=>s===$d.TreeOrder?[...f].reverse():f,[s,f]);S.useEffect(()=>{if(!i||!f.length||!A){w();return}for(const P of O){if(r?.(P)===!1)continue;const k=f.indexOf(P),R=d[k];if(!R)continue;const{direction:z,speed:F}=J7(P,R,A,e,m);for(const U of["x","y"])g[U][z[U]]||(F[U]=0,z[U]=0);if(F.x>0||F.y>0){w(),I.current=P,b(T,a),_.current=F,C.current=z;return}}_.current={x:0,y:0},C.current={x:0,y:0},w()},[e,T,r,w,i,a,JSON.stringify(A),JSON.stringify(g),b,f,O,d,JSON.stringify(m)])}const hT={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function pT(t){let{delta:e,disabled:n}=t;const r=Em(e);return vl(o=>{if(n||!r||!o)return hT;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[$n.Backward]:o.x[$n.Backward]||i.x===-1,[$n.Forward]:o.x[$n.Forward]||i.x===1},y:{[$n.Backward]:o.y[$n.Backward]||i.y===-1,[$n.Forward]:o.y[$n.Forward]||i.y===1}}},[n,e,r])}function mT(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return vl(o=>{var i;return e==null?null:(i=r??o)!=null?i:null},[r,e])}function gT(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...i]},[]),[t,e])}var Du;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Du||(Du={}));var Sm;(function(t){t.Optimized="optimized"})(Sm||(Sm={}));const $6=new Map;function yT(t,e){let{dragging:n,dependencies:r,config:o}=e;const[i,a]=S.useState(null),{frequency:s,measure:u,strategy:f}=o,d=S.useRef(t),h=_(),m=Ru(h),g=S.useCallback(function(C){C===void 0&&(C=[]),!m.current&&a(A=>A===null?C:A.concat(C.filter(I=>!A.includes(I))))},[m]),b=S.useRef(null),w=vl(C=>{if(h&&!n)return $6;if(!C||C===$6||d.current!==t||i!=null){const A=new Map;for(let I of t){if(!I)continue;if(i&&i.length>0&&!i.includes(I.id)&&I.rect.current){A.set(I.id,I.rect.current);continue}const T=I.node.current,O=T?new sy(u(T),T):null;I.rect.current=O,O&&A.set(I.id,O)}return A}return C},[t,i,n,h,u]);return S.useEffect(()=>{d.current=t},[t]),S.useEffect(()=>{h||g()},[n,h]),S.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),S.useEffect(()=>{h||typeof s!="number"||b.current!==null||(b.current=setTimeout(()=>{g(),b.current=null},s))},[s,h,g,...r]),{droppableRects:w,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(f){case Du.Always:return!1;case Du.BeforeDragging:return n;default:return!n}}}function Z8(t,e){return vl(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function vT(t,e){return Z8(t,e)}function bT(t){let{callback:e,disabled:n}=t;const r=oy(e),o=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function w0(t){let{callback:e,disabled:n}=t;const r=oy(e),o=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function xT(t){return new sy(_c(t),t)}function U6(t,e,n){e===void 0&&(e=xT);const[r,o]=S.useState(null);function i(){o(u=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=u??n)!=null?f:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const a=bT({callback(u){if(t)for(const f of u){const{type:d,target:h}=f;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),s=w0({callback:i});return Go(()=>{i(),t?(s?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),a?.disconnect())},[t]),r}function wT(t){const e=Z8(t);return F8(t,e)}const H6=[];function ET(t){const e=S.useRef(t),n=vl(r=>t?r&&r!==H6&&t&&e.current&&t.parentNode===e.current.parentNode?r:ay(t):H6,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function _T(t){const[e,n]=S.useState(null),r=S.useRef(t),o=S.useCallback(i=>{const a=hp(i.target);a&&n(s=>s?(s.set(a,Cm(a)),new Map(s)):null)},[]);return S.useEffect(()=>{const i=r.current;if(t!==i){a(i);const s=t.map(u=>{const f=hp(u);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,Cm(f)]):null}).filter(u=>u!=null);n(s.length?new Map(s):null),r.current=t}return()=>{a(t),a(i)};function a(s){s.forEach(u=>{const f=hp(u);f?.removeEventListener("scroll",o)})}},[o,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,a)=>Ws(i,a),_o):V8(t):_o,[t,e])}function V6(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==_o;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?jd(t,n.current):_o}function CT(t){S.useEffect(()=>{if(!x0)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function AT(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=a=>{i(a,e)},n},{}),[t,e])}function X8(t){return S.useMemo(()=>t?q7(t):null,[t])}const G6=[];function ST(t,e){e===void 0&&(e=_c);const[n]=t,r=X8(n?Tr(n):null),[o,i]=S.useState(G6);function a(){i(()=>t.length?t.map(u=>U8(u)?r:new sy(e(u),u)):G6)}const s=w0({callback:a});return Go(()=>{s?.disconnect(),a(),t.forEach(u=>s?.observe(u))},[t]),o}function IT(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return yl(e)?e:t}function TT(t){let{measure:e}=t;const[n,r]=S.useState(null),o=S.useCallback(f=>{for(const{target:d}of f)if(yl(d)){r(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=w0({callback:o}),a=S.useCallback(f=>{const d=IT(f);i?.disconnect(),d&&i?.observe(d),r(d?e(d):null)},[e,i]),[s,u]=Fd(a);return S.useMemo(()=>({nodeRef:s,rect:n,setRef:u}),[n,s,u])}const NT=[{sensor:uy,options:{}},{sensor:W8,options:{}}],OT={current:{}},xd={draggable:{measure:L6},droppable:{measure:L6,strategy:Du.WhileDragging,frequency:Sm.Optimized},dragOverlay:{measure:_c}};class Iu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const PT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Iu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xd,measureDroppableContainers:zd,windowRect:null,measuringScheduled:!1},RT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:zd,draggableNodes:new Map,over:null,measureDroppableContainers:zd},E0=S.createContext(RT),q8=S.createContext(PT);function kT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Iu}}}function DT(t,e){switch(e.type){case In.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case In.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case In.DragEnd:case In.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case In.RegisterDroppable:{const{element:n}=e,{id:r}=n,o=new Iu(t.droppable.containers);return o.set(r,n),{...t,droppable:{...t.droppable,containers:o}}}case In.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new Iu(t.droppable.containers);return a.set(n,{...i,disabled:o}),{...t,droppable:{...t.droppable,containers:a}}}case In.UnregisterDroppable:{const{id:n,key:r}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const i=new Iu(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function MT(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=S.useContext(E0),i=Em(r),a=Em(n?.id);return S.useEffect(()=>{if(!e&&!r&&i&&a!=null){if(!iy(i)||document.activeElement===i.target)return;const s=o.get(a);if(!s)return;const{activatorNode:u,node:f}=s;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const d of[u.current,f.current]){if(!d)continue;const h=C7(d);if(h){h.focus();break}}})}},[r,e,o,a,i]),null}function BT(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((o,i)=>i({transform:o,...r}),n):n}function LT(t){return S.useMemo(()=>({draggable:{...xd.draggable,...t?.draggable},droppable:{...xd.droppable,...t?.droppable},dragOverlay:{...xd.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function FT(t){let{activeNode:e,measure:n,initialRect:r,config:o=!0}=t;const i=S.useRef(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;Go(()=>{if(!a&&!s||!e){i.current=!1;return}if(i.current||!r)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const d=n(f),h=F8(d,r);if(a||(h.x=0),s||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=j8(f);m&&m.scrollBy({top:h.y,left:h.x})}},[e,a,s,r,n])}const K8=S.createContext({..._o,scaleX:1,scaleY:1});var ia;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ia||(ia={}));const jT=S.memo(function(e){var n,r,o,i;let{id:a,accessibility:s,autoScroll:u=!0,children:f,sensors:d=NT,collisionDetection:h=U7,measuring:m,modifiers:g,...b}=e;const w=S.useReducer(DT,void 0,kT),[_,C]=w,[A,I]=O7(),[T,O]=S.useState(ia.Uninitialized),P=T===ia.Initialized,{draggable:{active:k,nodes:R,translate:z},droppable:{containers:F}}=_,U=k!=null?R.get(k):null,H=S.useRef({initial:null,translated:null}),Y=S.useMemo(()=>{var Ke;return k!=null?{id:k,data:(Ke=U?.data)!=null?Ke:OT,rect:H}:null},[k,U]),ae=S.useRef(null),[X,q]=S.useState(null),[re,L]=S.useState(null),K=Ru(b,Object.values(b)),ee=bl("DndDescribedBy",a),M=S.useMemo(()=>F.getEnabled(),[F]),V=LT(m),{droppableRects:se,measureDroppableContainers:de,measuringScheduled:xe}=yT(M,{dragging:P,dependencies:[z.x,z.y],config:V.droppable}),we=mT(R,k),Ee=S.useMemo(()=>re?_m(re):null,[re]),Te=Kn(),De=vT(we,V.draggable.measure);FT({activeNode:k!=null?R.get(k):null,config:Te.layoutShiftCompensation,initialRect:De,measure:V.draggable.measure});const _e=U6(we,V.draggable.measure,De),It=U6(we?we.parentElement:null),rt=S.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ht=F.getNodeFor((n=rt.current.over)==null?void 0:n.id),Tt=TT({measure:V.dragOverlay.measure}),ct=(r=Tt.nodeRef.current)!=null?r:we,ce=P?(o=Tt.rect)!=null?o:_e:null,te=!!(Tt.nodeRef.current&&Tt.rect),be=wT(te?null:_e),ze=X8(ct?Tr(ct):null),qe=ET(P?ht??we:null),We=ST(qe),mt=BT(g,{transform:{x:z.x-be.x,y:z.y-be.y,scaleX:1,scaleY:1},activatorEvent:re,active:Y,activeNodeRect:_e,containerNodeRect:It,draggingNodeRect:ce,over:rt.current.over,overlayNodeRect:Tt.rect,scrollableAncestors:qe,scrollableAncestorRects:We,windowRect:ze}),vt=Ee?Ws(Ee,z):null,bt=_T(qe),on=V6(bt),an=V6(bt,[_e]),ge=Ws(mt,on),Be=ce?G7(ce,mt):null,tt=Y&&Be?h({active:Y,collisionRect:Be,droppableRects:se,droppableContainers:M,pointerCoordinates:vt}):null,ne=j7(tt,"id"),[ye,Se]=S.useState(null),Ze=te?mt:Ws(mt,an),ot=H7(Ze,(i=ye?.rect)!=null?i:null,_e),Je=S.useRef(null),dt=S.useCallback((Ke,Nt)=>{let{sensor:it,options:et}=Nt;if(ae.current==null)return;const xt=R.get(ae.current);if(!xt)return;const nt=Ke.nativeEvent,sn=new it({active:ae.current,activeNode:xt,event:nt,options:et,context:rt,onAbort(Ft){if(!R.get(Ft))return;const{onDragAbort:Rn}=K.current,kr={id:Ft};Rn?.(kr),A({type:"onDragAbort",event:kr})},onPending(Ft,pr,Rn,kr){if(!R.get(Ft))return;const{onDragPending:Q}=K.current,pe={id:Ft,constraint:pr,initialCoordinates:Rn,offset:kr};Q?.(pe),A({type:"onDragPending",event:pe})},onStart(Ft){const pr=ae.current;if(pr==null)return;const Rn=R.get(pr);if(!Rn)return;const{onDragStart:kr}=K.current,Dr={activatorEvent:nt,active:{id:pr,data:Rn.data,rect:H}};un.unstable_batchedUpdates(()=>{kr?.(Dr),O(ia.Initializing),C({type:In.DragStart,initialCoordinates:Ft,active:pr}),A({type:"onDragStart",event:Dr}),q(Je.current),L(nt)})},onMove(Ft){C({type:In.DragMove,coordinates:Ft})},onEnd:Hn(In.DragEnd),onCancel:Hn(In.DragCancel)});Je.current=sn;function Hn(Ft){return async function(){const{active:Rn,collisions:kr,over:Dr,scrollAdjustedTranslate:Q}=rt.current;let pe=null;if(Rn&&Q){const{cancelDrop:Ce}=K.current;pe={activatorEvent:nt,active:Rn,collisions:kr,delta:Q,over:Dr},Ft===In.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(pe))&&(Ft=In.DragCancel)}ae.current=null,un.unstable_batchedUpdates(()=>{C({type:Ft}),O(ia.Uninitialized),Se(null),q(null),L(null),Je.current=null;const Ce=Ft===In.DragEnd?"onDragEnd":"onDragCancel";if(pe){const Le=K.current[Ce];Le?.(pe),A({type:Ce,event:pe})}})}}},[R]),bn=S.useCallback((Ke,Nt)=>(it,et)=>{const xt=it.nativeEvent,nt=R.get(et);if(ae.current!==null||!nt||xt.dndKit||xt.defaultPrevented)return;const sn={active:nt};Ke(it,Nt.options,sn)===!0&&(xt.dndKit={capturedBy:Nt.sensor},ae.current=et,dt(it,Nt))},[R,dt]),rr=gT(d,bn);CT(d),Go(()=>{_e&&T===ia.Initializing&&O(ia.Initialized)},[_e,T]),S.useEffect(()=>{const{onDragMove:Ke}=K.current,{active:Nt,activatorEvent:it,collisions:et,over:xt}=rt.current;if(!Nt||!it)return;const nt={active:Nt,activatorEvent:it,collisions:et,delta:{x:ge.x,y:ge.y},over:xt};un.unstable_batchedUpdates(()=>{Ke?.(nt),A({type:"onDragMove",event:nt})})},[ge.x,ge.y]),S.useEffect(()=>{const{active:Ke,activatorEvent:Nt,collisions:it,droppableContainers:et,scrollAdjustedTranslate:xt}=rt.current;if(!Ke||ae.current==null||!Nt||!xt)return;const{onDragOver:nt}=K.current,sn=et.get(ne),Hn=sn&&sn.rect.current?{id:sn.id,rect:sn.rect.current,data:sn.data,disabled:sn.disabled}:null,Ft={active:Ke,activatorEvent:Nt,collisions:it,delta:{x:xt.x,y:xt.y},over:Hn};un.unstable_batchedUpdates(()=>{Se(Hn),nt?.(Ft),A({type:"onDragOver",event:Ft})})},[ne]),Go(()=>{rt.current={activatorEvent:re,active:Y,activeNode:we,collisionRect:Be,collisions:tt,droppableRects:se,draggableNodes:R,draggingNode:ct,draggingNodeRect:ce,droppableContainers:F,over:ye,scrollableAncestors:qe,scrollAdjustedTranslate:ge},H.current={initial:ce,translated:Be}},[Y,we,tt,Be,R,ct,ce,se,F,ye,qe,ge]),dT({...Te,delta:z,draggingRect:Be,pointerCoordinates:vt,scrollableAncestors:qe,scrollableAncestorRects:We});const or=S.useMemo(()=>({active:Y,activeNode:we,activeNodeRect:_e,activatorEvent:re,collisions:tt,containerNodeRect:It,dragOverlay:Tt,draggableNodes:R,droppableContainers:F,droppableRects:se,over:ye,measureDroppableContainers:de,scrollableAncestors:qe,scrollableAncestorRects:We,measuringConfiguration:V,measuringScheduled:xe,windowRect:ze}),[Y,we,_e,re,tt,It,Tt,R,F,se,ye,de,qe,We,V,xe,ze]),fn=S.useMemo(()=>({activatorEvent:re,activators:rr,active:Y,activeNodeRect:_e,ariaDescribedById:{draggable:ee},dispatch:C,draggableNodes:R,over:ye,measureDroppableContainers:de}),[re,rr,Y,_e,C,ee,R,ye,de]);return Xe.createElement(L8.Provider,{value:I},Xe.createElement(E0.Provider,{value:fn},Xe.createElement(q8.Provider,{value:or},Xe.createElement(K8.Provider,{value:ot},f)),Xe.createElement(MT,{disabled:s?.restoreFocus===!1})),Xe.createElement(k7,{...s,hiddenTextDescribedById:ee}));function Kn(){const Ke=X?.autoScrollEnabled===!1,Nt=typeof u=="object"?u.enabled===!1:u===!1,it=P&&!Ke&&!Nt;return typeof u=="object"?{...u,enabled:it}:{enabled:it}}}),zT=S.createContext(null),W6="button",$T="Draggable";function UT(t){let{id:e,data:n,disabled:r=!1,attributes:o}=t;const i=bl($T),{activators:a,activatorEvent:s,active:u,activeNodeRect:f,ariaDescribedById:d,draggableNodes:h,over:m}=S.useContext(E0),{role:g=W6,roleDescription:b="draggable",tabIndex:w=0}=o??{},_=u?.id===e,C=S.useContext(_?K8:zT),[A,I]=Fd(),[T,O]=Fd(),P=AT(a,e),k=Ru(n);Go(()=>(h.set(e,{id:e,key:i,node:A,activatorNode:T,data:k}),()=>{const z=h.get(e);z&&z.key===i&&h.delete(e)}),[h,e]);const R=S.useMemo(()=>({role:g,tabIndex:w,"aria-disabled":r,"aria-pressed":_&&g===W6?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,g,w,_,b,d.draggable]);return{active:u,activatorEvent:s,activeNodeRect:f,attributes:R,isDragging:_,listeners:r?void 0:P,node:A,over:m,setNodeRef:I,setActivatorNodeRef:O,transform:C}}function HT(){return S.useContext(q8)}const VT="Droppable",GT={timeout:25};function WT(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:o}=t;const i=bl(VT),{active:a,dispatch:s,over:u,measureDroppableContainers:f}=S.useContext(E0),d=S.useRef({disabled:n}),h=S.useRef(!1),m=S.useRef(null),g=S.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:_}={...GT,...o},C=Ru(w??r),A=S.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),g.current=null},_)},[_]),I=w0({callback:A,disabled:b||!a}),T=S.useCallback((R,z)=>{I&&(z&&(I.unobserve(z),h.current=!1),R&&I.observe(R))},[I]),[O,P]=Fd(T),k=Ru(e);return S.useEffect(()=>{!I||!O.current||(I.disconnect(),h.current=!1,I.observe(O.current))},[O,I]),S.useEffect(()=>(s({type:In.RegisterDroppable,element:{id:r,key:i,disabled:n,node:O,rect:m,data:k}}),()=>s({type:In.UnregisterDroppable,key:i,id:r})),[r]),S.useEffect(()=>{n!==d.current.disabled&&(s({type:In.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,s]),{active:a,rect:m,isOver:u?.id===r,node:O,over:u,setNodeRef:P}}function ly(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function ZT(t,e){return t.reduce((n,r,o)=>{const i=e.get(r);return i&&(n[o]=i),n},Array(t.length))}function Kf(t){return t!==null&&t>=0}function XT(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function qT(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Y8=t=>{let{rects:e,activeIndex:n,overIndex:r,index:o}=t;const i=ly(e,r,n),a=e[o],s=i[o];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}},Yf={scaleX:1,scaleY:1},KT=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=t;const s=(e=i[n])!=null?e:r;if(!s)return null;if(o===n){const f=i[a];return f?{x:0,y:n<a?f.top+f.height-(s.top+s.height):f.top-s.top,...Yf}:null}const u=YT(i,o,n);return o>n&&o<=a?{x:0,y:-s.height-u,...Yf}:o<n&&o>=a?{x:0,y:s.height+u,...Yf}:{x:0,y:0,...Yf}};function YT(t,e,n){const r=t[e],o=t[e-1],i=t[e+1];return r?n<e?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Q8="Sortable",J8=Xe.createContext({activeIndex:-1,containerId:Q8,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Y8,disabled:{draggable:!1,droppable:!1}});function QT(t){let{children:e,id:n,items:r,strategy:o=Y8,disabled:i=!1}=t;const{active:a,dragOverlay:s,droppableRects:u,over:f,measureDroppableContainers:d}=HT(),h=bl(Q8,n),m=s.rect!==null,g=S.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),b=a!=null,w=a?g.indexOf(a.id):-1,_=f?g.indexOf(f.id):-1,C=S.useRef(g),A=!XT(g,C.current),I=_!==-1&&w===-1||A,T=qT(i);Go(()=>{A&&b&&d(g)},[A,g,b,d]),S.useEffect(()=>{C.current=g},[g]);const O=S.useMemo(()=>({activeIndex:w,containerId:h,disabled:T,disableTransforms:I,items:g,overIndex:_,useDragOverlay:m,sortedRects:ZT(g,u),strategy:o}),[w,h,T.draggable,T.droppable,I,g,_,u,m,o]);return Xe.createElement(J8.Provider,{value:O},e)}const JT=t=>{let{id:e,items:n,activeIndex:r,overIndex:o}=t;return ly(n,r,o).indexOf(e)},eN=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:u,transition:f}=t;return!f||!r||s!==i&&o===a?!1:n?!0:a!==o&&e===u},tN={duration:200,easing:"ease"},e3="transform",nN=ku.Transition.toString({property:e3,duration:0,easing:"linear"}),rN={roleDescription:"sortable"};function oN(t){let{disabled:e,index:n,node:r,rect:o}=t;const[i,a]=S.useState(null),s=S.useRef(n);return Go(()=>{if(!e&&n!==s.current&&r.current){const u=o.current;if(u){const f=_c(r.current,{ignoreTransform:!0}),d={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(d.x||d.y)&&a(d)}}n!==s.current&&(s.current=n)},[e,n,r,o]),S.useEffect(()=>{i&&a(null)},[i]),i}function iN(t){let{animateLayoutChanges:e=eN,attributes:n,disabled:r,data:o,getNewIndex:i=JT,id:a,strategy:s,resizeObserverConfig:u,transition:f=tN}=t;const{items:d,containerId:h,activeIndex:m,disabled:g,disableTransforms:b,sortedRects:w,overIndex:_,useDragOverlay:C,strategy:A}=S.useContext(J8),I=aN(r,g),T=d.indexOf(a),O=S.useMemo(()=>({sortable:{containerId:h,index:T,items:d},...o}),[h,o,T,d]),P=S.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:k,node:R,isOver:z,setNodeRef:F}=WT({id:a,data:O,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...u}}),{active:U,activatorEvent:H,activeNodeRect:Y,attributes:ae,setNodeRef:X,listeners:q,isDragging:re,over:L,setActivatorNodeRef:K,transform:ee}=UT({id:a,data:O,attributes:{...rN,...n},disabled:I.draggable}),M=x7(F,X),V=!!U,se=V&&!b&&Kf(m)&&Kf(_),de=!C&&re,xe=de&&se?ee:null,Ee=se?xe??(s??A)({rects:w,activeNodeRect:Y,activeIndex:m,overIndex:_,index:T}):null,Te=Kf(m)&&Kf(_)?i({id:a,items:d,activeIndex:m,overIndex:_}):T,De=U?.id,_e=S.useRef({activeId:De,items:d,newIndex:Te,containerId:h}),It=d!==_e.current.items,rt=e({active:U,containerId:h,isDragging:re,isSorting:V,id:a,index:T,items:d,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:f,wasDragging:_e.current.activeId!=null}),ht=oN({disabled:!rt,index:T,node:R,rect:k});return S.useEffect(()=>{V&&_e.current.newIndex!==Te&&(_e.current.newIndex=Te),h!==_e.current.containerId&&(_e.current.containerId=h),d!==_e.current.items&&(_e.current.items=d)},[V,Te,h,d]),S.useEffect(()=>{if(De===_e.current.activeId)return;if(De!=null&&_e.current.activeId==null){_e.current.activeId=De;return}const ct=setTimeout(()=>{_e.current.activeId=De},50);return()=>clearTimeout(ct)},[De]),{active:U,activeIndex:m,attributes:ae,data:O,rect:k,index:T,newIndex:Te,items:d,isOver:z,isSorting:V,isDragging:re,listeners:q,node:R,overIndex:_,over:L,setNodeRef:M,setActivatorNodeRef:K,setDroppableNodeRef:F,setDraggableNodeRef:X,transform:ht??Ee,transition:Tt()};function Tt(){if(ht||It&&_e.current.newIndex===T)return nN;if(!(de&&!iy(H)||!f)&&(V||rt))return ku.Transition.toString({...f,property:e3})}}function aN(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}St.Down,St.Right,St.Up,St.Left;const sN=[{type:"function",name:"execute",stateMutability:"nonpayable",inputs:[{name:"dest",type:"address"},{name:"value",type:"uint256"},{name:"funcCallData",type:"bytes"}],outputs:[]}],cN=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"},{internalType:"bytes",name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"bytes",name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{internalType:"address",name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"factory",type:"address"},{indexed:!1,internalType:"address",name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"paymaster",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bool",name:"success",type:"bool"},{indexed:!1,internalType:"uint256",name:"actualGasCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint256",name:"deposit",type:"uint256"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparatorV4",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint192",name:"key",type:"uint192"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPackedUserOpTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"contract IAggregator",name:"aggregator",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct IEntryPoint.UserOpsPerAggregator[]",name:"opsPerAggregator",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation[]",name:"ops",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint192",name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"callData",type:"bytes"},{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"paymasterVerificationGasLimit",type:"uint256"},{internalType:"uint256",name:"paymasterPostOpGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"address",name:"paymaster",type:"address"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"}],internalType:"struct EntryPoint.MemoryUserOp",name:"mUserOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"uint256",name:"contextOffset",type:"uint256"},{internalType:"uint256",name:"preOpGas",type:"uint256"}],internalType:"struct EntryPoint.UserOpInfo",name:"opInfo",type:"tuple"},{internalType:"bytes",name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{internalType:"uint256",name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint192",name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"senderCreator",outputs:[{internalType:"contract ISenderCreator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],uN=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Z6=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],lN=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],fN=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function t3(t){if(!t)return null;if(Array.isArray(t))return t;if(typeof t=="string")try{const e=JSON.parse(t);return Array.isArray(e)?e:null}catch{return null}if(typeof t=="object"&&t!==null){const e=t,n=e.abi??e.ABI;if(Array.isArray(n))return n;const r=e.result??e.Result;if(Array.isArray(r))return r;if(typeof r=="string")try{const o=JSON.parse(r);return Array.isArray(o)?o:null}catch{return null}}return null}function n3(t){return t?t.filter(e=>e.type==="function"):[]}function X6(t,e){const n=t.name?.replace(/^_+/,"");return n&&n.length>0?n:`arg${e}`}function dN({items:t,sortMode:e,onReorder:n,onHide:r,coins:o,contacts:i,contracts:a,onSendCoins:s,onUseContract:u}){const f=S.useMemo(()=>{const m=t.filter(g=>g.isVisible!==!1);return k8(m,e)},[t,e]),d=M7(D7(uy,{activationConstraint:{distance:5}}));function h(m){if(e!=="custom")return;const{active:g,over:b}=m;if(!b||g.id===b.id)return;const w=f.findIndex(A=>A.id===g.id),_=f.findIndex(A=>A.id===b.id);if(w===-1||_===-1)return;const C=ly(f,w,_).map((A,I)=>({...A,indexOrder:I}));n(C)}return y.jsx(jT,{sensors:d,collisionDetection:z7,onDragEnd:h,children:y.jsx(QT,{items:f.map(m=>m.id),strategy:KT,children:y.jsx("div",{className:"space-y-2",children:f.map(m=>y.jsx(hN,{item:m,draggable:e==="custom",onHide:r,coins:o,contacts:i,onSendCoins:s,onUseContract:u,contracts:a},m.id))})})})}function hN({item:t,draggable:e,onHide:n,coins:r,contacts:o,contracts:i,onSendCoins:a,onUseContract:s}){const[u,f]=Xe.useState(""),[d,h]=Xe.useState(""),m=t.id.replace(/^address:/,""),g=m,b=t.isContact?o.find(U=>U.id===g):void 0,w=new Set(b?.wallets?.map(U=>U.chainId)??[]),_=t.isContact?r.filter(U=>w.has(U.chainId)):[],C=t.isContact?void 0:i.find(U=>U.id===m),A=C?t3(C.metadata):null,I=n3(A),{attributes:T,listeners:O,setNodeRef:P,transform:k,transition:R,isDragging:z}=iN({id:t.id}),F={transform:ku.Transform.toString(k),transition:R,opacity:z?.6:1,cursor:e?"grab":"default"};return y.jsx("div",{ref:P,style:F,className:"w-full",children:y.jsx("div",{className:"w-full rounded-lg border border-border bg-card px-4 py-3",children:y.jsxs("div",{className:"grid gap-3 sm:gap-x-6 sm:gap-y-2 sm:grid-cols-[minmax(0,1fr)_110px] sm:items-start",children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("div",{className:"font-medium",children:t.name}),t.group&&t.group.length>0&&y.jsx("div",{className:"mt-2 flex flex-wrap gap-1 text-[11px] text-muted-foreground",children:t.group.map(U=>y.jsxs("span",{className:"rounded-full border border-border px-2 py-0.5",children:["#",U]},U))})]}),y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.isContact&&y.jsxs(y.Fragment,{children:[y.jsxs("select",{className:"h-7 rounded border border-border bg-background px-1 text-xs text-foreground",value:u,onChange:U=>f(U.target.value),children:[y.jsx("option",{value:"",children:"Coin"}),_.map(U=>y.jsx("option",{value:U.id,children:U.symbol},U.id))]}),y.jsx("button",{disabled:!u,className:"rounded-md border border-border bg-background px-2 py-1 text-xs hover:bg-muted disabled:opacity-40",onClick:()=>a(t,u),children:"Send"})]}),!t.isContact&&y.jsxs(y.Fragment,{children:[y.jsxs("select",{className:"h-7 w-28 rounded border border-border bg-background px-1 text-xs text-foreground",value:d,onChange:U=>h(U.target.value),children:[y.jsx("option",{value:"",children:"Function"}),I.map(U=>y.jsxs("option",{value:U.name,children:[U.name,"(",U.inputs.map(H=>H.type).join(","),")"]},`${U.name}(${U.inputs.map(H=>H.type).join(",")})`))]}),y.jsx("button",{disabled:!d,className:"rounded-md border border-border bg-background px-2 py-1 text-xs hover:bg-muted disabled:opacity-40",onClick:()=>s(t,d),children:"Use"})]}),y.jsx("button",{type:"button",...e?{...T,...O}:{},className:"text-xs text-muted-foreground hover:text-foreground disabled:opacity-40",disabled:!e,children:""}),y.jsx("button",{onClick:()=>n(t.id),className:"rounded-md border border-border bg-background px-2 py-1 text-xs hover:bg-muted",children:"Hide"})]})]})})})}const fy="cointrol:coins:v1",r3="cointrol:coins:schemaVersion",wd=1,nc=[{id:"builtin:eth-sepolia",name:"Ether Sepolia",symbol:"ETH",decimals:18,chainId:11155111,address:"0x0",type:"NATIVE",tags:[],createdAt:0,updatedAt:0},{id:"builtin:eth-mainnet",name:"Ether",symbol:"ETH",decimals:18,chainId:1,address:"0x0",type:"NATIVE",tags:[],createdAt:0,updatedAt:0},{id:"builtin:fakecoin",name:"Fake Coin",symbol:"FAKE",decimals:2,chainId:11155111,address:"0xf5C72f6038803925B1ADB9BA8Dcb17F54Bc0f518",type:"ERC20",tags:[],createdAt:0,updatedAt:0}],Im=new Set;function pN(t){const e=[...nc,...t];for(const n of Im)n(e)}function mN(t){return Im.add(t),()=>{Im.delete(t)}}async function gN(){const t=await Pt(r3);return t||wd}async function yN(t){await vn(r3,t)}async function vN(){const t=await gN();t!==wd&&(await Pt(fy),t<wd&&await yN(wd))}async function _0(){return await vN(),await Pt(fy)??[]}async function C0(t){await vn(fy,t),pN(t)}async function A0(){const t=await _0();return[...nc,...t]}async function o3(t){const e=Date.now(),n=await _0(),r={id:`coin:${crypto.randomUUID?.()??`${e}:${n.length}`}`,tags:t.tags||void 0,name:t.name,decimals:t.decimals,chainId:t.chainId,address:t.address,symbol:t.symbol,type:t.type,createdAt:e,updatedAt:e},o=[...n,r];return await C0(o),o}async function bN(t,e){if(nc.some(i=>i.id===t))return A0();const n=await _0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await C0(o),[...nc,...o]}async function xN(t){if(nc.some(r=>r.id===t))return A0();const n=(await _0()).filter(r=>r.id!==t);return await C0(n),[...nc,...n]}async function wN(){await C0([])}function EN(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await A0();a||(e(u),r(!1))}catch(u){console.error("[Coins] Failed to load:",u),a||(i(u?.message??"Failed to load coins"),r(!1))}})();const s=mN(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{coins:t,loading:n,error:o,addCoin:o3,updateCoin:bN,deleteCoin:xN,clearCoins:wN}}function _N(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="createdAsc"?n.sort((r,o)=>r.createdAt-o.createdAt):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="chainIdAsc"?n.sort((r,o)=>r.chainId-o.chainId):e==="chainIdDesc"?n.sort((r,o)=>o.chainId-r.chainId):e==="symbolAsc"?n.sort((r,o)=>r.symbol.toLocaleLowerCase().localeCompare(o.symbol.toLocaleLowerCase())):e==="symbolDesc"&&n.sort((r,o)=>o.symbol.toLocaleLowerCase().localeCompare(r.symbol.toLocaleLowerCase())),n}function S0(t={}){const{coins:e,loading:n,error:r,addCoin:o,updateCoin:i,deleteCoin:a,clearCoins:s}=EN(),{query:u="",sortMode:f="nameAsc",tags:d=[],tagMode:h="any",chainId:m=0,standard:g=""}=t;return{coins:S.useMemo(()=>{let w=e;if(u.trim()){const _=u.trim().toLowerCase();w=w.filter(C=>C.name.toLowerCase().includes(_)||C.address.toLowerCase().includes(_)||C.symbol.toLowerCase().includes(_))}return g&&(w=w.filter(_=>_.type===g)),m!=0&&(w=w.filter(_=>_.chainId===m)),d&&d.length>0&&(h=="any"?w=w.filter(_=>_.tags?.some(C=>d.includes(C))):w=w.filter(_=>d.every(C=>_.tags?.includes(C)))),_N(w,f)},[e,u,f,d,h,g,m]),loading:n,error:r,addCoin:o,updateCoin:i,deleteCoin:a,clearCoins:s}}const dy="cointrol:contacts:v1",i3="cointrol:contacts:schemaVersion",Ed=1,Tm=new Set;function CN(t){for(const e of Tm)e(t)}function AN(t){return Tm.add(t),()=>{Tm.delete(t)}}async function SN(){const t=await Pt(i3);return t||Ed}async function IN(t){await vn(i3,t)}async function TN(){const t=await SN();t!==Ed&&(await Pt(dy),t<Ed&&await IN(Ed))}async function I0(){return await TN(),await Pt(dy)??[]}async function T0(t){await vn(dy,t),CN(t)}async function a3(){return I0()}async function s3(t){const e=Date.now(),n=await I0(),r={id:`contact:${crypto.randomUUID?.()??`${e}:${n.length}`}`,name:t.name,surname:t.surname||void 0,tags:t.tags||void 0,wallets:t.wallets||void 0,createdAt:e,updatedAt:e},o=[...n,r];return await T0(o),await Qg({id:`address:${r.id}`,name:r.name+(r.surname?` ${r.surname}`:""),isContact:!0,isVisible:!0,indexOrder:n.length}),o}async function NN(t,e){const n=await I0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await T0(o),await Jg(`address:${t}`,{name:e.name||n.find(i=>i.id===t)?.name||""}),o}async function ON(t){const n=(await I0()).filter(r=>r.id!==t);return await T0(n),await ey(`address:${t}`),n}async function PN(){await T0([])}function hy(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await a3();a||(e(u),r(!1))}catch(u){console.error("[Contacts] Failed to load:",u),a||(i(u?.message??"Failed to load contacts"),r(!1))}})();const s=AN(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{contacts:t,loading:n,error:o,addContact:s3,updateContact:NN,deleteContact:ON,clearContacts:PN}}const py="cointrol:contracts:v1",c3="cointrol:contracts:schemaVersion",_d=1,Nm=new Set;function RN(t){for(const e of Nm)e(t)}function kN(t){return Nm.add(t),()=>{Nm.delete(t)}}async function DN(){const t=await Pt(c3);return t||_d}async function MN(t){await vn(c3,t)}async function BN(){const t=await DN();t!==_d&&(await Pt(py),t<_d&&await MN(_d))}async function N0(){return await BN(),await Pt(py)??[]}async function O0(t){await vn(py,t),RN(t)}async function u3(){return N0()}async function l3(t){const e=Date.now(),n=await N0(),r={id:`contract:${crypto.randomUUID?.()??`${e}:${n.length}`}`,name:t.name,address:t.address,chainId:t.chainId,tags:t.tags||void 0,metadata:t.metadata||void 0,createdAt:e,updatedAt:e},o=[...n,r];return await O0(o),await Qg({id:`address:${r.id}`,name:r.name,isContact:!1,isVisible:!0,indexOrder:n.length}),o}async function LN(t,e){const n=await N0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await O0(o),await Jg(`address:${t}`,{name:e.name||n.find(i=>i.id===t)?.name||""}),o}async function FN(t){const n=(await N0()).filter(r=>r.id!==t);return await O0(n),ey(`address:${t}`),n}async function jN(){await O0([])}function my(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await u3();a||(e(u),r(!1))}catch(u){console.error("[Contracts] Failed to load:",u),a||(i(u?.message??"Failed to load contracts"),r(!1))}})();const s=kN(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{contracts:t,loading:n,error:o,addContract:l3,updateContract:LN,deleteContract:FN,clearContracts:jN}}function zN(){const t=vc(),[e,n]=S.useState(""),[r,o]=S.useState("nameAsc"),[i,a]=S.useState([]),[s,u]=S.useState("any"),[f,d]=S.useState(""),{address:h,loading:m,error:g,updateAddress:b}=D8({query:e,sortMode:r,tags:i,tagMode:s}),{coins:w}=S0({query:"",sortMode:"nameAsc",standard:"",chainId:0}),{contacts:_}=hy(),{contracts:C}=my();function A(R,z){t("/transactions",{state:{prefill:{mode:"transfer",addressId:R.id,coinId:z}}})}function I(R,z){t("/transactions",{state:{prefill:{mode:"contract",addressId:R.id,functionName:z}}})}function T({sortMode:R,setSortMode:z,tagSearch:F,setTagSearch:U,setTags:H,tagMode:Y,setTagSearchMode:ae}){const[X,q]=S.useState(!1),re=S.useRef(null),[L,K]=S.useState({top:0,left:0,width:320}),ee=()=>q(!1),M=S.useCallback(()=>{if(!re.current)return;const se=re.current.getBoundingClientRect(),de=8,xe=Math.min(360,window.innerWidth-de*2),we=se.bottom+8,Ee=se.right-xe,Te=Math.min(Math.max(de,Ee),window.innerWidth-xe-de);K({top:we,left:Te,width:xe})},[]),V=()=>{const se=!X;se&&M(),q(se)};return S.useEffect(()=>{if(!X)return;const se=de=>{de.key==="Escape"&&ee()};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[X]),S.useEffect(()=>{if(X)return window.addEventListener("resize",M),window.addEventListener("scroll",M,!0),()=>{window.removeEventListener("resize",M),window.removeEventListener("scroll",M,!0)}},[X,M]),y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:re,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:V,children:"Sort / Filter"}),X&&typeof document<"u"&&un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:ee,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),y.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:L.top,left:L.left,width:L.width,padding:12},onClick:se=>se.stopPropagation(),children:[y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),y.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:R,onChange:se=>z(se.target.value),children:[y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),y.jsx("div",{className:"my-3 border-t border-border"}),y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:F,onChange:se=>{const de=se.target.value;U(de);const xe=de.split(",").map(we=>we.trim()).filter(Boolean);H(xe)}}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"text-xs text-muted",children:"Mode"}),y.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:Y,onChange:se=>ae(se.target.value),children:[y.jsx("option",{value:"any",children:"Match any"}),y.jsx("option",{value:"all",children:"Match all"})]}),y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{U(""),H([]),ae("any")},children:"Clear"})]}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:ee,children:"Done"})})]})]}),document.body)]})}const O=S.useMemo(()=>h.filter(R=>R.isVisible!==!1),[h]);async function P(R){await Promise.all(R.map((z,F)=>b(z.id,{indexOrder:F})))}async function k(R){await b(R,{isVisible:!1})}return m?y.jsx("div",{className:"p-4",children:"Loading Address"}):g?y.jsx("div",{className:"p-4 text-red-600",children:g}):y.jsxs("div",{className:"space-y-4 p-4",children:[y.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Address Book"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:e,onChange:R=>n(R.target.value)}),y.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:y.jsx(T,{sortMode:r,setSortMode:o,tagSearch:f,setTagSearch:d,setTags:a,tagMode:s,setTagSearchMode:u})})]}),y.jsx(dN,{items:O,sortMode:r,onReorder:P,onHide:k,coins:w,contacts:_,contracts:C,onSendCoins:A,onUseContract:I})]})}function $N(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="createdAsc"?n.sort((r,o)=>r.createdAt-o.createdAt):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="chainIdAsc"?n.sort((r,o)=>r.chainId-o.chainId):e==="chainIdDesc"?n.sort((r,o)=>o.chainId-r.chainId):e==="addressAsc"?n.sort((r,o)=>r.address.toLocaleLowerCase().localeCompare(o.address.toLocaleLowerCase())):e==="addressDesc"&&n.sort((r,o)=>o.address.toLocaleLowerCase().localeCompare(r.address.toLocaleLowerCase())),n}function UN(t={}){const{contracts:e,loading:n,error:r,addContract:o,updateContract:i,deleteContract:a,clearContracts:s}=my(),{query:u="",sortMode:f="nameAsc",tags:d=[],tagMode:h="any",chainId:m=0}=t;return{contracts:S.useMemo(()=>{let b=e;if(u.trim()){const w=u.trim().toLowerCase();b=b.filter(_=>_.name.toLowerCase().includes(w)||_.address.toLowerCase().includes(w))}return m&&(b=b.filter(w=>w.chainId===m)),d&&d.length>0&&(h=="any"?b=b.filter(w=>w.tags?.some(_=>d.includes(_))):b=b.filter(w=>d.every(_=>w.tags?.includes(_)))),$N(b,f)},[e,u,f,h,d,m]),loading:n,error:r,addContract:o,updateContract:i,deleteContract:a,clearContracts:s}}var Os={},gp={exports:{}},yp,q6;function HN(){if(q6)return yp;q6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yp=t,yp}var vp,K6;function VN(){if(K6)return vp;K6=1;var t=HN();function e(){}function n(){}return n.resetWarningCache=e,vp=function(){function r(a,s,u,f,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},vp}var Y6;function f3(){return Y6||(Y6=1,gp.exports=VN()()),gp.exports}var bp,Q6;function d3(){return Q6||(Q6=1,bp={L:1,M:0,Q:3,H:2}),bp}var xp,J6;function h3(){return J6||(J6=1,xp={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),xp}var wp,eb;function GN(){if(eb)return wp;eb=1;var t=h3();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},wp=e,wp}var Ep,tb;function WN(){if(tb)return Ep;tb=1;var t=d3();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var o=e.getRsBlockTable(n,r);if(o==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var i=o.length/3,a=new Array,s=0;s<i;s++)for(var u=o[s*3+0],f=o[s*3+1],d=o[s*3+2],h=0;h<u;h++)a.push(new e(f,d));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},Ep=e,Ep}var _p,nb;function ZN(){if(nb)return _p;nb=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},_p=t,_p}var Cp,rb;function p3(){if(rb)return Cp;rb=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return Cp=t,Cp}var Ap,ob;function m3(){if(ob)return Ap;ob=1;var t=p3();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var o=0;o<n.length&&n[o]==0;)o++;this.num=new Array(n.length-o+r);for(var i=0;i<n.length-o;i++)this.num[i]=n[i+o]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),o=0;o<this.getLength();o++)for(var i=0;i<n.getLength();i++)r[o+i]^=t.gexp(t.glog(this.get(o))+t.glog(n.get(i)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),o=new Array(this.getLength()),i=0;i<this.getLength();i++)o[i]=this.get(i);for(var i=0;i<n.getLength();i++)o[i]^=t.gexp(t.glog(n.get(i))+r);return new e(o,0).mod(n)}},Ap=e,Ap}var Sp,ib;function XN(){if(ib)return Sp;ib=1;var t=h3(),e=m3(),n=p3(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var a=i<<10;o.getBCHDigit(a)-o.getBCHDigit(o.G15)>=0;)a^=o.G15<<o.getBCHDigit(a)-o.getBCHDigit(o.G15);return(i<<10|a)^o.G15_MASK},getBCHTypeNumber:function(i){for(var a=i<<12;o.getBCHDigit(a)-o.getBCHDigit(o.G18)>=0;)a^=o.G18<<o.getBCHDigit(a)-o.getBCHDigit(o.G18);return i<<12|a},getBCHDigit:function(i){for(var a=0;i!=0;)a++,i>>>=1;return a},getPatternPosition:function(i){return o.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,a,s){switch(i){case r.PATTERN000:return(a+s)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return s%3==0;case r.PATTERN011:return(a+s)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2==0;case r.PATTERN101:return a*s%2+a*s%3==0;case r.PATTERN110:return(a*s%2+a*s%3)%2==0;case r.PATTERN111:return(a*s%3+(a+s)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var a=new e([1],0),s=0;s<i;s++)a=a.multiply(new e([1,n.gexp(s)],0));return a},getLengthInBits:function(i,a){if(1<=a&&a<10)switch(i){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(a<27)switch(i){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else if(a<41)switch(i){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}else throw new Error("type:"+a)},getLostPoint:function(i){for(var a=i.getModuleCount(),s=0,u=0;u<a;u++)for(var f=0;f<a;f++){for(var d=0,h=i.isDark(u,f),m=-1;m<=1;m++)if(!(u+m<0||a<=u+m))for(var g=-1;g<=1;g++)f+g<0||a<=f+g||m==0&&g==0||h==i.isDark(u+m,f+g)&&d++;d>5&&(s+=3+d-5)}for(var u=0;u<a-1;u++)for(var f=0;f<a-1;f++){var b=0;i.isDark(u,f)&&b++,i.isDark(u+1,f)&&b++,i.isDark(u,f+1)&&b++,i.isDark(u+1,f+1)&&b++,(b==0||b==4)&&(s+=3)}for(var u=0;u<a;u++)for(var f=0;f<a-6;f++)i.isDark(u,f)&&!i.isDark(u,f+1)&&i.isDark(u,f+2)&&i.isDark(u,f+3)&&i.isDark(u,f+4)&&!i.isDark(u,f+5)&&i.isDark(u,f+6)&&(s+=40);for(var f=0;f<a;f++)for(var u=0;u<a-6;u++)i.isDark(u,f)&&!i.isDark(u+1,f)&&i.isDark(u+2,f)&&i.isDark(u+3,f)&&i.isDark(u+4,f)&&!i.isDark(u+5,f)&&i.isDark(u+6,f)&&(s+=40);for(var w=0,f=0;f<a;f++)for(var u=0;u<a;u++)i.isDark(u,f)&&w++;var _=Math.abs(100*w/a/a-50)/5;return s+=_*10,s}};return Sp=o,Sp}var Ip,ab;function qN(){if(ab)return Ip;ab=1;var t=GN(),e=WN(),n=ZN(),r=XN(),o=m3();function i(s,u){this.typeNumber=s,this.errorCorrectLevel=u,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=i.prototype;return a.addData=function(s){var u=new t(s);this.dataList.push(u),this.dataCache=null},a.isDark=function(s,u){if(s<0||this.moduleCount<=s||u<0||this.moduleCount<=u)throw new Error(s+","+u);return this.modules[s][u]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var s=1;for(s=1;s<40;s++){for(var u=e.getRSBlocks(s,this.errorCorrectLevel),f=new n,d=0,h=0;h<u.length;h++)d+=u[h].dataCount;for(var h=0;h<this.dataList.length;h++){var m=this.dataList[h];f.put(m.mode,4),f.put(m.getLength(),r.getLengthInBits(m.mode,s)),m.write(f)}if(f.getLengthInBits()<=d*8)break}this.typeNumber=s}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(s,u){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[f][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,u),this.typeNumber>=7&&this.setupTypeNumber(s),this.dataCache==null&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,u)},a.setupPositionProbePattern=function(s,u){for(var f=-1;f<=7;f++)if(!(s+f<=-1||this.moduleCount<=s+f))for(var d=-1;d<=7;d++)u+d<=-1||this.moduleCount<=u+d||(0<=f&&f<=6&&(d==0||d==6)||0<=d&&d<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=d&&d<=4?this.modules[s+f][u+d]=!0:this.modules[s+f][u+d]=!1)},a.getBestMaskPattern=function(){for(var s=0,u=0,f=0;f<8;f++){this.makeImpl(!0,f);var d=r.getLostPoint(this);(f==0||s>d)&&(s=d,u=f)}return u},a.createMovieClip=function(s,u,f){var d=s.createEmptyMovieClip(u,f),h=1;this.make();for(var m=0;m<this.modules.length;m++)for(var g=m*h,b=0;b<this.modules[m].length;b++){var w=b*h,_=this.modules[m][b];_&&(d.beginFill(0,100),d.moveTo(w,g),d.lineTo(w+h,g),d.lineTo(w+h,g+h),d.lineTo(w,g+h),d.endFill())}return d},a.setupTimingPattern=function(){for(var s=8;s<this.moduleCount-8;s++)this.modules[s][6]==null&&(this.modules[s][6]=s%2==0);for(var u=8;u<this.moduleCount-8;u++)this.modules[6][u]==null&&(this.modules[6][u]=u%2==0)},a.setupPositionAdjustPattern=function(){for(var s=r.getPatternPosition(this.typeNumber),u=0;u<s.length;u++)for(var f=0;f<s.length;f++){var d=s[u],h=s[f];if(this.modules[d][h]==null)for(var m=-2;m<=2;m++)for(var g=-2;g<=2;g++)m==-2||m==2||g==-2||g==2||m==0&&g==0?this.modules[d+m][h+g]=!0:this.modules[d+m][h+g]=!1}},a.setupTypeNumber=function(s){for(var u=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var d=!s&&(u>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=d}for(var f=0;f<18;f++){var d=!s&&(u>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=d}},a.setupTypeInfo=function(s,u){for(var f=this.errorCorrectLevel<<3|u,d=r.getBCHTypeInfo(f),h=0;h<15;h++){var m=!s&&(d>>h&1)==1;h<6?this.modules[h][8]=m:h<8?this.modules[h+1][8]=m:this.modules[this.moduleCount-15+h][8]=m}for(var h=0;h<15;h++){var m=!s&&(d>>h&1)==1;h<8?this.modules[8][this.moduleCount-h-1]=m:h<9?this.modules[8][15-h-1+1]=m:this.modules[8][15-h-1]=m}this.modules[this.moduleCount-8][8]=!s},a.mapData=function(s,u){for(var f=-1,d=this.moduleCount-1,h=7,m=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var b=0;b<2;b++)if(this.modules[d][g-b]==null){var w=!1;m<s.length&&(w=(s[m]>>>h&1)==1);var _=r.getMask(u,d,g-b);_&&(w=!w),this.modules[d][g-b]=w,h--,h==-1&&(m++,h=7)}if(d+=f,d<0||this.moduleCount<=d){d-=f,f=-f;break}}},i.PAD0=236,i.PAD1=17,i.createData=function(s,u,f){for(var d=e.getRSBlocks(s,u),h=new n,m=0;m<f.length;m++){var g=f[m];h.put(g.mode,4),h.put(g.getLength(),r.getLengthInBits(g.mode,s)),g.write(h)}for(var b=0,m=0;m<d.length;m++)b+=d[m].dataCount;if(h.getLengthInBits()>b*8)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+b*8+")");for(h.getLengthInBits()+4<=b*8&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=b*8||(h.put(i.PAD0,8),h.getLengthInBits()>=b*8));)h.put(i.PAD1,8);return i.createBytes(h,d)},i.createBytes=function(s,u){for(var f=0,d=0,h=0,m=new Array(u.length),g=new Array(u.length),b=0;b<u.length;b++){var w=u[b].dataCount,_=u[b].totalCount-w;d=Math.max(d,w),h=Math.max(h,_),m[b]=new Array(w);for(var C=0;C<m[b].length;C++)m[b][C]=255&s.buffer[C+f];f+=w;var A=r.getErrorCorrectPolynomial(_),I=new o(m[b],A.getLength()-1),T=I.mod(A);g[b]=new Array(A.getLength()-1);for(var C=0;C<g[b].length;C++){var O=C+T.getLength()-g[b].length;g[b][C]=O>=0?T.get(O):0}}for(var P=0,C=0;C<u.length;C++)P+=u[C].totalCount;for(var k=new Array(P),R=0,C=0;C<d;C++)for(var b=0;b<u.length;b++)C<m[b].length&&(k[R++]=m[b][C]);for(var C=0;C<h;C++)for(var b=0;b<u.length;b++)C<g[b].length&&(k[R++]=g[b][C]);return k},Ip=i,Ip}var Qf={},sb;function KN(){if(sb)return Qf;sb=1,Object.defineProperty(Qf,"__esModule",{value:!0});var t=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(f[m]=h[m])}return f},e=f3(),n=i(e),r=hl(),o=i(r);function i(f){return f&&f.__esModule?f:{default:f}}function a(f,d){var h={};for(var m in f)d.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(f,m)&&(h[m]=f[m]);return h}var s={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},u=(0,r.forwardRef)(function(f,d){var h=f.bgColor,m=f.bgD,g=f.fgD,b=f.fgColor,w=f.size,_=f.title,C=f.viewBoxSize,A=f.xmlns,I=A===void 0?"http://www.w3.org/2000/svg":A,T=a(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",t({},T,{height:w,ref:d,viewBox:"0 0 "+C+" "+C,width:w,xmlns:I}),_?o.default.createElement("title",null,_):null,o.default.createElement("path",{d:m,fill:h}),o.default.createElement("path",{d:g,fill:b}))});return u.displayName="QRCodeSvg",u.propTypes=s,Qf.default=u,Qf}var cb;function YN(){if(cb)return Os;cb=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.QRCode=void 0;var t=Object.assign||function(w){for(var _=1;_<arguments.length;_++){var C=arguments[_];for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(w[A]=C[A])}return w},e=f3(),n=h(e),r=d3(),o=h(r),i=qN(),a=h(i),s=hl(),u=h(s),f=KN(),d=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,_){var C={};for(var A in w)_.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(w,A)&&(C[A]=w[A]);return C}var g={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},b=(0,s.forwardRef)(function(w,_){var C=w.bgColor,A=C===void 0?"#FFFFFF":C,I=w.fgColor,T=I===void 0?"#000000":I,O=w.level,P=O===void 0?"L":O,k=w.size,R=k===void 0?256:k,z=w.value,F=m(w,["bgColor","fgColor","level","size","value"]),U=new a.default(-1,o.default[P]);U.addData(z),U.make();var H=U.modules;return u.default.createElement(d.default,t({},F,{bgColor:A,bgD:H.map(function(Y,ae){return Y.map(function(X,q){return X?"":"M "+q+" "+ae+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:T,fgD:H.map(function(Y,ae){return Y.map(function(X,q){return X?"M "+q+" "+ae+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:R,viewBoxSize:H.length}))});return Os.QRCode=b,b.displayName="QRCode",b.propTypes=g,Os.default=b,Os}var QN=YN();const JN=$g(QN);function ie(t,e,n){function r(s,u){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),s._zod.traits.has(t))return;s._zod.traits.add(t),e(s,u);const f=a.prototype,d=Object.keys(f);for(let h=0;h<d.length;h++){const m=d[h];m in s||(s[m]=f[m].bind(s))}}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:t});function a(s){var u;const f=n?.Parent?new i:this;r(f,s),(u=f._zod).deferred??(u.deferred=[]);for(const d of f._zod.deferred)d();return f}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:s=>n?.Parent&&s instanceof n.Parent?!0:s?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class Zs extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class g3 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const y3={};function fa(t){return y3}function v3(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,o])=>e.indexOf(+r)===-1).map(([r,o])=>o)}function Om(t,e){return typeof e=="bigint"?e.toString():e}function gy(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function yy(t){return t==null}function vy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function eO(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(o=Number.parseInt(u[1]))}const i=n>o?n:o,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}const ub=Symbol("evaluating");function Mt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==ub)return r===void 0&&(r=ub,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function rs(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ya(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function lb(t){return JSON.stringify(t)}function tO(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const b3="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ud(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const nO=gy(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function rc(t){if(Ud(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Ud(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function x3(t){return rc(t)?{...t}:Array.isArray(t)?[...t]:t}const rO=new Set(["string","number","symbol"]);function oc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function va(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Fe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function oO(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const iO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function aO(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=ya(t._zod.def,{get shape(){const a={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(a[s]=n.shape[s])}return rs(this,"shape",a),a},checks:[]});return va(t,i)}function sO(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=ya(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete a[s]}return rs(this,"shape",a),a},checks:[]});return va(t,i)}function cO(t,e){if(!rc(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const i=t._zod.def.shape;for(const a in e)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ya(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return rs(this,"shape",i),i}});return va(t,o)}function uO(t,e){if(!rc(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ya(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return rs(this,"shape",r),r}});return va(t,n)}function lO(t,e){const n=ya(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return rs(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return va(t,n)}function fO(t,e,n){const o=e._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=ya(e._zod.def,{get shape(){const s=e._zod.def.shape,u={...s};if(n)for(const f in n){if(!(f in s))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=t?new t({type:"optional",innerType:s[f]}):s[f])}else for(const f in s)u[f]=t?new t({type:"optional",innerType:s[f]}):s[f];return rs(this,"shape",u),u},checks:[]});return va(e,a)}function dO(t,e,n){const r=ya(e._zod.def,{get shape(){const o=e._zod.def.shape,i={...o};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new t({type:"nonoptional",innerType:o[a]}))}else for(const a in o)i[a]=new t({type:"nonoptional",innerType:o[a]});return rs(this,"shape",i),i}});return va(e,r)}function Bs(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Ls(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Jf(t){return typeof t=="string"?t:t?.message}function da(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const o=Jf(t.inst?._zod.def?.error?.(t))??Jf(e?.error?.(t))??Jf(n.customError?.(t))??Jf(n.localeError?.(t))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function by(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Mu(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const w3=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Om,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},E3=ie("$ZodError",w3),_3=ie("$ZodError",w3,{Parent:Error});function hO(t,e=n=>n.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function pO(t,e=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let a=n,s=0;for(;s<i.path.length;){const u=i.path[s];s===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(i))):a[u]=a[u]||{_errors:[]},a=a[u],s++}}};return r(t),n}const xy=t=>(e,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Zs;if(a.issues.length){const s=new(o?.Err??t)(a.issues.map(u=>da(u,i,fa())));throw b3(s,o?.callee),s}return a.value},wy=t=>async(e,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const s=new(o?.Err??t)(a.issues.map(u=>da(u,i,fa())));throw b3(s,o?.callee),s}return a.value},P0=t=>(e,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Zs;return i.issues.length?{success:!1,error:new(t??E3)(i.issues.map(a=>da(a,o,fa())))}:{success:!0,data:i.value}},mO=P0(_3),R0=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>da(a,o,fa())))}:{success:!0,data:i.value}},gO=R0(_3),yO=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xy(t)(e,n,o)},vO=t=>(e,n,r)=>xy(t)(e,n,r),bO=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wy(t)(e,n,o)},xO=t=>async(e,n,r)=>wy(t)(e,n,r),wO=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return P0(t)(e,n,o)},EO=t=>(e,n,r)=>P0(t)(e,n,r),_O=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return R0(t)(e,n,o)},CO=t=>async(e,n,r)=>R0(t)(e,n,r),AO=/^[cC][^\s-]{8,}$/,SO=/^[0-9a-z]+$/,IO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TO=/^[0-9a-vA-V]{20}$/,NO=/^[A-Za-z0-9]{27}$/,OO=/^[a-zA-Z0-9_-]{21}$/,PO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,RO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fb=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,DO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function MO(){return new RegExp(DO,"u")}const BO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,FO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,C3=/^[A-Za-z0-9_-]*$/,$O=/^\+[1-9]\d{6,14}$/,A3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",UO=new RegExp(`^${A3}$`);function S3(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function HO(t){return new RegExp(`^${S3(t)}$`)}function VO(t){const e=S3({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${A3}T(?:${r})$`)}const GO=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},WO=/^-?\d+$/,I3=/^-?\d+(?:\.\d+)?$/,ZO=/^(?:true|false)$/i,XO=/^[^A-Z]*$/,qO=/^[^a-z]*$/,Nr=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),T3={number:"number",bigint:"bigint",object:"date"},N3=ie("$ZodCheckLessThan",(t,e)=>{Nr.init(t,e);const n=T3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,i=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),O3=ie("$ZodCheckGreaterThan",(t,e)=>{Nr.init(t,e);const n=T3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,i=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),KO=ie("$ZodCheckMultipleOf",(t,e)=>{Nr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):eO(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),YO=ie("$ZodCheckNumberFormat",(t,e)=>{Nr.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[o,i]=iO[e.format];t._zod.onattach.push(a=>{const s=a._zod.bag;s.format=e.format,s.minimum=o,s.maximum=i,n&&(s.pattern=WO)}),t._zod.check=a=>{const s=a.value;if(n){if(!Number.isInteger(s)){a.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}s<o&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!e.abort}),s>i&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inclusive:!0,inst:t,continue:!e.abort})}}),QO=ie("$ZodCheckMaxLength",(t,e)=>{var n;Nr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!yy(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const a=by(o);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),JO=ie("$ZodCheckMinLength",(t,e)=>{var n;Nr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!yy(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const a=by(o);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),eP=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Nr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!yy(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,i=o.length;if(i===e.length)return;const a=by(o),s=i>e.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),k0=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Nr.init(t,e),t._zod.onattach.push(o=>{const i=o._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),tP=ie("$ZodCheckRegex",(t,e)=>{k0.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),nP=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=XO),k0.init(t,e)}),rP=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=qO),k0.init(t,e)}),oP=ie("$ZodCheckIncludes",(t,e)=>{Nr.init(t,e);const n=oc(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),iP=ie("$ZodCheckStartsWith",(t,e)=>{Nr.init(t,e);const n=new RegExp(`^${oc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),aP=ie("$ZodCheckEndsWith",(t,e)=>{Nr.init(t,e);const n=new RegExp(`.*${oc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),sP=ie("$ZodCheckOverwrite",(t,e)=>{Nr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class cP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),i=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,o.join(`
`))}}const uP={major:4,minor:3,patch:6},Kt=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=uP;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const i of o._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const o=(a,s,u)=>{let f=Bs(a),d;for(const h of s){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(f)continue;const m=a.issues.length,g=h._zod.check(a);if(g instanceof Promise&&u?.async===!1)throw new Zs;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==m&&(f||(f=Bs(a,m)))});else{if(a.issues.length===m)continue;f||(f=Bs(a,m))}}return d?d.then(()=>a):a},i=(a,s,u)=>{if(Bs(a))return a.aborted=!0,a;const f=o(s,r,u);if(f instanceof Promise){if(u.async===!1)throw new Zs;return f.then(d=>t._zod.parse(d,u))}return t._zod.parse(f,u)};t._zod.run=(a,s)=>{if(s.skipChecks)return t._zod.parse(a,s);if(s.direction==="backward"){const f=t._zod.parse({value:a.value,issues:[]},{...s,skipChecks:!0});return f instanceof Promise?f.then(d=>i(d,a,s)):i(f,a,s)}const u=t._zod.parse(a,s);if(u instanceof Promise){if(s.async===!1)throw new Zs;return u.then(f=>o(f,r,s))}return o(u,r,s)}}Mt(t,"~standard",()=>({validate:o=>{try{const i=mO(t,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return gO(t,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),Ey=ie("$ZodString",(t,e)=>{Kt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??GO(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Yt=ie("$ZodStringFormat",(t,e)=>{k0.init(t,e),Ey.init(t,e)}),lP=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=RO),Yt.init(t,e)}),fP=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=fb(r))}else e.pattern??(e.pattern=fb());Yt.init(t,e)}),dP=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=kO),Yt.init(t,e)}),hP=ie("$ZodURL",(t,e)=>{Yt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),pP=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=MO()),Yt.init(t,e)}),mP=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=OO),Yt.init(t,e)}),gP=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=AO),Yt.init(t,e)}),yP=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=SO),Yt.init(t,e)}),vP=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=IO),Yt.init(t,e)}),bP=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=TO),Yt.init(t,e)}),xP=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=NO),Yt.init(t,e)}),wP=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=VO(e)),Yt.init(t,e)}),EP=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=UO),Yt.init(t,e)}),_P=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=HO(e)),Yt.init(t,e)}),CP=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=PO),Yt.init(t,e)}),AP=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=BO),Yt.init(t,e),t._zod.bag.format="ipv4"}),SP=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=LO),Yt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),IP=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=FO),Yt.init(t,e)}),TP=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=jO),Yt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function P3(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const NP=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=zO),Yt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{P3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function OP(t){if(!C3.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return P3(n)}const PP=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=C3),Yt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{OP(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),RP=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=$O),Yt.init(t,e)});function kP(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const DP=ie("$ZodJWT",(t,e)=>{Yt.init(t,e),t._zod.check=n=>{kP(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),R3=ie("$ZodNumber",(t,e)=>{Kt.init(t,e),t._zod.pattern=t._zod.bag.pattern??I3,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...i?{received:i}:{}}),n}}),MP=ie("$ZodNumberFormat",(t,e)=>{YO.init(t,e),R3.init(t,e)}),BP=ie("$ZodBoolean",(t,e)=>{Kt.init(t,e),t._zod.pattern=ZO,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:t}),n}}),LP=ie("$ZodAny",(t,e)=>{Kt.init(t,e),t._zod.parse=n=>n}),FP=ie("$ZodUnknown",(t,e)=>{Kt.init(t,e),t._zod.parse=n=>n}),jP=ie("$ZodNever",(t,e)=>{Kt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function db(t,e,n){t.issues.length&&e.issues.push(...Ls(n,t.issues)),e.value[n]=t.value}const zP=ie("$ZodArray",(t,e)=>{Kt.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const i=[];for(let a=0;a<o.length;a++){const s=o[a],u=e.element._zod.run({value:s,issues:[]},r);u instanceof Promise?i.push(u.then(f=>db(f,n,a))):db(u,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function Hd(t,e,n,r,o){if(t.issues.length){if(o&&!(n in r))return;e.issues.push(...Ls(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function k3(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=oO(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function D3(t,e,n,r,o,i){const a=[],s=o.keySet,u=o.catchall._zod,f=u.def.type,d=u.optout==="optional";for(const h in e){if(s.has(h))continue;if(f==="never"){a.push(h);continue}const m=u.run({value:e[h],issues:[]},r);m instanceof Promise?t.push(m.then(g=>Hd(g,n,h,e,d))):Hd(m,n,h,e,d)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const $P=ie("$ZodObject",(t,e)=>{if(Kt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const s=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...s};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=gy(()=>k3(e));Mt(t._zod,"propValues",()=>{const s=e.shape,u={};for(const f in s){const d=s[f]._zod;if(d.values){u[f]??(u[f]=new Set);for(const h of d.values)u[f].add(h)}}return u});const o=Ud,i=e.catchall;let a;t._zod.parse=(s,u)=>{a??(a=r.value);const f=s.value;if(!o(f))return s.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),s;s.value={};const d=[],h=a.shape;for(const m of a.keys){const g=h[m],b=g._zod.optout==="optional",w=g._zod.run({value:f[m],issues:[]},u);w instanceof Promise?d.push(w.then(_=>Hd(_,s,m,f,b))):Hd(w,s,m,f,b)}return i?D3(d,f,s,u,r.value,t):d.length?Promise.all(d).then(()=>s):s}}),UP=ie("$ZodObjectJIT",(t,e)=>{$P.init(t,e);const n=t._zod.parse,r=gy(()=>k3(e)),o=m=>{const g=new cP(["shape","payload","ctx"]),b=r.value,w=I=>{const T=lb(I);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};g.write("const input = payload.value;");const _=Object.create(null);let C=0;for(const I of b.keys)_[I]=`key_${C++}`;g.write("const newResult = {};");for(const I of b.keys){const T=_[I],O=lb(I),k=m[I]?._zod?.optout==="optional";g.write(`const ${T} = ${w(I)};`),k?g.write(`
        if (${T}.issues.length) {
          if (${O} in input) {
            payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${O}, ...iss.path] : [${O}]
            })));
          }
        }
        
        if (${T}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${T}.value;
        }
        
      `):g.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        if (${T}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${T}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const A=g.compile();return(I,T)=>A(m,I,T)};let i;const a=Ud,s=!y3.jitless,f=s&&nO.value,d=e.catchall;let h;t._zod.parse=(m,g)=>{h??(h=r.value);const b=m.value;return a(b)?s&&f&&g?.async===!1&&g.jitless!==!0?(i||(i=o(e.shape)),m=i(m,g),d?D3([],b,m,g,h,t):m):n(m,g):(m.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),m)}});function hb(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const o=t.filter(i=>!Bs(i));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(a=>da(a,r,fa())))}),e)}const HP=ie("$ZodUnion",(t,e)=>{Kt.init(t,e),Mt(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Mt(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Mt(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),Mt(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>vy(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const s=[];for(const u of e.options){const f=u._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)s.push(f),a=!0;else{if(f.issues.length===0)return f;s.push(f)}}return a?Promise.all(s).then(u=>hb(u,o,t,i)):hb(s,o,t,i)}}),VP=ie("$ZodIntersection",(t,e)=>{Kt.init(t,e),t._zod.parse=(n,r)=>{const o=n.value,i=e.left._zod.run({value:o,issues:[]},r),a=e.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,f])=>pb(n,u,f)):pb(n,i,a)}});function Pm(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(rc(t)&&rc(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(const i of r){const a=Pm(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};o[i]=a.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=e[r],a=Pm(o,i);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function pb(t,e,n){const r=new Map;let o;for(const s of e.issues)if(s.code==="unrecognized_keys"){o??(o=s);for(const u of s.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else t.issues.push(s);for(const s of n.issues)if(s.code==="unrecognized_keys")for(const u of s.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else t.issues.push(s);const i=[...r].filter(([,s])=>s.l&&s.r).map(([s])=>s);if(i.length&&o&&t.issues.push({...o,keys:i}),Bs(t))return t;const a=Pm(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const GP=ie("$ZodRecord",(t,e)=>{Kt.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!rc(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:t}),n;const i=[],a=e.keyType._zod.values;if(a){n.value={};const s=new Set;for(const f of a)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){s.add(typeof f=="number"?f.toString():f);const d=e.valueType._zod.run({value:o[f],issues:[]},r);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&n.issues.push(...Ls(f,h.issues)),n.value[f]=h.value})):(d.issues.length&&n.issues.push(...Ls(f,d.issues)),n.value[f]=d.value)}let u;for(const f in o)s.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:t,keys:u})}else{n.value={};for(const s of Reflect.ownKeys(o)){if(s==="__proto__")continue;let u=e.keyType._zod.run({value:s,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof s=="string"&&I3.test(s)&&u.issues.length){const h=e.keyType._zod.run({value:Number(s),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){e.mode==="loose"?n.value[s]=o[s]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>da(h,r,fa())),input:s,path:[s],inst:t});continue}const d=e.valueType._zod.run({value:o[s],issues:[]},r);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&n.issues.push(...Ls(s,h.issues)),n.value[u.value]=h.value})):(d.issues.length&&n.issues.push(...Ls(s,d.issues)),n.value[u.value]=d.value)}}return i.length?Promise.all(i).then(()=>n):n}}),WP=ie("$ZodEnum",(t,e)=>{Kt.init(t,e);const n=v3(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>rO.has(typeof o)).map(o=>typeof o=="string"?oc(o):o.toString()).join("|")})$`),t._zod.parse=(o,i)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:t}),o}}),ZP=ie("$ZodLiteral",(t,e)=>{if(Kt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?oc(r):r?oc(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),XP=ie("$ZodTransform",(t,e)=>{Kt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new g3(t.constructor.name);const o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new Zs;return n.value=o,n}});function mb(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const M3=ie("$ZodOptional",(t,e)=>{Kt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Mt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Mt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${vy(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>mb(i,n.value)):mb(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),qP=ie("$ZodExactOptional",(t,e)=>{M3.init(t,e),Mt(t._zod,"values",()=>e.innerType._zod.values),Mt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),KP=ie("$ZodNullable",(t,e)=>{Kt.init(t,e),Mt(t._zod,"optin",()=>e.innerType._zod.optin),Mt(t._zod,"optout",()=>e.innerType._zod.optout),Mt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${vy(n.source)}|null)$`):void 0}),Mt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),YP=ie("$ZodDefault",(t,e)=>{Kt.init(t,e),t._zod.optin="optional",Mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>gb(i,e)):gb(o,e)}});function gb(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const QP=ie("$ZodPrefault",(t,e)=>{Kt.init(t,e),t._zod.optin="optional",Mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),JP=ie("$ZodNonOptional",(t,e)=>{Kt.init(t,e),Mt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>yb(i,t)):yb(o,t)}});function yb(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const eR=ie("$ZodCatch",(t,e)=>{Kt.init(t,e),Mt(t._zod,"optin",()=>e.innerType._zod.optin),Mt(t._zod,"optout",()=>e.innerType._zod.optout),Mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>da(a,r,fa()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(i=>da(i,r,fa()))},input:n.value}),n.issues=[]),n)}}),tR=ie("$ZodPipe",(t,e)=>{Kt.init(t,e),Mt(t._zod,"values",()=>e.in._zod.values),Mt(t._zod,"optin",()=>e.in._zod.optin),Mt(t._zod,"optout",()=>e.out._zod.optout),Mt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(a=>ed(a,e.in,r)):ed(i,e.in,r)}const o=e.in._zod.run(n,r);return o instanceof Promise?o.then(i=>ed(i,e.out,r)):ed(o,e.out,r)}});function ed(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const nR=ie("$ZodReadonly",(t,e)=>{Kt.init(t,e),Mt(t._zod,"propValues",()=>e.innerType._zod.propValues),Mt(t._zod,"values",()=>e.innerType._zod.values),Mt(t._zod,"optin",()=>e.innerType?._zod?.optin),Mt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(vb):vb(o)}});function vb(t){return t.value=Object.freeze(t.value),t}const rR=ie("$ZodCustom",(t,e)=>{Nr.init(t,e),Kt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(i=>bb(i,n,r,t));bb(o,n,r,t)}});function bb(t,e,n,r){if(!t){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(Mu(o))}}var xb;class oR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function iR(){return new oR}(xb=globalThis).__zod_globalRegistry??(xb.__zod_globalRegistry=iR());const wu=globalThis.__zod_globalRegistry;function aR(t,e){return new t({type:"string",...Fe(e)})}function sR(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function wb(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function cR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function uR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function lR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function fR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function dR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function hR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function pR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function mR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function gR(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function yR(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function vR(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function bR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function xR(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function wR(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function ER(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function _R(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function CR(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function AR(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function SR(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function IR(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function TR(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function NR(t,e){return new t({type:"string",format:"date",check:"string_format",...Fe(e)})}function OR(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function PR(t,e){return new t({type:"string",format:"duration",check:"string_format",...Fe(e)})}function RR(t,e){return new t({type:"number",checks:[],...Fe(e)})}function kR(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function DR(t,e){return new t({type:"boolean",...Fe(e)})}function MR(t){return new t({type:"any"})}function BR(t){return new t({type:"unknown"})}function LR(t,e){return new t({type:"never",...Fe(e)})}function Eb(t,e){return new N3({check:"less_than",...Fe(e),value:t,inclusive:!1})}function Tp(t,e){return new N3({check:"less_than",...Fe(e),value:t,inclusive:!0})}function _b(t,e){return new O3({check:"greater_than",...Fe(e),value:t,inclusive:!1})}function Np(t,e){return new O3({check:"greater_than",...Fe(e),value:t,inclusive:!0})}function Cb(t,e){return new KO({check:"multiple_of",...Fe(e),value:t})}function B3(t,e){return new QO({check:"max_length",...Fe(e),maximum:t})}function Vd(t,e){return new JO({check:"min_length",...Fe(e),minimum:t})}function L3(t,e){return new eP({check:"length_equals",...Fe(e),length:t})}function FR(t,e){return new tP({check:"string_format",format:"regex",...Fe(e),pattern:t})}function jR(t){return new nP({check:"string_format",format:"lowercase",...Fe(t)})}function zR(t){return new rP({check:"string_format",format:"uppercase",...Fe(t)})}function $R(t,e){return new oP({check:"string_format",format:"includes",...Fe(e),includes:t})}function UR(t,e){return new iP({check:"string_format",format:"starts_with",...Fe(e),prefix:t})}function HR(t,e){return new aP({check:"string_format",format:"ends_with",...Fe(e),suffix:t})}function Cc(t){return new sP({check:"overwrite",tx:t})}function VR(t){return Cc(e=>e.normalize(t))}function GR(){return Cc(t=>t.trim())}function WR(){return Cc(t=>t.toLowerCase())}function ZR(){return Cc(t=>t.toUpperCase())}function XR(){return Cc(t=>tO(t))}function qR(t,e,n){return new t({type:"array",element:e,...Fe(n)})}function KR(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Fe(n)})}function YR(t){const e=QR(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Mu(r,n.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(Mu(o))}},t(n.value,n)));return e}function QR(t,e){const n=new Nr({check:"custom",...Fe(e)});return n._zod.check=t,n}function F3(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??wu,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function yn(t,e,n={path:[],schemaPath:[]}){var r;const o=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const s=t._zod.toJSONSchema?.();if(s)a.schema=s;else{const d={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,d);else{const m=a.schema,g=e.processors[o.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);g(t,e,m,d)}const h=t._zod.parent;h&&(a.ref||(a.ref=h),yn(h,e,d),e.seen.get(h).isParent=!0)}const u=e.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),e.io==="input"&&ur(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function j3(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const a of t.seen.entries()){const s=t.metadataRegistry.get(a[0])?.id;if(s){const u=r.get(s);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${s}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(s,a[0])}}const o=a=>{const s=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const h=t.external.registry.get(a[0])?.id,m=t.external.uri??(b=>b);if(h)return{ref:m(h)};const g=a[1].defId??a[1].schema.id??`schema${t.counter++}`;return a[1].defId=g,{defId:g,ref:`${m("__shared")}#/${s}/${g}`}}if(a[1]===n)return{ref:"#"};const f=`#/${s}/`,d=a[1].schema.id??`__schema${t.counter++}`;return{defId:d,ref:f+d}},i=a=>{if(a[1].schema.$ref)return;const s=a[1],{ref:u,defId:f}=o(a);s.def={...s.schema},f&&(s.defId=f);const d=s.schema;for(const h in d)delete d[h];d.$ref=u};if(t.cycles==="throw")for(const a of t.seen.entries()){const s=a[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of t.seen.entries()){const s=a[1];if(e===a[0]){i(a);continue}if(t.external){const f=t.external.registry.get(a[0])?.id;if(e!==a[0]&&f){i(a);continue}}if(t.metadataRegistry.get(a[0])?.id){i(a);continue}if(s.cycle){i(a);continue}if(s.count>1&&t.reused==="ref"){i(a);continue}}}function z3(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=a=>{const s=t.seen.get(a);if(s.ref===null)return;const u=s.def??s.schema,f={...u},d=s.ref;if(s.ref=null,d){r(d);const m=t.seen.get(d),g=m.schema;if(g.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(g)):Object.assign(u,g),Object.assign(u,f),a._zod.parent===d)for(const w in u)w==="$ref"||w==="allOf"||w in f||delete u[w];if(g.$ref&&m.def)for(const w in u)w==="$ref"||w==="allOf"||w in m.def&&JSON.stringify(u[w])===JSON.stringify(m.def[w])&&delete u[w]}const h=a._zod.parent;if(h&&h!==d){r(h);const m=t.seen.get(h);if(m?.schema.$ref&&(u.$ref=m.schema.$ref,m.def))for(const g in u)g==="$ref"||g==="allOf"||g in m.def&&JSON.stringify(u[g])===JSON.stringify(m.def[g])&&delete u[g]}t.override({zodSchema:a,jsonSchema:u,path:s.path??[]})};for(const a of[...t.seen.entries()].reverse())r(a[0]);const o={};if(t.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const a=t.external.registry.get(e)?.id;if(!a)throw new Error("Schema is missing an `id` property");o.$id=t.external.uri(a)}Object.assign(o,n.def??n.schema);const i=t.external?.defs??{};for(const a of t.seen.entries()){const s=a[1];s.def&&s.defId&&(i[s.defId]=s.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const a=JSON.parse(JSON.stringify(o));return Object.defineProperty(a,"~standard",{value:{...e["~standard"],jsonSchema:{input:Gd(e,"input",t.processors),output:Gd(e,"output",t.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function ur(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return ur(r.element,n);if(r.type==="set")return ur(r.valueType,n);if(r.type==="lazy")return ur(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return ur(r.innerType,n);if(r.type==="intersection")return ur(r.left,n)||ur(r.right,n);if(r.type==="record"||r.type==="map")return ur(r.keyType,n)||ur(r.valueType,n);if(r.type==="pipe")return ur(r.in,n)||ur(r.out,n);if(r.type==="object"){for(const o in r.shape)if(ur(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(ur(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(ur(o,n))return!0;return!!(r.rest&&ur(r.rest,n))}return!1}const JR=(t,e={})=>n=>{const r=F3({...n,processors:e});return yn(t,r),j3(r,t),z3(r,t)},Gd=(t,e,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},a=F3({...o??{},target:i,io:e,processors:n});return yn(t,a),j3(a,t),z3(a,t)},ek={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},tk=(t,e,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:a,format:s,patterns:u,contentEncoding:f}=t._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof a=="number"&&(o.maxLength=a),s&&(o.format=ek[s]??s,o.format===""&&delete o.format,s==="time"&&delete o.format),f&&(o.contentEncoding=f),u&&u.size>0){const d=[...u];d.length===1?o.pattern=d[0].source:d.length>1&&(o.allOf=[...d.map(h=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},nk=(t,e,n,r)=>{const o=n,{minimum:i,maximum:a,format:s,multipleOf:u,exclusiveMaximum:f,exclusiveMinimum:d}=t._zod.bag;typeof s=="string"&&s.includes("int")?o.type="integer":o.type="number",typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.minimum=d,o.exclusiveMinimum=!0):o.exclusiveMinimum=d),typeof i=="number"&&(o.minimum=i,typeof d=="number"&&e.target!=="draft-04"&&(d>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof a=="number"&&(o.maximum=a,typeof f=="number"&&e.target!=="draft-04"&&(f<=a?delete o.maximum:delete o.exclusiveMaximum)),typeof u=="number"&&(o.multipleOf=u)},rk=(t,e,n,r)=>{n.type="boolean"},ok=(t,e,n,r)=>{n.not={}},ik=(t,e,n,r)=>{},ak=(t,e,n,r)=>{},sk=(t,e,n,r)=>{const o=t._zod.def,i=v3(o.entries);i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),n.enum=i},ck=(t,e,n,r)=>{const o=t._zod.def,i=[];for(const a of o.values)if(a===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];n.type=a===null?"null":typeof a,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[a]:n.const=a}else i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),i.every(a=>typeof a=="boolean")&&(n.type="boolean"),i.every(a=>a===null)&&(n.type="null"),n.enum=i},uk=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},lk=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},fk=(t,e,n,r)=>{const o=n,i=t._zod.def,{minimum:a,maximum:s}=t._zod.bag;typeof a=="number"&&(o.minItems=a),typeof s=="number"&&(o.maxItems=s),o.type="array",o.items=yn(i.element,e,{...r,path:[...r.path,"items"]})},dk=(t,e,n,r)=>{const o=n,i=t._zod.def;o.type="object",o.properties={};const a=i.shape;for(const f in a)o.properties[f]=yn(a[f],e,{...r,path:[...r.path,"properties",f]});const s=new Set(Object.keys(a)),u=new Set([...s].filter(f=>{const d=i.shape[f]._zod;return e.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(o.required=Array.from(u)),i.catchall?._zod.def.type==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=yn(i.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(o.additionalProperties=!1)},hk=(t,e,n,r)=>{const o=t._zod.def,i=o.inclusive===!1,a=o.options.map((s,u)=>yn(s,e,{...r,path:[...r.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=a:n.anyOf=a},pk=(t,e,n,r)=>{const o=t._zod.def,i=yn(o.left,e,{...r,path:[...r.path,"allOf",0]}),a=yn(o.right,e,{...r,path:[...r.path,"allOf",1]}),s=f=>"allOf"in f&&Object.keys(f).length===1,u=[...s(i)?i.allOf:[i],...s(a)?a.allOf:[a]];n.allOf=u},mk=(t,e,n,r)=>{const o=n,i=t._zod.def;o.type="object";const a=i.keyType,u=a._zod.bag?.patterns;if(i.mode==="loose"&&u&&u.size>0){const d=yn(i.valueType,e,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const h of u)o.patternProperties[h.source]=d}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(o.propertyNames=yn(i.keyType,e,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=yn(i.valueType,e,{...r,path:[...r.path,"additionalProperties"]});const f=a._zod.values;if(f){const d=[...f].filter(h=>typeof h=="string"||typeof h=="number");d.length>0&&(o.required=d)}},gk=(t,e,n,r)=>{const o=t._zod.def,i=yn(o.innerType,e,r),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},yk=(t,e,n,r)=>{const o=t._zod.def;yn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType},vk=(t,e,n,r)=>{const o=t._zod.def;yn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},bk=(t,e,n,r)=>{const o=t._zod.def;yn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},xk=(t,e,n,r)=>{const o=t._zod.def;yn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType;let a;try{a=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},wk=(t,e,n,r)=>{const o=t._zod.def,i=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;yn(i,e,r);const a=e.seen.get(t);a.ref=i},Ek=(t,e,n,r)=>{const o=t._zod.def;yn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,n.readOnly=!0},$3=(t,e,n,r)=>{const o=t._zod.def;yn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType},_k=ie("ZodISODateTime",(t,e)=>{wP.init(t,e),rn.init(t,e)});function Ck(t){return TR(_k,t)}const Ak=ie("ZodISODate",(t,e)=>{EP.init(t,e),rn.init(t,e)});function Sk(t){return NR(Ak,t)}const Ik=ie("ZodISOTime",(t,e)=>{_P.init(t,e),rn.init(t,e)});function Tk(t){return OR(Ik,t)}const Nk=ie("ZodISODuration",(t,e)=>{CP.init(t,e),rn.init(t,e)});function Ok(t){return PR(Nk,t)}const Pk=(t,e)=>{E3.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>pO(t,n)},flatten:{value:n=>hO(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Om,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Om,2)}},isEmpty:{get(){return t.issues.length===0}}})},ao=ie("ZodError",Pk,{Parent:Error}),Rk=xy(ao),kk=wy(ao),Dk=P0(ao),Mk=R0(ao),Bk=yO(ao),Lk=vO(ao),Fk=bO(ao),jk=xO(ao),zk=wO(ao),$k=EO(ao),Uk=_O(ao),Hk=CO(ao),Qt=ie("ZodType",(t,e)=>(Kt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Gd(t,"input"),output:Gd(t,"output")}}),t.toJSONSchema=JR(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ya(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>va(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>Rk(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>Dk(t,n,r),t.parseAsync=async(n,r)=>kk(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Mk(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>Bk(t,n,r),t.decode=(n,r)=>Lk(t,n,r),t.encodeAsync=async(n,r)=>Fk(t,n,r),t.decodeAsync=async(n,r)=>jk(t,n,r),t.safeEncode=(n,r)=>zk(t,n,r),t.safeDecode=(n,r)=>$k(t,n,r),t.safeEncodeAsync=async(n,r)=>Uk(t,n,r),t.safeDecodeAsync=async(n,r)=>Hk(t,n,r),t.refine=(n,r)=>t.check($D(n,r)),t.superRefine=n=>t.check(UD(n)),t.overwrite=n=>t.check(Cc(n)),t.optional=()=>Tb(t),t.exactOptional=()=>TD(t),t.nullable=()=>Nb(t),t.nullish=()=>Tb(Nb(t)),t.nonoptional=n=>DD(t,n),t.array=()=>_y(t),t.or=n=>V3([t,n]),t.and=n=>xD(t,n),t.transform=n=>Ob(t,SD(n)),t.default=n=>PD(t,n),t.prefault=n=>kD(t,n),t.catch=n=>BD(t,n),t.pipe=n=>Ob(t,n),t.readonly=()=>jD(t),t.describe=n=>{const r=t.clone();return wu.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return wu.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return wu.get(t);const r=t.clone();return wu.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),U3=ie("_ZodString",(t,e)=>{Ey.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(r,o,i)=>tk(t,r,o);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(FR(...r)),t.includes=(...r)=>t.check($R(...r)),t.startsWith=(...r)=>t.check(UR(...r)),t.endsWith=(...r)=>t.check(HR(...r)),t.min=(...r)=>t.check(Vd(...r)),t.max=(...r)=>t.check(B3(...r)),t.length=(...r)=>t.check(L3(...r)),t.nonempty=(...r)=>t.check(Vd(1,...r)),t.lowercase=r=>t.check(jR(r)),t.uppercase=r=>t.check(zR(r)),t.trim=()=>t.check(GR()),t.normalize=(...r)=>t.check(VR(...r)),t.toLowerCase=()=>t.check(WR()),t.toUpperCase=()=>t.check(ZR()),t.slugify=()=>t.check(XR())}),Vk=ie("ZodString",(t,e)=>{Ey.init(t,e),U3.init(t,e),t.email=n=>t.check(sR(Gk,n)),t.url=n=>t.check(dR(Wk,n)),t.jwt=n=>t.check(IR(sD,n)),t.emoji=n=>t.check(hR(Zk,n)),t.guid=n=>t.check(wb(Ab,n)),t.uuid=n=>t.check(cR(td,n)),t.uuidv4=n=>t.check(uR(td,n)),t.uuidv6=n=>t.check(lR(td,n)),t.uuidv7=n=>t.check(fR(td,n)),t.nanoid=n=>t.check(pR(Xk,n)),t.guid=n=>t.check(wb(Ab,n)),t.cuid=n=>t.check(mR(qk,n)),t.cuid2=n=>t.check(gR(Kk,n)),t.ulid=n=>t.check(yR(Yk,n)),t.base64=n=>t.check(CR(oD,n)),t.base64url=n=>t.check(AR(iD,n)),t.xid=n=>t.check(vR(Qk,n)),t.ksuid=n=>t.check(bR(Jk,n)),t.ipv4=n=>t.check(xR(eD,n)),t.ipv6=n=>t.check(wR(tD,n)),t.cidrv4=n=>t.check(ER(nD,n)),t.cidrv6=n=>t.check(_R(rD,n)),t.e164=n=>t.check(SR(aD,n)),t.datetime=n=>t.check(Ck(n)),t.date=n=>t.check(Sk(n)),t.time=n=>t.check(Tk(n)),t.duration=n=>t.check(Ok(n))});function wo(t){return aR(Vk,t)}const rn=ie("ZodStringFormat",(t,e)=>{Yt.init(t,e),U3.init(t,e)}),Gk=ie("ZodEmail",(t,e)=>{dP.init(t,e),rn.init(t,e)}),Ab=ie("ZodGUID",(t,e)=>{lP.init(t,e),rn.init(t,e)}),td=ie("ZodUUID",(t,e)=>{fP.init(t,e),rn.init(t,e)}),Wk=ie("ZodURL",(t,e)=>{hP.init(t,e),rn.init(t,e)}),Zk=ie("ZodEmoji",(t,e)=>{pP.init(t,e),rn.init(t,e)}),Xk=ie("ZodNanoID",(t,e)=>{mP.init(t,e),rn.init(t,e)}),qk=ie("ZodCUID",(t,e)=>{gP.init(t,e),rn.init(t,e)}),Kk=ie("ZodCUID2",(t,e)=>{yP.init(t,e),rn.init(t,e)}),Yk=ie("ZodULID",(t,e)=>{vP.init(t,e),rn.init(t,e)}),Qk=ie("ZodXID",(t,e)=>{bP.init(t,e),rn.init(t,e)}),Jk=ie("ZodKSUID",(t,e)=>{xP.init(t,e),rn.init(t,e)}),eD=ie("ZodIPv4",(t,e)=>{AP.init(t,e),rn.init(t,e)}),tD=ie("ZodIPv6",(t,e)=>{SP.init(t,e),rn.init(t,e)}),nD=ie("ZodCIDRv4",(t,e)=>{IP.init(t,e),rn.init(t,e)}),rD=ie("ZodCIDRv6",(t,e)=>{TP.init(t,e),rn.init(t,e)}),oD=ie("ZodBase64",(t,e)=>{NP.init(t,e),rn.init(t,e)}),iD=ie("ZodBase64URL",(t,e)=>{PP.init(t,e),rn.init(t,e)}),aD=ie("ZodE164",(t,e)=>{RP.init(t,e),rn.init(t,e)}),sD=ie("ZodJWT",(t,e)=>{DP.init(t,e),rn.init(t,e)}),H3=ie("ZodNumber",(t,e)=>{R3.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(r,o,i)=>nk(t,r,o),t.gt=(r,o)=>t.check(_b(r,o)),t.gte=(r,o)=>t.check(Np(r,o)),t.min=(r,o)=>t.check(Np(r,o)),t.lt=(r,o)=>t.check(Eb(r,o)),t.lte=(r,o)=>t.check(Tp(r,o)),t.max=(r,o)=>t.check(Tp(r,o)),t.int=r=>t.check(Sb(r)),t.safe=r=>t.check(Sb(r)),t.positive=r=>t.check(_b(0,r)),t.nonnegative=r=>t.check(Np(0,r)),t.negative=r=>t.check(Eb(0,r)),t.nonpositive=r=>t.check(Tp(0,r)),t.multipleOf=(r,o)=>t.check(Cb(r,o)),t.step=(r,o)=>t.check(Cb(r,o)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Bu(t){return RR(H3,t)}const cD=ie("ZodNumberFormat",(t,e)=>{MP.init(t,e),H3.init(t,e)});function Sb(t){return kR(cD,t)}const uD=ie("ZodBoolean",(t,e)=>{BP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>rk(t,n,r)});function lD(t){return DR(uD,t)}const fD=ie("ZodAny",(t,e)=>{LP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>ik()});function dD(){return MR(fD)}const hD=ie("ZodUnknown",(t,e)=>{FP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>ak()});function Ib(){return BR(hD)}const pD=ie("ZodNever",(t,e)=>{jP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>ok(t,n,r)});function mD(t){return LR(pD,t)}const gD=ie("ZodArray",(t,e)=>{zP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>fk(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(Vd(n,r)),t.nonempty=n=>t.check(Vd(1,n)),t.max=(n,r)=>t.check(B3(n,r)),t.length=(n,r)=>t.check(L3(n,r)),t.unwrap=()=>t.element});function _y(t,e){return qR(gD,t,e)}const yD=ie("ZodObject",(t,e)=>{UP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>dk(t,n,r,o),Mt(t,"shape",()=>e.shape),t.keyof=()=>_D(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Ib()}),t.loose=()=>t.clone({...t._zod.def,catchall:Ib()}),t.strict=()=>t.clone({...t._zod.def,catchall:mD()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>cO(t,n),t.safeExtend=n=>uO(t,n),t.merge=n=>lO(t,n),t.pick=n=>aO(t,n),t.omit=n=>sO(t,n),t.partial=(...n)=>fO(G3,t,n[0]),t.required=(...n)=>dO(W3,t,n[0])});function Wo(t,e){const n={type:"object",shape:t??{},...Fe(e)};return new yD(n)}const vD=ie("ZodUnion",(t,e)=>{HP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>hk(t,n,r,o),t.options=e.options});function V3(t,e){return new vD({type:"union",options:t,...Fe(e)})}const bD=ie("ZodIntersection",(t,e)=>{VP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>pk(t,n,r,o)});function xD(t,e){return new bD({type:"intersection",left:t,right:e})}const wD=ie("ZodRecord",(t,e)=>{GP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>mk(t,n,r,o),t.keyType=e.keyType,t.valueType=e.valueType});function ED(t,e,n){return new wD({type:"record",keyType:t,valueType:e,...Fe(n)})}const Rm=ie("ZodEnum",(t,e)=>{WP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(r,o,i)=>sk(t,r,o),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const i={};for(const a of r)if(n.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Rm({...e,checks:[],...Fe(o),entries:i})},t.exclude=(r,o)=>{const i={...e.entries};for(const a of r)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Rm({...e,checks:[],...Fe(o),entries:i})}});function _D(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Rm({type:"enum",entries:n,...Fe(e)})}const CD=ie("ZodLiteral",(t,e)=>{ZP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>ck(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function ha(t,e){return new CD({type:"literal",values:Array.isArray(t)?t:[t],...Fe(e)})}const AD=ie("ZodTransform",(t,e)=>{XP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>lk(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new g3(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Mu(i,n.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(Mu(a))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function SD(t){return new AD({type:"transform",transform:t})}const G3=ie("ZodOptional",(t,e)=>{M3.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function Tb(t){return new G3({type:"optional",innerType:t})}const ID=ie("ZodExactOptional",(t,e)=>{qP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function TD(t){return new ID({type:"optional",innerType:t})}const ND=ie("ZodNullable",(t,e)=>{KP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>gk(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function Nb(t){return new ND({type:"nullable",innerType:t})}const OD=ie("ZodDefault",(t,e)=>{YP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>vk(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function PD(t,e){return new OD({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():x3(e)}})}const RD=ie("ZodPrefault",(t,e)=>{QP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>bk(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function kD(t,e){return new RD({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():x3(e)}})}const W3=ie("ZodNonOptional",(t,e)=>{JP.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>yk(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function DD(t,e){return new W3({type:"nonoptional",innerType:t,...Fe(e)})}const MD=ie("ZodCatch",(t,e)=>{eR.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>xk(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function BD(t,e){return new MD({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const LD=ie("ZodPipe",(t,e)=>{tR.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>wk(t,n,r,o),t.in=e.in,t.out=e.out});function Ob(t,e){return new LD({type:"pipe",in:t,out:e})}const FD=ie("ZodReadonly",(t,e)=>{nR.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>Ek(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function jD(t){return new FD({type:"readonly",innerType:t})}const zD=ie("ZodCustom",(t,e)=>{rR.init(t,e),Qt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>uk(t,n)});function $D(t,e={}){return KR(zD,t,e)}function UD(t){return YR(t)}var Op={exports:{}},Pb;function HD(){return Pb||(Pb=1,(function(t){var e=(function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(u,f){if(!i[u]){i[u]={};for(var d=0;d<u.length;d++)i[u][u.charAt(d)]=d}return i[u][f]}var s={compressToBase64:function(u){if(u==null)return"";var f=s._compress(u,6,function(d){return r.charAt(d)});switch(f.length%4){default:case 0:return f;case 1:return f+"===";case 2:return f+"==";case 3:return f+"="}},decompressFromBase64:function(u){return u==null?"":u==""?null:s._decompress(u.length,32,function(f){return a(r,u.charAt(f))})},compressToUTF16:function(u){return u==null?"":s._compress(u,15,function(f){return n(f+32)})+" "},decompressFromUTF16:function(u){return u==null?"":u==""?null:s._decompress(u.length,16384,function(f){return u.charCodeAt(f)-32})},compressToUint8Array:function(u){for(var f=s.compress(u),d=new Uint8Array(f.length*2),h=0,m=f.length;h<m;h++){var g=f.charCodeAt(h);d[h*2]=g>>>8,d[h*2+1]=g%256}return d},decompressFromUint8Array:function(u){if(u==null)return s.decompress(u);for(var f=new Array(u.length/2),d=0,h=f.length;d<h;d++)f[d]=u[d*2]*256+u[d*2+1];var m=[];return f.forEach(function(g){m.push(n(g))}),s.decompress(m.join(""))},compressToEncodedURIComponent:function(u){return u==null?"":s._compress(u,6,function(f){return o.charAt(f)})},decompressFromEncodedURIComponent:function(u){return u==null?"":u==""?null:(u=u.replace(/ /g,"+"),s._decompress(u.length,32,function(f){return a(o,u.charAt(f))}))},compress:function(u){return s._compress(u,16,function(f){return n(f)})},_compress:function(u,f,d){if(u==null)return"";var h,m,g={},b={},w="",_="",C="",A=2,I=3,T=2,O=[],P=0,k=0,R;for(R=0;R<u.length;R+=1)if(w=u.charAt(R),Object.prototype.hasOwnProperty.call(g,w)||(g[w]=I++,b[w]=!0),_=C+w,Object.prototype.hasOwnProperty.call(g,_))C=_;else{if(Object.prototype.hasOwnProperty.call(b,C)){if(C.charCodeAt(0)<256){for(h=0;h<T;h++)P=P<<1,k==f-1?(k=0,O.push(d(P)),P=0):k++;for(m=C.charCodeAt(0),h=0;h<8;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1}else{for(m=1,h=0;h<T;h++)P=P<<1|m,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=0;for(m=C.charCodeAt(0),h=0;h<16;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1}A--,A==0&&(A=Math.pow(2,T),T++),delete b[C]}else for(m=g[C],h=0;h<T;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1;A--,A==0&&(A=Math.pow(2,T),T++),g[_]=I++,C=String(w)}if(C!==""){if(Object.prototype.hasOwnProperty.call(b,C)){if(C.charCodeAt(0)<256){for(h=0;h<T;h++)P=P<<1,k==f-1?(k=0,O.push(d(P)),P=0):k++;for(m=C.charCodeAt(0),h=0;h<8;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1}else{for(m=1,h=0;h<T;h++)P=P<<1|m,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=0;for(m=C.charCodeAt(0),h=0;h<16;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1}A--,A==0&&(A=Math.pow(2,T),T++),delete b[C]}else for(m=g[C],h=0;h<T;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1;A--,A==0&&(A=Math.pow(2,T),T++)}for(m=2,h=0;h<T;h++)P=P<<1|m&1,k==f-1?(k=0,O.push(d(P)),P=0):k++,m=m>>1;for(;;)if(P=P<<1,k==f-1){O.push(d(P));break}else k++;return O.join("")},decompress:function(u){return u==null?"":u==""?null:s._decompress(u.length,32768,function(f){return u.charCodeAt(f)})},_decompress:function(u,f,d){var h=[],m=4,g=4,b=3,w="",_=[],C,A,I,T,O,P,k,R={val:d(0),position:f,index:1};for(C=0;C<3;C+=1)h[C]=C;for(I=0,O=Math.pow(2,2),P=1;P!=O;)T=R.val&R.position,R.position>>=1,R.position==0&&(R.position=f,R.val=d(R.index++)),I|=(T>0?1:0)*P,P<<=1;switch(I){case 0:for(I=0,O=Math.pow(2,8),P=1;P!=O;)T=R.val&R.position,R.position>>=1,R.position==0&&(R.position=f,R.val=d(R.index++)),I|=(T>0?1:0)*P,P<<=1;k=n(I);break;case 1:for(I=0,O=Math.pow(2,16),P=1;P!=O;)T=R.val&R.position,R.position>>=1,R.position==0&&(R.position=f,R.val=d(R.index++)),I|=(T>0?1:0)*P,P<<=1;k=n(I);break;case 2:return""}for(h[3]=k,A=k,_.push(k);;){if(R.index>u)return"";for(I=0,O=Math.pow(2,b),P=1;P!=O;)T=R.val&R.position,R.position>>=1,R.position==0&&(R.position=f,R.val=d(R.index++)),I|=(T>0?1:0)*P,P<<=1;switch(k=I){case 0:for(I=0,O=Math.pow(2,8),P=1;P!=O;)T=R.val&R.position,R.position>>=1,R.position==0&&(R.position=f,R.val=d(R.index++)),I|=(T>0?1:0)*P,P<<=1;h[g++]=n(I),k=g-1,m--;break;case 1:for(I=0,O=Math.pow(2,16),P=1;P!=O;)T=R.val&R.position,R.position>>=1,R.position==0&&(R.position=f,R.val=d(R.index++)),I|=(T>0?1:0)*P,P<<=1;h[g++]=n(I),k=g-1,m--;break;case 2:return _.join("")}if(m==0&&(m=Math.pow(2,b),b++),h[k])w=h[k];else if(k===g)w=A+A.charAt(0);else return null;_.push(w),h[g++]=A+w.charAt(0),m--,A=w,m==0&&(m=Math.pow(2,b),b++)}}};return s})();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(Op)),Op.exports}var Z3=HD();const km="cointrol://share/v1/",Cy=wo().regex(/^0x[a-fA-F0-9]{40}$/,"Invalid address"),X3=Wo({chainId:Bu().int().positive(),address:Cy}),D0=Wo({createdAt:Bu().int().optional(),source:wo().optional(),note:wo().optional()}).optional(),VD=Wo({v:ha(1),t:ha("contact"),data:Wo({name:wo().min(1),surname:wo().optional(),wallets:_y(X3).optional()}),meta:D0}),GD=Wo({v:ha(1),t:ha("contract"),data:Wo({name:wo().min(1),address:Cy,chainId:Bu().int().positive(),metadata:ED(wo(),dD()).optional(),abiOmitted:lD().optional()}),meta:D0}),WD=Wo({v:ha(1),t:ha("profile"),data:Wo({name:wo().min(1),wallets:_y(X3).min(1)}),meta:D0}),ZD=Wo({v:ha(1),t:ha("coin"),data:Wo({name:wo().min(1),symbol:wo().min(1),decimals:Bu().int().nonnegative(),chainId:Bu().int().positive(),address:Cy,type:wo().min(1)}),meta:D0}),XD=V3([VD,GD,WD,ZD]);function Dm(t){const e=JSON.stringify(t),n=Z3.compressToEncodedURIComponent(e);return`${km}${n}`}function qD(t){const e=t.startsWith(km)?t.slice(km.length):t,n=Z3.decompressFromEncodedURIComponent(e);if(!n)throw new Error("Invalid or unsupported QR payload");if(n.length>2e5)throw new Error("Payload too large");const r=JSON.parse(n);return XD.parse(r)}const KD=2800;function M0({payload:t,onClose:e}){const n=Dm(t),r=n.length>KD;return typeof document>"u"?null:un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:e,style:{position:"fixed",inset:0,zIndex:2147483646,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)"}}),y.jsxs("div",{role:"dialog","aria-modal":"true",className:`
          rounded-2xl
          border border-neutral-200
          bg-[#fffdf7]
          text-neutral-900
          shadow-2xl
        `,style:{position:"fixed",zIndex:2147483647,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(420px, calc(100vw - 32px))",padding:20},onClick:o=>o.stopPropagation(),children:[y.jsxs("div",{className:"text-lg font-semibold mb-3 text-center",children:["Share ",t.t,": ",t.data.name]}),y.jsx("div",{className:"mt-4 flex justify-end gap-2"}),y.jsx("br",{}),y.jsx("div",{className:"mt-2 flex justify-center",children:r?y.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700 max-w-xs text-center",children:"This contract's data is too large to encode as a QR code, even after stripping the ABI. Try reducing the amount of metadata stored on this contract."}):y.jsx("div",{className:"bg-white p-3 rounded-lg border shadow-sm",children:y.jsx(JN,{value:n,size:240})})}),y.jsx("div",{className:"mt-4 flex justify-end",children:y.jsx("button",{type:"button",className:"rounded bg-black px-3 py-2 text-white",onClick:e,children:"Close"})})]})]}),document.body)}function q3(t){const e=new Map;for(const n of t){const r=`${n.chainId}:${n.address.toLowerCase()}`;e.has(r)||e.set(r,{chainId:n.chainId,address:n.address})}return[...e.values()]}function YD(t){return{v:1,t:"contact",data:{name:t.name,surname:t.surname,wallets:t.wallets?q3(t.wallets):void 0},meta:{createdAt:Date.now(),source:"Cointrol"}}}const Rb=2800;function QD(t){const e={name:t.name,address:t.address,chainId:t.chainId},n=()=>({createdAt:Date.now(),source:"Cointrol"});if(t.metadata){const o={v:1,t:"contract",data:{...e,metadata:t.metadata},meta:n()};if(Dm(o).length<=Rb)return o;const{ABI:i,abi:a,...s}=t.metadata,u=i!==void 0||a!==void 0;if(Object.keys(s).length>0){const d={v:1,t:"contract",data:{...e,metadata:s,abiOmitted:u||void 0},meta:n()};if(Dm(d).length<=Rb)return d}}const r=!!(t.metadata?.ABI||t.metadata?.abi);return{v:1,t:"contract",data:{...e,abiOmitted:r||void 0},meta:n()}}function JD(t,e,n){const r=q3(e.map(o=>({chainId:o.chainId,address:o.address})));return{v:1,t:"profile",data:{name:t,wallets:r},meta:{createdAt:Date.now(),source:"Cointrol"}}}function eM(t){return{v:1,t:"coin",data:{name:t.name,symbol:t.symbol,decimals:t.decimals,chainId:t.chainId,address:t.address,type:t.type},meta:{createdAt:Date.now(),source:"Cointrol"}}}function tM(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),[d,h]=S.useState(!1),[m,g]=S.useState(null),[b,w]=S.useState(null),[_,C]=S.useState(""),[A,I]=S.useState(""),[T,O]=S.useState(1),[P,k]=S.useState([]),[R,z]=S.useState(""),[F,U]=S.useState(""),[H,Y]=S.useState(null),ae=/^0x[0-9a-fA-F]{40}$/,X=/^[a-z0-9-]+\.eth$/i,q={1:"Ethereum",11155111:"Sepolia"},{address:re,addAddress:L,updateAddress:K}=ty(),{contracts:ee,loading:M,error:V,addContract:se,deleteContract:de,updateContract:xe}=UN({query:t,sortMode:n,tags:o,tagMode:a});function we({sortMode:ce,setSortMode:te,tagSearch:be,setTagSearch:ze,setTags:qe,tagMode:We,setTagSearchMode:mt}){const[vt,bt]=S.useState(!1),on=S.useRef(null),[an,ge]=S.useState({top:0,left:0,width:320}),Be=()=>bt(!1),tt=S.useCallback(()=>{if(!on.current)return;const ye=on.current.getBoundingClientRect(),Se=8,Ze=Math.min(360,window.innerWidth-Se*2),ot=ye.bottom+8,Je=ye.right-Ze,dt=Math.min(Math.max(Se,Je),window.innerWidth-Ze-Se);ge({top:ot,left:dt,width:Ze})},[]),ne=()=>{const ye=!vt;ye&&tt(),bt(ye)};return S.useEffect(()=>{if(!vt)return;const ye=Se=>{Se.key==="Escape"&&Be()};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[vt]),S.useEffect(()=>{if(vt)return window.addEventListener("resize",tt),window.addEventListener("scroll",tt,!0),()=>{window.removeEventListener("resize",tt),window.removeEventListener("scroll",tt,!0)}},[vt,tt]),y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:on,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:ne,children:"Sort / Filter"}),vt&&typeof document<"u"&&un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:Be,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),y.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:an.top,left:an.left,width:an.width,padding:12},onClick:ye=>ye.stopPropagation(),children:[y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),y.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:ce,onChange:ye=>te(ye.target.value),children:[y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"surnameAsc",children:"Surname (A  Z)"}),y.jsx("option",{value:"surnameDesc",children:"Surname (Z  A)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),y.jsx("div",{className:"my-3 border-t border-border"}),y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:be,onChange:ye=>{const Se=ye.target.value;ze(Se);const Ze=Se.split(",").map(ot=>ot.trim()).filter(Boolean);qe(Ze)}}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"text-xs text-muted",children:"Mode"}),y.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:We,onChange:ye=>mt(ye.target.value),children:[y.jsx("option",{value:"any",children:"Match any"}),y.jsx("option",{value:"all",children:"Match all"})]}),y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{ze(""),qe([]),mt("any")},children:"Clear"})]}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:Be,children:"Done"})})]})]}),document.body)]})}function Ee(ce,te){Te[ce.id]?K(ce.id,{name:ce.name,isVisible:te,group:ce.tags??[]}):L({id:ce.id,name:ce.name,isVisible:te,group:ce.tags??[],isContact:!1,indexOrder:0})}const Te=S.useMemo(()=>{const ce={};return re.forEach(te=>{ce[te.id]=te}),ce},[re]);S.useEffect(()=>{function ce(te){te.target.closest("details")||document.querySelectorAll("details[open]").forEach(ze=>{ze.removeAttribute("open")})}return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]),S.useEffect(()=>{if(!d)return;const ce=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=ce}},[d]);function De(){C(""),I(""),k([]),O(1),z(""),U("")}function _e(){g(null),De(),h(!0)}function It(ce){g(ce),C(ce.name??""),I(ce.address??""),O(ce.chainId??1),k(ce.tags??[]),z(""),ce.metadata?.ABI?U(JSON.stringify(ce.metadata.ABI,null,2)):U(""),h(!0)}function rt(){h(!1),g(null),De()}function ht(){const ce=R.trim();if(!ce)return;const te=ce.split(",").map(be=>be.trim()).filter(Boolean);k(be=>{const ze=new Set(be.map(We=>We.toLowerCase())),qe=[...be];for(const We of te)ze.has(We.toLowerCase())||qe.push(We);return qe}),z("")}function Tt(ce){k(te=>te.filter(be=>be!==ce))}async function ct(ce){ce.preventDefault();const te=_.trim();if(!te)return;const be={name:te,address:A.trim()||void 0,chainId:T||void 0,tags:P.length>0?P:void 0,metadata:F.trim()?{ABI:JSON.parse(F)}:void 0};m?await xe(m.id,be):await se(be),rt()}return M?y.jsx("div",{className:"p-4",children:"Loading contracts"}):V?y.jsx("div",{className:"p-4 text-red-600",children:V}):y.jsxs("div",{className:"space-y-4 p-4",children:[y.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Smart Contracts"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:ce=>e(ce.target.value)}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx(we,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s}),"",y.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:_e,children:"+ Add contract"})]})]}),ee.length===0?y.jsx("div",{className:"text-sm text-muted",children:"No contracts yet. Add one from the transaction screen or here."}):y.jsx("ul",{className:"space-y-2",children:ee.map(ce=>y.jsx("li",{className:"w-full",children:y.jsx("div",{className:"w-full rounded-lg border border-border bg-card px-4 py-3",children:y.jsxs("div",{className:"grid gap-3 sm:gap-x-6 sm:gap-y-2 sm:grid-cols-[160px_90px_minmax(0,1fr)_110px] sm:items-start",children:[y.jsx("div",{className:"min-w-0 font-medium",children:ce.name}),y.jsx("div",{className:"min-w-0 text-xs text-muted-foreground sm:pt-1",children:q[ce.chainId]??ce.chainId}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("div",{className:"text-xs text-muted-foreground font-mono break-words sm:truncate sm:break-normal",title:ce.address??"",children:ce.address}),ce.tags&&ce.tags.length>0&&y.jsx("div",{className:"mt-2 flex flex-wrap gap-1 text-[11px] text-muted-foreground",children:ce.tags.map(te=>y.jsxs("span",{className:"rounded-full border border-border px-2 py-0.5",children:["#",te]},te))})]}),y.jsx("div",{className:"justify-self-start sm:justify-self-end",children:y.jsxs("details",{className:"relative inline-block",children:[y.jsx("summary",{className:"cursor-pointer list-none rounded-md border border-border bg-background px-2 py-1 text-xs",children:"Actions"}),y.jsxs("div",{className:"absolute left-0 sm:right-0 sm:left-auto mt-1 w-40 rounded-md border border-border bg-background shadow-lg z-50",children:[y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:te=>{te.currentTarget.closest("details")?.removeAttribute("open"),It(ce)},children:"Edit"}),y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:te=>{te.currentTarget.closest("details")?.removeAttribute("open"),Ee(ce,!(Te[ce.id]?.isVisible??!0))},children:Te[ce.id]?.isVisible??!0?"Hide":"Show"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:te=>{te.currentTarget.closest("details")?.removeAttribute("open"),Y(ce.id)},children:"Remove"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:te=>{te.preventDefault(),te.stopPropagation(),w(QD(ce))},children:"Share"})]})]})})]})})},ce.id))}),d?un.createPortal(y.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:ce=>{ce.target===ce.currentTarget&&rt()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:y.jsxs("div",{className:"bg-background",onMouseDown:ce=>ce.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[y.jsx("h2",{className:"mb-3 text-base font-semibold",children:m?"Edit contract":"Add contract"}),y.jsxs("form",{className:"space-y-4",onSubmit:ct,children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Name"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:_,onChange:ce=>C(ce.target.value),required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Address or ENS"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:A,onChange:ce=>{const te=ce.target.value.trim(),be=ae.test(te),ze=X.test(te);(te===""||be||ze)&&I(ce.target.value)}})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Chain"}),y.jsx("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:T,onChange:ce=>O(Number(ce.target.value)),children:Object.entries(q).map(([ce,te])=>y.jsx("option",{value:ce,children:te},ce))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"ABI (JSON)"}),y.jsx("textarea",{className:"w-full rounded-md border px-2 py-1 text-sm",rows:6,value:F,onChange:ce=>{const te=ce.target.value;if(te.trim()===""){U(te);return}try{const be=JSON.parse(te);typeof be=="object"&&be!==null&&U(te)}catch{}}})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Tags"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",placeholder:"Type a tag and press Enter or comma",value:R,onChange:ce=>z(ce.target.value),onKeyDown:ce=>{(ce.key==="Enter"||ce.key===",")&&(ce.preventDefault(),ht())}}),y.jsx("button",{type:"button",className:"rounded-md border px-2 py-1 text-xs",onClick:ht,children:"Add"})]}),P.length>0&&y.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[10px] text-muted",children:P.map(ce=>y.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-0.5",onClick:()=>Tt(ce),title:"Click to remove",children:[y.jsxs("span",{children:["#",ce]}),y.jsx("span",{"aria-hidden":!0,children:""})]},ce))})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:rt,children:"Cancel"}),"",y.jsxs("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",children:["",m?"Save changes":"Create contract",""]})]})]})]})}),document.body):null,H?un.createPortal(y.jsx("div",{onClick:ce=>{ce.target===ce.currentTarget&&rt()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:y.jsxs("div",{onClick:ce=>ce.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[y.jsx("h2",{className:"text-base font-semibold",children:"Delete contract?"}),y.jsx("p",{className:"mt-2 text-sm text-muted",children:"This will delete the contract and remove it from your address book. This action cannot be undone."}),y.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[y.jsx("button",{className:"rounded-md border px-3 py-1 text-sm",onClick:()=>Y(null),children:"Cancel"}),y.jsx("button",{className:"rounded-md bg-primary px-3 py-1 text-sm text-background",onClick:()=>{H&&de(H),Y(null)},children:"Yes, delete contract"})]})]})}),document.body):null,b&&y.jsx(M0,{payload:b,onClose:()=>w(null)})]})}function nM(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="surnameDesc"?n.sort((r,o)=>{const i=r.surname?.toLowerCase()??"";return(o.surname?.toLowerCase()??"").localeCompare(i)}):e==="surnameAsc"?n.sort((r,o)=>{const i=r.surname?.toLowerCase()??"",a=o.surname?.toLowerCase()??"";return i.localeCompare(a)}):e==="createdAsc"&&n.sort((r,o)=>r.createdAt-o.createdAt),n}function rM(t={}){const{contacts:e,loading:n,error:r,addContact:o,updateContact:i,deleteContact:a,clearContacts:s}=hy(),{query:u="",sortMode:f="nameAsc",tags:d=[],tagMode:h="any"}=t;return{contacts:S.useMemo(()=>{let g=e;if(u.trim()){const b=u.trim().toLowerCase();g=g.filter(w=>w.name.toLowerCase().includes(b)||w.surname?.toLowerCase().includes(b))}return d&&d.length>0&&(h=="any"?g=g.filter(b=>b.tags?.some(w=>d.includes(w))):g=g.filter(b=>d.every(w=>b.tags?.includes(w)))),nM(g,f)},[e,u,f,d,h]),loading:n,error:r,addContact:o,updateContact:i,deleteContact:a,clearContacts:s}}function oM(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),[d,h]=S.useState(!1),[m,g]=S.useState(null),[b,w]=S.useState(null),[_,C]=S.useState(""),[A,I]=S.useState(""),[T,O]=S.useState([]),[P,k]=S.useState(""),[R,z]=S.useState([]),[F,U]=S.useState(null),H=/^0x[0-9a-fA-F]{40}$/,Y=/^[a-z0-9-]+\.eth$/i,ae={1:"Ethereum",11155111:"Sepolia"},{address:X,addAddress:q,updateAddress:re}=ty(),{contacts:L,loading:K,error:ee,addContact:M,deleteContact:V,updateContact:se}=rM({query:t,sortMode:n,tags:o,tagMode:a});function de({sortMode:te,setSortMode:be,tagSearch:ze,setTagSearch:qe,setTags:We,tagMode:mt,setTagSearchMode:vt}){const[bt,on]=S.useState(!1),an=S.useRef(null),[ge,Be]=S.useState({top:0,left:0,width:320}),tt=()=>on(!1),ne=S.useCallback(()=>{if(!an.current)return;const Se=an.current.getBoundingClientRect(),Ze=8,ot=Math.min(360,window.innerWidth-Ze*2),Je=Se.bottom+8,dt=Se.right-ot,bn=Math.min(Math.max(Ze,dt),window.innerWidth-ot-Ze);Be({top:Je,left:bn,width:ot})},[]),ye=()=>{const Se=!bt;Se&&ne(),on(Se)};return S.useEffect(()=>{if(!bt)return;const Se=Ze=>{Ze.key==="Escape"&&tt()};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[bt]),S.useEffect(()=>{if(bt)return window.addEventListener("resize",ne),window.addEventListener("scroll",ne,!0),()=>{window.removeEventListener("resize",ne),window.removeEventListener("scroll",ne,!0)}},[bt,ne]),y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:an,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:ye,children:"Sort / Filter"}),bt&&typeof document<"u"&&un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:tt,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),y.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:ge.top,left:ge.left,width:ge.width,padding:12},onClick:Se=>Se.stopPropagation(),children:[y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),y.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:te,onChange:Se=>be(Se.target.value),children:[y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"surnameAsc",children:"Surname (A  Z)"}),y.jsx("option",{value:"surnameDesc",children:"Surname (Z  A)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),y.jsx("div",{className:"my-3 border-t border-border"}),y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:ze,onChange:Se=>{const Ze=Se.target.value;qe(Ze);const ot=Ze.split(",").map(Je=>Je.trim()).filter(Boolean);We(ot)}}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"text-xs text-muted",children:"Mode"}),y.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:mt,onChange:Se=>vt(Se.target.value),children:[y.jsx("option",{value:"any",children:"Match any"}),y.jsx("option",{value:"all",children:"Match all"})]}),y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{qe(""),We([]),vt("any")},children:"Clear"})]}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:tt,children:"Done"})})]})]}),document.body)]})}function xe(te,be){we[te.id]?re(te.id,{name:te.name,isVisible:be,group:te.tags??[]}):q({id:te.id,name:te.name,isVisible:be,group:te.tags??[],isContact:!0,indexOrder:0})}const we=S.useMemo(()=>{const te={};return X.forEach(be=>{te[be.id]=be}),te},[X]);S.useEffect(()=>{function te(be){be.target.closest("details")||document.querySelectorAll("details[open]").forEach(qe=>{qe.removeAttribute("open")})}return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[]),S.useEffect(()=>{if(!d)return;const te=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=te}},[d]);function Ee(){C(""),I(""),O([]),k(""),z([])}function Te(){g(null),Ee(),h(!0)}function De(te){g(te),C(te.name??""),I(te.surname??""),O(te.tags??[]),k(""),z(te.wallets??[]),h(!0)}function _e(){h(!1),g(null),Ee()}function It(){const te=P.trim();if(!te)return;const be=te.split(",").map(ze=>ze.trim()).filter(Boolean);O(ze=>{const qe=new Set(ze.map(mt=>mt.toLowerCase())),We=[...ze];for(const mt of be)qe.has(mt.toLowerCase())||We.push(mt);return We}),k("")}function rt(te){O(be=>be.filter(ze=>ze!==te))}function ht(te,be,ze){z(qe=>{const We=[...qe],mt={...We[te]};if(be==="chainId"){const vt=typeof ze=="number"?ze:Number(ze);Number.isFinite(vt)&&(mt.chainId=vt)}else mt.address=String(ze);return We[te]=mt,We})}function Tt(){z(te=>[...te,{chainId:1,address:""}])}function ct(te){z(be=>be.filter((ze,qe)=>qe!==te))}async function ce(te){te.preventDefault();const be=R.map(We=>({...We,address:We.address.trim()})).filter(We=>We.address!=="");for(const We of be)if(!H.test(We.address)&&!Y.test(We.address)){alert(`Invalid wallet address: ${We.address}`);return}const ze=_.trim();if(!ze)return;const qe={name:ze,surname:A.trim()||void 0,tags:T.length>0?T:void 0,wallets:R.filter(We=>We.address.trim()).filter(We=>We.chainId>0)};m?await se(m.id,qe):await M(qe),_e()}return K?y.jsx("div",{className:"p-4",children:"Loading contacts"}):ee?y.jsx("div",{className:"p-4 text-red-600",children:ee}):y.jsxs("div",{className:"space-y-4 p-4",children:[y.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Contacts"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:te=>e(te.target.value)}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx(de,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s}),"",y.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:Te,children:"+ Add contact"})]})]}),L.length===0?y.jsx("div",{className:"text-sm text-muted",children:"No contacts yet. Add one from the transaction screen or here."}):y.jsx("ul",{className:"space-y-2",children:L.map(te=>y.jsx("li",{className:"w-full",children:y.jsx("div",{className:"w-full rounded-lg border border-border bg-card px-4 py-3",children:y.jsxs("div",{className:"grid gap-3 sm:gap-x-6 sm:gap-y-2 sm:grid-cols-[160px_90px_minmax(0,1fr)_110px] sm:items-start",children:[y.jsx("div",{className:"min-w-0 font-medium",children:te.name}),y.jsx("div",{className:"min-w-0 text-xs text-muted-foreground sm:pt-1",children:te.surname}),y.jsxs("div",{className:"min-w-0",children:[te.wallets?.length>0&&y.jsx("div",{className:"space-y-1",children:te.wallets.map((be,ze)=>y.jsxs("div",{className:"text-xs text-muted-foreground font-mono break-words sm:truncate sm:break-normal",title:be.address,children:[ae[be.chainId]??be.chainId,": ",be.address]},ze))}),te.tags&&te.tags?.length>0&&y.jsx("div",{className:"mt-2 flex flex-wrap gap-1 text-[11px] text-muted-foreground",children:te.tags.map(be=>y.jsxs("span",{className:"rounded-full border border-border px-2 py-0.5",children:["#",be]},be))})]}),y.jsx("div",{className:"justify-self-start sm:justify-self-end",children:y.jsxs("details",{className:"relative inline-block",children:[y.jsx("summary",{className:"cursor-pointer list-none rounded-md border border-border bg-background px-2 py-1 text-xs",children:"Actions"}),y.jsxs("div",{className:"absolute left-0 sm:right-0 sm:left-auto mt-1 w-40 rounded-md border border-border bg-background shadow-lg z-50",children:[y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:be=>{be.currentTarget.closest("details")?.removeAttribute("open"),De(te)},children:"Edit"}),y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:be=>{be.currentTarget.closest("details")?.removeAttribute("open"),xe(te,!(we[te.id]?.isVisible??!0))},children:we[te.id]?.isVisible??!0?"Hide":"Show"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:be=>{be.currentTarget.closest("details")?.removeAttribute("open"),U(te.id)},children:"Remove"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:be=>{be.preventDefault(),be.stopPropagation(),w(YD(te))},children:"Share"})]})]})})]})})},te.id))}),d?un.createPortal(y.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:te=>{te.target===te.currentTarget&&_e()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:y.jsxs("div",{className:"bg-background",onMouseDown:te=>te.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[y.jsx("h2",{className:"mb-3 text-base font-semibold",children:m?"Edit contact":"Add contact"}),y.jsxs("form",{className:"space-y-4",onSubmit:ce,children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Name"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:_,onChange:te=>C(te.target.value),required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Surname (optional)"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:A,onChange:te=>I(te.target.value)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Tags"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",placeholder:"Type a tag and press Enter or comma",value:P,onChange:te=>k(te.target.value),onKeyDown:te=>{(te.key==="Enter"||te.key===",")&&(te.preventDefault(),It())}}),y.jsx("button",{type:"button",className:"rounded-md border px-2 py-1 text-xs",onClick:It,children:"Add"})]}),T.length>0&&y.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[10px] text-muted",children:T.map(te=>y.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-0.5",onClick:()=>rt(te),title:"Click to remove",children:[y.jsxs("span",{children:["#",te]}),y.jsx("span",{"aria-hidden":!0,children:""})]},te))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Wallets"}),R.length===0&&y.jsx("div",{className:"text-[11px] text-muted",children:"No wallets yet."}),y.jsx("div",{className:"space-y-2",children:R.map((te,be)=>y.jsxs("div",{className:"grid gap-2 rounded-md border px-2 py-2",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("select",{className:"h-8 w-28 rounded-md border px-2 text-xs",value:te.chainId,onChange:ze=>ht(be,"chainId",Number(ze.target.value)),children:Object.entries(ae).map(([ze,qe])=>y.jsx("option",{value:ze,children:qe},ze))}),y.jsx("button",{type:"button",className:"shrink-0 whitespace-nowrap text-[11px] text-red-600 underline",onClick:()=>ct(be),children:"Remove"})]}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-xs font-mono",placeholder:"0x...",value:te.address,onChange:ze=>ht(be,"address",ze.target.value)})]},be))}),y.jsx("button",{type:"button",className:"mt-1 rounded-md border px-2 py-1 text-xs",onClick:Tt,children:"+ Add wallet"})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:_e,children:"Cancel"}),y.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",children:m?"Save changes":"Create contact"})]})]})]})}),document.body):null,F?un.createPortal(y.jsx("div",{onClick:te=>{te.target===te.currentTarget&&_e()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:y.jsxs("div",{onClick:te=>te.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[y.jsx("h2",{className:"text-base font-semibold",children:"Delete contact?"}),y.jsx("p",{className:"mt-2 text-sm text-muted",children:"This will delete the contact and remove it from your address book. This action cannot be undone."}),y.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[y.jsx("button",{className:"rounded-md border px-3 py-2 text-sm",onClick:()=>U(null),children:"Cancel"}),y.jsx("button",{className:"rounded-md bg-primary px-3 py-2 text-sm text-background",onClick:()=>{F&&V(F),U(null)},children:"Yes, delete contact"})]})]})}),document.body):null,b&&y.jsx(M0,{payload:b,onClose:()=>w(null)})]})}const Ay="cointrol:folios:v1",K3="cointrol:folios:schemaVersion",Cd=1,Mm=new Set;function iM(t){for(const e of Mm)e(t)}function aM(t){return Mm.add(t),()=>{Mm.delete(t)}}async function sM(){const t=await Pt(K3);return t||Cd}async function cM(t){await vn(K3,t)}async function uM(){const t=await sM();t!==Cd&&(await Pt(Ay),t<Cd&&await cM(Cd))}async function B0(){return await uM(),await Pt(Ay)??[]}async function L0(t){await vn(Ay,t),iM(t)}async function lM(){return B0()}async function fM(t){const e=Date.now(),n=await B0(),r={id:`folio:${crypto.randomUUID?.()??`${e}:${n.length}`}`,chainId:t.chainId,name:t.name,address:t.address,paymaster:t.paymaster,type:t.type,bundler:t.bundler,wallet:t.wallet||void 0,createdAt:e,updatedAt:e},o=[...n,r];return await L0(o),o}async function dM(t,e){const n=await B0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await L0(o),o}async function hM(t){const n=(await B0()).filter(r=>r.id!==t);return await L0(n),n}async function pM(){await L0([])}function Sy(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await lM();a||(e(u),r(!1))}catch(u){console.error("[Folios] Failed to load:",u),a||(i(u?.message??"Failed to load Folios"),r(!1))}})();const s=aM(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{folios:t,loading:n,error:o,addFolio:fM,updateFolio:dM,deleteFolio:hM,clearFolios:pM}}const Iy="cointrol:domains:v1",Y3="cointrol:domains:schemaVersion",Ad=1,Q3=[{name:"ETHEREUM SEPOLIA",chainId:11155111,entryPoint:"0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",paymaster:"0x55E6773E922a5bcb716ac5205ED8005BF543bfE3",bundler:"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",rpcUrl:"https://ethereum-sepolia-rpc.publicnode.com",transactionUrl:"https://sepolia.etherscan.io/tx/",createdAt:0,updatedAt:0}],Bm=new Set;function mM(t){const e=[...t,...Q3];for(const n of Bm)n(e)}function gM(t){return Bm.add(t),()=>{Bm.delete(t)}}async function yM(){const t=await Pt(Y3);return t||Ad}async function vM(t){await vn(Y3,t)}async function bM(){const t=await yM();t!==Ad&&(await Pt(Iy),t<Ad&&await vM(Ad))}async function F0(){return await bM(),await Pt(Iy)??[]}async function j0(t){await vn(Iy,t),mM(t)}async function xM(){return[...await F0(),...Q3]}async function wM(t){const e=Date.now(),n=await F0(),r={chainId:t.chainId,name:t.name,entryPoint:t.entryPoint,paymaster:t.paymaster,bundler:t.bundler,rpcUrl:t.rpcUrl,transactionUrl:t.transactionUrl,createdAt:e,updatedAt:e},o=[...n,r];return await j0(o),o}async function EM(t,e){const n=await F0(),r=Date.now(),o=n.map(i=>i.name===t?{...i,...e,updatedAt:r}:i);return await j0(o),o}async function _M(t){const n=(await F0()).filter(r=>r.name!==t);return await j0(n),n}async function CM(){await j0([])}function Ty(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await xM();a||(e(u),r(!1))}catch(u){console.error("[Domains] Failed to load:",u),a||(i(u?.message??"Failed to load domains"),r(!1))}})();const s=gM(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{domains:t,loading:n,error:o,addDomain:wM,updateDomain:EM,deleteDomain:_M,clearDomain:CM}}const AM="1.1.0";let Or=class Lm extends Error{constructor(e,n={}){const r=n.cause instanceof Lm?n.cause.details:n.cause?.message?n.cause.message:n.details,o=n.cause instanceof Lm&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${AM}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Oi(t,e){return t.exec(e)?.groups}const J3=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,e4=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,t4=/^\(.+?\).*?$/,kb=/^tuple(?<array>(\[(\d*)\])*)$/;function Fm(t){let e=t.type;if(kb.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let o=0;o<n;o++){const i=t.components[o];e+=Fm(i),o<n-1&&(e+=", ")}const r=Oi(kb,t.type);return e+=`)${r?.array??""}`,Fm({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Ds(t){let e="";const n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=Fm(o),r!==n-1&&(e+=", ")}return e}function Wd(t){return t.type==="function"?`function ${t.name}(${Ds(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Ds(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Ds(t.inputs)})`:t.type==="error"?`error ${t.name}(${Ds(t.inputs)})`:t.type==="constructor"?`constructor(${Ds(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const n4=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function SM(t){return n4.test(t)}function IM(t){return Oi(n4,t)}const r4=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function TM(t){return r4.test(t)}function NM(t){return Oi(r4,t)}const o4=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function OM(t){return o4.test(t)}function PM(t){return Oi(o4,t)}const i4=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function z0(t){return i4.test(t)}function RM(t){return Oi(i4,t)}const a4=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function kM(t){return a4.test(t)}function DM(t){return Oi(a4,t)}const s4=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function MM(t){return s4.test(t)}function BM(t){return Oi(s4,t)}const LM=/^receive\(\) external payable$/;function FM(t){return LM.test(t)}const Db=new Set(["memory","indexed","storage","calldata"]),jM=new Set(["indexed"]),jm=new Set(["calldata","memory","storage"]);class zM extends Or{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class $M extends Or{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UM extends Or{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class HM extends Or{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class VM extends Or{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class GM extends Or{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class WM extends Or{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class ZM extends Or{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class XM extends Or{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ac extends Or{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qM extends Or{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class KM extends Or{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class YM extends Or{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class QM extends Or{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function JM(t,e,n){let r="";if(n)for(const o of Object.entries(n)){if(!o)continue;let i="";for(const a of o[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${o[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Pp=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function zm(t,e={}){if(OM(t))return eB(t,e);if(TM(t))return tB(t,e);if(SM(t))return nB(t,e);if(kM(t))return rB(t,e);if(MM(t))return oB(t);if(FM(t))return{type:"receive",stateMutability:"payable"};throw new qM({signature:t})}function eB(t,e={}){const n=PM(t);if(!n)throw new Ac({signature:t,type:"function"});const r=jr(n.parameters),o=[],i=r.length;for(let s=0;s<i;s++)o.push(_i(r[s],{modifiers:jm,structs:e,type:"function"}));const a=[];if(n.returns){const s=jr(n.returns),u=s.length;for(let f=0;f<u;f++)a.push(_i(s[f],{modifiers:jm,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:o,outputs:a}}function tB(t,e={}){const n=NM(t);if(!n)throw new Ac({signature:t,type:"event"});const r=jr(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(_i(r[a],{modifiers:jM,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:o}}function nB(t,e={}){const n=IM(t);if(!n)throw new Ac({signature:t,type:"error"});const r=jr(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(_i(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:o}}function rB(t,e={}){const n=DM(t);if(!n)throw new Ac({signature:t,type:"constructor"});const r=jr(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(_i(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:o}}function oB(t){const e=BM(t);if(!e)throw new Ac({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const iB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,aB=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sB=/^u?int$/;function _i(t,e){const n=JM(t,e?.type,e?.structs);if(Pp.has(n))return Pp.get(n);const r=t4.test(t),o=Oi(r?aB:iB,t);if(!o)throw new VM({param:t});if(o.name&&uB(o.name))throw new GM({param:t,name:o.name});const i=o.name?{name:o.name}:{},a=o.modifier==="indexed"?{indexed:!0}:{},s=e?.structs??{};let u,f={};if(r){u="tuple";const h=jr(o.type),m=[],g=h.length;for(let b=0;b<g;b++)m.push(_i(h[b],{structs:s}));f={components:m}}else if(o.type in s)u="tuple",f={components:s[o.type]};else if(sB.test(o.type))u=`${o.type}256`;else if(o.type==="address payable")u="address";else if(u=o.type,e?.type!=="struct"&&!c4(u))throw new UM({type:u});if(o.modifier){if(!e?.modifiers?.has?.(o.modifier))throw new WM({param:t,type:e?.type,modifier:o.modifier});if(jm.has(o.modifier)&&!lB(u,!!o.array))throw new ZM({param:t,type:e?.type,modifier:o.modifier})}const d={type:`${u}${o.array??""}`,...i,...a,...f};return Pp.set(n,d),d}function jr(t,e=[],n="",r=0){const o=t.trim().length;for(let i=0;i<o;i++){const a=t[i],s=t.slice(i+1);switch(a){case",":return r===0?jr(s,[...e,n.trim()]):jr(s,e,`${n}${a}`,r);case"(":return jr(s,e,`${n}${a}`,r+1);case")":return jr(s,e,`${n}${a}`,r-1);default:return jr(s,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new QM({current:n,depth:r});return e.push(n.trim()),e}function c4(t){return t==="address"||t==="bool"||t==="function"||t==="string"||J3.test(t)||e4.test(t)}const cB=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function uB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||J3.test(t)||e4.test(t)||cB.test(t)}function lB(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Ny(t){const e={},n=t.length;for(let a=0;a<n;a++){const s=t[a];if(!z0(s))continue;const u=RM(s);if(!u)throw new Ac({signature:s,type:"struct"});const f=u.properties.split(";"),d=[],h=f.length;for(let m=0;m<h;m++){const b=f[m].trim();if(!b)continue;const w=_i(b,{type:"struct"});d.push(w)}if(!d.length)throw new KM({signature:s});e[u.name]=d}const r={},o=Object.entries(e),i=o.length;for(let a=0;a<i;a++){const[s,u]=o[a];r[s]=u4(u,e)}return r}const fB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function u4(t,e,n=new Set){const r=[],o=t.length;for(let i=0;i<o;i++){const a=t[i];if(t4.test(a.type))r.push(a);else{const u=Oi(fB,a.type);if(!u?.type)throw new XM({abiParameter:a});const{array:f,type:d}=u;if(d in e){if(n.has(d))throw new YM({type:d});r.push({...a,type:`tuple${f??""}`,components:u4(e[d]??[],e,new Set([...n,d]))})}else if(c4(d))r.push(a);else throw new $M({type:d})}}return r}function l4(t){const e=Ny(t),n=[],r=t.length;for(let o=0;o<r;o++){const i=t[o];z0(i)||n.push(zm(i,e))}return n}function Mb(t){let e;if(typeof t=="string")e=zm(t);else{const n=Ny(t),r=t.length;for(let o=0;o<r;o++){const i=t[o];if(!z0(i)){e=zm(i,n);break}}}if(!e)throw new zM({signature:t});return e}function $m(t){const e=[];if(typeof t=="string"){const n=jr(t),r=n.length;for(let o=0;o<r;o++)e.push(_i(n[o],{modifiers:Db}))}else{const n=Ny(t),r=t.length;for(let o=0;o<r;o++){const i=t[o];if(z0(i))continue;const a=jr(i),s=a.length;for(let u=0;u<s;u++)e.push(_i(a[u],{modifiers:Db,structs:n}))}}if(e.length===0)throw new HM({params:t});return e}function je(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const o=t[n];return typeof o=="function"?o:i=>e(t,i)}function Co(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new CB(t.type);return`${t.name}(${$0(t.inputs,{includeName:e})})`}function $0(t,{includeName:e=!1}={}){return t?t.map(n=>dB(n,{includeName:e})).join(e?", ":","):""}function dB(t,{includeName:e}){return t.type.startsWith("tuple")?`(${$0(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Zo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ln(t){return Zo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const f4="2.40.2";let Rp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${f4}`},fe=class Um extends Error{constructor(e,n={}){const r=n.cause instanceof Um?n.cause.details:n.cause?.message?n.cause.message:n.details,o=n.cause instanceof Um&&n.cause.docsPath||n.docsPath,i=Rp.getDocsUrl?.({...n,docsPath:o}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Rp.version?[`Version: ${Rp.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=f4}walk(e){return d4(this,e)}};function d4(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?d4(t.cause,e):e?null:t}class hB extends fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class Bb extends fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class h4 extends fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${$0(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class xl extends fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class pB extends fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class mB extends fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${ln(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class gB extends fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class yB extends fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Lb extends fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class p4 extends fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class vB extends fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class m4 extends fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Fb extends fe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ic extends fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class g4 extends fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class bB extends fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class xB extends fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Co(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Co(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let wB=class extends fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Lu extends fe{constructor({abiItem:e,data:n,params:r,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${$0(r,{includeName:!0})})`,`Data:   ${n} (${o} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=o}}class U0 extends fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Co(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class EB extends fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class _B extends fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let y4=class extends fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class CB extends fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class AB extends fe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let v4=class extends fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},b4=class extends fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class jb extends fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function os(t,{dir:e,size:n=32}={}){return typeof t=="string"?Uo(t,{dir:e,size:n}):SB(t,{dir:e,size:n})}function Uo(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new b4({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function SB(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new b4({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const i=e==="right";r[i?o:n-o-1]=t[i?o:t.length-o-1]}return r}let x4=class extends fe{constructor({max:e,min:n,signed:r,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},IB=class extends fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class TB extends fe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let NB=class extends fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Va(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let o=0;o<n.length-1&&n[e==="left"?o:n.length-o-1].toString()==="0";o++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Oo(t,{size:e}){if(ln(t)>e)throw new NB({givenSize:ln(t),maxSize:e})}function Xo(t,e={}){const{signed:n}=e;e.size&&Oo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const o=(t.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function OB(t,e={}){let n=t;if(e.size&&(Oo(n,{size:e.size}),n=Va(n)),Va(n)==="0x00")return!1;if(Va(n)==="0x01")return!0;throw new TB(n)}function Ci(t,e={}){return Number(Xo(t,e))}const PB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ao(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ge(t,e):typeof t=="string"?ac(t,e):typeof t=="boolean"?w4(t,e):Zt(t,e)}function w4(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Oo(n,{size:e.size}),os(n,{size:e.size})):n}function Zt(t,e={}){let n="";for(let o=0;o<t.length;o++)n+=PB[t[o]];const r=`0x${n}`;return typeof e.size=="number"?(Oo(r,{size:e.size}),os(r,{dir:"right",size:e.size})):r}function Ge(t,e={}){const{signed:n,size:r}=e,o=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<a){const u=typeof t=="bigint"?"n":"";throw new x4({max:i?`${i}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const s=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?os(s,{size:r}):s}const RB=new TextEncoder;function ac(t,e={}){const n=RB.encode(t);return Zt(n,e)}const kB=new TextEncoder;function Sc(t,e={}){return typeof t=="number"||typeof t=="bigint"?MB(t,e):typeof t=="boolean"?DB(t,e):Zo(t)?So(t,e):Ga(t,e)}function DB(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Oo(n,{size:e.size}),os(n,{size:e.size})):n}const ci={zero:48,nine:57,A:65,F:70,a:97,f:102};function zb(t){if(t>=ci.zero&&t<=ci.nine)return t-ci.zero;if(t>=ci.A&&t<=ci.F)return t-(ci.A-10);if(t>=ci.a&&t<=ci.f)return t-(ci.a-10)}function So(t,e={}){let n=t;e.size&&(Oo(n,{size:e.size}),n=os(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let a=0,s=0;a<o;a++){const u=zb(r.charCodeAt(s++)),f=zb(r.charCodeAt(s++));if(u===void 0||f===void 0)throw new fe(`Invalid byte sequence ("${r[s-2]}${r[s-1]}" in "${r}").`);i[a]=u*16+f}return i}function MB(t,e){const n=Ge(t,e);return So(n)}function Ga(t,e={}){const n=kB.encode(t);return typeof e.size=="number"?(Oo(n,{size:e.size}),os(n,{dir:"right",size:e.size})):n}const nd=BigInt(2**32-1),$b=BigInt(32);function BB(t,e=!1){return e?{h:Number(t&nd),l:Number(t>>$b&nd)}:{h:Number(t>>$b&nd)|0,l:Number(t&nd)|0}}function LB(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:s}=BB(t[i],e);[r[i],o[i]]=[a,s]}return[r,o]}const FB=(t,e,n)=>t<<n|e>>>32-n,jB=(t,e,n)=>e<<n|t>>>32-n,zB=(t,e,n)=>e<<n-32|t>>>64-n,$B=(t,e,n)=>t<<n-32|e>>>64-n,Ps=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function UB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function qa(t,...e){if(!UB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Fu(t.outputLen),Fu(t.blockLen)}function sc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function E4(t,e){qa(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function VB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function cc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function kp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Bo(t,e){return t<<32-e|t>>>e}const GB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function WB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function ZB(t){for(let e=0;e<t.length;e++)t[e]=WB(t[e]);return t}const Ub=GB?t=>t:ZB;function XB(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function H0(t){return typeof t=="string"&&(t=XB(t)),qa(t),t}function qB(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];qa(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class Oy{}function _4(t){const e=r=>t().update(H0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function KB(t=32){if(Ps&&typeof Ps.getRandomValues=="function")return Ps.getRandomValues(new Uint8Array(t));if(Ps&&typeof Ps.randomBytes=="function")return Uint8Array.from(Ps.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const YB=BigInt(0),gu=BigInt(1),QB=BigInt(2),JB=BigInt(7),eL=BigInt(256),tL=BigInt(113),C4=[],A4=[],S4=[];for(let t=0,e=gu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],C4.push(2*(5*r+n)),A4.push((t+1)*(t+2)/2%64);let o=YB;for(let i=0;i<7;i++)e=(e<<gu^(e>>JB)*tL)%eL,e&QB&&(o^=gu<<(gu<<BigInt(i))-gu);S4.push(o)}const I4=LB(S4,!0),nL=I4[0],rL=I4[1],Hb=(t,e,n)=>n>32?zB(t,e,n):FB(t,e,n),Vb=(t,e,n)=>n>32?$B(t,e,n):jB(t,e,n);function oL(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,u=(a+2)%10,f=n[u],d=n[u+1],h=Hb(f,d,1)^n[s],m=Vb(f,d,1)^n[s+1];for(let g=0;g<50;g+=10)t[a+g]^=h,t[a+g+1]^=m}let o=t[2],i=t[3];for(let a=0;a<24;a++){const s=A4[a],u=Hb(o,i,s),f=Vb(o,i,s),d=C4[a];o=t[d],i=t[d+1],t[d]=u,t[d+1]=f}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)n[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=nL[r],t[1]^=rL[r]}cc(n)}class Py extends Oy{constructor(e,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,Fu(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=VB(this.state)}clone(){return this._cloneInto()}keccak(){Ub(this.state32),oL(this.state32,this.rounds),Ub(this.state32),this.posOut=0,this.pos=0}update(e){sc(this),e=H0(e),qa(e);const{blockLen:n,state:r}=this,o=e.length;for(let i=0;i<o;){const a=Math.min(n-this.pos,o-i);for(let s=0;s<a;s++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){sc(this,!1),qa(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Fu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(E4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,cc(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:a}=this;return e||(e=new Py(n,r,o,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}}const iL=(t,e,n)=>_4(()=>new Py(e,t,n)),T4=iL(1,136,256/8);function On(t,e){const n=e||"hex",r=T4(Zo(t,{strict:!1})?Sc(t):t);return n==="bytes"?r:Ao(r)}const aL=t=>On(Sc(t));function sL(t){return aL(t)}function cL(t){let e=!0,n="",r=0,o="",i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function",""].includes(o))o="";else if(o+=s,s===")"){i=!0;break}continue}if(s===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}o+=s,n+=s}}if(!i)throw new fe("Unable to normalize signature.");return o}const uL=t=>{const e=typeof t=="string"?t:Wd(t);return cL(e)};function N4(t){return sL(uL(t))}const V0=N4;let pa=class extends fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},G0=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Dp=new G0(8192);function W0(t,e){if(Dp.has(`${t}.${e}`))return Dp.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=On(Ga(n),"bytes"),o=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&o[a]&&(o[a]=o[a].toUpperCase()),(r[a>>1]&15)>=8&&o[a+1]&&(o[a+1]=o[a+1].toUpperCase());const i=`0x${o.join("")}`;return Dp.set(`${t}.${e}`,i),i}function O4(t,e){if(!io(t,{strict:!1}))throw new pa({address:t});return W0(t,e)}const lL=/^0x[a-fA-F0-9]{40}$/,Mp=new G0(8192);function io(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Mp.has(r))return Mp.get(r);const o=lL.test(t)?t.toLowerCase()===t?!0:n?W0(t)===t:!0:!1;return Mp.set(r,o),o}function qo(t){return typeof t[0]=="string"?Ai(t):fL(t)}function fL(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}function Ai(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function uc(t,e,n,{strict:r}={}){return Zo(t,{strict:!1})?dL(t,e,n,{strict:r}):k4(t,e,n,{strict:r})}function P4(t,e){if(typeof e=="number"&&e>0&&e>ln(t)-1)throw new v4({offset:e,position:"start",size:ln(t)})}function R4(t,e,n){if(typeof e=="number"&&typeof n=="number"&&ln(t)!==n-e)throw new v4({offset:n,position:"end",size:ln(t)})}function k4(t,e,n,{strict:r}={}){P4(t,e);const o=t.slice(e,n);return r&&R4(o,e,n),o}function dL(t,e,n,{strict:r}={}){P4(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&R4(o,e,n),o}const hL=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,D4=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ba(t,e){if(t.length!==e.length)throw new gB({expectedLength:t.length,givenLength:e.length});const n=pL({params:t,values:e}),r=ky(n);return r.length===0?"0x":r}function pL({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(Ry({param:t[r],value:e[r]}));return n}function Ry({param:t,value:e}){const n=Dy(t.type);if(n){const[r,o]=n;return gL(e,{length:r,param:{...t,type:o}})}if(t.type==="tuple")return wL(e,{param:t});if(t.type==="address")return mL(e);if(t.type==="bool")return vL(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,o="256"]=D4.exec(t.type)??[];return bL(e,{signed:r,size:Number(o)})}if(t.type.startsWith("bytes"))return yL(e,{param:t});if(t.type==="string")return xL(e);throw new EB(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ky(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?e+=32:e+=ln(s)}const n=[],r=[];let o=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?(n.push(Ge(e+o,{size:32})),r.push(s),o+=ln(s)):n.push(s)}return qo([...n,...r])}function mL(t){if(!io(t))throw new pa({address:t});return{dynamic:!1,encoded:Uo(t.toLowerCase())}}function gL(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new y4(t);if(!r&&t.length!==e)throw new pB({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let o=!1;const i=[];for(let a=0;a<t.length;a++){const s=Ry({param:n,value:t[a]});s.dynamic&&(o=!0),i.push(s)}if(r||o){const a=ky(i);if(r){const s=Ge(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?qo([s,a]):s}}if(o)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:qo(i.map(({encoded:a})=>a))}}function yL(t,{param:e}){const[,n]=e.type.split("bytes"),r=ln(t);if(!n){let o=t;return r%32!==0&&(o=Uo(o,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:qo([Uo(Ge(r,{size:32})),o])}}if(r!==Number.parseInt(n,10))throw new mB({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Uo(t,{dir:"right"})}}function vL(t){if(typeof t!="boolean")throw new fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Uo(w4(t))}}function bL(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,o=e?-r-1n:0n;if(t>r||t<o)throw new x4({max:r.toString(),min:o.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ge(t,{size:32,signed:e})}}function xL(t){const e=ac(t),n=Math.ceil(ln(e)/32),r=[];for(let o=0;o<n;o++)r.push(Uo(uc(e,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:qo([Uo(Ge(ln(e),{size:32})),...r])}}function wL(t,{param:e}){let n=!1;const r=[];for(let o=0;o<e.components.length;o++){const i=e.components[o],a=Array.isArray(t)?o:i.name,s=Ry({param:i,value:t[a]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ky(r):qo(r.map(({encoded:o})=>o))}}function Dy(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const wl=t=>uc(N4(t),0,4);function is(t){const{abi:e,args:n=[],name:r}=t,o=Zo(r,{strict:!1}),i=e.filter(s=>o?s.type==="function"?wl(s)===r:s.type==="event"?V0(s)===r:!1:"name"in s&&s.name===r);if(i.length===0)return;if(i.length===1)return i[0];let a;for(const s of i){if(!("inputs"in s))continue;if(!n||n.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==n.length)continue;if(n.every((f,d)=>{const h="inputs"in s&&s.inputs[d];return h?Hm(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=M4(s.inputs,a.inputs,n);if(f)throw new xB({abiItem:s,type:f[0]},{abiItem:a,type:f[1]})}a=s}}return a||i[0]}function Hm(t,e){const n=typeof t,r=e.type;switch(r){case"address":return io(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>Hm(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(o=>Hm(o,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function M4(t,e,n){for(const r in t){const o=t[r],i=e[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return M4(o.components,i.components,n[r]);const a=[o.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?io(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?io(n[r],{strict:!1}):!1)return a}}const Gb="/docs/contract/encodeEventTopics";function El(t){const{abi:e,eventName:n,args:r}=t;let o=e[0];if(n){const u=is({abi:e,name:n});if(!u)throw new Fb(n,{docsPath:Gb});o=u}if(o.type!=="event")throw new Fb(void 0,{docsPath:Gb});const i=Co(o),a=V0(i);let s=[];if(r&&"inputs"in o){const u=o.inputs?.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?u?.map(d=>r[d.name])??[]:[];f.length>0&&(s=u?.map((d,h)=>Array.isArray(f[h])?f[h].map((m,g)=>Wb({param:d,value:f[h][g]})):typeof f[h]<"u"&&f[h]!==null?Wb({param:d,value:f[h]}):null)??[])}return[a,...s]}function Wb({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return On(Sc(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new AB(t.type);return ba([t],[e])}function Z0(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:o,status:i,transport:a})=>{i==="success"&&e===r&&(n[o]=a.request)}),(r=>n[r]||t.request)}async function B4(t,e){const{address:n,abi:r,args:o,eventName:i,fromBlock:a,strict:s,toBlock:u}=e,f=Z0(t,{method:"eth_newFilter"}),d=i?El({abi:r,args:o,eventName:i}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?Ge(a):a,toBlock:typeof u=="bigint"?Ge(u):u,topics:d}]});return{abi:r,args:o,eventName:i,id:h,request:f(h),strict:!!s,type:"event"}}function zr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Zb="/docs/contract/encodeFunctionData";function EL(t){const{abi:e,args:n,functionName:r}=t;let o=e[0];if(r){const i=is({abi:e,args:n,name:r});if(!i)throw new ic(r,{docsPath:Zb});o=i}if(o.type!=="function")throw new ic(void 0,{docsPath:Zb});return{abi:[o],functionName:wl(Co(o))}}function $r(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:EL(t),o=n[0],i=r,a="inputs"in o&&o.inputs?ba(o.inputs,e??[]):void 0;return Ai([i,a??"0x"])}const _L={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},L4={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},CL={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Xb=class extends fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},F4=class extends fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},AL=class extends fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const SL={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new AL({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new F4({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Xb({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Xb({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function My(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(SL);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function IL(t,e={}){typeof e.size<"u"&&Oo(t,{size:e.size});const n=Zt(t,e);return Xo(n,e)}function TL(t,e={}){let n=t;if(typeof e.size<"u"&&(Oo(n,{size:e.size}),n=Va(n)),n.length>1||n[0]>1)throw new IB(n);return!!n[0]}function xi(t,e={}){typeof e.size<"u"&&Oo(t,{size:e.size});const n=Zt(t,e);return Ci(n,e)}function NL(t,e={}){let n=t;return typeof e.size<"u"&&(Oo(n,{size:e.size}),n=Va(n,{dir:"right"})),new TextDecoder().decode(n)}function _l(t,e){const n=typeof e=="string"?So(e):e,r=My(n);if(ln(n)===0&&t.length>0)throw new xl;if(ln(e)&&ln(e)<32)throw new h4({data:typeof e=="string"?e:Zt(e),params:t,size:ln(e)});let o=0;const i=[];for(let a=0;a<t.length;++a){const s=t[a];r.setPosition(o);const[u,f]=Xs(r,s,{staticPosition:0});o+=f,i.push(u)}return i}function Xs(t,e,{staticPosition:n}){const r=Dy(e.type);if(r){const[o,i]=r;return PL(t,{...e,type:i},{length:o,staticPosition:n})}if(e.type==="tuple")return ML(t,e,{staticPosition:n});if(e.type==="address")return OL(t);if(e.type==="bool")return RL(t);if(e.type.startsWith("bytes"))return kL(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return DL(t,e);if(e.type==="string")return BL(t,{staticPosition:n});throw new _B(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const qb=32,Vm=32;function OL(t){const e=t.readBytes(32);return[W0(Zt(k4(e,-20))),32]}function PL(t,e,{length:n,staticPosition:r}){if(!n){const a=xi(t.readBytes(Vm)),s=r+a,u=s+qb;t.setPosition(s);const f=xi(t.readBytes(qb)),d=ju(e);let h=0;const m=[];for(let g=0;g<f;++g){t.setPosition(u+(d?g*32:h));const[b,w]=Xs(t,e,{staticPosition:u});h+=w,m.push(b)}return t.setPosition(r+32),[m,32]}if(ju(e)){const a=xi(t.readBytes(Vm)),s=r+a,u=[];for(let f=0;f<n;++f){t.setPosition(s+f*32);const[d]=Xs(t,e,{staticPosition:s});u.push(d)}return t.setPosition(r+32),[u,32]}let o=0;const i=[];for(let a=0;a<n;++a){const[s,u]=Xs(t,e,{staticPosition:r+o});o+=u,i.push(s)}return[i,o]}function RL(t){return[TL(t.readBytes(32),{size:32}),32]}function kL(t,e,{staticPosition:n}){const[r,o]=e.type.split("bytes");if(!o){const a=xi(t.readBytes(32));t.setPosition(n+a);const s=xi(t.readBytes(32));if(s===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(s);return t.setPosition(n+32),[Zt(u),32]}return[Zt(t.readBytes(Number.parseInt(o,10),32)),32]}function DL(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),o=t.readBytes(32);return[r>48?IL(o,{signed:n}):xi(o,{signed:n}),32]}function ML(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),o=r?[]:{};let i=0;if(ju(e)){const a=xi(t.readBytes(Vm)),s=n+a;for(let u=0;u<e.components.length;++u){const f=e.components[u];t.setPosition(s+i);const[d,h]=Xs(t,f,{staticPosition:s});i+=h,o[r?u:f?.name]=d}return t.setPosition(n+32),[o,32]}for(let a=0;a<e.components.length;++a){const s=e.components[a],[u,f]=Xs(t,s,{staticPosition:n});o[r?a:s?.name]=u,i+=f}return[o,i]}function BL(t,{staticPosition:e}){const n=xi(t.readBytes(32)),r=e+n;t.setPosition(r);const o=xi(t.readBytes(32));if(o===0)return t.setPosition(e+32),["",32];const i=t.readBytes(o,32),a=NL(Va(i));return t.setPosition(e+32),[a,32]}function ju(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(ju);const n=Dy(t.type);return!!(n&&ju({...t,type:n[1]}))}function LL(t){const{abi:e,data:n}=t,r=uc(n,0,4);if(r==="0x")throw new xl;const i=[...e||[],L4,CL].find(a=>a.type==="error"&&r===wl(Co(a)));if(!i)throw new p4(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?_l(i.inputs,uc(n,4)):void 0,errorName:i.name}}const qn=(t,e,n)=>JSON.stringify(t,(r,o)=>typeof o=="bigint"?o.toString():o,n);function j4({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((o,i)=>`${r&&o.name?`${o.name}: `:""}${typeof e[i]=="object"?qn(e[i]):e[i]}`).join(", ")})`}const z4={gwei:9,wei:18},FL={ether:-9,wei:9};function $4(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[o,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${o||"0"}${i?`.${i}`:""}`}function By(t,e="wei"){return $4(t,z4[e])}function Ir(t,e="wei"){return $4(t,FL[e])}class jL extends fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class zL extends fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Kb(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function $L(t){return t.reduce((e,{address:n,...r})=>{let o=`${e}    ${n}:
`;return r.nonce&&(o+=`      nonce: ${r.nonce}
`),r.balance&&(o+=`      balance: ${r.balance}
`),r.code&&(o+=`      code: ${r.code}
`),r.state&&(o+=`      state:
`,o+=Kb(r.state)),r.stateDiff&&(o+=`      stateDiff:
`,o+=Kb(r.stateDiff)),o},`  State Override:
`).slice(0,-1)}function Cl(t){const e=Object.entries(t).map(([r,o])=>o===void 0||o===!1?null:[r,o]).filter(Boolean),n=e.reduce((r,[o])=>Math.max(r,o.length),0);return e.map(([r,o])=>`  ${`${r}:`.padEnd(n+1)}  ${o}`).join(`
`)}class UL extends fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Cl(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class HL extends fe{constructor(e,{account:n,docsPath:r,chain:o,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:m}){const g=Cl({chain:o&&`${o?.name} (id: ${o?.id})`,from:n?.address,to:h,value:typeof m<"u"&&`${By(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof s<"u"&&`${Ir(s)} gwei`,maxFeePerGas:typeof u<"u"&&`${Ir(u)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${Ir(f)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class U4 extends fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:o,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(a=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),o&&(a=`Transaction with hash "${o}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class H4 extends fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class VL extends fe{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class GL extends fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const WL=t=>t,Ly=t=>t;class V4 extends fe{constructor(e,{account:n,docsPath:r,chain:o,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:m,stateOverride:g}){const b=n?zr(n):void 0;let w=Cl({from:b?.address,to:h,value:typeof m<"u"&&`${By(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof s<"u"&&`${Ir(s)} gwei`,maxFeePerGas:typeof u<"u"&&`${Ir(u)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${Ir(f)} gwei`,nonce:d});g&&(w+=`
${$L(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class G4 extends fe{constructor(e,{abi:n,args:r,contractAddress:o,docsPath:i,functionName:a,sender:s}){const u=is({abi:n,args:r,name:a}),f=u?j4({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=u?Co(u,{includeName:!0}):void 0,h=Cl({address:o&&WL(o),function:d,args:f&&f!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${f}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=o,this.functionName=a,this.sender=s}}class Gm extends fe{constructor({abi:e,data:n,functionName:r,message:o}){let i,a,s,u;if(n&&n!=="0x")try{a=LL({abi:e,data:n});const{abiItem:d,errorName:h,args:m}=a;if(h==="Error")u=m[0];else if(h==="Panic"){const[g]=m;u=_L[g]}else{const g=d?Co(d,{includeName:!0}):void 0,b=d&&m?j4({abiItem:d,args:m,includeFunctionName:!1,includeName:!1}):void 0;s=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(d){i=d}else o&&(u=o);let f;i instanceof p4&&(f=i.signature,s=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(u&&u!=="execution reverted"||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,u||f].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:s,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=f}}class ZL extends fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class XL extends fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class X0 extends fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Tu extends fe{constructor({body:e,cause:n,details:r,headers:o,status:i,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Ly(a)}`,e&&`Request body: ${qn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=o,this.status=i,this.url=a}}class Fy extends fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ly(r)}`,`Request body: ${qn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Yb extends fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ly(n)}`,`Request body: ${qn(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const qL=-1;class Pr extends fe{constructor(e,{code:n,docsPath:r,metaMessages:o,name:i,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:o||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Fy?e.code:n??qL}}class Vr extends Pr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class zu extends Pr{constructor(e){super(e,{code:zu.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $u extends Pr{constructor(e){super(e,{code:$u.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Uu extends Pr{constructor(e,{method:n}={}){super(e,{code:Uu.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Hu extends Pr{constructor(e){super(e,{code:Hu.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ka extends Pr{constructor(e){super(e,{code:Ka.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ma extends Pr{constructor(e){super(e,{code:ma.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Vu extends Pr{constructor(e){super(e,{code:Vu.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Vu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Gu extends Pr{constructor(e){super(e,{code:Gu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Gu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Wu extends Pr{constructor(e){super(e,{code:Wu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Wu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ja extends Pr{constructor(e,{method:n}={}){super(e,{code:ja.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ja,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class lc extends Pr{constructor(e){super(e,{code:lc.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(lc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Zu extends Pr{constructor(e){super(e,{code:Zu.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class qs extends Vr{constructor(e){super(e,{code:qs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(qs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Xu extends Vr{constructor(e){super(e,{code:Xu.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class qu extends Vr{constructor(e,{method:n}={}){super(e,{code:qu.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ku extends Vr{constructor(e){super(e,{code:Ku.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ku,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Yu extends Vr{constructor(e){super(e,{code:Yu.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Yu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Qu extends Vr{constructor(e){super(e,{code:Qu.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ju extends Vr{constructor(e){super(e,{code:Ju.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class el extends Vr{constructor(e){super(e,{code:el.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class tl extends Vr{constructor(e){super(e,{code:tl.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(tl,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class nl extends Vr{constructor(e){super(e,{code:nl.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(nl,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class rl extends Vr{constructor(e){super(e,{code:rl.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class ol extends Vr{constructor(e){super(e,{code:ol.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(ol,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class il extends Vr{constructor(e){super(e,{code:il.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(il,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class KL extends Pr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const YL=3;function fc(t,{abi:e,address:n,args:r,docsPath:o,functionName:i,sender:a}){const s=t instanceof X0?t:t instanceof fe?t.walk(b=>"data"in b)||t.walk():{},{code:u,data:f,details:d,message:h,shortMessage:m}=s,g=t instanceof xl?new ZL({functionName:i}):[YL,Ka.code].includes(u)&&(f||d||h||m)||u===ma.code&&d==="execution reverted"&&f?new Gm({abi:e,data:typeof f=="object"?f.data:f,functionName:i,message:s instanceof Fy?d:m??h}):t;return new G4(g,{abi:e,args:r,contractAddress:n,docsPath:o,functionName:i,sender:a})}function QL(t){const e=On(`0x${t.substring(4)}`).substring(26);return W0(`0x${e}`)}const JL="modulepreload",eF=function(t){return"/"+t},Qb={},W4=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");o=u(n.map(f=>{if(f=eF(f),f in Qb)return;Qb[f]=!0;const d=f.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":JL,d||(m.as="script"),m.crossOrigin="",m.href=f,s&&m.setAttribute("nonce",s),document.head.appendChild(m),d)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return o.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})};async function tF({hash:t,signature:e}){const n=Zo(t)?t:Ao(t),{secp256k1:r}=await W4(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>N$);return{secp256k1:a}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:d,v:h,yParity:m}=e,g=Number(m??h),b=Jb(g);return new r.Signature(Xo(f),Xo(d)).addRecoveryBit(b)}const a=Zo(e)?e:Ao(e);if(ln(a)!==65)throw new Error("invalid signature length");const s=Ci(`0x${a.slice(130)}`),u=Jb(s);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Jb(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Z4({hash:t,signature:e}){return QL(await tF({hash:t,signature:e}))}function nF(t,e="hex"){const n=X4(t),r=My(new Uint8Array(n.length));return n.encode(r),e==="hex"?Zt(r.bytes):r.bytes}function X4(t){return Array.isArray(t)?rF(t.map(e=>X4(e))):oF(t)}function rF(t){const e=t.reduce((o,i)=>o+i.length,0),n=q4(e);return{length:e<=55?1+e:1+n+e,encode(o){e<=55?o.pushByte(192+e):(o.pushByte(247+n),n===1?o.pushUint8(e):n===2?o.pushUint16(e):n===3?o.pushUint24(e):o.pushUint32(e));for(const{encode:i}of t)i(o)}}}function oF(t){const e=typeof t=="string"?So(t):t,n=q4(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(o){e.length===1&&e[0]<128?o.pushBytes(e):e.length<=55?(o.pushByte(128+e.length),o.pushBytes(e)):(o.pushByte(183+n),n===1?o.pushUint8(e.length):n===2?o.pushUint16(e.length):n===3?o.pushUint24(e.length):o.pushUint32(e.length),o.pushBytes(e))}}}function q4(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new fe("Length is too large.")}function iF(t){const{chainId:e,nonce:n,to:r}=t,o=t.contractAddress??t.address,i=On(Ai(["0x05",nF([e?Ge(e):"0x",o,n?Ge(n):"0x"])]));return r==="bytes"?So(i):i}async function K4(t){const{authorization:e,signature:n}=t;return Z4({hash:iF(e),signature:n??e})}class aF extends fe{constructor(e,{account:n,docsPath:r,chain:o,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:m}){const g=Cl({from:n?.address,to:h,value:typeof m<"u"&&`${By(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof s<"u"&&`${Ir(s)} gwei`,maxFeePerGas:typeof u<"u"&&`${Ir(u)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${Ir(f)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Fs extends fe{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Fs,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Zd extends fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ir(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Zd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Wm extends fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ir(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Wm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Zm extends fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Zm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Xm extends fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Xm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class qm extends fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(qm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Km extends fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Km,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Ym extends fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ym,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Qm extends fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Qm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Jm extends fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Jm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Xd extends fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ir(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ir(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Xd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Al extends fe{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function q0(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof fe?t.walk(o=>o?.code===Fs.code):t;return r instanceof fe?new Fs({cause:t,message:r.details}):Fs.nodeMessage.test(n)?new Fs({cause:t,message:t.details}):Zd.nodeMessage.test(n)?new Zd({cause:t,maxFeePerGas:e?.maxFeePerGas}):Wm.nodeMessage.test(n)?new Wm({cause:t,maxFeePerGas:e?.maxFeePerGas}):Zm.nodeMessage.test(n)?new Zm({cause:t,nonce:e?.nonce}):Xm.nodeMessage.test(n)?new Xm({cause:t,nonce:e?.nonce}):qm.nodeMessage.test(n)?new qm({cause:t,nonce:e?.nonce}):Km.nodeMessage.test(n)?new Km({cause:t}):Ym.nodeMessage.test(n)?new Ym({cause:t,gas:e?.gas}):Qm.nodeMessage.test(n)?new Qm({cause:t,gas:e?.gas}):Jm.nodeMessage.test(n)?new Jm({cause:t}):Xd.nodeMessage.test(n)?new Xd({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Al({cause:t})}function sF(t,{docsPath:e,...n}){const r=(()=>{const o=q0(t,n);return o instanceof Al?t:o})();return new aF(r,{docsPath:e,...n})}function K0(t,{format:e}){if(!e)return{};const n={};function r(i){const a=Object.keys(i);for(const s of a)s in t&&(n[s]=t[s]),i[s]&&typeof i[s]=="object"&&!Array.isArray(i[s])&&r(i[s])}const o=e(t||{});return r(o),n}const cF={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Sl(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=uF(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Zt(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Ge(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Ge(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Ge(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Ge(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Ge(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Ge(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=cF[t.type]),typeof t.value<"u"&&(n.value=Ge(t.value)),n}function uF(t){return t.map(e=>({address:e.address,r:e.r?Ge(BigInt(e.r)):e.r,s:e.s?Ge(BigInt(e.s)):e.s,chainId:Ge(e.chainId),nonce:Ge(e.nonce),...typeof e.yParity<"u"?{yParity:Ge(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ge(e.v)}:{}}))}function ex(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new jb({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new jb({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function lF(t){const{balance:e,nonce:n,state:r,stateDiff:o,code:i}=t,a={};if(i!==void 0&&(a.code=i),e!==void 0&&(a.balance=Ge(e)),n!==void 0&&(a.nonce=Ge(n)),r!==void 0&&(a.state=ex(r)),o!==void 0){if(a.state)throw new zL;a.stateDiff=ex(o)}return a}function jy(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!io(n,{strict:!1}))throw new pa({address:n});if(e[n])throw new jL({address:n});e[n]=lF(r)}return e}const fF=2n**256n-1n;function Ic(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:o}=t,i=e?zr(e):void 0;if(i&&!io(i.address))throw new pa({address:i.address});if(o&&!io(o))throw new pa({address:o});if(n&&n>fF)throw new Zd({maxFeePerGas:n});if(r&&n&&r>n)throw new Xd({maxFeePerGas:n,maxPriorityFeePerGas:r})}class Y4 extends fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class zy extends fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class dF extends fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ir(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Q4 extends fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const J4={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function $y(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ci(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ci(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?J4[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=hF(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function hF(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function eE(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:$y(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function bo(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:o}={}){const i=o??!1,a=n!==void 0?Ge(n):void 0;let s=null;if(e?s=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):s=await t.request({method:"eth_getBlockByNumber",params:[a||r,i]},{dedupe:!!a}),!s)throw new Q4({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||eE)(s,"getBlock")}async function Uy(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function pF(t,e){return tE(t,e)}async function tE(t,e){const{block:n,chain:r=t.chain,request:o}=e||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const s=n||await je(t,bo,"getBlock")({}),u=await i({block:s,client:t,request:o});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return Xo(a)}catch{const[i,a]=await Promise.all([n?Promise.resolve(n):je(t,bo,"getBlock")({}),je(t,Uy,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new zy;const s=a-i.baseFeePerGas;return s<0n?0n:s}}async function mF(t,e){return eg(t,e)}async function eg(t,e){const{block:n,chain:r=t.chain,request:o,type:i="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:o}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new Y4;const u=10**(a.toString().split(".")[1]?.length??0),f=m=>m*BigInt(Math.ceil(a*u))/BigInt(u),d=n||await je(t,bo,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:f,request:o,type:i});if(m!==null)return m}if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new zy;const m=typeof o?.maxPriorityFeePerGas=="bigint"?o.maxPriorityFeePerGas:await tE(t,{block:d,chain:r,request:o}),g=f(d.baseFeePerGas);return{maxFeePerGas:o?.maxFeePerGas??g+m,maxPriorityFeePerGas:m}}return{gasPrice:o?.gasPrice??f(await je(t,Uy,"getGasPrice")({}))}}async function nE(t,{address:e,blockTag:n="latest",blockNumber:r}){const o=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ge(r):n]},{dedupe:!!r});return Ci(o)}function rE(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>So(i)):t.blobs,o=[];for(const i of r)o.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?o:o.map(i=>Zt(i))}function oE(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>So(a)):t.blobs,o=typeof t.commitments[0]=="string"?t.commitments.map(a=>So(a)):t.commitments,i=[];for(let a=0;a<r.length;a++){const s=r[a],u=o[a];i.push(Uint8Array.from(e.computeBlobKzgProof(s,u)))}return n==="bytes"?i:i.map(a=>Zt(a))}function gF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),a=Number(n>>o&i),s=Number(n&i),u=r?4:0,f=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+f,s,r)}function yF(t,e,n){return t&e^~t&n}function vF(t,e,n){return t&e^t&n^e&n}class bF extends Oy{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=kp(this.buffer)}update(e){sc(this),e=H0(e),qa(e);const{view:n,buffer:r,blockLen:o}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(o-this.pos,i-a);if(s===o){const u=kp(e);for(;o<=i-a;a+=o)this.process(u,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sc(this),E4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:a}=this;n[a++]=128,cc(this.buffer.subarray(a)),this.padOffset>o-a&&(this.process(r,0),a=0);for(let h=a;h<o;h++)n[h]=0;gF(r,o-8,BigInt(this.length*8),i),this.process(r,0);const s=kp(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)s.setUint32(4*h,d[h],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=o,e.pos=s,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Qi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xF=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ji=new Uint32Array(64);class wF extends bF{constructor(e=32){super(64,e,8,!1),this.A=Qi[0]|0,this.B=Qi[1]|0,this.C=Qi[2]|0,this.D=Qi[3]|0,this.E=Qi[4]|0,this.F=Qi[5]|0,this.G=Qi[6]|0,this.H=Qi[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:a,G:s,H:u}=this;return[e,n,r,o,i,a,s,u]}set(e,n,r,o,i,a,s,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=s|0,this.H=u|0}process(e,n){for(let h=0;h<16;h++,n+=4)Ji[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=Ji[h-15],g=Ji[h-2],b=Bo(m,7)^Bo(m,18)^m>>>3,w=Bo(g,17)^Bo(g,19)^g>>>10;Ji[h]=w+Ji[h-7]+b+Ji[h-16]|0}let{A:r,B:o,C:i,D:a,E:s,F:u,G:f,H:d}=this;for(let h=0;h<64;h++){const m=Bo(s,6)^Bo(s,11)^Bo(s,25),g=d+m+yF(s,u,f)+xF[h]+Ji[h]|0,w=(Bo(r,2)^Bo(r,13)^Bo(r,22))+vF(r,o,i)|0;d=f,f=u,u=s,s=a+g|0,a=i,i=o,o=r,r=g+w|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,o,i,a,s,u,f,d)}roundClean(){cc(Ji)}destroy(){this.set(0,0,0,0,0,0,0,0),cc(this.buffer)}}const iE=_4(()=>new wF),EF=iE;function _F(t,e){return EF(Zo(t,{strict:!1})?Sc(t):t)}function CF(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),o=_F(e);return o.set([n],0),r==="bytes"?o:Zt(o)}function AF(t){const{commitments:e,version:n}=t,r=t.to,o=[];for(const i of e)o.push(CF({commitment:i,to:r,version:n}));return o}const tx=6,aE=32,Hy=4096,sE=aE*Hy,nx=sE*tx-1-1*Hy*tx;class SF extends fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class IF extends fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function TF(t){const e=typeof t.data=="string"?So(t.data):t.data,n=ln(e);if(!n)throw new IF;if(n>nx)throw new SF({maxSize:nx,size:n});const r=[];let o=!0,i=0;for(;o;){const a=My(new Uint8Array(sE));let s=0;for(;s<Hy;){const u=e.slice(i,i+(aE-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}s++,i+=31}r.push(a)}return r.map(a=>Zt(a.bytes))}function NF(t){const{data:e,kzg:n,to:r}=t,o=t.blobs??TF({data:e}),i=t.commitments??rE({blobs:o,kzg:n,to:r}),a=t.proofs??oE({blobs:o,commitments:i,kzg:n,to:r}),s=[];for(let u=0;u<o.length;u++)s.push({blob:o[u],commitment:i[u],proof:a[u]});return s}function OF(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new UL({transaction:t})}function PF(t,{docsPath:e,...n}){const r=(()=>{const o=q0(t,n);return o instanceof Al?t:o})();return new HL(r,{docsPath:e,...n})}async function Vy(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ci(e)}async function cE(t,e){const{account:n=t.account,accessList:r,authorizationList:o,chain:i=t.chain,blobVersionedHashes:a,blobs:s,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:b,nonceManager:w,to:_,type:C,value:A,...I}=e,T=await(async()=>{if(!n||!w)return b;const R=zr(n),z=i?i.id:await je(t,Vy,"getChainId")({});return await w.consume({address:R.address,chainId:z,client:t})})();Ic(e);const O=i?.formatters?.transactionRequest?.format,k=(O||Sl)({...K0(I,{format:O}),account:n?zr(n):void 0,accessList:r,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:T,to:_,type:C,value:A},"fillTransaction");try{const R=await t.request({method:"eth_fillTransaction",params:[k]}),F=(i?.formatters?.transaction?.format||$y)(R.tx);delete F.blockHash,delete F.blockNumber,delete F.r,delete F.s,delete F.transactionIndex,delete F.v,delete F.yParity,F.data=F.input,F.gas&&(F.gas=e.gas??F.gas),F.gasPrice&&(F.gasPrice=e.gasPrice??F.gasPrice),F.maxFeePerBlobGas&&(F.maxFeePerBlobGas=e.maxFeePerBlobGas??F.maxFeePerBlobGas),F.maxFeePerGas&&(F.maxFeePerGas=e.maxFeePerGas??F.maxFeePerGas),F.maxPriorityFeePerGas&&(F.maxPriorityFeePerGas=e.maxPriorityFeePerGas??F.maxPriorityFeePerGas),F.nonce&&(F.nonce=e.nonce??F.nonce);const U=await(async()=>{if(typeof i?.fees?.baseFeeMultiplier=="function"){const X=await je(t,bo,"getBlock")({});return i.fees.baseFeeMultiplier({block:X,client:t,request:e})}return i?.fees?.baseFeeMultiplier??1.2})();if(U<1)throw new Y4;const Y=10**(U.toString().split(".")[1]?.length??0),ae=X=>X*BigInt(Math.ceil(U*Y))/BigInt(Y);return F.maxFeePerGas&&!e.maxFeePerGas&&(F.maxFeePerGas=ae(F.maxFeePerGas)),F.gasPrice&&!e.gasPrice&&(F.gasPrice=ae(F.gasPrice)),{raw:R.raw,transaction:{from:k.from,...F}}}catch(R){throw PF(R,{...e,chain:t.chain})}}const RF=["blobVersionedHashes","chainId","fees","gas","nonce","type"],rx=new Map,Bp=new G0(128);async function uE(t,e){const r=Bp.get(t.uid)!==!1&&["fees","gas"].some(I=>e.parameters?.includes(I))?await je(t,cE,"fillTransaction")(e).then(I=>{const{chainId:T,from:O,gas:P,gasPrice:k,nonce:R,maxFeePerBlobGas:z,maxFeePerGas:F,maxPriorityFeePerGas:U,type:H}=I.transaction;return Bp.set(t.uid,!0),{...e,chainId:T,from:O,gas:P,gasPrice:k,nonce:R,maxFeePerBlobGas:z,maxFeePerGas:F,maxPriorityFeePerGas:U,type:H}}).catch(I=>{const T=I;return(T.cause.name==="MethodNotFoundRpcError"||T.cause.name==="MethodNotSupportedRpcError")&&Bp.set(t.uid,!1),e}):e,{account:o=t.account,blobs:i,chain:a,gas:s,kzg:u,nonce:f,nonceManager:d,parameters:h=RF,type:m}=r,g=o&&zr(o),b={...r,...g?{from:g?.address}:{}};let w;async function _(){return w||(w=await je(t,bo,"getBlock")({blockTag:"latest"}),w)}let C;async function A(){return C||(a?a.id:typeof b.chainId<"u"?b.chainId:(C=await je(t,Vy,"getChainId")({}),C))}if(h.includes("nonce")&&typeof f>"u"&&g)if(d){const I=await A();b.nonce=await d.consume({address:g.address,chainId:I,client:t})}else b.nonce=await je(t,nE,"getTransactionCount")({address:g.address,blockTag:"pending"});if((h.includes("blobVersionedHashes")||h.includes("sidecars"))&&i&&u){const I=rE({blobs:i,kzg:u});if(h.includes("blobVersionedHashes")){const T=AF({commitments:I,to:"hex"});b.blobVersionedHashes=T}if(h.includes("sidecars")){const T=oE({blobs:i,commitments:I,kzg:u}),O=NF({blobs:i,commitments:I,proofs:T,to:"hex"});b.sidecars=O}}if(h.includes("chainId")&&(b.chainId=await A()),(h.includes("fees")||h.includes("type"))&&typeof m>"u")try{b.type=OF(b)}catch{let I=rx.get(t.uid);typeof I>"u"&&(I=typeof(await _())?.baseFeePerGas=="bigint",rx.set(t.uid,I)),b.type=I?"eip1559":"legacy"}if(h.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const I=await _(),{maxFeePerGas:T,maxPriorityFeePerGas:O}=await eg(t,{block:I,chain:a,request:b});if(typeof b.maxPriorityFeePerGas>"u"&&b.maxFeePerGas&&b.maxFeePerGas<O)throw new dF({maxPriorityFeePerGas:O});b.maxPriorityFeePerGas=O,b.maxFeePerGas=T}}else{if(typeof b.maxFeePerGas<"u"||typeof b.maxPriorityFeePerGas<"u")throw new zy;if(typeof b.gasPrice>"u"){const I=await _(),{gasPrice:T}=await eg(t,{block:I,chain:a,request:b,type:"legacy"});b.gasPrice=T}}return h.includes("gas")&&typeof s>"u"&&(b.gas=await je(t,Gy,"estimateGas")({...b,account:g,prepare:g?.type==="local"?[]:["blobVersionedHashes"]})),Ic(b),delete b.parameters,b}async function Gy(t,e){const{account:n=t.account,prepare:r=!0}=e,o=n?zr(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(o?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:a,authorizationList:s,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:h,data:m,gas:g,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:_,maxPriorityFeePerGas:C,nonce:A,value:I,stateOverride:T,...O}=r?await uE(t,{...e,parameters:i}):e,k=(typeof d=="bigint"?Ge(d):void 0)||h,R=jy(T),z=await(async()=>{if(O.to)return O.to;if(s&&s.length>0)return await K4({authorization:s[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`")})})();Ic(e);const F=t.chain?.formatters?.transactionRequest?.format,H=(F||Sl)({...K0(O,{format:F}),account:o,accessList:a,authorizationList:s,blobs:u,blobVersionedHashes:f,data:m,gas:g,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:_,maxPriorityFeePerGas:C,nonce:A,to:z,value:I},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:R?[H,k??t.experimental_blockTag??"latest",R]:k?[H,k]:[H]}))}catch(a){throw sF(a,{...e,account:o,chain:t.chain})}}async function kF(t,e){const{abi:n,address:r,args:o,functionName:i,dataSuffix:a,...s}=e,u=$r({abi:n,args:o,functionName:i});try{return await je(t,Gy,"estimateGas")({data:`${u}${a?a.replace("0x",""):""}`,to:r,...s})}catch(f){const d=s.account?zr(s.account):void 0;throw fc(f,{abi:n,address:r,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:d?.address})}}function Y0(t,e){if(!io(t,{strict:!1}))throw new pa({address:t});if(!io(e,{strict:!1}))throw new pa({address:e});return t.toLowerCase()===e.toLowerCase()}const ox="/docs/contract/decodeEventLog";function Wy(t){const{abi:e,data:n,strict:r,topics:o}=t,i=r??!0,[a,...s]=o;if(!a)throw new vB({docsPath:ox});const u=e.find(w=>w.type==="event"&&a===V0(Co(w)));if(!(u&&"name"in u)||u.type!=="event")throw new m4(a,{docsPath:ox});const{name:f,inputs:d}=u,h=d?.some(w=>!("name"in w&&w.name)),m=h?[]:{},g=d.map((w,_)=>[w,_]).filter(([w])=>"indexed"in w&&w.indexed);for(let w=0;w<g.length;w++){const[_,C]=g[w],A=s[w];if(!A)throw new U0({abiItem:u,param:_});m[h?C:_.name||C]=DF({param:_,value:A})}const b=d.filter(w=>!("indexed"in w&&w.indexed));if(b.length>0){if(n&&n!=="0x")try{const w=_l(b,n);if(w)if(h)for(let _=0;_<d.length;_++)m[_]=m[_]??w.shift();else for(let _=0;_<b.length;_++)m[b[_].name]=w[_]}catch(w){if(i)throw w instanceof h4||w instanceof F4?new Lu({abiItem:u,data:n,params:b,size:ln(n)}):w}else if(i)throw new Lu({abiItem:u,data:"0x",params:b,size:0})}return{eventName:f,args:Object.values(m).length>0?m:void 0}}function DF({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(_l([t],e)||[])[0]}function Zy(t){const{abi:e,args:n,logs:r,strict:o=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{try{const s=e.find(f=>f.type==="event"&&a.topics[0]===V0(f));if(!s)return null;const u=Wy({...a,abi:[s],strict:o});return i&&!i.includes(u.eventName)||!MF({args:u.args,inputs:s.inputs,matchArgs:n})?null:{...u,...a}}catch(s){let u,f;if(s instanceof m4)return null;if(s instanceof Lu||s instanceof U0){if(o)return null;u=s.abiItem.name,f=s.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...a,args:f?[]:{},eventName:u}}}).filter(Boolean)}function MF(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function o(i,a,s){try{return i.type==="address"?Y0(a,s):i.type==="string"||i.type==="bytes"?On(Sc(a))===s:a===s}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,a)=>{if(i==null)return!0;const s=n[a];return s?(Array.isArray(i)?i:[i]).some(f=>o(s,f,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,a])=>{if(a==null)return!0;const s=n.find(f=>f.name===i);return s?(Array.isArray(a)?a:[a]).some(f=>o(s,f,e[i])):!1}):!1}function Si(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Xy(t,{address:e,blockHash:n,fromBlock:r,toBlock:o,event:i,events:a,args:s,strict:u}={}){const f=u??!1,d=a??(i?[i]:void 0);let h=[];d&&(h=[d.flatMap(w=>El({abi:[w],eventName:w.name,args:a?void 0:s}))],i&&(h=h[0]));let m;n?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof r=="bigint"?Ge(r):r,toBlock:typeof o=="bigint"?Ge(o):o}]});const g=m.map(b=>Si(b));return d?Zy({abi:d,args:s,logs:g,strict:f}):g}async function lE(t,e){const{abi:n,address:r,args:o,blockHash:i,eventName:a,fromBlock:s,toBlock:u,strict:f}=e,d=a?is({abi:n,name:a}):void 0,h=d?void 0:n.filter(m=>m.type==="event");return je(t,Xy,"getLogs")({address:r,args:o,blockHash:i,event:d,events:h,fromBlock:s,toBlock:u,strict:f})}const Lp="/docs/contract/decodeFunctionResult";function as(t){const{abi:e,args:n,functionName:r,data:o}=t;let i=e[0];if(r){const s=is({abi:e,args:n,name:r});if(!s)throw new ic(r,{docsPath:Lp});i=s}if(i.type!=="function")throw new ic(void 0,{docsPath:Lp});if(!i.outputs)throw new g4(i.name,{docsPath:Lp});const a=_l(i.outputs,o);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const qy=BigInt(0),tg=BigInt(1);function Il(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ky(t){if(!Il(t))throw new Error("Uint8Array expected")}function al(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function rd(t){const e=t.toString(16);return e.length&1?"0"+e:e}function fE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?qy:BigInt("0x"+t)}const dE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",BF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sl(t){if(Ky(t),dE)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=BF[t[n]];return e}const ui={_0:48,_9:57,A:65,F:70,a:97,f:102};function ix(t){if(t>=ui._0&&t<=ui._9)return t-ui._0;if(t>=ui.A&&t<=ui.F)return t-(ui.A-10);if(t>=ui.a&&t<=ui.f)return t-(ui.a-10)}function qd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(dE)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const a=ix(t.charCodeAt(i)),s=ix(t.charCodeAt(i+1));if(a===void 0||s===void 0){const u=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[o]=a*16+s}return r}function Wa(t){return fE(sl(t))}function hE(t){return Ky(t),fE(sl(Uint8Array.from(t).reverse()))}function Tl(t,e){return qd(t.toString(16).padStart(e*2,"0"))}function pE(t,e){return Tl(t,e).reverse()}function Jr(t,e,n){let r;if(typeof e=="string")try{r=qd(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Il(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function Kd(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ky(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}const Fp=t=>typeof t=="bigint"&&qy<=t;function Yy(t,e,n){return Fp(t)&&Fp(e)&&Fp(n)&&e<=t&&t<n}function Ks(t,e,n,r){if(!Yy(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function LF(t){let e;for(e=0;t>qy;t>>=tg,e+=1);return e}const Q0=t=>(tg<<BigInt(t))-tg,jp=t=>new Uint8Array(t),ax=t=>Uint8Array.from(t);function FF(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=jp(t),o=jp(t),i=0;const a=()=>{r.fill(1),o.fill(0),i=0},s=(...h)=>n(o,r,...h),u=(h=jp(0))=>{o=s(ax([0]),h),r=s(),h.length!==0&&(o=s(ax([1]),h),r=s())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=s();const g=r.slice();m.push(g),h+=r.length}return Kd(...m)};return(h,m)=>{a(),u(h);let g;for(;!(g=m(f()));)u();return a(),g}}const jF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Il(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function J0(t,e,n={}){const r=(o,i,a)=>{const s=jF[i];if(typeof s!="function")throw new Error("invalid validator function");const u=t[o];if(!(a&&u===void 0)&&!s(u,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+u)};for(const[o,i]of Object.entries(e))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return t}function sx(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}const zF="0.1.1";function $F(){return zF}class ft extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof ft){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),o=n.cause instanceof ft&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${o??""}`,s=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||o?["",r?`Details: ${r}`:void 0,o?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${$F()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=o,this.shortMessage=e}walk(e){return mE(this,e)}}function mE(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?mE(t.cause,e):e?null:t}function Nl(t,e){if(js(t)>e)throw new oj({givenSize:js(t),maxSize:e})}const li={zero:48,nine:57,A:65,F:70,a:97,f:102};function cx(t){if(t>=li.zero&&t<=li.nine)return t-li.zero;if(t>=li.A&&t<=li.F)return t-(li.A-10);if(t>=li.a&&t<=li.f)return t-(li.a-10)}function UF(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new ij({size:t.length,targetSize:r,type:"Bytes"});const o=new Uint8Array(r);for(let i=0;i<r;i++){const a=n==="right";o[a?i:r-i-1]=t[a?i:t.length-i-1]}return o}function gE(t,e={}){const{dir:n="left"}=e;let r=t,o=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)o++;return r=n==="left"?r.slice(o):r.slice(0,r.length-o),r}function e1(t,e){if(Ur(t)>e)throw new fj({givenSize:Ur(t),maxSize:e})}function HF(t,e){if(typeof e=="number"&&e>0&&e>Ur(t)-1)throw new AE({offset:e,position:"start",size:Ur(t)})}function VF(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ur(t)!==n-e)throw new AE({offset:n,position:"end",size:Ur(t)})}function yE(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const o=t.replace("0x","");if(o.length>r*2)throw new dj({size:Math.ceil(o.length/2),targetSize:r,type:"Hex"});return`0x${o[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const GF="#__bigint";function vE(t,e,n){return JSON.stringify(t,(r,o)=>typeof o=="bigint"?o.toString()+GF:o,n)}const WF=new TextDecoder,ZF=new TextEncoder;function XF(t){return t instanceof Uint8Array?t:typeof t=="string"?bE(t):qF(t)}function qF(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function bE(t,e={}){const{size:n}=e;let r=t;n&&(e1(t,n),r=Qa(t,n));let o=r.slice(2);o.length%2&&(o=`0${o}`);const i=o.length/2,a=new Uint8Array(i);for(let s=0,u=0;s<i;s++){const f=cx(o.charCodeAt(u++)),d=cx(o.charCodeAt(u++));if(f===void 0||d===void 0)throw new ft(`Invalid byte sequence ("${o[u-2]}${o[u-1]}" in "${o}").`);a[s]=f*16+d}return a}function KF(t,e={}){const{size:n}=e,r=ZF.encode(t);return typeof n=="number"?(Nl(r,n),YF(r,n)):r}function YF(t,e){return UF(t,{dir:"right",size:e})}function js(t){return t.length}function QF(t,e,n,r={}){const{strict:o}=r;return t.slice(e,n)}function JF(t,e={}){const{size:n}=e;typeof n<"u"&&Nl(t,n);const r=To(t,e);return EE(r,e)}function ej(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Nl(r,n),r=xE(r)),r.length>1||r[0]>1)throw new rj(r);return!!r[0]}function wi(t,e={}){const{size:n}=e;typeof n<"u"&&Nl(t,n);const r=To(t,e);return _E(r,e)}function tj(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Nl(r,n),r=nj(r)),WF.decode(r)}function xE(t){return gE(t,{dir:"left"})}function nj(t){return gE(t,{dir:"right"})}class rj extends ft{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let oj=class extends ft{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},ij=class extends ft{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const aj=new TextEncoder,sj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cj(t,e={}){const{strict:n=!1}=e;if(!t)throw new ux(t);if(typeof t!="string")throw new ux(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new lx(t);if(!t.startsWith("0x"))throw new lx(t)}function Io(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function uj(t){return t instanceof Uint8Array?To(t):Array.isArray(t)?To(new Uint8Array(t)):t}function wE(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(e1(n,e.size),Ya(n,e.size)):n}function To(t,e={}){let n="";for(let o=0;o<t.length;o++)n+=sj[t[o]];const r=`0x${n}`;return typeof e.size=="number"?(e1(r,e.size),Qa(r,e.size)):r}function fr(t,e={}){const{signed:n,size:r}=e,o=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<a){const f=typeof t=="bigint"?"n":"";throw new CE({max:i?`${i}${f}`:void 0,min:`${a}${f}`,signed:n,size:r,value:`${t}${f}`})}const u=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?Ya(u,r):u}function Qy(t,e={}){return To(aj.encode(t),e)}function Ya(t,e){return yE(t,{dir:"left",size:e})}function Qa(t,e){return yE(t,{dir:"right",size:e})}function Ho(t,e,n,r={}){const{strict:o}=r;HF(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return o&&VF(i,e,n),i}function Ur(t){return Math.ceil((t.length-2)/2)}function EE(t,e={}){const{signed:n}=e;e.size&&e1(t,e.size);const r=BigInt(t);if(!n)return r;const o=(t.length-2)/2,i=(1n<<BigInt(o)*8n)-1n,a=i>>1n;return r<=a?r:r-i-1n}function _E(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:EE(t,e))}function lj(t,e={}){const{strict:n=!1}=e;try{return cj(t,{strict:n}),!0}catch{return!1}}class CE extends ft{constructor({max:e,min:n,signed:r,size:o,value:i}){super(`Number \`${i}\` is not in safe${o?` ${o*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ux extends ft{constructor(e){super(`Value \`${typeof e=="object"?vE(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class lx extends ft{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class fj extends ft{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class AE extends ft{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class dj extends ft{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function hj(t){return{address:t.address,amount:fr(t.amount),index:fr(t.index),validatorIndex:fr(t.validatorIndex)}}function SE(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:fr(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:fr(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:fr(t.gasLimit)},...typeof t.number=="bigint"&&{number:fr(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:fr(t.prevRandao)},...typeof t.time=="bigint"&&{time:fr(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(hj)}}}const Yd=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],ng=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],IE=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],TE=[...IE,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],pj=[...IE,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],fx=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],dx=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],NE=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],hx=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Sd=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],mj="0x82ad56cb",OE="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",gj="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",yj="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Jy="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class rg extends fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class PE extends fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const zp="/docs/contract/encodeDeployData";function ev(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const o=e.find(a=>"type"in a&&a.type==="constructor");if(!o)throw new hB({docsPath:zp});if(!("inputs"in o))throw new Bb({docsPath:zp});if(!o.inputs||o.inputs.length===0)throw new Bb({docsPath:zp});const i=ba(o.inputs,n);return Ai([r,i])}function Tc({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new rg({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new rg({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function RE(t,{docsPath:e,...n}){const r=(()=>{const o=q0(t,n);return o instanceof Al?t:o})();return new V4(r,{docsPath:e,...n})}function kE(){let t=()=>{},e=()=>{};return{promise:new Promise((r,o)=>{t=r,e=o}),resolve:t,reject:e}}const $p=new Map;function DE({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:o}){const i=async()=>{const d=u();a();const h=d.map(({args:m})=>m);h.length!==0&&t(h).then(m=>{o&&Array.isArray(m)&&m.sort(o);for(let g=0;g<d.length;g++){const{resolve:b}=d[g];b?.([m[g],m])}}).catch(m=>{for(let g=0;g<d.length;g++){const{reject:b}=d[g];b?.(m)}})},a=()=>$p.delete(e),s=()=>u().map(({args:d})=>d),u=()=>$p.get(e)||[],f=d=>$p.set(e,[...u(),d]);return{flush:a,async schedule(d){const{promise:h,resolve:m,reject:g}=kE();return n?.([...s(),d])&&i(),u().length>0?(f({args:d,resolve:m,reject:g}),h):(f({args:d,resolve:m,reject:g}),setTimeout(i,r),h)}}}async function t1(t,e){const{account:n=t.account,authorizationList:r,batch:o=!!t.batch?.multicall,blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",accessList:s,blobs:u,blockOverrides:f,code:d,data:h,factory:m,factoryData:g,gas:b,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:A,nonce:I,to:T,value:O,stateOverride:P,...k}=e,R=n?zr(n):void 0;if(d&&(m||g))throw new fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&T)throw new fe("Cannot provide both `code` & `to` as parameters.");const z=d&&h,F=m&&g&&T&&h,U=z||F,H=z?ME({code:d,data:h}):F?xj({data:h,factory:m,factoryData:g,to:T}):h;try{Ic(e);const ae=(typeof i=="bigint"?Ge(i):void 0)||a,X=f?SE(f):void 0,q=jy(P),re=t.chain?.formatters?.transactionRequest?.format,K=(re||Sl)({...K0(k,{format:re}),accessList:s,account:R,authorizationList:r,blobs:u,data:H,gas:b,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:A,nonce:I,to:U?void 0:T,value:O},"call");if(o&&vj({request:K})&&!q&&!X)try{return await bj(t,{...K,blockNumber:i,blockTag:a})}catch(V){if(!(V instanceof PE)&&!(V instanceof rg))throw V}const ee=(()=>{const V=[K,ae];return q&&X?[...V,q,X]:q?[...V,q]:X?[...V,{},X]:V})(),M=await t.request({method:"eth_call",params:ee});return M==="0x"?{data:void 0}:{data:M}}catch(Y){const ae=wj(Y),{offchainLookup:X,offchainLookupSignature:q}=await W4(async()=>{const{offchainLookup:re,offchainLookupSignature:L}=await import("./ccip-B9RcTPrY.js");return{offchainLookup:re,offchainLookupSignature:L}},[]);if(t.ccipRead!==!1&&ae?.slice(0,10)===q&&T)return{data:await X(t,{data:ae,to:T})};throw U&&ae?.slice(0,10)==="0x101bb98d"?new XL({factory:m}):RE(Y,{...e,account:R,chain:t.chain})}}function vj({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(mj)||!n||Object.values(r).filter(o=>typeof o<"u").length>0)}async function bj(t,e){const{batchSize:n=1024,deployless:r=!1,wait:o=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",data:s,to:u}=e,f=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Tc({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new PE})(),h=(typeof i=="bigint"?Ge(i):void 0)||a,{schedule:m}=DE({id:`${t.uid}.${h}`,wait:o,shouldSplitBatch(w){return w.reduce((C,{data:A})=>C+(A.length-2),0)>n*2},fn:async w=>{const _=w.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),C=$r({abi:Yd,args:[_],functionName:"aggregate3"}),A=await t.request({method:"eth_call",params:[{...f===null?{data:ME({code:Jy,data:C})}:{to:f,data:C}},h]});return as({abi:Yd,args:[_],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:g,success:b}]=await m({data:s,to:u});if(!b)throw new X0({data:g});return g==="0x"?{data:void 0}:{data:g}}function ME(t){const{code:e,data:n}=t;return ev({abi:l4(["constructor(bytes, bytes)"]),bytecode:OE,args:[e,n]})}function xj(t){const{data:e,factory:n,factoryData:r,to:o}=t;return ev({abi:l4(["constructor(address, bytes, address, bytes)"]),bytecode:gj,args:[o,e,n,r]})}function wj(t){if(!(t instanceof fe))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function No(t,e){const{abi:n,address:r,args:o,functionName:i,...a}=e,s=$r({abi:n,args:o,functionName:i});try{const{data:u}=await je(t,t1,"call")({...a,data:s,to:r});return as({abi:n,args:o,functionName:i,data:u||"0x"})}catch(u){throw fc(u,{abi:n,address:r,args:o,docsPath:"/docs/contract/readContract",functionName:i})}}async function Ej(t,e){const{abi:n,address:r,args:o,dataSuffix:i,functionName:a,...s}=e,u=s.account?zr(s.account):t.account,f=$r({abi:n,args:o,functionName:a});try{const{data:d}=await je(t,t1,"call")({batch:!1,data:`${f}${i?i.replace("0x",""):""}`,to:r,...s,account:u}),h=as({abi:n,args:o,functionName:a,data:d||"0x"}),m=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:h,request:{abi:m,address:r,args:o,dataSuffix:i,functionName:a,...s,account:u}}}catch(d){throw fc(d,{abi:n,address:r,args:o,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u?.address})}}const Up=new Map,px=new Map;let _j=0;function ga(t,e,n){const r=++_j,o=()=>Up.get(t)||[],i=()=>{const d=o();Up.set(t,d.filter(h=>h.id!==r))},a=()=>{const d=o();if(!d.some(m=>m.id===r))return;const h=px.get(t);if(d.length===1&&h){const m=h();m instanceof Promise&&m.catch(()=>{})}i()},s=o();if(Up.set(t,[...s,{id:r,fns:e}]),s&&s.length>0)return a;const u={};for(const d in e)u[d]=((...h)=>{const m=o();if(m.length!==0)for(const g of m)g.fns[d]?.(...h)});const f=n(u);return typeof f=="function"&&px.set(t,f),a}async function og(t){return new Promise(e=>setTimeout(e,t))}function Ol(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let o=!0;const i=()=>o=!1;return(async()=>{let s;e&&(s=await t({unpoll:i}));const u=await n?.(s)??r;await og(u);const f=async()=>{o&&(await t({unpoll:i}),await og(r),f())};f()})(),i}const Cj=new Map,Aj=new Map;function Sj(t){const e=(o,i)=>({clear:()=>i.delete(o),get:()=>i.get(o),set:a=>i.set(o,a)}),n=e(t,Cj),r=e(t,Aj);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ij(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Sj(e),o=r.response.get();if(o&&n>0&&Date.now()-o.created.getTime()<n)return o.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const Tj=t=>`blockNumber.${t}`;async function Pl(t,{cacheTime:e=t.cacheTime}={}){const n=await Ij(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Tj(t.uid),cacheTime:e});return BigInt(n)}async function n1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const o=r.map(i=>Si(i));return!("abi"in e)||!e.abi?o:Zy({abi:e.abi,logs:o,strict:n})}async function r1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Nj(t,e){const{abi:n,address:r,args:o,batch:i=!0,eventName:a,fromBlock:s,onError:u,onLogs:f,poll:d,pollingInterval:h=t.pollingInterval,strict:m}=e;return(typeof d<"u"?d:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const _=m??!1,C=qn(["watchContractEvent",r,o,i,t.uid,a,h,_,s]);return ga(C,{onLogs:f,onError:u},A=>{let I;s!==void 0&&(I=s-1n);let T,O=!1;const P=Ol(async()=>{if(!O){try{T=await je(t,B4,"createContractEventFilter")({abi:n,address:r,args:o,eventName:a,strict:_,fromBlock:s})}catch{}O=!0;return}try{let k;if(T)k=await je(t,n1,"getFilterChanges")({filter:T});else{const R=await je(t,Pl,"getBlockNumber")({});I&&I<R?k=await je(t,lE,"getContractEvents")({abi:n,address:r,args:o,eventName:a,fromBlock:I+1n,toBlock:R,strict:_}):k=[],I=R}if(k.length===0)return;if(i)A.onLogs(k);else for(const R of k)A.onLogs([R])}catch(k){T&&k instanceof ma&&(O=!1),A.onError?.(k)}},{emitOnBegin:!0,interval:h});return async()=>{T&&await je(t,r1,"uninstallFilter")({filter:T}),P()}})})():(()=>{const _=m??!1,C=qn(["watchContractEvent",r,o,i,t.uid,a,h,_]);let A=!0,I=()=>A=!1;return ga(C,{onLogs:f,onError:u},T=>((async()=>{try{const O=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(z=>z.config.type==="webSocket"||z.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),P=a?El({abi:n,eventName:a,args:o}):[],{unsubscribe:k}=await O.subscribe({params:["logs",{address:r,topics:P}],onData(R){if(!A)return;const z=R.result;try{const{eventName:F,args:U}=Wy({abi:n,data:z.data,topics:z.topics,strict:m}),H=Si(z,{args:U,eventName:F});T.onLogs([H])}catch(F){let U,H;if(F instanceof Lu||F instanceof U0){if(m)return;U=F.abiItem.name,H=F.abiItem.inputs?.some(ae=>!("name"in ae&&ae.name))}const Y=Si(z,{args:H?[]:{},eventName:U});T.onLogs([Y])}},onError(R){T.onError?.(R)}});I=k,A||I()}catch(O){u?.(O)}})(),()=>I()))})()}async function Oj(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}function ig(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((o,i)=>{const a=async({count:s=0}={})=>{const u=async({error:f})=>{const d=typeof e=="function"?e({count:s,error:f}):e;d&&await og(d),a({count:s+1})};try{const f=await t();o(f)}catch(f){if(s<n&&await r({count:s,error:f}))return u({error:f});i(f)}};a()})}const Pj={"0x0":"reverted","0x1":"success"};function BE(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Si(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ci(t.transactionIndex):null,status:t.status?Pj[t.status]:null,type:t.type?J4[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const ag=256;let od=ag,id;function LE(t=11){if(!id||od+t>ag*2){id="",od=0;for(let e=0;e<ag;e++)id+=(256+Math.random()*256|0).toString(16).substring(1)}return id.substring(od,od+++t)}function Rj(t){const{batch:e,chain:n,ccipRead:r,key:o="base",name:i="Base Client",type:a="base"}=t,s=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=t.pollingInterval??f,h=t.cacheTime??d,m=t.account?zr(t.account):void 0,{config:g,request:b,value:w}=t.transport({account:m,chain:n,pollingInterval:d}),_={...g,...w},C={account:m,batch:e,cacheTime:h,ccipRead:r,chain:n,key:o,name:i,pollingInterval:d,request:b,transport:_,type:a,uid:LE(),...s?{experimental_blockTag:s}:{}};function A(I){return T=>{const O=T(I);for(const k in C)delete O[k];const P={...I,...O};return Object.assign(P,{extend:A(P)})}}return Object.assign(C,{extend:A(C)})}function tv(t){if(!(t instanceof fe))return!1;const e=t.walk(n=>n instanceof Gm);return e instanceof Gm?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function kj(t){const{abi:e,data:n}=t,r=uc(n,0,4),o=e.find(i=>i.type==="function"&&r===wl(Co(i)));if(!o)throw new bB(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:o.name,args:"inputs"in o&&o.inputs&&o.inputs.length>0?_l(o.inputs,uc(n,4)):void 0}}const Hp="/docs/contract/encodeErrorResult";function mx(t){const{abi:e,errorName:n,args:r}=t;let o=e[0];if(n){const u=is({abi:e,args:r,name:n});if(!u)throw new Lb(n,{docsPath:Hp});o=u}if(o.type!=="error")throw new Lb(void 0,{docsPath:Hp});const i=Co(o),a=wl(i);let s="0x";if(r&&r.length>0){if(!o.inputs)throw new yB(o.name,{docsPath:Hp});s=ba(o.inputs,r)}return Ai([a,s])}const Vp="/docs/contract/encodeFunctionResult";function Dj(t){const{abi:e,functionName:n,result:r}=t;let o=e[0];if(n){const a=is({abi:e,name:n});if(!a)throw new ic(n,{docsPath:Vp});o=a}if(o.type!=="function")throw new ic(void 0,{docsPath:Vp});if(!o.outputs)throw new g4(o.name,{docsPath:Vp});const i=(()=>{if(o.outputs.length===0)return[];if(o.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new y4(r)})();return ba(o.outputs,i)}const o1="x-batch-gateway:true";async function Mj(t){const{data:e,ccipRequest:n}=t,{args:[r]}=kj({abi:ng,data:e}),o=[],i=[];return await Promise.all(r.map(async(a,s)=>{try{i[s]=a.urls.includes(o1)?await Mj({data:a.data,ccipRequest:n}):await n(a),o[s]=!1}catch(u){o[s]=!0,i[s]=Bj(u)}})),Dj({abi:ng,functionName:"query",result:[o,i]})}function Bj(t){return t.name==="HttpRequestError"&&t.status?mx({abi:ng,errorName:"HttpError",args:[t.status,t.shortMessage]}):mx({abi:[L4],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function FE(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Zo(e)?e:null}function sg(t){let e=new Uint8Array(32).fill(0);if(!t)return Zt(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const o=FE(n[r]),i=o?Sc(o):On(Ga(n[r]),"bytes");e=On(qo([e,i]),"bytes")}return Zt(e)}function Lj(t){return`[${t.slice(2)}]`}function Fj(t){const e=new Uint8Array(32).fill(0);return t?FE(t)||On(Ga(t)):Zt(e)}function nv(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Ga(e).byteLength+2);let r=0;const o=e.split(".");for(let i=0;i<o.length;i++){let a=Ga(o[i]);a.byteLength>255&&(a=Ga(Lj(Fj(o[i])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function jj(t,e){const{blockNumber:n,blockTag:r,coinType:o,name:i,gatewayUrls:a,strict:s}=e,{chain:u}=t,f=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Tc({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),d=u?.ensTlds;if(d&&!d.some(m=>i.endsWith(m)))return null;const h=o!=null?[sg(i),BigInt(o)]:[sg(i)];try{const m=$r({abi:dx,functionName:"addr",args:h}),g={address:f,abi:TE,functionName:"resolveWithGateways",args:[Ao(nv(i)),m,a??[o1]],blockNumber:n,blockTag:r},w=await je(t,No,"readContract")(g);if(w[0]==="0x")return null;const _=as({abi:dx,args:h,functionName:"addr",data:w[0]});return _==="0x"||Va(_)==="0x00"?null:_}catch(m){if(s)throw m;if(tv(m))return null;throw m}}class zj extends fe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class yu extends fe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class rv extends fe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class $j extends fe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Uj=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Hj=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Vj=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Gj=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Wj(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function gx(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function jE({uri:t,gatewayUrls:e}){const n=Vj.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=gx(e?.ipfs,"https://ipfs.io"),o=gx(e?.arweave,"https://arweave.net"),i=t.match(Uj),{protocol:a,subpath:s,target:u,subtarget:f=""}=i?.groups||{},d=a==="ipns:/"||s==="ipns/",h=a==="ipfs:/"||s==="ipfs/"||Hj.test(t);if(t.startsWith("http")&&!d&&!h){let g=t;return e?.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((d||h)&&u)return{uri:`${r}/${d?"ipns":"ipfs"}/${u}${f}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&u)return{uri:`${o}/${u}${f||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(Gj,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new rv({uri:t})}function zE(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new zj({data:t});return t.image||t.image_url||t.image_data}async function Zj({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(o=>o.json());return await ov({gatewayUrls:t,uri:zE(n)})}catch{throw new rv({uri:e})}}async function ov({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=jE({uri:e,gatewayUrls:t});if(r||await Wj(n))return n;throw new rv({uri:e})}function Xj(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,o]=e.split("/"),[i,a]=n.split(":"),[s,u]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new yu({reason:"Only EIP-155 supported"});if(!a)throw new yu({reason:"Chain ID not found"});if(!u)throw new yu({reason:"Contract address not found"});if(!o)throw new yu({reason:"Token ID not found"});if(!s)throw new yu({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:s.toLowerCase(),contractAddress:u,tokenID:o}}async function qj(t,{nft:e}){if(e.namespace==="erc721")return No(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return No(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new $j({namespace:e.namespace})}async function Kj(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?Yj(t,{gatewayUrls:e,record:n}):ov({uri:n,gatewayUrls:e})}async function Yj(t,{gatewayUrls:e,record:n}){const r=Xj(n),o=await qj(t,{nft:r}),{uri:i,isOnChain:a,isEncoded:s}=jE({uri:o,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const f=s?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(f);return ov({uri:zE(d),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),Zj({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,u)})}async function $E(t,e){const{blockNumber:n,blockTag:r,key:o,name:i,gatewayUrls:a,strict:s}=e,{chain:u}=t,f=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Tc({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),d=u?.ensTlds;if(d&&!d.some(h=>i.endsWith(h)))return null;try{const h={address:f,abi:TE,args:[Ao(nv(i)),$r({abi:fx,functionName:"text",args:[sg(i),o]}),a??[o1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},g=await je(t,No,"readContract")(h);if(g[0]==="0x")return null;const b=as({abi:fx,functionName:"text",data:g[0]});return b===""?null:b}catch(h){if(s)throw h;if(tv(h))return null;throw h}}async function Qj(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:o,gatewayUrls:i,strict:a,universalResolverAddress:s}){const u=await je(t,$E,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:o,universalResolverAddress:s,gatewayUrls:i,strict:a});if(!u)return null;try{return await Kj(t,{record:u,gatewayUrls:r})}catch{return null}}async function Jj(t,e){const{address:n,blockNumber:r,blockTag:o,coinType:i=60n,gatewayUrls:a,strict:s}=e,{chain:u}=t,f=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Tc({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const d={address:f,abi:pj,args:[n,i,a??[o1]],functionName:"reverseWithGateways",blockNumber:r,blockTag:o},h=je(t,No,"readContract"),[m]=await h(d);return m||null}catch(d){if(s)throw d;if(tv(d))return null;throw d}}async function ez(t,e){const{blockNumber:n,blockTag:r,name:o}=e,{chain:i}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Tc({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),s=i?.ensTlds;if(s&&!s.some(f=>o.endsWith(f)))throw new Error(`${o} is not a valid ENS TLD (${s?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[u]=await je(t,No,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ao(nv(o))],blockNumber:n,blockTag:r});return u}async function UE(t,e){const{account:n=t.account,blockNumber:r,blockTag:o="latest",blobs:i,data:a,gas:s,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,to:m,value:g,...b}=e,w=n?zr(n):void 0;try{Ic(e);const C=(typeof r=="bigint"?Ge(r):void 0)||o,A=t.chain?.formatters?.transactionRequest?.format,T=(A||Sl)({...K0(b,{format:A}),account:w,blobs:i,data:a,gas:s,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,to:m,value:g},"createAccessList"),O=await t.request({method:"eth_createAccessList",params:[T,C]});return{accessList:O.accessList,gasUsed:BigInt(O.gasUsed)}}catch(_){throw RE(_,{...e,account:w,chain:t.chain})}}async function tz(t){const e=Z0(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function HE(t,{address:e,args:n,event:r,events:o,fromBlock:i,strict:a,toBlock:s}={}){const u=o??(r?[r]:void 0),f=Z0(t,{method:"eth_newFilter"});let d=[];u&&(d=[u.flatMap(g=>El({abi:[g],eventName:g.name,args:n}))],r&&(d=d[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?Ge(i):i,toBlock:typeof s=="bigint"?Ge(s):s,...d.length?{topics:d}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:i,id:h,request:f(h),strict:!!a,toBlock:s,type:"event"}}async function VE(t){const e=Z0(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function nz(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const o=typeof n=="bigint"?Ge(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,o||r]});return BigInt(i)}async function rz(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function oz(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const o=n!==void 0?Ge(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[o||r]},{dedupe:!!o}),Ci(i)}async function cg(t,{address:e,blockNumber:n,blockTag:r="latest"}){const o=n!==void 0?Ge(n):void 0,i=await t.request({method:"eth_getCode",params:[e,o||r]},{dedupe:!!o});if(i!=="0x")return i}class iz extends fe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function az(t,e){const{address:n,factory:r,factoryData:o}=e;try{const[i,a,s,u,f,d,h]=await je(t,No,"readContract")({abi:sz,address:n,functionName:"eip712Domain",factory:r,factoryData:o});return{domain:{name:a,version:s,chainId:Number(u),verifyingContract:f,salt:d},extensions:h,fields:i}}catch(i){const a=i;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new iz({address:n}):a}}const sz=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function cz(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function uz(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:o}){const i=typeof n=="bigint"?Ge(n):void 0,a=await t.request({method:"eth_feeHistory",params:[Ge(e),i||r,o]},{dedupe:!!i});return cz(a)}async function lz(t,{filter:e}){const n=e.strict??!1,o=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>Si(i));return e.abi?Zy({abi:e.abi,logs:o,strict:n}):o}async function fz({address:t,authorization:e,signature:n}){return Y0(O4(t),await K4({authorization:e,signature:n}))}const ad=new G0(8192);function dz(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ad.get(n))return ad.get(n);const r=t().finally(()=>ad.delete(n));return ad.set(n,r),r}function hz(t,e={}){return async(n,r={})=>{const{dedupe:o=!1,methods:i,retryDelay:a=150,retryCount:s=3,uid:u}={...e,...r},{method:f}=n;if(i?.exclude?.includes(f))throw new ja(new Error("method not supported"),{method:f});if(i?.include&&!i.include.includes(f))throw new ja(new Error("method not supported"),{method:f});const d=o?ac(`${u}.${qn(n)}`):void 0;return dz(()=>ig(async()=>{try{return await t(n)}catch(h){const m=h;switch(m.code){case zu.code:throw new zu(m);case $u.code:throw new $u(m);case Uu.code:throw new Uu(m,{method:n.method});case Hu.code:throw new Hu(m);case Ka.code:throw new Ka(m);case ma.code:throw new ma(m);case Vu.code:throw new Vu(m);case Gu.code:throw new Gu(m);case Wu.code:throw new Wu(m);case ja.code:throw new ja(m,{method:n.method});case lc.code:throw new lc(m);case Zu.code:throw new Zu(m);case qs.code:throw new qs(m);case Xu.code:throw new Xu(m);case qu.code:throw new qu(m);case Ku.code:throw new Ku(m);case Yu.code:throw new Yu(m);case Qu.code:throw new Qu(m);case Ju.code:throw new Ju(m);case el.code:throw new el(m);case tl.code:throw new tl(m);case nl.code:throw new nl(m);case rl.code:throw new rl(m);case ol.code:throw new ol(m);case il.code:throw new il(m);case 5e3:throw new qs(m);default:throw h instanceof fe?h:new KL(m)}}},{delay:({count:h,error:m})=>{if(m&&m instanceof Tu){const g=m?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<h)*a},retryCount:s,shouldRetry:({error:h})=>pz(h)}),{enabled:o,id:d})}}function pz(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===lc.code||t.code===Ka.code:t instanceof Tu&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function mz(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((o,i)=>{(async()=>{let a;try{const s=new AbortController;n>0&&(a=setTimeout(()=>{r&&s.abort()},n)),o(await t({signal:s?.signal||null}))}catch(s){s?.name==="AbortError"&&i(e),i(s)}finally{clearTimeout(a)}})()})}function gz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const yx=gz();function yz(t,e={}){return{async request(n){const{body:r,fetchFn:o=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:a=e.onResponse,timeout:s=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:f,method:d,signal:h}=u;try{const m=await mz(async({signal:b})=>{const w={...u,body:Array.isArray(r)?qn(r.map(I=>({jsonrpc:"2.0",id:I.id??yx.take(),...I}))):qn({jsonrpc:"2.0",id:r.id??yx.take(),...r}),headers:{"Content-Type":"application/json",...f},method:d||"POST",signal:h||(s>0?b:null)},_=new Request(t,w),C=await i?.(_,w)??{...w,url:t};return await o(C.url??t,C)},{errorInstance:new Yb({body:r,url:t}),timeout:s,signal:!0});a&&await a(m);let g;if(m.headers.get("Content-Type")?.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(b){if(m.ok)throw b;g={error:g}}}if(!m.ok)throw new Tu({body:r,details:qn(g.error)||m.statusText,headers:m.headers,status:m.status,url:t});return g}catch(m){throw m instanceof Tu||m instanceof Yb?m:new Tu({body:r,cause:m,url:t})}}}}const vz=`Ethereum Signed Message:
`;function bz(t){const e=typeof t=="string"?ac(t):typeof t.raw=="string"?t.raw:Zt(t.raw),n=ac(`${vz}${ln(e)}`);return qo([n,e])}function GE(t,e){return On(bz(t),e)}class xz extends fe{constructor({domain:e}){super(`Invalid domain "${qn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class wz extends fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ez extends fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function _z(t){const{domain:e,message:n,primaryType:r,types:o}=t,i=(a,s)=>{for(const u of a){const{name:f,type:d}=u,h=s[f],m=d.match(D4);if(m&&(typeof h=="number"||typeof h=="bigint")){const[w,_,C]=m;Ge(h,{signed:_==="int",size:Number.parseInt(C,10)/8})}if(d==="address"&&typeof h=="string"&&!io(h))throw new pa({address:h});const g=d.match(hL);if(g){const[w,_]=g;if(_&&ln(h)!==Number.parseInt(_,10))throw new wB({expectedSize:Number.parseInt(_,10),givenSize:ln(h)})}const b=o[d];b&&(Az(d),i(b,h))}};if(o.EIP712Domain&&e){if(typeof e!="object")throw new xz({domain:e});i(o.EIP712Domain,e)}if(r!=="EIP712Domain")if(o[r])i(o[r],n);else throw new wz({primaryType:r,types:o})}function Cz({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Az(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Ez({type:t})}function WE(t){const{domain:e={},message:n,primaryType:r}=t,o={EIP712Domain:Cz({domain:e}),...t.types};_z({domain:e,message:n,primaryType:r,types:o});const i=["0x1901"];return e&&i.push(Sz({domain:e,types:o})),r!=="EIP712Domain"&&i.push(ZE({data:n,primaryType:r,types:o})),On(qo(i))}function Sz({domain:t,types:e}){return ZE({data:t,primaryType:"EIP712Domain",types:e})}function ZE({data:t,primaryType:e,types:n}){const r=XE({data:t,primaryType:e,types:n});return On(r)}function XE({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],o=[Iz({primaryType:e,types:n})];for(const i of n[e]){const[a,s]=KE({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(a),o.push(s)}return ba(r,o)}function Iz({primaryType:t,types:e}){const n=Ao(Tz({primaryType:t,types:e}));return On(n)}function Tz({primaryType:t,types:e}){let n="";const r=qE({primaryType:t,types:e});r.delete(t);const o=[t,...Array.from(r).sort()];for(const i of o)n+=`${i}(${e[i].map(({name:a,type:s})=>`${s} ${a}`).join(",")})`;return n}function qE({primaryType:t,types:e},n=new Set){const o=t.match(/^\w*/u)?.[0];if(n.has(o)||e[o]===void 0)return n;n.add(o);for(const i of e[o])qE({primaryType:i.type,types:e},n);return n}function KE({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},On(XE({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},On(r)];if(n==="string")return[{type:"bytes32"},On(Ao(r))];if(n.lastIndexOf("]")===n.length-1){const o=n.slice(0,n.lastIndexOf("[")),i=r.map(a=>KE({name:e,type:o,types:t,value:a}));return[{type:"bytes32"},On(ba(i.map(([a])=>a),i.map(([,a])=>a)))]}return[{type:n},r]}class Nz extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Oz={checksum:new Nz(8192)},Gp=Oz.checksum;function YE(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=T4(XF(t));return n==="Bytes"?r:To(r)}const Pz=/^0x[a-fA-F0-9]{40}$/;function i1(t,e={}){const{strict:n=!0}=e;if(!Pz.test(t))throw new vx({address:t,cause:new Rz});if(n){if(t.toLowerCase()===t)return;if(QE(t)!==t)throw new vx({address:t,cause:new kz})}}function QE(t){if(Gp.has(t))return Gp.get(t);i1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=YE(KF(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const o=`0x${r.join("")}`;return Gp.set(t,o),o}function ug(t,e={}){const{strict:n=!0}=e??{};try{return i1(t,{strict:n}),!0}catch{return!1}}class vx extends ft{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Rz extends ft{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class kz extends ft{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Dz=/^(.*)\[([0-9]*)\]$/,Mz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,JE=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bx=2n**256n-1n;function Ys(t,e,n){const{checksumAddress:r,staticPosition:o}=n,i=sv(e.type);if(i){const[a,s]=i;return Lz(t,{...e,type:s},{checksumAddress:r,length:a,staticPosition:o})}if(e.type==="tuple")return $z(t,e,{checksumAddress:r,staticPosition:o});if(e.type==="address")return Bz(t,{checksum:r});if(e.type==="bool")return Fz(t);if(e.type.startsWith("bytes"))return jz(t,e,{staticPosition:o});if(e.type.startsWith("uint")||e.type.startsWith("int"))return zz(t,e);if(e.type==="string")return Uz(t,{staticPosition:o});throw new uv(e.type)}const xx=32,lg=32;function Bz(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(i=>n?QE(i):i)(To(QF(r,-20))),32]}function Lz(t,e,n){const{checksumAddress:r,length:o,staticPosition:i}=n;if(!o){const u=wi(t.readBytes(lg)),f=i+u,d=f+xx;t.setPosition(f);const h=wi(t.readBytes(xx)),m=cl(e);let g=0;const b=[];for(let w=0;w<h;++w){t.setPosition(d+(m?w*32:g));const[_,C]=Ys(t,e,{checksumAddress:r,staticPosition:d});g+=C,b.push(_)}return t.setPosition(i+32),[b,32]}if(cl(e)){const u=wi(t.readBytes(lg)),f=i+u,d=[];for(let h=0;h<o;++h){t.setPosition(f+h*32);const[m]=Ys(t,e,{checksumAddress:r,staticPosition:f});d.push(m)}return t.setPosition(i+32),[d,32]}let a=0;const s=[];for(let u=0;u<o;++u){const[f,d]=Ys(t,e,{checksumAddress:r,staticPosition:i+a});a+=d,s.push(f)}return[s,a]}function Fz(t){return[ej(t.readBytes(32),{size:32}),32]}function jz(t,e,{staticPosition:n}){const[r,o]=e.type.split("bytes");if(!o){const a=wi(t.readBytes(32));t.setPosition(n+a);const s=wi(t.readBytes(32));if(s===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(s);return t.setPosition(n+32),[To(u),32]}return[To(t.readBytes(Number.parseInt(o,10),32)),32]}function zz(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),o=t.readBytes(32);return[r>48?JF(o,{signed:n}):wi(o,{signed:n}),32]}function $z(t,e,n){const{checksumAddress:r,staticPosition:o}=n,i=e.components.length===0||e.components.some(({name:u})=>!u),a=i?[]:{};let s=0;if(cl(e)){const u=wi(t.readBytes(lg)),f=o+u;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(f+s);const[m,g]=Ys(t,h,{checksumAddress:r,staticPosition:f});s+=g,a[i?d:h?.name]=m}return t.setPosition(o+32),[a,32]}for(let u=0;u<e.components.length;++u){const f=e.components[u],[d,h]=Ys(t,f,{checksumAddress:r,staticPosition:o});a[i?u:f?.name]=d,s+=h}return[a,s]}function Uz(t,{staticPosition:e}){const n=wi(t.readBytes(32)),r=e+n;t.setPosition(r);const o=wi(t.readBytes(32));if(o===0)return t.setPosition(e+32),["",32];const i=t.readBytes(o,32),a=tj(xE(i));return t.setPosition(e+32),[a,32]}function Hz({checksumAddress:t,parameters:e,values:n}){const r=[];for(let o=0;o<e.length;o++)r.push(iv({checksumAddress:t,parameter:e[o],value:n[o]}));return r}function iv({checksumAddress:t=!1,parameter:e,value:n}){const r=e,o=sv(r.type);if(o){const[i,a]=o;return Gz(n,{checksumAddress:t,length:i,parameter:{...r,type:a}})}if(r.type==="tuple")return Kz(n,{checksumAddress:t,parameter:r});if(r.type==="address")return Vz(n,{checksum:t});if(r.type==="bool")return Zz(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,a="256"]=JE.exec(r.type)??[];return Xz(n,{signed:i,size:Number(a)})}if(r.type.startsWith("bytes"))return Wz(n,{type:r.type});if(r.type==="string")return qz(n);throw new uv(r.type)}function av(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?e+=32:e+=Ur(s)}const n=[],r=[];let o=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?(n.push(fr(e+o,{size:32})),r.push(s),o+=Ur(s)):n.push(s)}return Io(...n,...r)}function Vz(t,e){const{checksum:n=!1}=e;return i1(t,{strict:n}),{dynamic:!1,encoded:Ya(t.toLowerCase())}}function Gz(t,e){const{checksumAddress:n,length:r,parameter:o}=e,i=r===null;if(!Array.isArray(t))throw new i$(t);if(!i&&t.length!==r)throw new o$({expectedLength:r,givenLength:t.length,type:`${o.type}[${r}]`});let a=!1;const s=[];for(let u=0;u<t.length;u++){const f=iv({checksumAddress:n,parameter:o,value:t[u]});f.dynamic&&(a=!0),s.push(f)}if(i||a){const u=av(s);if(i){const f=fr(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Io(f,u):f}}if(a)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:Io(...s.map(({encoded:u})=>u))}}function Wz(t,{type:e}){const[,n]=e.split("bytes"),r=Ur(t);if(!n){let o=t;return r%32!==0&&(o=Qa(o,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Io(Ya(fr(r,{size:32})),o)}}if(r!==Number.parseInt(n,10))throw new t_({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Qa(t)}}function Zz(t){if(typeof t!="boolean")throw new ft(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ya(wE(t))}}function Xz(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,o=e?-r-1n:0n;if(t>r||t<o)throw new CE({max:r.toString(),min:o.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:fr(t,{size:32,signed:e})}}function qz(t){const e=Qy(t),n=Math.ceil(Ur(e)/32),r=[];for(let o=0;o<n;o++)r.push(Qa(Ho(e,o*32,(o+1)*32)));return{dynamic:!0,encoded:Io(Qa(fr(Ur(e),{size:32})),...r)}}function Kz(t,e){const{checksumAddress:n,parameter:r}=e;let o=!1;const i=[];for(let a=0;a<r.components.length;a++){const s=r.components[a],u=Array.isArray(t)?a:s.name,f=iv({checksumAddress:n,parameter:s,value:t[u]});i.push(f),f.dynamic&&(o=!0)}return{dynamic:o,encoded:o?av(i):Io(...i.map(({encoded:a})=>a))}}function sv(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function cl(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(cl);const n=sv(t.type);return!!(n&&cl({...t,type:n[1]}))}const Yz={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new e$({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Jz({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new wx({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new wx({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Qz(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Yz);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class wx extends ft{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Jz extends ft{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class e$ extends ft{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function t$(t,e,n={}){const{as:r="Array",checksumAddress:o=!1}=n,i=typeof e=="string"?bE(e):e,a=Qz(i);if(js(i)===0&&t.length>0)throw new r$;if(js(i)&&js(i)<32)throw new n$({data:typeof e=="string"?e:To(e),parameters:t,size:js(i)});let s=0;const u=r==="Array"?[]:{};for(let f=0;f<t.length;++f){const d=t[f];a.setPosition(s);const[h,m]=Ys(a,d,{checksumAddress:o,staticPosition:0});s+=m,r==="Array"?u.push(h):u[d.name??f]=h}return u}function cv(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new n_({expectedLength:t.length,givenLength:e.length});const o=Hz({checksumAddress:r,parameters:t,values:e}),i=av(o);return i.length===0?"0x":i}function fg(t,e){if(t.length!==e.length)throw new n_({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=e[r];n.push(fg.encode(o,i))}return Io(...n)}(function(t){function e(n,r,o=!1){if(n==="address"){const u=r;return i1(u),Ya(u.toLowerCase(),o?32:0)}if(n==="string")return Qy(r);if(n==="bytes")return r;if(n==="bool")return Ya(wE(r),o?32:1);const i=n.match(JE);if(i){const[u,f,d="256"]=i,h=Number.parseInt(d,10)/8;return fr(r,{size:o?32:h,signed:f==="int"})}const a=n.match(Mz);if(a){const[u,f]=a;if(Number.parseInt(f,10)!==(r.length-2)/2)throw new t_({expectedSize:Number.parseInt(f,10),value:r});return Qa(r,o?32:0)}const s=n.match(Dz);if(s&&Array.isArray(r)){const[u,f]=s,d=[];for(let h=0;h<r.length;h++)d.push(e(f,r[h],!0));return d.length===0?"0x":Io(...d)}throw new uv(n)}t.encode=e})(fg||(fg={}));function e_(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?$m(t):t}class n$ extends ft{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ds(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class r$ extends ft{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class o$ extends ft{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class t_ extends ft{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ur(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class n_ extends ft{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class i$ extends ft{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class uv extends ft{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class r_ extends Oy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HB(e);const r=H0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),cc(i)}update(e){return sc(this),this.iHash.update(e),this}digestInto(e){sc(this),qa(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:a,outputLen:s}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o_=(t,e,n)=>new r_(t,e).update(n).digest();o_.create=(t,e)=>new r_(t,e);const Sr=BigInt(0),dr=BigInt(1),za=BigInt(2),a$=BigInt(3),i_=BigInt(4),a_=BigInt(5),s_=BigInt(8);function Cr(t,e){const n=t%e;return n>=Sr?n:e+n}function Yr(t,e,n){let r=t;for(;e-- >Sr;)r*=r,r%=n;return r}function dg(t,e){if(t===Sr)throw new Error("invert: expected non-zero number");if(e<=Sr)throw new Error("invert: expected positive modulus, got "+e);let n=Cr(t,e),r=e,o=Sr,i=dr;for(;n!==Sr;){const s=r/n,u=r%n,f=o-i*s;r=n,n=u,o=i,i=f}if(r!==dr)throw new Error("invert: does not exist");return Cr(o,e)}function c_(t,e){const n=(t.ORDER+dr)/i_,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function s$(t,e){const n=(t.ORDER-a_)/s_,r=t.mul(e,za),o=t.pow(r,n),i=t.mul(e,o),a=t.mul(t.mul(i,za),o),s=t.mul(i,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function c$(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-dr,n=0;for(;e%za===Sr;)e/=za,n++;let r=za;const o=lv(t);for(;Ex(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return c_;let i=o.pow(r,e);const a=(e+dr)/za;return function(u,f){if(u.is0(f))return f;if(Ex(u,f)!==1)throw new Error("Cannot find square root");let d=n,h=u.mul(u.ONE,i),m=u.pow(f,e),g=u.pow(f,a);for(;!u.eql(m,u.ONE);){if(u.is0(m))return u.ZERO;let b=1,w=u.sqr(m);for(;!u.eql(w,u.ONE);)if(b++,w=u.sqr(w),b===d)throw new Error("Cannot find square root");const _=dr<<BigInt(d-b-1),C=u.pow(h,_);d=b,h=u.sqr(C),m=u.mul(m,h),g=u.mul(g,C)}return g}}function u$(t){return t%i_===a$?c_:t%s_===a_?s$:c$(t)}const l$=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function f$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=l$.reduce((r,o)=>(r[o]="function",r),e);return J0(t,n)}function d$(t,e,n){if(n<Sr)throw new Error("invalid exponent, negatives unsupported");if(n===Sr)return t.ONE;if(n===dr)return e;let r=t.ONE,o=e;for(;n>Sr;)n&dr&&(r=t.mul(r,o)),o=t.sqr(o),n>>=dr;return r}function u_(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((a,s,u)=>t.is0(s)?a:(r[u]=a,t.mul(a,s)),t.ONE),i=t.inv(o);return e.reduceRight((a,s,u)=>t.is0(s)?a:(r[u]=t.mul(a,r[u]),t.mul(a,s)),i),r}function Ex(t,e){const n=(t.ORDER-dr)/za,r=t.pow(e,n),o=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!o&&!i&&!a)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function l_(t,e){e!==void 0&&Fu(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lv(t,e,n=!1,r={}){if(t<=Sr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:i}=l_(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const s=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Q0(o),ZERO:Sr,ONE:dr,create:u=>Cr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Sr<=u&&u<t},is0:u=>u===Sr,isOdd:u=>(u&dr)===dr,neg:u=>Cr(-u,t),eql:(u,f)=>u===f,sqr:u=>Cr(u*u,t),add:(u,f)=>Cr(u+f,t),sub:(u,f)=>Cr(u-f,t),mul:(u,f)=>Cr(u*f,t),pow:(u,f)=>d$(s,u,f),div:(u,f)=>Cr(u*dg(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>dg(u,t),sqrt:r.sqrt||(u=>(a||(a=u$(t)),a(s,u))),toBytes:u=>n?pE(u,i):Tl(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return n?hE(u):Wa(u)},invertBatch:u=>u_(s,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(s)}function f_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function d_(t){const e=f_(t);return e+Math.ceil(e/2)}function h$(t,e,n=!1){const r=t.length,o=f_(e),i=d_(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?hE(t):Wa(t),s=Cr(a,e-dr)+dr;return n?pE(s,o):Tl(s,o)}const _x=BigInt(0),hg=BigInt(1);function Wp(t,e){const n=e.negate();return t?n:e}function h_(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Zp(t,e){h_(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,i=Q0(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:a}}function Cx(t,e,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:a}=n;let s=Number(t&o),u=t>>a;s>r&&(s-=i,u+=hg);const f=e*r,d=f+Math.abs(s)-1,h=s===0,m=s<0,g=e%2!==0;return{nextN:u,offset:d,isZero:h,isNeg:m,isNegF:g,offsetF:f}}function p$(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function m$(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Xp=new WeakMap,p_=new WeakMap;function qp(t){return p_.get(t)||1}function g$(t,e){return{constTimeNegate:Wp,hasPrecomputes(n){return qp(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>_x;)r&hg&&(o=o.add(i)),i=i.double(),r>>=hg;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=Zp(r,e),a=[];let s=n,u=s;for(let f=0;f<o;f++){u=s,a.push(u);for(let d=1;d<i;d++)u=u.add(s),a.push(u);s=u.double()}return a},wNAF(n,r,o){let i=t.ZERO,a=t.BASE;const s=Zp(n,e);for(let u=0;u<s.windows;u++){const{nextN:f,offset:d,isZero:h,isNeg:m,isNegF:g,offsetF:b}=Cx(o,u,s);o=f,h?a=a.add(Wp(g,r[b])):i=i.add(Wp(m,r[d]))}return{p:i,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const a=Zp(n,e);for(let s=0;s<a.windows&&o!==_x;s++){const{nextN:u,offset:f,isZero:d,isNeg:h}=Cx(o,s,a);if(o=u,!d){const m=r[f];i=i.add(h?m.negate():m)}}return i},getPrecomputes(n,r,o){let i=Xp.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Xp.set(r,o(i))),i},wNAFCached(n,r,o){const i=qp(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const a=qp(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,i)},setWindowSize(n,r){h_(r,e),p_.set(n,r),Xp.delete(n)}}}function y$(t,e,n,r){p$(n,t),m$(r,e);const o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,s=LF(BigInt(o));let u=1;s>12?u=s-3:s>4?u=s-2:s>0&&(u=2);const f=Q0(u),d=new Array(Number(f)+1).fill(a),h=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=h;g>=0;g-=u){d.fill(a);for(let w=0;w<i;w++){const _=r[w],C=Number(_>>BigInt(g)&f);d[C]=d[C].add(n[w])}let b=a;for(let w=d.length-1,_=a;w>0;w--)_=_.add(d[w]),b=b.add(_);if(m=m.add(b),g!==0)for(let w=0;w<u;w++)m=m.double()}return m}function m_(t){return f$(t.Fp),J0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...l_(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Ax(t){t.lowS!==void 0&&al("lowS",t.lowS),t.prehash!==void 0&&al("prehash",t.prehash)}function v$(t){const e=m_(t);J0(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class b$ extends Error{constructor(e=""){super(e)}}const fi={Err:b$,_tlv:{encode:(t,e)=>{const{Err:n}=fi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=rd(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?rd(o.length/2|128):"";return rd(t)+i+o+e},decode(t,e){const{Err:n}=fi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let a=0;if(!i)a=o;else{const u=o&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+u);if(f.length!==u)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of f)a=a<<8|d;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const s=e.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=fi;if(t<di)throw new e("integer: negative integers are not allowed");let n=rd(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=fi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Wa(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=fi,o=Jr("signature",t),{v:i,l:a}=r.decode(48,o);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:s,l:u}=r.decode(2,i),{v:f,l:d}=r.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=fi,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}};function Kp(t,e){return sl(Tl(t,e))}const di=BigInt(0),zn=BigInt(1);BigInt(2);const Yp=BigInt(3),x$=BigInt(4);function w$(t){const e=v$(t),{Fp:n}=e,r=lv(e.n,e.nBitLength),o=e.toBytes||((I,T,O)=>{const P=T.toAffine();return Kd(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=e.fromBytes||(I=>{const T=I.subarray(1),O=n.fromBytes(T.subarray(0,n.BYTES)),P=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:O,y:P}});function a(I){const{a:T,b:O}=e,P=n.sqr(I),k=n.mul(P,I);return n.add(n.add(k,n.mul(I,T)),O)}function s(I,T){const O=n.sqr(T),P=a(I);return n.eql(O,P)}if(!s(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,Yp),x$),f=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,f)))throw new Error("bad curve params: a or b");function d(I){return Yy(I,zn,e.n)}function h(I){const{allowedPrivateKeyLengths:T,nByteLength:O,wrapPrivateKey:P,n:k}=e;if(T&&typeof I!="bigint"){if(Il(I)&&(I=sl(I)),typeof I!="string"||!T.includes(I.length))throw new Error("invalid private key");I=I.padStart(O*2,"0")}let R;try{R=typeof I=="bigint"?I:Wa(Jr("private key",I,O))}catch{throw new Error("invalid private key, expected hex or "+O+" bytes, got "+typeof I)}return P&&(R=Cr(R,k)),Ks("private key",R,zn,k),R}function m(I){if(!(I instanceof w))throw new Error("ProjectivePoint expected")}const g=sx((I,T)=>{const{px:O,py:P,pz:k}=I;if(n.eql(k,n.ONE))return{x:O,y:P};const R=I.is0();T==null&&(T=R?n.ONE:n.inv(k));const z=n.mul(O,T),F=n.mul(P,T),U=n.mul(k,T);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(U,n.ONE))throw new Error("invZ was invalid");return{x:z,y:F}}),b=sx(I=>{if(I.is0()){if(e.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:T,y:O}=I.toAffine();if(!n.isValid(T)||!n.isValid(O))throw new Error("bad point: x or y not FE");if(!s(T,O))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(T,O,P){if(T==null||!n.isValid(T))throw new Error("x required");if(O==null||!n.isValid(O)||n.is0(O))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=T,this.py=O,this.pz=P,Object.freeze(this)}static fromAffine(T){const{x:O,y:P}=T||{};if(!T||!n.isValid(O)||!n.isValid(P))throw new Error("invalid affine point");if(T instanceof w)throw new Error("projective point not allowed");const k=R=>n.eql(R,n.ZERO);return k(O)&&k(P)?w.ZERO:new w(O,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const O=u_(n,T.map(P=>P.pz));return T.map((P,k)=>P.toAffine(O[k])).map(w.fromAffine)}static fromHex(T){const O=w.fromAffine(i(Jr("pointHex",T)));return O.assertValidity(),O}static fromPrivateKey(T){return w.BASE.multiply(h(T))}static msm(T,O){return y$(w,r,T,O)}_setWindowSize(T){A.setWindowSize(this,T)}assertValidity(){b(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){m(T);const{px:O,py:P,pz:k}=this,{px:R,py:z,pz:F}=T,U=n.eql(n.mul(O,F),n.mul(R,k)),H=n.eql(n.mul(P,F),n.mul(z,k));return U&&H}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:O}=e,P=n.mul(O,Yp),{px:k,py:R,pz:z}=this;let F=n.ZERO,U=n.ZERO,H=n.ZERO,Y=n.mul(k,k),ae=n.mul(R,R),X=n.mul(z,z),q=n.mul(k,R);return q=n.add(q,q),H=n.mul(k,z),H=n.add(H,H),F=n.mul(T,H),U=n.mul(P,X),U=n.add(F,U),F=n.sub(ae,U),U=n.add(ae,U),U=n.mul(F,U),F=n.mul(q,F),H=n.mul(P,H),X=n.mul(T,X),q=n.sub(Y,X),q=n.mul(T,q),q=n.add(q,H),H=n.add(Y,Y),Y=n.add(H,Y),Y=n.add(Y,X),Y=n.mul(Y,q),U=n.add(U,Y),X=n.mul(R,z),X=n.add(X,X),Y=n.mul(X,q),F=n.sub(F,Y),H=n.mul(X,ae),H=n.add(H,H),H=n.add(H,H),new w(F,U,H)}add(T){m(T);const{px:O,py:P,pz:k}=this,{px:R,py:z,pz:F}=T;let U=n.ZERO,H=n.ZERO,Y=n.ZERO;const ae=e.a,X=n.mul(e.b,Yp);let q=n.mul(O,R),re=n.mul(P,z),L=n.mul(k,F),K=n.add(O,P),ee=n.add(R,z);K=n.mul(K,ee),ee=n.add(q,re),K=n.sub(K,ee),ee=n.add(O,k);let M=n.add(R,F);return ee=n.mul(ee,M),M=n.add(q,L),ee=n.sub(ee,M),M=n.add(P,k),U=n.add(z,F),M=n.mul(M,U),U=n.add(re,L),M=n.sub(M,U),Y=n.mul(ae,ee),U=n.mul(X,L),Y=n.add(U,Y),U=n.sub(re,Y),Y=n.add(re,Y),H=n.mul(U,Y),re=n.add(q,q),re=n.add(re,q),L=n.mul(ae,L),ee=n.mul(X,ee),re=n.add(re,L),L=n.sub(q,L),L=n.mul(ae,L),ee=n.add(ee,L),q=n.mul(re,ee),H=n.add(H,q),q=n.mul(M,ee),U=n.mul(K,U),U=n.sub(U,q),q=n.mul(K,re),Y=n.mul(M,Y),Y=n.add(Y,q),new w(U,H,Y)}subtract(T){return this.add(T.negate())}is0(){return this.equals(w.ZERO)}wNAF(T){return A.wNAFCached(this,T,w.normalizeZ)}multiplyUnsafe(T){const{endo:O,n:P}=e;Ks("scalar",T,di,P);const k=w.ZERO;if(T===di)return k;if(this.is0()||T===zn)return this;if(!O||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,T,w.normalizeZ);let{k1neg:R,k1:z,k2neg:F,k2:U}=O.splitScalar(T),H=k,Y=k,ae=this;for(;z>di||U>di;)z&zn&&(H=H.add(ae)),U&zn&&(Y=Y.add(ae)),ae=ae.double(),z>>=zn,U>>=zn;return R&&(H=H.negate()),F&&(Y=Y.negate()),Y=new w(n.mul(Y.px,O.beta),Y.py,Y.pz),H.add(Y)}multiply(T){const{endo:O,n:P}=e;Ks("scalar",T,zn,P);let k,R;if(O){const{k1neg:z,k1:F,k2neg:U,k2:H}=O.splitScalar(T);let{p:Y,f:ae}=this.wNAF(F),{p:X,f:q}=this.wNAF(H);Y=A.constTimeNegate(z,Y),X=A.constTimeNegate(U,X),X=new w(n.mul(X.px,O.beta),X.py,X.pz),k=Y.add(X),R=ae.add(q)}else{const{p:z,f:F}=this.wNAF(T);k=z,R=F}return w.normalizeZ([k,R])[0]}multiplyAndAddUnsafe(T,O,P){const k=w.BASE,R=(F,U)=>U===di||U===zn||!F.equals(k)?F.multiplyUnsafe(U):F.multiply(U),z=R(this,O).add(R(T,P));return z.is0()?void 0:z}toAffine(T){return g(this,T)}isTorsionFree(){const{h:T,isTorsionFree:O}=e;if(T===zn)return!0;if(O)return O(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:O}=e;return T===zn?this:O?O(w,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return al("isCompressed",T),this.assertValidity(),o(w,this,T)}toHex(T=!0){return al("isCompressed",T),sl(this.toRawBytes(T))}}w.BASE=new w(e.Gx,e.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:_,nBitLength:C}=e,A=g$(w,_?Math.ceil(C/2):C);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:d}}function E$(t){const e=m_(t);return J0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _$(t){const e=E$(t),{Fp:n,n:r,nByteLength:o,nBitLength:i}=e,a=n.BYTES+1,s=2*n.BYTES+1;function u(X){return Cr(X,r)}function f(X){return dg(X,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:m,isWithinCurveOrder:g}=w$({...e,toBytes(X,q,re){const L=q.toAffine(),K=n.toBytes(L.x),ee=Kd;return al("isCompressed",re),re?ee(Uint8Array.from([q.hasEvenY()?2:3]),K):ee(Uint8Array.from([4]),K,n.toBytes(L.y))},fromBytes(X){const q=X.length,re=X[0],L=X.subarray(1);if(q===a&&(re===2||re===3)){const K=Wa(L);if(!Yy(K,zn,n.ORDER))throw new Error("Point is not on curve");const ee=m(K);let M;try{M=n.sqrt(ee)}catch(de){const xe=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+xe)}const V=(M&zn)===zn;return(re&1)===1!==V&&(M=n.neg(M)),{x:K,y:M}}else if(q===s&&re===4){const K=n.fromBytes(L.subarray(0,n.BYTES)),ee=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:K,y:ee}}else{const K=a,ee=s;throw new Error("invalid Point, expected length of "+K+", or uncompressed "+ee+", got "+q)}}});function b(X){const q=r>>zn;return X>q}function w(X){return b(X)?u(-X):X}const _=(X,q,re)=>Wa(X.slice(q,re));class C{constructor(q,re,L){Ks("r",q,zn,r),Ks("s",re,zn,r),this.r=q,this.s=re,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(q){const re=o;return q=Jr("compactSignature",q,re*2),new C(_(q,0,re),_(q,re,2*re))}static fromDER(q){const{r:re,s:L}=fi.toSig(Jr("DER",q));return new C(re,L)}assertValidity(){}addRecoveryBit(q){return new C(this.r,this.s,q)}recoverPublicKey(q){const{r:re,s:L,recovery:K}=this,ee=k(Jr("msgHash",q));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");const M=K===2||K===3?re+e.n:re;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(K&1)===0?"02":"03",se=d.fromHex(V+Kp(M,n.BYTES)),de=f(M),xe=u(-ee*de),we=u(L*de),Ee=d.BASE.multiplyAndAddUnsafe(se,xe,we);if(!Ee)throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return qd(this.toDERHex())}toDERHex(){return fi.hexFromSig(this)}toCompactRawBytes(){return qd(this.toCompactHex())}toCompactHex(){const q=o;return Kp(this.r,q)+Kp(this.s,q)}}const A={isValidPrivateKey(X){try{return h(X),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const X=d_(e.n);return h$(e.randomBytes(X),e.n)},precompute(X=8,q=d.BASE){return q._setWindowSize(X),q.multiply(BigInt(3)),q}};function I(X,q=!0){return d.fromPrivateKey(X).toRawBytes(q)}function T(X){if(typeof X=="bigint")return!1;if(X instanceof d)return!0;const re=Jr("key",X).length,L=n.BYTES,K=L+1,ee=2*L+1;if(!(e.allowedPrivateKeyLengths||o===K))return re===K||re===ee}function O(X,q,re=!0){if(T(X)===!0)throw new Error("first arg must be private key");if(T(q)===!1)throw new Error("second arg must be public key");return d.fromHex(q).multiply(h(X)).toRawBytes(re)}const P=e.bits2int||function(X){if(X.length>8192)throw new Error("input is too large");const q=Wa(X),re=X.length*8-i;return re>0?q>>BigInt(re):q},k=e.bits2int_modN||function(X){return u(P(X))},R=Q0(i);function z(X){return Ks("num < 2^"+i,X,di,R),Tl(X,o)}function F(X,q,re=U){if(["recovered","canonical"].some(De=>De in re))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:K}=e;let{lowS:ee,prehash:M,extraEntropy:V}=re;ee==null&&(ee=!0),X=Jr("msgHash",X),Ax(re),M&&(X=Jr("prehashed msgHash",L(X)));const se=k(X),de=h(q),xe=[z(de),z(se)];if(V!=null&&V!==!1){const De=V===!0?K(n.BYTES):V;xe.push(Jr("extraEntropy",De))}const we=Kd(...xe),Ee=se;function Te(De){const _e=P(De);if(!g(_e))return;const It=f(_e),rt=d.BASE.multiply(_e).toAffine(),ht=u(rt.x);if(ht===di)return;const Tt=u(It*u(Ee+ht*de));if(Tt===di)return;let ct=(rt.x===ht?0:2)|Number(rt.y&zn),ce=Tt;return ee&&b(Tt)&&(ce=w(Tt),ct^=1),new C(ht,ce,ct)}return{seed:we,k2sig:Te}}const U={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function Y(X,q,re=U){const{seed:L,k2sig:K}=F(X,q,re),ee=e;return FF(ee.hash.outputLen,ee.nByteLength,ee.hmac)(L,K)}d.BASE._setWindowSize(8);function ae(X,q,re,L=H){const K=X;q=Jr("msgHash",q),re=Jr("publicKey",re);const{lowS:ee,prehash:M,format:V}=L;if(Ax(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const se=typeof K=="string"||Il(K),de=!se&&!V&&typeof K=="object"&&K!==null&&typeof K.r=="bigint"&&typeof K.s=="bigint";if(!se&&!de)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let xe,we;try{if(de&&(xe=new C(K.r,K.s)),se){try{V!=="compact"&&(xe=C.fromDER(K))}catch(ct){if(!(ct instanceof fi.Err))throw ct}!xe&&V!=="der"&&(xe=C.fromCompact(K))}we=d.fromHex(re)}catch{return!1}if(!xe||ee&&xe.hasHighS())return!1;M&&(q=e.hash(q));const{r:Ee,s:Te}=xe,De=k(q),_e=f(Te),It=u(De*_e),rt=u(Ee*_e),ht=d.BASE.multiplyAndAddUnsafe(we,It,rt)?.toAffine();return ht?u(ht.x)===Ee:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:O,sign:Y,verify:ae,ProjectivePoint:d,Signature:C,utils:A}}function C$(t){return{hash:t,hmac:(e,...n)=>o_(t,e,qB(...n)),randomBytes:KB}}function A$(t,e){const n=r=>_$({...t,...C$(r)});return{...n(e),create:n}}const g_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),S$=BigInt(0),I$=BigInt(1),pg=BigInt(2),Ix=(t,e)=>(t+e/pg)/e;function T$(t){const e=g_,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),u=BigInt(88),f=t*t*t%e,d=f*f*t%e,h=Yr(d,n,e)*d%e,m=Yr(h,n,e)*d%e,g=Yr(m,pg,e)*f%e,b=Yr(g,o,e)*g%e,w=Yr(b,i,e)*b%e,_=Yr(w,s,e)*w%e,C=Yr(_,u,e)*_%e,A=Yr(C,s,e)*w%e,I=Yr(A,n,e)*d%e,T=Yr(I,a,e)*b%e,O=Yr(T,r,e)*f%e,P=Yr(O,pg,e);if(!mg.eql(mg.sqr(P),t))throw new Error("Cannot find square root");return P}const mg=lv(g_,void 0,void 0,{sqrt:T$}),y_=A$({a:S$,b:BigInt(7),Fp:mg,n:Sx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Sx,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-I$*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),s=Ix(i*t,e),u=Ix(-r*t,e);let f=Cr(t-s*n-u*o,e),d=Cr(-s*r-u*i,e);const h=f>a,m=d>a;if(h&&(f=e-f),m&&(d=e-d),f>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:f,k2neg:m,k2:d}}}},iE),N$=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:y_},Symbol.toStringTag,{value:"Module"}));function v_(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new Qp({signature:t});if(typeof t.s>"u")throw new Qp({signature:t});if(n&&typeof t.yParity>"u")throw new Qp({signature:t});if(t.r<0n||t.r>bx)throw new B$({value:t.r});if(t.s<0n||t.s>bx)throw new L$({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new dv({value:t.yParity})}function O$(t){return b_(To(t))}function b_(t){if(t.length!==130&&t.length!==132)throw new M$({signature:t});const e=BigInt(Ho(t,0,32)),n=BigInt(Ho(t,32,64)),r=(()=>{const o=+`0x${t.slice(130)}`;if(!Number.isNaN(o))try{return fv(o)}catch{throw new dv({value:o})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function P$(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return R$(t)}function R$(t){const e=typeof t=="string"?b_(t):t instanceof Uint8Array?O$(t):typeof t.r=="string"?D$(t):t.v?k$(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return v_(e),e}function k$(t){return{r:t.r,s:t.s,yParity:fv(t.v)}}function D$(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=fv(n)),typeof r!="number")throw new dv({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function fv(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new F$({value:t})}class M$ extends ft{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ur(uj(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Qp extends ft{constructor({signature:e}){super(`Signature \`${vE(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class B$ extends ft{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class L$ extends ft{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class dv extends ft{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class F$ extends ft{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function j$(t,e={}){return typeof t.chainId=="string"?z$(t):{...t,...e.signature}}function z$(t){const{address:e,chainId:n,nonce:r}=t,o=P$(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...o}}const $$="0x8010801080108010801080108010801080108010801080108010801080108010",U$=e_("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function x_(t){if(typeof t=="string"){if(Ho(t,-32)!==$$)throw new G$(t)}else v_(t.authorization)}function H$(t){x_(t);const e=_E(Ho(t,-64,-32)),n=Ho(t,-e-64,-64),r=Ho(t,0,-e-64),[o,i,a]=t$(U$,n);return{authorization:j$({address:o.delegation,chainId:Number(o.chainId),nonce:o.nonce,yParity:o.yParity,r:o.r,s:o.s}),signature:r,...a&&a!=="0x"?{data:a,to:i}:{}}}function V$(t){try{return x_(t),!0}catch{return!1}}let G$=class extends ft{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class W$ extends fe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Z$(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new W$({value:t});let[n,r="0"]=t.split(".");const o=n.startsWith("-");if(o&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,a,s]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],u=Math.round(+`${a}.${s}`);u>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${u}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${o?"-":""}${n}${r}`)}function X$(t,e="wei"){return Z$(t,z4[e])}function q$(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function K$(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Ci(t.nonce):void 0,storageProof:t.storageProof?q$(t.storageProof):void 0}}async function Y$(t,{address:e,blockNumber:n,blockTag:r,storageKeys:o}){const i=r??"latest",a=n!==void 0?Ge(n):void 0,s=await t.request({method:"eth_getProof",params:[e,o,a||i]});return K$(s)}async function Q$(t,{address:e,blockNumber:n,blockTag:r="latest",slot:o}){const i=n!==void 0?Ge(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,o,i||r]})}async function hv(t,{blockHash:e,blockNumber:n,blockTag:r,hash:o,index:i,sender:a,nonce:s}){const u=r||"latest",f=n!==void 0?Ge(n):void 0;let d=null;if(o?d=await t.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ge(i)]},{dedupe:!0}):typeof i=="number"?d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[f||u,Ge(i)]},{dedupe:!!f}):a&&typeof s=="number"&&(d=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,Ge(s)]},{dedupe:!0})),!d)throw new U4({blockHash:e,blockNumber:n,blockTag:u,hash:o,index:i});return(t.chain?.formatters?.transaction?.format||$y)(d,"getTransaction")}async function J$(t,{hash:e,transactionReceipt:n}){const[r,o]=await Promise.all([je(t,Pl,"getBlockNumber")({}),e?je(t,hv,"getTransaction")({hash:e}):void 0]),i=n?.blockNumber||o?.blockNumber;return i?r-i+1n:0n}async function Id(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new H4({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||BE)(n,"getTransactionReceipt")}async function eU(t,e){const{account:n,authorizationList:r,allowFailure:o=!0,blockNumber:i,blockOverrides:a,blockTag:s,stateOverride:u}=e,f=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},m=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return Tc({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),g=[[]];let b=0,w=0;for(let A=0;A<f.length;A++){const{abi:I,address:T,args:O,functionName:P}=f[A];try{const k=$r({abi:I,args:O,functionName:P});w+=(k.length-2)/2,d>0&&w>d&&g[b].length>0&&(b++,w=(k.length-2)/2,g[b]=[]),g[b]=[...g[b],{allowFailure:!0,callData:k,target:T}]}catch(k){const R=fc(k,{abi:I,address:T,args:O,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!o)throw R;g[b]=[...g[b],{allowFailure:!0,callData:"0x",target:T}]}}const _=await Promise.allSettled(g.map(A=>je(t,No,"readContract")({...m===null?{code:Jy}:{address:m},abi:Yd,account:n,args:[A],authorizationList:r,blockNumber:i,blockOverrides:a,blockTag:s,functionName:"aggregate3",stateOverride:u}))),C=[];for(let A=0;A<_.length;A++){const I=_[A];if(I.status==="rejected"){if(!o)throw I.reason;for(let O=0;O<g[A].length;O++)C.push({status:"failure",error:I.reason,result:void 0});continue}const T=I.value;for(let O=0;O<T.length;O++){const{returnData:P,success:k}=T[O],{callData:R}=g[A][O],{abi:z,address:F,functionName:U,args:H}=f[C.length];try{if(R==="0x")throw new xl;if(!k)throw new X0({data:P});const Y=as({abi:z,args:H,data:P,functionName:U});C.push(o?{result:Y,status:"success"}:Y)}catch(Y){const ae=fc(Y,{abi:z,address:F,args:H,docsPath:"/docs/contract/multicall",functionName:U});if(!o)throw ae;C.push({error:ae,result:void 0,status:"failure"})}}}if(C.length!==f.length)throw new fe("multicall results mismatch");return C}async function gg(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:o,returnFullTransactions:i,traceTransfers:a,validation:s}=e;try{const u=[];for(const m of o){const g=m.blockOverrides?SE(m.blockOverrides):void 0,b=m.calls.map(_=>{const C=_,A=C.account?zr(C.account):void 0,I=C.abi?$r(C):C.data,T={...C,account:A,data:C.dataSuffix?qo([I||"0x",C.dataSuffix]):I,from:C.from??A?.address};return Ic(T),Sl(T)}),w=m.stateOverrides?jy(m.stateOverrides):void 0;u.push({blockOverrides:g,calls:b,stateOverrides:w})}const d=(typeof n=="bigint"?Ge(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:i,traceTransfers:a,validation:s},d]})).map((m,g)=>({...eE(m),calls:m.calls.map((b,w)=>{const{abi:_,args:C,functionName:A,to:I}=o[g].calls[w],T=b.error?.data??b.returnData,O=BigInt(b.gasUsed),P=b.logs?.map(F=>Si(F)),k=b.status==="0x1"?"success":"failure",R=_&&k==="success"&&T!=="0x"?as({abi:_,data:T,functionName:A}):null,z=(()=>{if(k==="success")return;let F;if(b.error?.data==="0x"?F=new xl:b.error&&(F=new X0(b.error)),!!F)return fc(F,{abi:_??[],address:I??"0x",args:C,functionName:A??"<unknown>"})})();return{data:T,gasUsed:O,logs:P,status:k,...k==="success"?{result:R}:{error:z}}})}))}catch(u){const f=u,d=q0(f,{});throw d instanceof Al?f:d}}function yg(t){let e=!0,n="",r=0,o="",i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function","error",""].includes(o))o="";else if(o+=s,s===")"){i=!0;break}continue}if(s===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}o+=s,n+=s}}if(!i)throw new ft("Unable to normalize signature.");return o}function vg(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ug(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>vg(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(o=>vg(o,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function w_(t,e,n){for(const r in t){const o=t[r],i=e[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return w_(o.components,i.components,n[r]);const a=[o.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ug(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?ug(n[r],{strict:!1}):!1)return a}}function E_(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?Mb(t):t;return{...r,...n?{hash:zs(r)}:{}}}function a1(t,e,n){const{args:r=[],prepare:o=!0}=n??{},i=lj(e,{strict:!1}),a=t.filter(f=>i?f.type==="function"||f.type==="error"?__(f)===Ho(e,0,4):f.type==="event"?zs(f)===e:!1:"name"in f&&f.name===e);if(a.length===0)throw new Qd({name:e});if(a.length===1)return{...a[0],...o?{hash:zs(a[0])}:{}};let s;for(const f of a){if(!("inputs"in f))continue;if(!r||r.length===0){if(!f.inputs||f.inputs.length===0)return{...f,...o?{hash:zs(f)}:{}};continue}if(!f.inputs||f.inputs.length===0||f.inputs.length!==r.length)continue;if(r.every((h,m)=>{const g="inputs"in f&&f.inputs[m];return g?vg(h,g):!1})){if(s&&"inputs"in s&&s.inputs){const h=w_(f.inputs,s.inputs,r);if(h)throw new nU({abiItem:f,type:h[0]},{abiItem:s,type:h[1]})}s=f}}const u=(()=>{if(s)return s;const[f,...d]=a;return{...f,overloads:d}})();if(!u)throw new Qd({name:e});return{...u,...o?{hash:zs(u)}:{}}}function __(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return a1(n,r)}return t[0]})();return Ho(zs(e),0,4)}function tU(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,o]=t;return a1(r,o)}return t[0]})(),n=typeof e=="string"?e:Wd(e);return yg(n)}function zs(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return a1(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:YE(Qy(tU(e)))}class nU extends ft{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${yg(Wd(e.abiItem))}\`, and`,`\`${n.type}\` in \`${yg(Wd(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Qd extends ft{constructor({name:e,data:n,type:r="item"}){const o=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${o} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function rU(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[i,a]=t;return[iU(i),a]}return t})(),{bytecode:r,args:o}=n;return Io(r,e.inputs?.length&&o?.length?cv(e.inputs,o):"0x")}function oU(t){return E_(t)}function iU(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Qd({name:"constructor"});return e}function aU(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[f,d,h]=t;return[Tx(f,d,{args:h}),h]}const[s,u]=t;return[s,u]})(),{overloads:r}=e,o=r?Tx([e,...r],e.name,{args:n}):e,i=sU(o),a=n.length>0?cv(o.inputs,n):void 0;return a?Io(i,a):i}function Rs(t,e={}){return E_(t,e)}function Tx(t,e,n){const r=a1(t,e,n);if(r.type!=="function")throw new Qd({name:e,type:"function"});return r}function sU(t){return __(t)}const cU="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Lo="0x0000000000000000000000000000000000000000",uU="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function lU(t,e){const{blockNumber:n,blockTag:r,calls:o,stateOverrides:i,traceAssetChanges:a,traceTransfers:s,validation:u}=e,f=e.account?zr(e.account):void 0;if(a&&!f)throw new fe("`account` is required when `traceAssetChanges` is true");const d=f?rU(oU("constructor(bytes, bytes)"),{bytecode:OE,args:[uU,aU(Rs("function getBalance(address)"),[f.address])]}):void 0,h=a?await Promise.all(e.calls.map(async L=>{if(!L.data&&!L.abi)return;const{accessList:K}=await UE(t,{account:f.address,...L,data:L.abi?$r(L):L.data});return K.map(({address:ee,storageKeys:M})=>M.length>0?ee:null)})).then(L=>L.flat().filter(Boolean)):[],m=await gg(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:d}],stateOverrides:i},{calls:h.map((L,K)=>({abi:[Rs("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:L,from:Lo,nonce:K})),stateOverrides:[{address:Lo,nonce:0}]}]:[],{calls:[...o,{}].map(L=>({...L,from:f?.address})),stateOverrides:i},...a?[{calls:[{data:d}]},{calls:h.map((L,K)=>({abi:[Rs("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:L,from:Lo,nonce:K})),stateOverrides:[{address:Lo,nonce:0}]},{calls:h.map((L,K)=>({to:L,abi:[Rs("function decimals() returns (uint256)")],functionName:"decimals",from:Lo,nonce:K})),stateOverrides:[{address:Lo,nonce:0}]},{calls:h.map((L,K)=>({to:L,abi:[Rs("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Lo,nonce:K})),stateOverrides:[{address:Lo,nonce:0}]},{calls:h.map((L,K)=>({to:L,abi:[Rs("function symbol() returns (string)")],functionName:"symbol",from:Lo,nonce:K})),stateOverrides:[{address:Lo,nonce:0}]}]:[]],traceTransfers:s,validation:u}),g=a?m[2]:m[0],[b,w,,_,C,A,I,T]=a?m:[],{calls:O,...P}=g,k=O.slice(0,-1)??[],R=b?.calls??[],z=w?.calls??[],F=[...R,...z].map(L=>L.status==="success"?Xo(L.data):null),U=_?.calls??[],H=C?.calls??[],Y=[...U,...H].map(L=>L.status==="success"?Xo(L.data):null),ae=(A?.calls??[]).map(L=>L.status==="success"?L.result:null),X=(T?.calls??[]).map(L=>L.status==="success"?L.result:null),q=(I?.calls??[]).map(L=>L.status==="success"?L.result:null),re=[];for(const[L,K]of Y.entries()){const ee=F[L];if(typeof K!="bigint"||typeof ee!="bigint")continue;const M=ae[L-1],V=X[L-1],se=q[L-1],de=L===0?{address:cU,decimals:18,symbol:"ETH"}:{address:h[L-1],decimals:se||M?Number(M??1):void 0,symbol:V??void 0};re.some(xe=>xe.token.address===de.address)||re.push({token:de,value:{pre:ee,post:K,diff:K-ee}})}return{assetChanges:re,block:P,results:k}}const C_="0x6492649264926492649264926492649264926492649264926492649264926492";function fU(t){if(Ho(t,-32)!==C_)throw new pU(t)}function dU(t){const{data:e,signature:n,to:r}=t;return Io(cv(e_("address, bytes, bytes"),[r,e,n]),C_)}function hU(t){try{return fU(t),!0}catch{return!1}}class pU extends ft{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function mU({r:t,s:e,to:n="hex",v:r,yParity:o}){const i=(()=>{if(o===0||o===1)return o;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new y_.Signature(Xo(t),Xo(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?a:So(a)}async function s1(t,e){const{address:n,hash:r,erc6492VerifierAddress:o=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:i=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,a=(()=>{const s=e.signature;return Zo(s)?s:typeof s=="object"&&"r"in s&&"s"in s?mU(s):Zt(s)})();try{return V$(a)?await gU(t,{...e,multicallAddress:i,signature:a}):await yU(t,{...e,verifierAddress:o,signature:a})}catch(s){try{if(Y0(O4(n),await Z4({hash:r,signature:a})))return!0}catch{}if(s instanceof Ja)return!1;throw s}}async function gU(t,e){const{address:n,blockNumber:r,blockTag:o,hash:i,multicallAddress:a}=e,{authorization:s,data:u,signature:f,to:d}=H$(e.signature);if(await cg(t,{address:n,blockNumber:r,blockTag:o})===Ai(["0xef0100",s.address]))return await vU(t,{address:n,blockNumber:r,blockTag:o,hash:i,signature:f});const m={address:s.address,chainId:Number(s.chainId),nonce:Number(s.nonce),r:Ge(s.r,{size:32}),s:Ge(s.s,{size:32}),yParity:s.yParity};if(!await fz({address:n,authorization:m}))throw new Ja;const b=await je(t,No,"readContract")({...a?{address:a}:{code:Jy},authorizationList:[m],abi:Yd,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:d??n,callData:u}]:[],{allowFailure:!0,target:n,callData:$r({abi:NE,functionName:"isValidSignature",args:[i,f]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ja}async function yU(t,e){const{address:n,factory:r,factoryData:o,hash:i,signature:a,verifierAddress:s,...u}=e,f=await(async()=>!r&&!o||hU(a)?a:dU({data:o,signature:a,to:r}))(),d=s?{to:s,data:$r({abi:hx,functionName:"isValidSig",args:[n,i,f]}),...u}:{data:ev({abi:hx,args:[n,i,f],bytecode:yj}),...u},{data:h}=await je(t,t1,"call")(d).catch(m=>{throw m instanceof V4?new Ja:m});if(OB(h??"0x0"))return!0;throw new Ja}async function vU(t,e){const{address:n,blockNumber:r,blockTag:o,hash:i,signature:a}=e;if((await je(t,No,"readContract")({address:n,abi:NE,args:[i,a],blockNumber:r,blockTag:o,functionName:"isValidSignature"}).catch(u=>{throw u instanceof G4?new Ja:u})).startsWith("0x1626ba7e"))return!0;throw new Ja}class Ja extends Error{}async function bU(t,{address:e,message:n,factory:r,factoryData:o,signature:i,...a}){const s=GE(n);return je(t,s1,"verifyHash")({address:e,factory:r,factoryData:o,hash:s,signature:i,...a})}async function xU(t,e){const{address:n,factory:r,factoryData:o,signature:i,message:a,primaryType:s,types:u,domain:f,...d}=e,h=WE({message:a,primaryType:s,types:u,domain:f});return je(t,s1,"verifyHash")({address:n,factory:r,factoryData:o,hash:h,signature:i,...d})}function A_(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:o,poll:i,pollingInterval:a=t.pollingInterval}){const s=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let u;return s?(()=>{const h=qn(["watchBlockNumber",t.uid,e,n,a]);return ga(h,{onBlockNumber:r,onError:o},m=>Ol(async()=>{try{const g=await je(t,Pl,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(g===u)return;if(g-u>1&&n)for(let b=u+1n;b<g;b++)m.onBlockNumber(b,u),u=b}(u===void 0||g>u)&&(m.onBlockNumber(g,u),u=g)}catch(g){m.onError?.(g)}},{emitOnBegin:e,interval:a}))})():(()=>{const h=qn(["watchBlockNumber",t.uid,e,n]);return ga(h,{onBlockNumber:r,onError:o},m=>{let g=!0,b=()=>g=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:_}=await w.subscribe({params:["newHeads"],onData(C){if(!g)return;const A=Xo(C.result?.number);m.onBlockNumber(A,u),u=A},onError(C){m.onError?.(C)}});b=_,g||b()}catch(w){o?.(w)}})(),()=>b()})})()}async function wU(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:o,onReplaced:i,retryCount:a=6,retryDelay:s=({count:O})=>~~(1<<O)*200,timeout:u=18e4}=e,f=qn(["waitForTransactionReceipt",t.uid,o]),d=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let h,m,g,b=!1,w,_;const{promise:C,resolve:A,reject:I}=kE(),T=u?setTimeout(()=>{_?.(),w?.(),I(new GL({hash:o}))},u):void 0;return w=ga(f,{onReplaced:i,resolve:A,reject:I},async O=>{if(g=await je(t,Id,"getTransactionReceipt")({hash:o}).catch(()=>{}),g&&r<=1){clearTimeout(T),O.resolve(g),w?.();return}_=je(t,A_,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(P){const k=z=>{clearTimeout(T),_?.(),z(),w?.()};let R=P;if(!b)try{if(g){if(r>1&&(!g.blockNumber||R-g.blockNumber+1n<r))return;k(()=>O.resolve(g));return}if(n&&!h&&(b=!0,await ig(async()=>{h=await je(t,hv,"getTransaction")({hash:o}),h.blockNumber&&(R=h.blockNumber)},{delay:s,retryCount:a}),b=!1),g=await je(t,Id,"getTransactionReceipt")({hash:o}),r>1&&(!g.blockNumber||R-g.blockNumber+1n<r))return;k(()=>O.resolve(g))}catch(z){if(z instanceof U4||z instanceof H4){if(!h){b=!1;return}try{m=h,b=!0;const F=await ig(()=>je(t,bo,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:s,retryCount:a,shouldRetry:({error:Y})=>Y instanceof Q4});b=!1;const U=F.transactions.find(({from:Y,nonce:ae})=>Y===m.from&&ae===m.nonce);if(!U||(g=await je(t,Id,"getTransactionReceipt")({hash:U.hash}),r>1&&(!g.blockNumber||R-g.blockNumber+1n<r)))return;let H="replaced";U.to===m.to&&U.value===m.value&&U.input===m.input?H="repriced":U.from===U.to&&U.value===0n&&(H="cancelled"),k(()=>{O.onReplaced?.({reason:H,replacedTransaction:m,transaction:U,transactionReceipt:g}),O.resolve(g)})}catch(F){k(()=>O.reject(F))}}else k(()=>O.reject(z))}}})}),C}function EU(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:o,onError:i,includeTransactions:a,poll:s,pollingInterval:u=t.pollingInterval}){const f=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=a??!1;let h;return f?(()=>{const b=qn(["watchBlocks",t.uid,e,n,r,d,u]);return ga(b,{onBlock:o,onError:i},w=>Ol(async()=>{try{const _=await je(t,bo,"getBlock")({blockTag:e,includeTransactions:d});if(_.number!==null&&h?.number!=null){if(_.number===h.number)return;if(_.number-h.number>1&&n)for(let C=h?.number+1n;C<_.number;C++){const A=await je(t,bo,"getBlock")({blockNumber:C,includeTransactions:d});w.onBlock(A,h),h=A}}(h?.number==null||e==="pending"&&_?.number==null||_.number!==null&&_.number>h.number)&&(w.onBlock(_,h),h=_)}catch(_){w.onError?.(_)}},{emitOnBegin:r,interval:u}))})():(()=>{let b=!0,w=!0,_=()=>b=!1;return(async()=>{try{r&&je(t,bo,"getBlock")({blockTag:e,includeTransactions:d}).then(I=>{b&&w&&(o(I,void 0),w=!1)}).catch(i);const C=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return I?I.value:t.transport}return t.transport})(),{unsubscribe:A}=await C.subscribe({params:["newHeads"],async onData(I){if(!b)return;const T=await je(t,bo,"getBlock")({blockNumber:I.result?.number,includeTransactions:d}).catch(()=>{});b&&(o(T,h),w=!1,h=T)},onError(I){i?.(I)}});_=A,b||_()}catch(C){i?.(C)}})(),()=>_()})()}function _U(t,{address:e,args:n,batch:r=!0,event:o,events:i,fromBlock:a,onError:s,onLogs:u,poll:f,pollingInterval:d=t.pollingInterval,strict:h}){const m=typeof f<"u"?f:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),g=h??!1;return m?(()=>{const _=qn(["watchEvent",e,n,r,t.uid,o,d,a]);return ga(_,{onLogs:u,onError:s},C=>{let A;a!==void 0&&(A=a-1n);let I,T=!1;const O=Ol(async()=>{if(!T){try{I=await je(t,HE,"createEventFilter")({address:e,args:n,event:o,events:i,strict:g,fromBlock:a})}catch{}T=!0;return}try{let P;if(I)P=await je(t,n1,"getFilterChanges")({filter:I});else{const k=await je(t,Pl,"getBlockNumber")({});A&&A!==k?P=await je(t,Xy,"getLogs")({address:e,args:n,event:o,events:i,fromBlock:A+1n,toBlock:k}):P=[],A=k}if(P.length===0)return;if(r)C.onLogs(P);else for(const k of P)C.onLogs([k])}catch(P){I&&P instanceof ma&&(T=!1),C.onError?.(P)}},{emitOnBegin:!0,interval:d});return async()=>{I&&await je(t,r1,"uninstallFilter")({filter:I}),O()}})})():(()=>{let _=!0,C=()=>_=!1;return(async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),I=i??(o?[o]:void 0);let T=[];I&&(T=[I.flatMap(k=>El({abi:[k],eventName:k.name,args:n}))],o&&(T=T[0]));const{unsubscribe:O}=await A.subscribe({params:["logs",{address:e,topics:T}],onData(P){if(!_)return;const k=P.result;try{const{eventName:R,args:z}=Wy({abi:I??[],data:k.data,topics:k.topics,strict:g}),F=Si(k,{args:z,eventName:R});u([F])}catch(R){let z,F;if(R instanceof Lu||R instanceof U0){if(h)return;z=R.abiItem.name,F=R.abiItem.inputs?.some(H=>!("name"in H&&H.name))}const U=Si(k,{args:F?[]:{},eventName:z});u([U])}},onError(P){s?.(P)}});C=O,_||C()}catch(A){s?.(A)}})(),()=>C()})()}function CU(t,{batch:e=!0,onError:n,onTransactions:r,poll:o,pollingInterval:i=t.pollingInterval}){return(typeof o<"u"?o:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const f=qn(["watchPendingTransactions",t.uid,e,i]);return ga(f,{onTransactions:r,onError:n},d=>{let h;const m=Ol(async()=>{try{if(!h)try{h=await je(t,VE,"createPendingTransactionFilter")({});return}catch(b){throw m(),b}const g=await je(t,n1,"getFilterChanges")({filter:h});if(g.length===0)return;if(e)d.onTransactions(g);else for(const b of g)d.onTransactions([b])}catch(g){d.onError?.(g)}},{emitOnBegin:!0,interval:i});return async()=>{h&&await je(t,r1,"uninstallFilter")({filter:h}),m()}})})():(()=>{let f=!0,d=()=>f=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!f)return;const g=m.result;r([g])},onError(m){n?.(m)}});d=h,f||d()}catch(h){n?.(h)}})(),()=>d()})()}function AU(t){const{scheme:e,statement:n,...r}=t.match(SU)?.groups??{},{chainId:o,expirationTime:i,issuedAt:a,notBefore:s,requestId:u,...f}=t.match(IU)?.groups??{},d=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...f,...o?{chainId:Number(o)}:{},...i?{expirationTime:new Date(i)}:{},...a?{issuedAt:new Date(a)}:{},...s?{notBefore:new Date(s)}:{},...u?{requestId:u}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const SU=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,IU=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function TU(t){const{address:e,domain:n,message:r,nonce:o,scheme:i,time:a=new Date}=t;if(n&&r.domain!==n||o&&r.nonce!==o||i&&r.scheme!==i||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!io(r.address,{strict:!1})||e&&!Y0(r.address,e))return!1}catch{return!1}return!0}async function NU(t,e){const{address:n,domain:r,message:o,nonce:i,scheme:a,signature:s,time:u=new Date,...f}=e,d=AU(o);if(!d.address||!TU({address:n,domain:r,message:d,nonce:i,scheme:a,time:u}))return!1;const m=GE(o);return s1(t,{address:d.address,hash:m,signature:s,...f})}async function OU(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const o=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Ge(r)]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||BE)(o);if(a.status==="reverted"&&n)throw new VL({receipt:a});return a}function PU(t){return{call:e=>t1(t,e),createAccessList:e=>UE(t,e),createBlockFilter:()=>tz(t),createContractEventFilter:e=>B4(t,e),createEventFilter:e=>HE(t,e),createPendingTransactionFilter:()=>VE(t),estimateContractGas:e=>kF(t,e),estimateGas:e=>Gy(t,e),getBalance:e=>nz(t,e),getBlobBaseFee:()=>rz(t),getBlock:e=>bo(t,e),getBlockNumber:e=>Pl(t,e),getBlockTransactionCount:e=>oz(t,e),getBytecode:e=>cg(t,e),getChainId:()=>Vy(t),getCode:e=>cg(t,e),getContractEvents:e=>lE(t,e),getEip712Domain:e=>az(t,e),getEnsAddress:e=>jj(t,e),getEnsAvatar:e=>Qj(t,e),getEnsName:e=>Jj(t,e),getEnsResolver:e=>ez(t,e),getEnsText:e=>$E(t,e),getFeeHistory:e=>uz(t,e),estimateFeesPerGas:e=>mF(t,e),getFilterChanges:e=>n1(t,e),getFilterLogs:e=>lz(t,e),getGasPrice:()=>Uy(t),getLogs:e=>Xy(t,e),getProof:e=>Y$(t,e),estimateMaxPriorityFeePerGas:e=>pF(t,e),fillTransaction:e=>cE(t,e),getStorageAt:e=>Q$(t,e),getTransaction:e=>hv(t,e),getTransactionConfirmations:e=>J$(t,e),getTransactionCount:e=>nE(t,e),getTransactionReceipt:e=>Id(t,e),multicall:e=>eU(t,e),prepareTransactionRequest:e=>uE(t,e),readContract:e=>No(t,e),sendRawTransaction:e=>Oj(t,e),sendRawTransactionSync:e=>OU(t,e),simulate:e=>gg(t,e),simulateBlocks:e=>gg(t,e),simulateCalls:e=>lU(t,e),simulateContract:e=>Ej(t,e),verifyHash:e=>s1(t,e),verifyMessage:e=>bU(t,e),verifySiweMessage:e=>NU(t,e),verifyTypedData:e=>xU(t,e),uninstallFilter:e=>r1(t,e),waitForTransactionReceipt:e=>wU(t,e),watchBlocks:e=>EU(t,e),watchBlockNumber:e=>A_(t,e),watchContractEvent:e=>Nj(t,e),watchEvent:e=>_U(t,e),watchPendingTransactions:e=>CU(t,e)}}function c1(t){const{key:e="public",name:n="Public Client"}=t;return Rj({...t,key:e,name:n,type:"publicClient"}).extend(PU)}function RU({key:t,methods:e,name:n,request:r,retryCount:o=3,retryDelay:i=150,timeout:a,type:s},u){const f=LE();return{config:{key:t,methods:e,name:n,request:r,retryCount:o,retryDelay:i,timeout:a,type:s},request:hz(r,{methods:e,retryCount:o,retryDelay:i,uid:f}),value:u}}class kU extends fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function u1(t,e={}){const{batch:n,fetchFn:r,fetchOptions:o,key:i="http",methods:a,name:s="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:f,retryDelay:d,raw:h}=e;return({chain:m,retryCount:g,timeout:b})=>{const{batchSize:w=1e3,wait:_=0}=typeof n=="object"?n:{},C=e.retryCount??g,A=b??e.timeout??1e4,I=t||m?.rpcUrls.default.http[0];if(!I)throw new kU;const T=yz(I,{fetchFn:r,fetchOptions:o,onRequest:u,onResponse:f,timeout:A});return RU({key:i,methods:a,name:s,async request({method:O,params:P}){const k={method:O,params:P},{schedule:R}=DE({id:I,wait:_,shouldSplitBatch(H){return H.length>w},fn:H=>T.request({body:H}),sort:(H,Y)=>H.id-Y.id}),z=async H=>n?R(H):[await T.request({body:H})],[{error:F,result:U}]=await z(k);if(h)return{error:F,result:U};if(F)throw new Fy({body:k,error:F,url:I});return U},retryCount:C,retryDelay:d,timeout:A,type:"http"},{fetchOptions:o,url:I})}}function DU(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(0),[b,w]=S.useState(!1),[_,C]=S.useState(null),[A,I]=S.useState(null),[T,O]=S.useState(""),[P,k]=S.useState(""),[R,z]=S.useState(18),[F,U]=S.useState(""),[H,Y]=S.useState(1),[ae,X]=S.useState("ERC20"),[q,re]=S.useState([]),[L,K]=S.useState(""),[ee,M]=S.useState(null),V=/^0x[0-9a-fA-F]{40}$/,se=/^[a-z0-9-]+\.eth$/i,de={1:"Ethereum",11155111:"Sepolia"},xe=["NATIVE","ERC20","ERC721","ERC1155","ERC3643","ERC7943"],{coins:we,loading:Ee,error:Te,addCoin:De,deleteCoin:_e,updateCoin:It}=S0({query:t,sortMode:n,tags:o,tagMode:a,standard:d,chainId:m}),{folios:rt,updateFolio:ht}=Sy(),{domains:Tt}=Ty(),[ct,ce]=S.useState(!1),[te,be]=S.useState(null),[ze,qe]=S.useState(!1);function We({sortMode:ne,setSortMode:ye,tagSearch:Se,setTagSearch:Ze,setTags:ot,tagMode:Je,setTagSearchMode:dt}){const[bn,rr]=S.useState(!1),or=S.useRef(null),[fn,Kn]=S.useState({top:0,left:0,width:320}),Ke=()=>rr(!1),Nt=S.useCallback(()=>{if(!or.current)return;const et=or.current.getBoundingClientRect(),xt=8,nt=Math.min(360,window.innerWidth-xt*2),sn=et.bottom+8,Hn=et.right-nt,Ft=Math.min(Math.max(xt,Hn),window.innerWidth-nt-xt);Kn({top:sn,left:Ft,width:nt})},[]),it=()=>{const et=!bn;et&&Nt(),rr(et)};return S.useEffect(()=>{if(!bn)return;const et=xt=>{xt.key==="Escape"&&Ke()};return window.addEventListener("keydown",et),()=>window.removeEventListener("keydown",et)},[bn]),S.useEffect(()=>{if(bn)return window.addEventListener("resize",Nt),window.addEventListener("scroll",Nt,!0),()=>{window.removeEventListener("resize",Nt),window.removeEventListener("scroll",Nt,!0)}},[bn,Nt]),y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:or,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:it,children:"Sort / Filter"}),bn&&typeof document<"u"&&un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:Ke,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),y.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:fn.top,left:fn.left,width:fn.width,padding:12},onClick:et=>et.stopPropagation(),children:[y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),y.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:ne,onChange:et=>ye(et.target.value),children:[y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"symbolAsc",children:"Symbol (A  Z)"}),y.jsx("option",{value:"symbolDesc",children:"Symbol (Z  A)"}),y.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),y.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),y.jsx("div",{className:"my-3 border-t border-border"}),y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:Se,onChange:et=>{const xt=et.target.value;Ze(xt);const nt=xt.split(",").map(sn=>sn.trim()).filter(Boolean);ot(nt)}}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"text-xs text-muted",children:"Mode"}),y.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:Je,onChange:et=>dt(et.target.value),children:[y.jsx("option",{value:"any",children:"Match any"}),y.jsx("option",{value:"all",children:"Match all"})]}),y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{Ze(""),ot([]),dt("any")},children:"Clear"})]}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:Ke,children:"Done"})})]})]}),document.body)]})}S.useEffect(()=>{function ne(ye){ye.target.closest("details")||document.querySelectorAll("details[open]").forEach(Ze=>{Ze.removeAttribute("open")})}return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]),S.useEffect(()=>{if(!b)return;const ne=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=ne}},[b]);function mt(){O(""),U(""),re([]),Y(1),K(""),k(""),z(18),X("ERC20"),ce(!1),be(null),qe(!1)}async function vt(){const ne=F.trim();if(!ne)return;const ye=Tt.find(Se=>Se.chainId===H);if(!ye){be("No domain found for this chain");return}ce(!0),be(null),qe(!1);try{const Se=c1({transport:u1(ye.rpcUrl)}),Ze=ne,[ot,Je,dt]=await Promise.all([Se.readContract({address:Ze,abi:Sd,functionName:"name"}).catch(()=>null),Se.readContract({address:Ze,abi:Sd,functionName:"symbol"}).catch(()=>null),Se.readContract({address:Ze,abi:Sd,functionName:"decimals"}).catch(()=>null)]);if(ot==null&&Je==null&&dt==null){be("Could not read contract  check address and chain");return}typeof ot=="string"&&O(ot),typeof Je=="string"&&k(Je),typeof dt=="number"&&z(dt),qe(!0)}catch{be("Lookup failed  check RPC connection")}finally{ce(!1)}}function bt(){C(null),mt(),w(!0)}function on(ne){C(ne),O(ne.name??""),U(ne.address??""),Y(ne.chainId??1),re(ne.tags??[]),K(""),k(ne.symbol??""),z(ne.decimals??18),X(ne.type??"ERC20"),w(!0)}function an(){w(!1),C(null),mt()}function ge(){const ne=L.trim();if(!ne)return;const ye=ne.split(",").map(Se=>Se.trim()).filter(Boolean);re(Se=>{const Ze=new Set(Se.map(Je=>Je.toLowerCase())),ot=[...Se];for(const Je of ye)Ze.has(Je.toLowerCase())||ot.push(Je);return ot}),K("")}function Be(ne){re(ye=>ye.filter(Se=>Se!==ne))}async function tt(ne){ne.preventDefault();const ye=T.trim();if(!ye)return;const Se={name:ye,address:F.trim()||void 0,chainId:H||void 0,tags:q.length>0?q:void 0,symbol:P.trim()||void 0,decimals:R,type:ae};if(_)await It(_.id,Se);else{const Ze=await De(Se),ot=Ze[Ze.length-1];for(const Je of rt)if(Je.chainId===Number(H)){const dt=Je.wallet??[];await ht(Je.id,{wallet:[...dt,{coin:ot.id,balance:BigInt(0)}]})}}an()}return Ee?y.jsx("div",{className:"p-4",children:"Loading coins"}):Te?y.jsx("div",{className:"p-4 text-red-600",children:Te}):y.jsxs("div",{className:"space-y-4 p-4",children:[y.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Coins"}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:ne=>e(ne.target.value)}),y.jsxs("select",{className:"h-9 w-[140px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:m,onChange:ne=>g(Number(ne.target.value)),children:[y.jsx("option",{value:0,children:"All chains"}),Object.entries(de).map(([ne,ye])=>y.jsx("option",{value:Number(ne),children:ye},ne))]}),y.jsxs("select",{className:"h-9 w-[100px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:d,onChange:ne=>h(ne.target.value),children:[y.jsx("option",{value:"",children:"All standards"}),xe.map(ne=>y.jsx("option",{value:ne,children:ne},ne))]}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx(We,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s}),"",y.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:bt,children:"+ Add coin"})]})]}),we.length===0?y.jsx("div",{className:"text-sm text-muted",children:"No coins yet. Add one from the transaction screen or here."}):y.jsx("ul",{className:"space-y-2",children:we.map(ne=>y.jsx("li",{className:"w-full",children:y.jsx("div",{className:"w-full rounded-lg border border-border bg-card px-4 py-3",children:y.jsxs("div",{className:"grid gap-3 sm:gap-x-6 sm:gap-y-2 sm:grid-cols-[160px_90px_minmax(0,1fr)_110px] sm:items-start",children:[y.jsx("div",{className:"min-w-0 font-medium",children:ne.name}),y.jsx("div",{className:"min-w-0 text-xs text-muted-foreground sm:pt-1",children:ne.symbol}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("div",{className:"text-xs text-muted-foreground",children:ne.type}),y.jsx("div",{className:"text-xs text-muted-foreground",children:de[ne.chainId]??ne.chainId}),y.jsx("div",{className:`
            mt-0.5 text-xs text-muted-foreground font-mono
            break-words
            sm:truncate sm:break-normal
          `,title:ne.address??"",children:ne.address}),ne.tags?.length?y.jsx("div",{className:"mt-2 flex flex-wrap gap-1 text-[11px] text-muted-foreground",children:ne.tags.map(ye=>y.jsxs("span",{className:"rounded-full border border-border px-2 py-0.5",children:["#",ye]},ye))}):null]}),y.jsx("div",{className:"justify-self-start sm:justify-self-end",children:y.jsxs("details",{className:"relative inline-block",children:[y.jsx("summary",{className:"cursor-pointer list-none rounded-md border border-border bg-background px-2 py-1 text-xs",children:"Actions"}),y.jsxs("div",{className:"absolute left-0 sm:right-0 sm:left-auto mt-1 w-40 rounded-md border border-border bg-background shadow-lg z-50",children:[y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:ye=>{ye.currentTarget.closest("details")?.removeAttribute("open"),on(ne)},children:"Edit"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:ye=>{ye.currentTarget.closest("details")?.removeAttribute("open"),M(ne.id)},children:"Remove"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:ye=>{ye.preventDefault(),ye.stopPropagation(),I(eM(ne))},children:"Share"})]})]})})]})})},ne.id))}),b?un.createPortal(y.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:ne=>{ne.target===ne.currentTarget&&an()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:y.jsxs("div",{className:"bg-background",onMouseDown:ne=>ne.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[y.jsx("h2",{className:"mb-3 text-base font-semibold",children:_?"Edit coin":"Add coin"}),y.jsxs("form",{className:"space-y-4",onSubmit:tt,children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Chain"}),y.jsx("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:H,onChange:ne=>{Y(Number(ne.target.value)),_||(qe(!1),be(null))},disabled:!!_,children:Object.entries(de).map(([ne,ye])=>y.jsx("option",{value:ne,children:ye},ne))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Standard"}),y.jsx("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:ae,onChange:ne=>X(ne.target.value),disabled:!!_,children:xe.map(ne=>y.jsx("option",{value:ne,children:ne},ne))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Address"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",value:F,onChange:ne=>{const ye=ne.target.value.trim(),Se=V.test(ye),Ze=se.test(ye);(ye===""||Se||Ze)&&(U(ne.target.value),_||(qe(!1),be(null)))},disabled:!!_,required:!0}),!_&&ae!=="NATIVE"&&y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs disabled:opacity-50",onClick:vt,disabled:ct||!F.trim(),children:ct?"Looking up":"Lookup"})]}),te&&y.jsx("div",{className:"text-xs text-red-600 mt-1",children:te})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Name"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm disabled:opacity-60 disabled:bg-muted",value:T,onChange:ne=>O(ne.target.value),readOnly:!_,required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Symbol"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm disabled:opacity-60 disabled:bg-muted",value:P,onChange:ne=>k(ne.target.value),readOnly:!_,required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Decimals"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm disabled:opacity-60 disabled:bg-muted",value:R,onChange:ne=>z(Number(ne.target.value)),readOnly:!_,required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Tags"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",placeholder:"Type a tag and press Enter or comma",value:L,onChange:ne=>K(ne.target.value),onKeyDown:ne=>{(ne.key==="Enter"||ne.key===",")&&(ne.preventDefault(),ge())}}),y.jsx("button",{type:"button",className:"rounded-md border px-2 py-1 text-xs",onClick:ge,children:"Add"})]}),q.length>0&&y.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[10px] text-muted",children:q.map(ne=>y.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-0.5",onClick:()=>Be(ne),title:"Click to remove",children:[y.jsxs("span",{children:["#",ne]}),y.jsx("span",{"aria-hidden":!0,children:""})]},ne))})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:an,children:"Cancel"}),"",y.jsxs("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",disabled:!_&&!ze&&ae!=="NATIVE",children:["",_?"Save changes":"Create coin",""]})]})]})]})}),document.body):null,ee?un.createPortal(y.jsx("div",{onClick:ne=>{ne.target===ne.currentTarget&&an()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:y.jsxs("div",{onClick:ne=>ne.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[y.jsx("h2",{className:"text-base font-semibold",children:"Delete coin?"}),y.jsx("p",{className:"mt-2 text-sm text-muted",children:"This will remove the coin from all pages. This action cannot be undone."}),y.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[y.jsx("button",{className:"rounded-md border px-3 py-1 text-sm",onClick:()=>M(null),children:"Cancel"}),y.jsx("button",{className:"rounded-md bg-primary px-3 py-1 text-sm text-background",onClick:async()=>{if(ee){const ne=we.find(ye=>ye.id===ee);if(ne){for(const ye of rt)if(ye.chainId===ne.chainId){const Se=ye.wallet??[],Ze=Se.filter(ot=>ot.coin!==ne.id);Ze.length!==Se.length&&await ht(ye.id,{wallet:Ze})}}_e(ee)}M(null)},children:"Yes, delete coin"})]})]})}),document.body):null,A&&y.jsx(M0,{payload:A,onClose:()=>I(null)})]})}function go(t,e){const n=(t??"").toLocaleLowerCase(),r=(e??"").toLocaleLowerCase();return n.localeCompare(r)}function Fo(t,e){const n=t??0,r=e??0;return n<r?-1:n>r?1:0}function Nx(t,e,n,r,o,i,a){switch(a){case"nameAsc":return go(t?.name,e?.name);case"nameDesc":return go(e?.name,t?.name);case"createdAsc":return Fo(t?.createdAt,e?.createdAt);case"createdDesc":return Fo(e?.createdAt,t?.createdAt);case"addressAsc":return go(t?.address,e?.address);case"addressDesc":return go(e?.address,t?.address);case"chainIdAsc":return Fo(t?.chainId,e?.chainId);case"chainIdDesc":return Fo(e?.chainId,t?.chainId);case"coinSymbolAsc":return go(n?.symbol,r?.symbol);case"coinSymbolDesc":return go(r?.symbol,n?.symbol);case"coinBalanceAsc":{const s=Number(o?.balance??0),u=Number(i?.balance??0),f=n?.decimals??1,d=r?.decimals??1,h=s/f,m=u/d;return Fo(h,m)}case"coinBalanceDesc":{const s=Number(o?.balance??0),u=Number(i?.balance??0),f=n?.decimals??1,d=r?.decimals??1,h=s/f,m=u/d;return Fo(m,h)}default:return 0}}function MU(t,e,n,r,o){const i=[...t],a=new Map(e.map(u=>[u.id,u])),s=new Map(n.map(u=>[u.id,u]));return i.sort((u,f)=>{const d=a.get(u.folioId),h=a.get(f.folioId),m=s.get(u.coinId),g=s.get(f.coinId),b=d?.wallet?.[u.walletId],w=h?.wallet?.[f.walletId],_=Nx(d,h,m,g,b,w,r);if(_!==0)return _;const C=Nx(d,h,m,g,b,w,o);return C!==0?C:go(u.folioId,f.folioId)||u.walletId-f.walletId}),i}function BU(t,e="createdAsc"){const n=[...t];return n.sort((r,o)=>{switch(e){case"nameAsc":return go(r.name,o.name);case"nameDesc":return go(o.name,r.name);case"createdAsc":return Fo(r.createdAt,o.createdAt);case"createdDesc":return Fo(o.createdAt,r.createdAt);case"addressAsc":return go(r.address,o.address);case"addressDesc":return go(o.address,r.address);case"chainIdAsc":return Fo(r.chainId,o.chainId);case"chainIdDesc":return Fo(o.chainId,r.chainId);default:return 0}}),n}function S_(t={}){const{folios:e,loading:n,error:r,addFolio:o,updateFolio:i,deleteFolio:a,clearFolios:s}=Sy(),{query:u="",sortMode:f="createdAsc",chainId:d=0}=t;return{folios:S.useMemo(()=>{let m=e;if(u.trim()){const g=u.trim().toLowerCase();m=m.filter(b=>b.name.toLowerCase().includes(g)||b.address.toLowerCase().includes(g))}return d&&(m=m.filter(g=>g.chainId===d)),BU(m,f)},[e,u,f,d]),loading:n,error:r,addFolio:o,updateFolio:i,deleteFolio:a,clearFolios:s}}const Ox=t=>{let e;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(g=>g(e,m))}},o=()=>e,s={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=t(r,o,s);return s},LU=(t=>t?Ox(t):Ox),FU=t=>t;function jU(t,e=FU){const n=Xe.useSyncExternalStore(t.subscribe,Xe.useCallback(()=>e(t.getState()),[t,e]),Xe.useCallback(()=>e(t.getInitialState()),[t,e]));return Xe.useDebugValue(n),n}const Px=t=>{const e=LU(t),n=r=>jU(e,r);return Object.assign(n,e),n},zU=(t=>t?Px(t):Px);function l1(){const t=new Worker(new URL("/assets/falcon.worker-CSlpTwJD.js",import.meta.url),{type:"module"});let e=0;const n=new Map;t.onmessage=o=>{const{id:i,ok:a,value:s,error:u}=o.data,f=n.get(i);f&&(n.delete(i),a?f.resolve(s):f.reject(new Error(u)))};function r(o){const i=++e;return new Promise((a,s)=>{n.set(i,{resolve:a,reject:s}),t.postMessage({id:i,...o})})}return{init:()=>r({action:"init"}),generateKeypair:o=>r({action:"generateKeypair",level:o}),sign:(o,i,a)=>r({action:"sign",level:o,msg:i,sk:a}),verify:(o,i,a,s)=>r({action:"verify",level:o,msg:i,sig:a,pk:s}),terminate:()=>t.terminate()}}const $U="0x60c060405234801561000f575f5ffd5b50604051613cac380380613cac8339818101604052810190610031919061039d565b8273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508173ffffffffffffffffffffffffffffffffffffffff1660a08173ffffffffffffffffffffffffffffffffffffffff168152505080602090816100a89190610619565b5060a05173ffffffffffffffffffffffffffffffffffffffff16639b0b1f6d60206040518263ffffffff1660e01b81526004016100e59190610779565b61400060405180830381865afa158015610101573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101259190610883565b5f9061020061013592919061013e565b505050506108af565b82610200600f016010900481019282156101ca579160200282015f5b8382111561019a57835183826101000a81548161ffff021916908361ffff160217905550926020019260020160208160010104928301926001030261015a565b80156101c85782816101000a81549061ffff021916905560020160208160010104928301926001030261019a565b505b5090506101d791906101db565b5090565b5b808211156101f2575f815f9055506001016101dc565b5090565b5f604051905090565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61023082610207565b9050919050565b61024081610226565b811461024a575f5ffd5b50565b5f8151905061025b81610237565b92915050565b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6102af82610269565b810181811067ffffffffffffffff821117156102ce576102cd610279565b5b80604052505050565b5f6102e06101f6565b90506102ec82826102a6565b919050565b5f67ffffffffffffffff82111561030b5761030a610279565b5b61031482610269565b9050602081019050919050565b8281835e5f83830152505050565b5f61034161033c846102f1565b6102d7565b90508281526020810184848401111561035d5761035c610265565b5b610368848285610321565b509392505050565b5f82601f83011261038457610383610261565b5b815161039484826020860161032f565b91505092915050565b5f5f5f606084860312156103b4576103b36101ff565b5b5f6103c18682870161024d565b93505060206103d28682870161024d565b925050604084015167ffffffffffffffff8111156103f3576103f2610203565b5b6103ff86828701610370565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061045757607f821691505b60208210810361046a57610469610413565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026104cc7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610491565b6104d68683610491565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61051a610515610510846104ee565b6104f7565b6104ee565b9050919050565b5f819050919050565b61053383610500565b61054761053f82610521565b84845461049d565b825550505050565b5f5f905090565b61055e61054f565b61056981848461052a565b505050565b5b8181101561058c576105815f82610556565b60018101905061056f565b5050565b601f8211156105d1576105a281610470565b6105ab84610482565b810160208510156105ba578190505b6105ce6105c685610482565b83018261056e565b50505b505050565b5f82821c905092915050565b5f6105f15f19846008026105d6565b1980831691505092915050565b5f61060983836105e2565b9150826002028217905092915050565b61062282610409565b67ffffffffffffffff81111561063b5761063a610279565b5b6106458254610440565b610650828285610590565b5f60209050601f831160018114610681575f841561066f578287015190505b61067985826105fe565b8655506106e0565b601f19841661068f86610470565b5f5b828110156106b657848901518255600182019150602085019450602081019050610691565b868310156106d357848901516106cf601f8916826105e2565b8355505b6001600288020188555050505b505050505050565b5f82825260208201905092915050565b5f815461070481610440565b61070e81866106e8565b9450600182165f8114610728576001811461073e57610770565b60ff198316865281151560200286019350610770565b61074785610470565b5f5b8381101561076857815481890152600182019150602081019050610749565b808801955050505b50505092915050565b5f6020820190508181035f83015261079181846106f8565b905092915050565b5f67ffffffffffffffff8211156107b3576107b2610279565b5b602082029050919050565b5f5ffd5b5f61ffff82169050919050565b6107d8816107c2565b81146107e2575f5ffd5b50565b5f815190506107f3816107cf565b92915050565b5f61080b61080684610799565b6102d7565b90508060208402830185811115610825576108246107be565b5b835b8181101561084e578061083a88826107e5565b845260208401935050602081019050610827565b5050509392505050565b5f82601f83011261086c5761086b610261565b5b61020061087a8482856107f9565b91505092915050565b5f6140008284031215610899576108986101ff565b5b5f6108a684828501610858565b91505092915050565b60805160a0516133ce6108de5f395f81816104a2015281816113d2015261159101525f61094601526133ce5ff3fe6080604052600436106100c5575f3560e01c8063acae9fee1161007e578063b479d2d111610058578063b479d2d114610260578063b61d27f61461029c578063c4434c87146102c4578063d087d288146102ec576100c6565b8063acae9fee146101e4578063af86dc171461020e578063b0d691fe14610236576100c6565b806312cc03d9146100c857806319822f7c1461010457806320be26e41461014057806334fcd5be1461016a578063473ece9e1461019257806374e66d10146101bc576100c6565b5b005b3480156100d3575f5ffd5b506100ee60048036038101906100e991906117a4565b610316565b6040516100fb91906117e9565b60405180910390f35b34801561010f575f5ffd5b5061012a6004803603810190610125919061188b565b61046d565b6040516101379190611906565b60405180910390f35b34801561014b575f5ffd5b5061015461049f565b604051610161919061192e565b60405180910390f35b348015610175575f5ffd5b50610190600480360381019061018b91906119a8565b6104c6565b005b34801561019d575f5ffd5b506101a66105f6565b6040516101b39190611aaa565b60405180910390f35b3480156101c7575f5ffd5b506101e260048036038101906101dd9190611c02565b6106fd565b005b3480156101ef575f5ffd5b506101f8610711565b6040516102059190611ca9565b60405180910390f35b348015610219575f5ffd5b50610234600480360381019061022f9190611d89565b6107a1565b005b348015610241575f5ffd5b5061024a610943565b6040516102579190611e50565b60405180910390f35b34801561026b575f5ffd5b50610286600480360381019061028191906117a4565b61096a565b60405161029391906117e9565b60405180910390f35b3480156102a7575f5ffd5b506102c260048036038101906102bd9190611ebe565b610abf565b005b3480156102cf575f5ffd5b506102ea60048036038101906102e59190611f2f565b610b71565b005b3480156102f7575f5ffd5b50610300610e07565b60405161030d9190611906565b60405180910390f35b5f5f60218054905090505f5f90505f5b82811015610462578473ffffffffffffffffffffffffffffffffffffffff166021828154811061035957610358611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff160361045557602181815481106103b7576103b6611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff1615610414576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040b90612010565b60405180910390fd5b60016021828154811061042a57610429611f89565b5b905f5260205f20906002020160010160146101000a81548160ff021916908315150217905550600191505b8080600101915050610326565b508092505050919050565b5f610476610e8e565b6104808484610f05565b905061048f846020013561149c565b6104988261149f565b9392505050565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b6104ce611513565b5f8282905090505f5f90505b818110156105f057368484838181106104f6576104f5611f89565b5b9050602002810190610508919061203a565b90505f61057d825f01602081019061052091906117a4565b83602001358480604001906105359190612061565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f820116905080830192505050505050505a61151d565b9050806105e1576001840361059957610594611534565b6105e0565b826105a35f611547565b6040517f5a1546750000000000000000000000000000000000000000000000000000000081526004016105d79291906120c3565b60405180910390fd5b5b505080806001019150506104da565b50505050565b60605f60218054905090505f8167ffffffffffffffff81111561061c5761061b611ade565b5b60405190808252806020026020018201604052801561064a5781602001602082028036833780820191505090505b5090505f5b828110156106f4576021818154811061066b5761066a611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff168282815181106106ad576106ac611f89565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050808060010191505061064f565b50809250505090565b610705610e8e565b61070e8161157f565b50565b6060602080546107209061211e565b80601f016020809104026020016040519081016040528092919081815260200182805461074c9061211e565b80156107975780601f1061076e57610100808354040283529160200191610797565b820191905f5260205f20905b81548152906001019060200180831161077a57829003601f168201915b5050505050905090565b5f8373ffffffffffffffffffffffffffffffffffffffff1663a6d5fb7284846040518363ffffffff1660e01b81526004016107dd92919061214e565b6020604051808303815f875af11580156107f9573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061081d9190612190565b9050602160405180606001604052808673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff16815260200160011515815250908060018154018082558091505060019003905f5260205f2090600202015f909190919091505f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160010160146101000a81548160ff021916908315150217905550505050505050565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b5f5f60218054905090505f5f90505f5b82811015610ab4578473ffffffffffffffffffffffffffffffffffffffff16602182815481106109ad576109ac611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1603610aa75760218181548110610a0b57610a0a611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff16610a67576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5e90612205565b60405180910390fd5b5f60218281548110610a7c57610a7b611f89565b5b905f5260205f20906002020160010160146101000a81548160ff021916908315150217905550600191505b808060010191505061097a565b508092505050919050565b610ac7610e8e565b5f8473ffffffffffffffffffffffffffffffffffffffff16848484604051610af0929190612251565b5f6040518083038185875af1925050503d805f8114610b2a576040519150601f19603f3d011682016040523d82523d5f602084013e610b2f565b606091505b5050905080610b6a576040517f5b54f59100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5050505050565b610b79610e8e565b5f60218054905090505f8190505f5b82811015610c86578473ffffffffffffffffffffffffffffffffffffffff1660218281548110610bbb57610bba611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1603610c795760218181548110610c1957610c18611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff16610c75576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c6c906122b3565b60405180910390fd5b8091505b8080600101915050610b88565b50818110610cc9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc090612341565b60405180910390fd5b5f60218281548110610cde57610cdd611f89565b5b905f5260205f2090600202015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505f8190505f85604051602001610d24919061238f565b6040516020818303038152906040528051906020012090508173ffffffffffffffffffffffffffffffffffffffff16639726162788836040518363ffffffff1660e01b8152600401610d779291906123b4565b602060405180830381865afa158015610d92573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610db69190612405565b610df5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dec906124a0565b60405180910390fd5b610dfe8661157f565b50505050505050565b5f610e10610943565b73ffffffffffffffffffffffffffffffffffffffff166335567e1a305f6040518363ffffffff1660e01b8152600401610e4a92919061251a565b602060405180830381865afa158015610e65573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e899190612555565b905090565b610e96610943565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f03576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610efa906125ca565b60405180910390fd5b565b5f5f60408460200135901c90507f74e66d10e2c4d40fcb4599cfbd9c3c4edb35c83a9877c1ca869c473178437d057bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916610f6a858060600190610f659190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061100957507fa6d5fb72ff9677437bd914196124cf27031bea68fef447a6418dfae9883dd5767bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916610fe8858060600190610fe39190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061108857507fc4434c873493097eb2a27cffc4260407aa7ff9190f21f3e71715bc60ba97d40a7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166110678580606001906110629190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b1561110a57650ad9140ad91477ffffffffffffffffffffffffffffffffffffffffffffffff168177ffffffffffffffffffffffffffffffffffffffffffffffff1614611109576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161110090612658565b60405180910390fd5b5b7fc4434c873493097eb2a27cffc4260407aa7ff9190f21f3e71715bc60ba97d40a7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191661116285806060019061115d9190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916036113cf575f60218054905090505f5f9050365f878060e001906111a59190612061565b91509150365f8980606001906111bb9190612061565b915091505f5f60148686905010156111d5575f91506111f9565b85855f906014926111e89392919061267e565b906111f391906126f9565b60601c91505b6024848490501015611240576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611237906127c7565b60405180910390fd5b83836004906024926112549392919061267e565b8101906112619190612820565b90505f5b888110156113a6578273ffffffffffffffffffffffffffffffffffffffff166021828154811061129857611297611f89565b5b905f5260205f2090600202015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161480156113165750602181815481106112f8576112f7611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff165b801561138f57508173ffffffffffffffffffffffffffffffffffffffff166021828154811061134857611347611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b1561139957600197505b8080600101915050611265565b50866113be5760019950505050505050505050611496565b5f9950505050505050505050611496565b5f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663fcb9b89b8680610100019061141d9190612061565b875f6040518563ffffffff1660e01b815260040161143e9493929190612f3a565b602060405180830381865afa158015611459573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061147d9190612405565b9050801561148f575f92505050611496565b6001925050505b92915050565b50565b5f8114611510575f3373ffffffffffffffffffffffffffffffffffffffff16826040516114cb90612f9c565b5f6040518083038185875af1925050503d805f8114611505576040519150601f19603f3d011682016040523d82523d5f602084013e61150a565b606091505b50509050505b50565b61151b610e8e565b565b5f5f5f845160208601878987f19050949350505050565b6115456115405f611547565b611679565b565b60603d5f83111561155f578281111561155e578290505b5b604051602082018101604052818152815f602083013e8092505050919050565b806020908161158e919061313b565b507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639b0b1f6d826040518263ffffffff1660e01b81526004016115e89190611ca9565b61400060405180830381865afa158015611604573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061162891906132e3565b5f90610200611638929190611681565b5050565b5f6004838390501015611652575f60e01b611671565b82825f906004926116659392919061267e565b90611670919061333a565b5b905092915050565b805160208201fd5b82610200600f0160109004810192821561170d579160200282015f5b838211156116dd57835183826101000a81548161ffff021916908361ffff160217905550926020019260020160208160010104928301926001030261169d565b801561170b5782816101000a81549061ffff02191690556002016020816001010492830192600103026116dd565b505b50905061171a919061171e565b5090565b5b80821115611735575f815f90555060010161171f565b5090565b5f604051905090565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6117738261174a565b9050919050565b61178381611769565b811461178d575f5ffd5b50565b5f8135905061179e8161177a565b92915050565b5f602082840312156117b9576117b8611742565b5b5f6117c684828501611790565b91505092915050565b5f8115159050919050565b6117e3816117cf565b82525050565b5f6020820190506117fc5f8301846117da565b92915050565b5f5ffd5b5f610120828403121561181c5761181b611802565b5b81905092915050565b5f819050919050565b61183781611825565b8114611841575f5ffd5b50565b5f813590506118528161182e565b92915050565b5f819050919050565b61186a81611858565b8114611874575f5ffd5b50565b5f8135905061188581611861565b92915050565b5f5f5f606084860312156118a2576118a1611742565b5b5f84013567ffffffffffffffff8111156118bf576118be611746565b5b6118cb86828701611806565b93505060206118dc86828701611844565b92505060406118ed86828701611877565b9150509250925092565b61190081611858565b82525050565b5f6020820190506119195f8301846118f7565b92915050565b61192881611769565b82525050565b5f6020820190506119415f83018461191f565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f84011261196857611967611947565b5b8235905067ffffffffffffffff8111156119855761198461194b565b5b6020830191508360208202830111156119a1576119a061194f565b5b9250929050565b5f5f602083850312156119be576119bd611742565b5b5f83013567ffffffffffffffff8111156119db576119da611746565b5b6119e785828601611953565b92509250509250929050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b611a2581611769565b82525050565b5f611a368383611a1c565b60208301905092915050565b5f602082019050919050565b5f611a58826119f3565b611a6281856119fd565b9350611a6d83611a0d565b805f5b83811015611a9d578151611a848882611a2b565b9750611a8f83611a42565b925050600181019050611a70565b5085935050505092915050565b5f6020820190508181035f830152611ac28184611a4e565b905092915050565b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b611b1482611ace565b810181811067ffffffffffffffff82111715611b3357611b32611ade565b5b80604052505050565b5f611b45611739565b9050611b518282611b0b565b919050565b5f67ffffffffffffffff821115611b7057611b6f611ade565b5b611b7982611ace565b9050602081019050919050565b828183375f83830152505050565b5f611ba6611ba184611b56565b611b3c565b905082815260208101848484011115611bc257611bc1611aca565b5b611bcd848285611b86565b509392505050565b5f82601f830112611be957611be8611947565b5b8135611bf9848260208601611b94565b91505092915050565b5f60208284031215611c1757611c16611742565b5b5f82013567ffffffffffffffff811115611c3457611c33611746565b5b611c4084828501611bd5565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f611c7b82611c49565b611c858185611c53565b9350611c95818560208601611c63565b611c9e81611ace565b840191505092915050565b5f6020820190508181035f830152611cc18184611c71565b905092915050565b5f67ffffffffffffffff821115611ce357611ce2611ade565b5b602082029050602081019050919050565b5f611d06611d0184611cc9565b611b3c565b90508083825260208201905060208402830185811115611d2957611d2861194f565b5b835b81811015611d525780611d3e8882611790565b845260208401935050602081019050611d2b565b5050509392505050565b5f82601f830112611d7057611d6f611947565b5b8135611d80848260208601611cf4565b91505092915050565b5f5f5f60608486031215611da057611d9f611742565b5b5f611dad86828701611790565b9350506020611dbe86828701611877565b925050604084013567ffffffffffffffff811115611ddf57611dde611746565b5b611deb86828701611d5c565b9150509250925092565b5f819050919050565b5f611e18611e13611e0e8461174a565b611df5565b61174a565b9050919050565b5f611e2982611dfe565b9050919050565b5f611e3a82611e1f565b9050919050565b611e4a81611e30565b82525050565b5f602082019050611e635f830184611e41565b92915050565b5f5f83601f840112611e7e57611e7d611947565b5b8235905067ffffffffffffffff811115611e9b57611e9a61194b565b5b602083019150836001820283011115611eb757611eb661194f565b5b9250929050565b5f5f5f5f60608587031215611ed657611ed5611742565b5b5f611ee387828801611790565b9450506020611ef487828801611877565b935050604085013567ffffffffffffffff811115611f1557611f14611746565b5b611f2187828801611e69565b925092505092959194509250565b5f5f60408385031215611f4557611f44611742565b5b5f611f5285828601611790565b925050602083013567ffffffffffffffff811115611f7357611f72611746565b5b611f7f85828601611bd5565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f82825260208201905092915050565b7f5265636f76657261626c6520616c726561647920656e61626c656400000000005f82015250565b5f611ffa601b83611fb6565b915061200582611fc6565b602082019050919050565b5f6020820190508181035f83015261202781611fee565b9050919050565b5f5ffd5b5f5ffd5b5f5ffd5b5f823560016060038336030381126120555761205461202e565b5b80830191505092915050565b5f5f8335600160200384360303811261207d5761207c61202e565b5b80840192508235915067ffffffffffffffff82111561209f5761209e612032565b5b6020830192506001820236038313156120bb576120ba612036565b5b509250929050565b5f6040820190506120d65f8301856118f7565b81810360208301526120e88184611c71565b90509392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061213557607f821691505b602082108103612148576121476120f1565b5b50919050565b5f6040820190506121615f8301856118f7565b81810360208301526121738184611a4e565b90509392505050565b5f8151905061218a8161177a565b92915050565b5f602082840312156121a5576121a4611742565b5b5f6121b28482850161217c565b91505092915050565b7f5265636f76657261626c6520616c72656164792064697361626c6564000000005f82015250565b5f6121ef601c83611fb6565b91506121fa826121bb565b602082019050919050565b5f6020820190508181035f83015261221c816121e3565b9050919050565b5f81905092915050565b5f6122388385612223565b9350612245838584611b86565b82840190509392505050565b5f61225d82848661222d565b91508190509392505050565b7f5265636f76657261626c65206973206e6f7420616374697665000000000000005f82015250565b5f61229d601983611fb6565b91506122a882612269565b602082019050919050565b5f6020820190508181035f8301526122ca81612291565b9050919050565b7f43616c6c6572206973206e6f7420616e20616374697665207265636f766572615f8201527f626c650000000000000000000000000000000000000000000000000000000000602082015250565b5f61232b602383611fb6565b9150612336826122d1565b604082019050919050565b5f6020820190508181035f8301526123588161231f565b9050919050565b5f61236982611c49565b6123738185612223565b9350612383818560208601611c63565b80840191505092915050565b5f61239a828461235f565b915081905092915050565b6123ae81611825565b82525050565b5f6040820190506123c75f83018561191f565b6123d460208301846123a5565b9392505050565b6123e4816117cf565b81146123ee575f5ffd5b50565b5f815190506123ff816123db565b92915050565b5f6020828403121561241a57612419611742565b5b5f612427848285016123f1565b91505092915050565b7f5265636f76657261626c6520686173206e6f74206d6574207468726573686f6c5f8201527f6420666f722074686973206b6579000000000000000000000000000000000000602082015250565b5f61248a602e83611fb6565b915061249582612430565b604082019050919050565b5f6020820190508181035f8301526124b78161247e565b9050919050565b5f819050919050565b5f77ffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6125046124ff6124fa846124be565b611df5565b6124c7565b9050919050565b612514816124ea565b82525050565b5f60408201905061252d5f83018561191f565b61253a602083018461250b565b9392505050565b5f8151905061254f81611861565b92915050565b5f6020828403121561256a57612569611742565b5b5f61257784828501612541565b91505092915050565b7f6163636f756e743a206e6f742066726f6d20456e747279506f696e74000000005f82015250565b5f6125b4601c83611fb6565b91506125bf82612580565b602082019050919050565b5f6020820190508181035f8301526125e1816125a8565b9050919050565b7f41646d696e206b657920726571756972656420666f722074686973207472616e5f8201527f73616374696f6e00000000000000000000000000000000000000000000000000602082015250565b5f612642602783611fb6565b915061264d826125e8565b604082019050919050565b5f6020820190508181035f83015261266f81612636565b9050919050565b5f5ffd5b5f5ffd5b5f5f8585111561269157612690612676565b5b838611156126a2576126a161267a565b5b6001850283019150848603905094509492505050565b5f82905092915050565b5f7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b5f82821b905092915050565b5f61270483836126b8565b8261270f81356126c2565b9250601482101561274f5761274a7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000836014036008026126ed565b831692505b505092915050565b7f496e76616c69642063616c6c4461746120666f72207570646174655075626c695f8201527f634b65795669615265636f76657261626c650000000000000000000000000000602082015250565b5f6127b1603283611fb6565b91506127bc82612757565b604082019050919050565b5f6020820190508181035f8301526127de816127a5565b9050919050565b5f6127ef8261174a565b9050919050565b6127ff816127e5565b8114612809575f5ffd5b50565b5f8135905061281a816127f6565b92915050565b5f6020828403121561283557612834611742565b5b5f6128428482850161280c565b91505092915050565b5f6128568385611c53565b9350612863838584611b86565b61286c83611ace565b840190509392505050565b5f6102009050919050565b5f81905092915050565b5f819050919050565b5f61ffff82169050919050565b6128ab81612895565b82525050565b5f815f1c9050919050565b5f61ffff82169050919050565b5f6128db6128d6836128b1565b6128bc565b9050919050565b5f8160101c9050919050565b5f6129006128fb836128e2565b6128bc565b9050919050565b5f8160201c9050919050565b5f61292561292083612907565b6128bc565b9050919050565b5f8160301c9050919050565b5f61294a6129458361292c565b6128bc565b9050919050565b5f8160401c9050919050565b5f61296f61296a83612951565b6128bc565b9050919050565b5f8160501c9050919050565b5f61299461298f83612976565b6128bc565b9050919050565b5f8160601c9050919050565b5f6129b96129b48361299b565b6128bc565b9050919050565b5f8160701c9050919050565b5f6129de6129d9836129c0565b6128bc565b9050919050565b5f8160801c9050919050565b5f612a036129fe836129e5565b6128bc565b9050919050565b5f8160901c9050919050565b5f612a28612a2383612a0a565b6128bc565b9050919050565b5f8160a01c9050919050565b5f612a4d612a4883612a2f565b6128bc565b9050919050565b5f8160b01c9050919050565b5f612a72612a6d83612a54565b6128bc565b9050919050565b5f8160c01c9050919050565b5f612a97612a9283612a79565b6128bc565b9050919050565b5f8160d01c9050919050565b5f612abc612ab783612a9e565b6128bc565b9050919050565b5f8160e01c9050919050565b5f612ae1612adc83612ac3565b6128bc565b9050919050565b5f8160f01c9050919050565b5f612b06612b0183612ae8565b6128bc565b9050919050565b612b1681612877565b612b208184612882565b925082612b2c8361288c565b5f600115612cd8575b83600160100382011015612cd7578154612b5787612b52836128c9565b6128a2565b602087019650612b6f87612b6a836128ee565b6128a2565b602087019650612b8787612b8283612913565b6128a2565b602087019650612b9f87612b9a83612938565b6128a2565b602087019650612bb787612bb28361295d565b6128a2565b602087019650612bcf87612bca83612982565b6128a2565b602087019650612be787612be2836129a7565b6128a2565b602087019650612bff87612bfa836129cc565b6128a2565b602087019650612c1787612c12836129f1565b6128a2565b602087019650612c2f87612c2a83612a16565b6128a2565b602087019650612c4787612c4283612a3b565b6128a2565b602087019650612c5f87612c5a83612a60565b6128a2565b602087019650612c7787612c7283612a85565b6128a2565b602087019650612c8f87612c8a83612aaa565b6128a2565b602087019650612ca787612ca283612acf565b6128a2565b602087019650612cbf87612cba83612af4565b6128a2565b60208701965060018301925050601081019050612b35565b5b5f15612f325781545f15612d0557612cf887612cf3836128c9565b6128a2565b6020870196506001820191505b5f15612d2a57612d1d87612d18836128ee565b6128a2565b6020870196506001820191505b5f15612d4f57612d4287612d3d83612913565b6128a2565b6020870196506001820191505b5f15612d7457612d6787612d6283612938565b6128a2565b6020870196506001820191505b5f15612d9957612d8c87612d878361295d565b6128a2565b6020870196506001820191505b5f15612dbe57612db187612dac83612982565b6128a2565b6020870196506001820191505b5f15612de357612dd687612dd1836129a7565b6128a2565b6020870196506001820191505b5f15612e0857612dfb87612df6836129cc565b6128a2565b6020870196506001820191505b5f15612e2d57612e2087612e1b836129f1565b6128a2565b6020870196506001820191505b5f15612e5257612e4587612e4083612a16565b6128a2565b6020870196506001820191505b5f15612e7757612e6a87612e6583612a3b565b6128a2565b6020870196506001820191505b5f15612e9c57612e8f87612e8a83612a60565b6128a2565b6020870196506001820191505b5f15612ec157612eb487612eaf83612a85565b6128a2565b6020870196506001820191505b5f15612ee657612ed987612ed483612aaa565b6128a2565b6020870196506001820191505b5f15612f0b57612efe87612ef983612acf565b6128a2565b6020870196506001820191505b5f15612f3057612f2387612f1e83612af4565b6128a2565b6020870196506001820191505b505b505050505050565b5f614040820190508181035f830152612f5481868861284b565b9050612f6360208301856123a5565b612f706040830184612b0d565b95945050505050565b50565b5f612f875f83612223565b9150612f9282612f79565b5f82019050919050565b5f612fa682612f7c565b9150819050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f600883026130007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826126ed565b61300a86836126ed565b95508019841693508086168417925050509392505050565b5f61303c61303761303284611858565b611df5565b611858565b9050919050565b5f819050919050565b61305583613022565b61306961306182613043565b848454612fd1565b825550505050565b5f5f905090565b613080613071565b61308b81848461304c565b505050565b5b818110156130ae576130a35f82613078565b600181019050613091565b5050565b601f8211156130f3576130c481612fb0565b6130cd84612fc2565b810160208510156130dc578190505b6130f06130e885612fc2565b830182613090565b50505b505050565b5f82821c905092915050565b5f6131135f19846008026130f8565b1980831691505092915050565b5f61312b8383613104565b9150826002028217905092915050565b61314482611c49565b67ffffffffffffffff81111561315d5761315c611ade565b5b613167825461211e565b6131728282856130b2565b5f60209050601f8311600181146131a3575f8415613191578287015190505b61319b8582613120565b865550613202565b601f1984166131b186612fb0565b5f5b828110156131d8578489015182556001820191506020850194506020810190506131b3565b868310156131f557848901516131f1601f891682613104565b8355505b6001600288020188555050505b505050505050565b5f67ffffffffffffffff82111561322457613223611ade565b5b602082029050919050565b61323881612895565b8114613242575f5ffd5b50565b5f815190506132538161322f565b92915050565b5f61326b6132668461320a565b611b3c565b905080602084028301858111156132855761328461194f565b5b835b818110156132ae578061329a8882613245565b845260208401935050602081019050613287565b5050509392505050565b5f82601f8301126132cc576132cb611947565b5b6102006132da848285613259565b91505092915050565b5f61400082840312156132f9576132f8611742565b5b5f613306848285016132b8565b91505092915050565b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b5f61334583836126b8565b82613350813561330f565b925060048210156133905761338b7fffffffff00000000000000000000000000000000000000000000000000000000836004036008026126ed565b831692505b50509291505056fea2646970667358221220f314b5f1b12cc01285cdc77e2f984252bd3f2275039e52189d6affef8f6d37d564736f6c634300081c0033";function UU(t){const{factory:e,entryPoint:n,falcon:r,publicKeyBytes:o,salt:i}=t,a=ba($m("address entryPoint, address falcon, bytes publicKeyBytes"),[n,r,o]),s=Ai([$U,a]),u=On(s),f=os(i,{size:32}),d=Ai(["0xff",e,f,u]);return"0x"+On(d).slice(26)}const Rx="cointrol:wrappingKey:v1",kx="cointrol:wrappingSalt:v2";let Jd=null;async function HU(t){await Pt(Rx)!==void 0&&await Promise.all([mu(Rx),mu(zo(512,"pk")),mu(zo(512,"sk")),mu(zo(1024,"pk")),mu(zo(1024,"sk"))]),Jd=t}function Jp(){Jd=null}function zo(t,e){return`cointrol:falcon:${t}:${e}:v1`}async function I_(){if(!Jd)throw new Error("keyStore not initialised  call initKeyStore(uid) first");let t=await Pt(kx);t||(t=crypto.getRandomValues(new Uint8Array(32)).buffer,await vn(kx,t));const e=await crypto.subtle.importKey("raw",new TextEncoder().encode(Jd),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-256",salt:t,iterations:3e5},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}function Dx(t){const e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(t),e}function VU(t){return new Uint8Array(t)}async function Mx(t,e){const n=await I_(),r=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,Dx(e));return{alg:"falcon",level:t,cipherText:o,iv:Dx(r),createdAt:Date.now()}}async function T_(t){const e=await I_(),n=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(t.iv)},e,t.cipherText);return VU(n)}async function N_(t){const e=await Pt(zo(t,"pk"));return e?T_(e):null}async function O_(t){const e=await Pt(zo(t,"sk"));return e?T_(e):null}async function Bx(t){const[e,n]=await Promise.all([Pt(zo(t,"pk")),Pt(zo(t,"sk"))]);return!!e&&!!n}async function GU(t){const e=l1(),{pk:n,sk:r}=await e.generateKeypair(t),o=await Mx(t,n),i=await Mx(t,r);return await Promise.all([vn(zo(t,"pk"),o),vn(zo(t,"sk"),i)]),e.terminate(),{pk:n,sk:r}}const sd=new Map;async function WU(t){const e=sd.get(t);if(e)return e;const n=(async()=>{if(await Bx(t))return!0;const{pk:r,sk:o}=await GU(t);return r.length>0&&o.length>0?await Bx(t):!1})().catch(r=>{throw sd.delete(t),r});return sd.set(t,n),n.finally(()=>{sd.delete(t)})}async function ZU(t){const e=await O_(t);if(!e)throw new Error(`Falcon-${t} secret key not found`);return e}async function P_(t,e){const n=await N_(e);if(!n)throw new Error("Falcon public key not found");return UU({entryPoint:"0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",factory:"0xf3C6758D283e28d99eda462009D776458C1DdE4a",falcon:"0x6f70f3475c89AFab28A7c607a645A773Ea76dB45",publicKeyBytes:Zt(n),salt:t.startsWith("0x")?t:ac(t)})}const Da="http://localhost:8080/userop",XU="http://localhost:8081/pmg";async function oa(t,e){const n=await fetch(t,{headers:{"Content-Type":"application/json"},...e});if(!n.ok){const r=await n.json().catch(()=>null);throw console.error(`[API] ${n.status} ${n.statusText}`,r),new Error(`${n.status} ${n.statusText}`)}return n.json()}const bg={async submit(t,e){return oa(`${Da}/submit`,{method:"POST",body:JSON.stringify({...t,domain:e})})},async updatePublicKey(t,e,n,r,o){return oa(`${Da}/updatePublicKey`,{method:"POST",body:JSON.stringify({sender:t,domain:e,oldKey:n,newKey:r,signature:o})})},async getAllDomains(){return oa(`${Da}/domain`)},async getDomainDetails(t){return oa(`${Da}/domain/${t}`)},async getTxReceipt(t,e){return oa(`${Da}/transaction`,{method:"POST",body:JSON.stringify({sender:t,userOphash:e})})},async addPaymaster(t,e,n,r,o){return oa(`${Da}/paymaster/add`,{method:"POST",body:JSON.stringify({paymaster:t,domain:e,sender:n,flag:r,signature:o})})},async updatePaymaster(t,e,n,r,o){return oa(`${Da}/paymaster/update`,{method:"POST",body:JSON.stringify({paymaster:t,domain:e,sender:n,flag:r,signature:o})})}},qU={async createNewAccount(t,e,n,r,o){return oa(`${XU}/createfree`,{method:"POST",body:JSON.stringify({sender:t,domain:e,publicKey:n,salt:r,signature:o})})}};function KU(t){return`0x${BigInt(t).toString(16)}`}function YU(){return"0x"}function QU(t=2n,e=4000000000n){return`0x${(t*1000000n<<128n|e).toString(16).padStart(64,"0")}`}function Lx(t){if(!/^0x[0-9a-fA-F]+$/.test(t))throw new Error(`Invalid hex bigint: ${t}`);return BigInt(t)}const JU="ERC4337",eH="1",tH=(t,e,n)=>WE({domain:{name:JU,version:eH,chainId:n,verifyingContract:e},types:{PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"}]},primaryType:"PackedUserOperation",message:{sender:t.sender,nonce:typeof t.nonce=="bigint"?t.nonce:Lx(t.nonce),initCode:t.initCode,callData:t.callData,accountGasLimits:t.accountGasLimits,preVerificationGas:typeof t.preVerificationGas=="bigint"?t.preVerificationGas:Lx(t.preVerificationGas),gasFees:t.gasFees,paymasterAndData:t.paymasterAndData}});function nH(t=8500000n,e=200000n){const n=t,r=e;return`0x${(n<<128n|r).toString(16).padStart(64,"0")}`}function rH(t){const e=Uo(Ao(t.validationGasLimit),{size:16}),n=Uo(Ao(t.postOpGasLimit),{size:16}),r=t.extraData??"0x";return Ai([t.paymaster,e,n,r])}const Fx=zU((t,e)=>({open:!1,status:{phase:"idle"},close:()=>t({open:!1,status:{phase:"idle"}}),startFlow:async({folio:n,encoded:r,domain:o})=>{t({open:!0,status:{phase:"preparing",message:"Building UserOp"}});const a=await c1({transport:u1(o.rpcUrl)}).readContract({address:o.entryPoint,abi:cN,functionName:"getNonce",args:[n.address,0n]}),s=n.paymaster?.startsWith("0x")?n.paymaster:void 0,u={sender:n.address,nonce:Ao(a),initCode:YU(),callData:r,accountGasLimits:nH(),preVerificationGas:KU(2e5),gasFees:QU(),paymasterAndData:s?rH({paymaster:s,validationGasLimit:100000n,postOpGasLimit:0n,extraData:"0x"}):"0x"},f=tH(u,o.entryPoint,n.chainId),d=l1(),h=512,m=await O_(h);if(!m)throw new Error("Falcon secret key not available");if(f.length!==66)throw new Error("Invalid userOpHash length");const g=await d.sign(h,So(f),m),b={...u,signature:Zt(g)};m.fill(0),d.terminate(),t({status:{phase:"preparing",message:"Submitting to bundler"}});try{const w=await bg.submit(b,o.name);if(!w.success){t({status:{phase:"failed",message:w.result??"Bundler rejected the operation"}});return}t({status:{phase:"submitted",userOpHash:f,message:"Submitted to bundler"}});let _=0;const C=30;for(;_++<C;){await new Promise(A=>setTimeout(A,1500));try{const A=await bg.getTxReceipt(n.address,f);if(A.success){t({status:{phase:"finalized",userOpHash:f,hash:A.txHash,message:"Included in block"}});return}}catch{}}}catch(w){t({status:{phase:"failed",message:w.message}})}}}));function em(t){const e=t.startsWith("0x")?t.slice(2):t;if(e.length%2!==0)throw new Error(`Invalid hex string length: ${t}`);const n=new Uint8Array(e.length/2);for(let r=0;r<n.length;r++)n[r]=parseInt(e.slice(r*2,r*2+2),16);return n}function oH(t){const e=t.reduce((o,i)=>o+i.length,0),n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}function iH(t){const n=new TextEncoder().encode(t.domain),r=em(t.sender),o=em(t.publicKey),i=em(t.salt);return oH([r,n,o,i])}async function aH(){try{if(!await WU(512))throw new Error("Failed to ensure Falcon keypair")}catch(n){throw console.error("[Wallet] ensureFalconKeypair failed",n?.name,n?.message,n),n}const e=await P_("default",512);if(!e)throw new Error("Public key not available after ensureFalconKeypair");return e}async function sH({sender:t,domain:e,salt:n}){const o=await N_(512);if(!o)throw new Error("No Falcon public key available");const i=iH({sender:t,domain:e,publicKey:Zt(o),salt:n}),a=l1(),s=await ZU(512),u=await a.sign(512,i,s);return s.fill(0),a.terminate(),!!(await qU.createNewAccount(t,e,Zt(o),n,Zt(u))).success}function cH(t){return t.type==="NATIVE"||t.address==="0x0"}async function uH(t){const{folios:e,coins:n,domains:r}=t,o=new Map,i=new Map;for(const s of n){const u=i.get(s.chainId)??[];u.push(s),i.set(s.chainId,u)}const a=new Map;for(const s of e){const u=a.get(s.chainId)??[];u.push(s),a.set(s.chainId,u)}for(const[s,u]of a.entries()){const f=r.find(m=>m.chainId===s)?.rpcUrl;if(!f)continue;const d=c1({transport:u1(f)}),h=i.get(s)??[];for(const m of u){const g=m.address;let b;const w=new Set((m.wallet??[]).map(C=>C.coin));if(b=h.filter(C=>w.has(C.id)),b.length===0)continue;const _=[];for(const C of b)try{if(cH(C)){const A=await d.getBalance({address:g});_.push({coin:C.id,balance:A})}else if(C.type==="ERC20"){const A=await d.readContract({address:C.address,abi:Sd,functionName:"balanceOf",args:[g]});_.push({coin:C.id,balance:A})}else{const A=(m.wallet??[]).find(I=>I.coin===C.id);A&&_.push(A)}}catch{const A=(m.wallet??[]).find(I=>I.coin===C.id);A&&_.push(A)}o.set(m.id,_)}}return o}const R_="cointrol:profile:displayName:v1",xg=new Set;function lH(t){for(const e of xg)e(t)}function fH(t){return xg.add(t),k_().then(e=>t(e)),()=>xg.delete(t)}async function k_(){return(await Pt(R_)??"").trim()}async function dH(t){const e=t.trim();await vn(R_,e),lH(e)}function hH(){const[t,e]=S.useState("");S.useEffect(()=>{let r=!0;k_().then(i=>{r&&e((i??"").toString())});const o=fH(i=>{e((i??"").toString())});return()=>{r=!1,o()}},[]);const n=S.useCallback(async r=>{const o=(r??"").trim();await dH(o),e(o)},[]);return{displayName:t,save:n}}function pH({open:t,initialValue:e,onClose:n,onSave:r}){const[o,i]=S.useState(e??""),[a,s]=S.useState(!1);if(S.useEffect(()=>{t&&i(e??"")},[t,e]),!t||typeof document>"u")return null;const u=(o??"").trim(),f=u.length>=2;return un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:n,style:{position:"fixed",inset:0,zIndex:2147483646,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)"}}),y.jsxs("div",{role:"dialog","aria-modal":"true",className:`
    rounded-2xl
    border border-neutral-200
    bg-[#fffdf7]        /* soft ivory */
    text-neutral-900
    shadow-2xl
    backdrop-blur-none
  `,style:{position:"fixed",zIndex:2147483647,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(420px, calc(100vw - 32px))",padding:20},onClick:d=>d.stopPropagation(),children:[y.jsx("div",{className:"text-lg font-semibold",children:"Set display name"}),y.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"Set the name used for profile sharing"}),y.jsx("input",{className:"mt-3 w-full rounded border px-3 py-2",value:o,onChange:d=>i(d.target.value),placeholder:"e.g. Paul Bark",autoFocus:!0}),y.jsx("div",{className:"mt-4 flex justify-end gap-2"}),y.jsx("br",{}),y.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:n,disabled:a,children:"Cancel"}),"",y.jsxs("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",disabled:!f||a,onClick:async()=>{s(!0);try{await r(u),n()}finally{s(!1)}},children:["",a?"Saving":"Save",""]})]})]})]}),document.body)}const D_="cointrol:auth:uuid:v1",M_="cointrol:auth:termsAccepted:v1";async function pv(){return await Pt(D_)??null}async function mH(t){await vn(D_,t)}async function gH(){return await Pt(M_)===!0}async function B_(){await vn(M_,!0)}async function yH(){const[t,e]=await Promise.all([pv(),gH()]);return!t&&!e}function jx(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState("coinBalanceDesc"),[a,s]=S.useState([]),[u,f]=S.useState("any"),[d,h]=S.useState(""),[m,g]=S.useState(11155111),[b,w]=S.useState(!1),[_,C]=S.useState(null),[A,I]=S.useState(null),[T,O]=S.useState(null),[P,k]=S.useState(null),[R,z]=S.useState(""),F={1:"Ethereum",11155111:"Sepolia"},{coins:U,loading:H,error:Y}=S0({query:t,sortMode:"nameAsc",tags:a,tagMode:u,standard:"",chainId:m}),{folios:ae,loading:X,error:q,addFolio:re,deleteFolio:L,updateFolio:K}=S_({query:t,sortMode:"createdAsc",chainId:m}),{domains:ee,loading:M,error:V}=Ty(),{displayName:se,save:de}=hH(),[xe,we]=S.useState(!1),[Ee,Te]=S.useState(null);async function De(){const ge=(se??"").trim();if(!ge){we(!0);return}const Be=JD(ge,ae);Te(Be)}const _e=S.useMemo(()=>{const ge=[];for(const Be of ae){const tt=Be.wallet?.length??0;if(tt>0)for(let ne=0;ne<tt;ne++)ge.push({folioId:Be.id,coinId:Be.wallet?.[ne]?.coin??"",walletId:ne});else ge.push({folioId:Be.id,coinId:"",walletId:-1})}return ge},[ae,U]);S.useEffect(()=>{function ge(Be){Be.target.closest("details")||document.querySelectorAll("details[open]").forEach(ne=>{ne.removeAttribute("open")})}return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[]),S.useEffect(()=>{A!=null&&O(ae.find(ge=>ge.id===A)?.name||null)},[A,ae]),S.useEffect(()=>{if(!b)return;const ge=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=ge}},[b]);const It=S.useMemo(()=>MU(_e,ae,U,n,o),[_e,ae,U,n,o]);function rt(ge,Be){if(Be<=0)return ge.toString();const tt=ge<0n,ne=tt?-ge:ge,Se=10n**BigInt(Be),Ze=ne/Se;let Je=(ne%Se).toString().padStart(Be,"0");Je=Je.replace(/0+$/,"");const dt=Ze.toString()+(Je.length>0?"."+Je:"");return tt?"-"+dt:dt}const ht=S.useRef(!1),[Tt,ct]=S.useState(!1),ce=S.useRef(!1),te=S.useCallback(async()=>{if(!ht.current&&!(X||H||M)&&!(q||Y||V)&&ae.length){ht.current=!0,ct(!0);try{const ge=await uH({folios:ae,coins:U,domains:ee});for(const[Be,tt]of ge.entries())await K(Be,{wallet:tt})}finally{ht.current=!1,ct(!1)}}},[X,H,M,q,Y,V,ae,U,ee,K]);S.useEffect(()=>{ce.current||X||H||M||q||Y||V||ae.length&&(ce.current=!0,te())},[X,H,M,q,Y,V,ae,te]);function be({primarySortMode:ge,setPrimarySortMode:Be,secondarySortMode:tt,setSecondarySortMode:ne,tagSearch:ye,setTagSearch:Se,setTags:Ze,tagMode:ot,setTagSearchMode:Je}){const[dt,bn]=S.useState(!1),rr=S.useRef(null),[or,fn]=S.useState({top:0,left:0,width:320}),Kn=()=>bn(!1),Ke=S.useCallback(()=>{if(!rr.current)return;const it=rr.current.getBoundingClientRect(),et=8,xt=Math.min(360,window.innerWidth-et*2),nt=it.bottom+8,sn=it.right-xt,Hn=Math.min(Math.max(et,sn),window.innerWidth-xt-et);fn({top:nt,left:Hn,width:xt})},[]),Nt=()=>{const it=!dt;it&&Ke(),bn(it)};return S.useEffect(()=>{if(!dt)return;const it=et=>{et.key==="Escape"&&Kn()};return window.addEventListener("keydown",it),()=>window.removeEventListener("keydown",it)},[dt]),S.useEffect(()=>{if(dt)return window.addEventListener("resize",Ke),window.addEventListener("scroll",Ke,!0),()=>{window.removeEventListener("resize",Ke),window.removeEventListener("scroll",Ke,!0)}},[dt,Ke]),y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:rr,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:Nt,children:"Sort / Filter"}),dt&&typeof document<"u"&&un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:Kn,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),y.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:or.top,left:or.left,width:or.width,padding:12},onClick:it=>it.stopPropagation(),children:[y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),y.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:ge,onChange:it=>Be(it.target.value),children:[y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"symbolAsc",children:"Symbol (A  Z)"}),y.jsx("option",{value:"symbolDesc",children:"Symbol (Z  A)"}),y.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),y.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),y.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:tt,onChange:it=>ne(it.target.value),children:[y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"symbolAsc",children:"Symbol (A  Z)"}),y.jsx("option",{value:"symbolDesc",children:"Symbol (Z  A)"}),y.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),y.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),y.jsx("div",{className:"my-3 border-t border-border"}),y.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:ye,onChange:it=>{const et=it.target.value;Se(et);const xt=et.split(",").map(nt=>nt.trim()).filter(Boolean);Ze(xt)}}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"text-xs text-muted",children:"Mode"}),y.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:ot,onChange:it=>Je(it.target.value),children:[y.jsx("option",{value:"any",children:"Match any"}),y.jsx("option",{value:"all",children:"Match all"})]}),y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{Se(""),Ze([]),Je("any")},children:"Clear"})]}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:Kn,children:"Done"})})]})]}),document.body)]})}function ze(){z("")}function qe(){if(!P)return;ze(),ae.filter(Be=>Be.chainId===P.chainId).length===0&&w(!0)}function We(ge){C(ge),z(ge.name??""),w(!0)}function mt(){w(!1),C(null),bt({status:"idle"}),ze()}const[vt,bt]=S.useState({status:"idle"}),on=vt.status==="pending";S.useEffect(()=>{!P&&ee.length&&k(ee[0])},[P,ee]);async function an(ge){ge.preventDefault();const Be=R.trim();if(!Be)return;const tt={name:Be};try{if(bt({status:"pending",message:_?"Saving changes":"Submitting account creation"}),_)await K(_.id,tt);else{const ne=await pv();if(!ne){bt({status:"error",message:"No user UUID found. Account creation is not possible."});return}const ye=await P_(ne,512);if(!ye){bt({status:"error",message:"No sender address available for new account."});return}if(bt({status:"pending",message:"Creating QuantumAccount (waiting for bundler)"}),!await sH({sender:ye,domain:P.name,salt:ne})){bt({status:"error",message:"Account creation failed (no wallet returned)."});return}bt({status:"pending",message:"Finalising and saving to your portfolio"});const ot=U.filter(dt=>dt.chainId===P.chainId).map(dt=>({coin:dt.id,balance:0n})),Je={address:ye,chainId:P.chainId,paymaster:P.paymaster,type:0,bundler:P.bundler,wallet:ot};await re({...tt,...Je})}mt()}catch(ne){const ye=typeof ne?.message=="string"?ne.message:"Something went wrong while creating the account.";bt({status:"error",message:ye})}}return X?y.jsx("div",{className:"p-4",children:"Loading coins"}):q?y.jsx("div",{className:"p-4 text-red-600",children:q}):y.jsxs("div",{className:"space-y-4 p-4",children:[y.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Portfolio"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("select",{className:"h-9 w-[140px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:m,onChange:ge=>g(Number(ge.target.value)),children:Object.entries(F).map(([ge,Be])=>y.jsx("option",{value:ge,children:Be},ge))}),y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:ge=>e(ge.target.value)}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx(be,{primarySortMode:n,setPrimarySortMode:r,secondarySortMode:o,setSecondarySortMode:i,tagSearch:d,setTagSearch:h,setTags:s,tagMode:u,setTagSearchMode:f}),"",y.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:qe,children:"Create account"}),y.jsxs("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm disabled:opacity-50",onClick:te,disabled:Tt,children:["",Tt?"Refreshing":"Refresh balances",""]}),y.jsxs("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm ",onClick:ge=>{ge.preventDefault(),ge.stopPropagation(),w(!1),I(null),O(null),we(!0)},children:["",se?"Edit display name":"Set display name",""]}),y.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm ",onClick:ge=>{ge.preventDefault(),ge.stopPropagation(),De()},children:"Share profile"})]})]}),y.jsx(pH,{open:xe,initialValue:se??"",onClose:()=>we(!1),onSave:de}),It.length===0?y.jsx("div",{className:"text-sm text-muted",children:'No accounts created yet. Click "Create account" to get started.'}):y.jsx("ul",{className:"space-y-2",children:It.map(ge=>{const Be=ae.find(Je=>Je.id===ge.folioId),tt=U.find(Je=>Je.id===ge.coinId),ne=Be?.wallet?.[ge.walletId],ye=Be?.name??ge.folioId,Se=tt?.symbol??"",Ze=Be&&F[Be.chainId]?F[Be.chainId]:Be?`Chain ${Be.chainId}`:"Unknown chain",ot=ne&&tt?rt(ne.balance,tt.decimals):"0";return y.jsx("li",{className:"w-full",children:y.jsx("div",{className:"w-full rounded-lg border border-border bg-card px-4 py-3",children:y.jsxs("div",{className:"grid gap-3 sm:gap-x-6 sm:gap-y-2 sm:grid-cols-[160px_90px_minmax(0,1fr)_110px] sm:items-start",children:[y.jsx("div",{className:"min-w-0 font-medium",children:ye}),y.jsx("div",{className:"min-w-0 text-xs text-muted-foreground sm:pt-1",children:Se}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("div",{className:"text-xs text-muted-foreground",children:Ze}),y.jsxs("div",{className:"text-xs text-muted-foreground",children:["Balance: ",ot," ",Se]})]}),y.jsx("div",{className:"justify-self-start sm:justify-self-end",children:y.jsxs("details",{className:"relative inline-block",children:[y.jsx("summary",{className:"cursor-pointer list-none rounded-md border border-border bg-background px-2 py-1 text-xs",children:"Actions"}),y.jsxs("div",{className:"absolute left-0 sm:right-0 sm:left-auto mt-1 w-40 rounded-md border border-border bg-background shadow-lg z-50",children:[y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:Je=>{Je.currentTarget.closest("details")?.removeAttribute("open"),Be&&We(Be)},children:"Edit"}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:Je=>{Je.currentTarget.closest("details")?.removeAttribute("open"),I(ge.folioId)},children:"Remove"})]})]})})]})})},`${ge.folioId}-${ge.coinId}-${ge.walletId}`)})}),b?un.createPortal(y.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:ge=>{ge.target===ge.currentTarget&&mt()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:y.jsxs("div",{className:"bg-background",onMouseDown:ge=>ge.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[y.jsx("h2",{className:"mb-3 text-base font-semibold",children:_?"Change Label":"Create Account"}),y.jsxs("form",{className:"space-y-4",onSubmit:an,children:[vt.status!=="idle"&&y.jsxs("div",{className:`rounded-md border px-3 py-2 text-xs ${vt.status==="error"?"border-red-300":"border-border"}`,children:[vt.status==="pending"&&y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{children:vt.message})}),vt.status==="error"&&y.jsx("div",{className:"text-red-600",children:vt.message})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-medium",children:"Name"}),y.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:R,onChange:ge=>z(ge.target.value),required:!0,disabled:on})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:mt,disabled:on,children:"Cancel"}),"",y.jsxs("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",disabled:on,children:["",on?_?"Saving":"Creating":_?"Save changes":"Create account",""]})]})]})]})}),document.body):null,A&&y.jsx("div",{onClick:ge=>{ge.target===ge.currentTarget&&mt()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:y.jsxs("div",{onClick:ge=>ge.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[y.jsx("h2",{className:"text-base font-semibold",children:"Delete account?"}),y.jsxs("p",{className:"mt-2 text-sm text-muted",children:["This will remove the entire portfolio account ",y.jsx("strong",{children:T||"unnamed"})," and its balances from your list. This action cannot be undone and you could lose access to your assets. If you just want to remove the coin balance then go to the coin page and delete the coin."]}),y.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[y.jsx("button",{className:"rounded-md border px-3 py-1 text-sm",onClick:()=>{I(null),O(null)},children:"Cancel"}),"",y.jsx("button",{className:"rounded-md bg-primary px-3 py-1 text-sm text-background",onClick:()=>{A&&L(A),I(null),O(null)},children:"Yes, delete account"})]})]})}),Ee&&y.jsx(M0,{payload:Ee,onClose:()=>Te(null)})]})}function mv({className:t,...e}){return y.jsx("div",{className:gl("rounded-2xl border bg-white shadow-sm",t),...e})}function gv({className:t,...e}){return y.jsx("div",{className:gl("p-4",t),...e})}function yv({className:t,...e}){return y.jsx("h3",{className:gl("text-base font-semibold",t),...e})}function vv({className:t,...e}){return y.jsx("div",{className:gl("p-4",t),...e})}function L_(){const t=vc();return y.jsxs(mv,{className:"mx-auto w-full max-w-4xl",children:[y.jsxs(gv,{className:"flex flex-row items-center justify-between gap-4",children:[y.jsx(yv,{children:"Terms & Conditions"}),y.jsx("div",{className:"flex gap-2",children:y.jsx(ns,{variant:"outline",onClick:()=>t(-1),children:"Back"})})]}),y.jsx(vv,{className:"prose px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"mx-auto max-w-3xl",children:[y.jsx("p",{children:"[Version 1.0  Last updated: 2026-02-24]"}),y.jsx("br",{}),y.jsxs("ol",{className:"list-decimal pl-6 space-y-8",children:[y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Introduction"}),y.jsx("br",{}),y.jsx("p",{children:"These Terms and Conditions (Terms) govern your use of the Cointrol platform, applications, APIs, smart contracts, websites, and related services (collectively, the Services) operated by Cointrol Limited (Cointrol, we, us, or our)."}),y.jsx("p",{children:"By accessing or using the Services, you agree to be bound by these Terms."}),y.jsx("p",{children:"If you do not agree, you must not use the Services"})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Non-Custodial Nature of the Services"}),y.jsx("br",{}),y.jsx("p",{children:"Cointrol provides non-custodial wallet and transaction infrastructure. We do not:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"hold customer funds,"}),y.jsx("li",{children:"control private keys,"}),y.jsx("li",{children:"initiate transactions on your behalf without cryptographic authorisation,"}),y.jsx("li",{children:"act as trustee, custodian, or fiduciary."})]}),y.jsx("p",{children:"You retain sole control of:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"private keys"}),y.jsx("li",{children:"recovery material"}),y.jsx("li",{children:"transaction approvals"}),y.jsx("li",{children:"digital assets"})]}),y.jsx("p",{children:"You acknowledge that loss of keys or credentials may result in permanent loss of access to assets."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Blockchain Risks and Irreversibility"}),y.jsx("br",{}),y.jsx("p",{children:"You acknowledge that:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"blockchain transactions are irreversible;"}),y.jsx("li",{children:"confirmations times depend on external networks;"}),y.jsx("li",{children:"smart contracts may behave unexpectedly;"}),y.jsx("li",{children:"congestion, forks, validator failures, or chain reorganisations may occur."})]}),y.jsx("p",{children:"Cointrol does not guarantee:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"transaction finality,"}),y.jsx("li",{children:"confirmation speed,"}),y.jsx("li",{children:"network availability,"}),y.jsx("li",{children:"asset recovery."})]}),y.jsx("p",{children:"use of blockchain technology is at your own risk."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Testnet Disclaimer (where applicable)"}),y.jsx("br",{}),y.jsx("p",{children:"Where Services operate on test networks:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"assets have no real-world value;"}),y.jsx("li",{children:"data may be reset or deleted;"}),y.jsx("li",{children:"addresses must not be reused on mainnet."})]}),y.jsx("p",{children:"Testnet environments are provided strictly for development and evalutation."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Artificial Intelligence & Cryptography"}),y.jsx("br",{}),y.jsx("p",{children:"Certain components of the services may utilise:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"artificial intelligence,"}),y.jsx("li",{children:"automated agents,"}),y.jsx("li",{children:"cryptographic systems including post-quantum algorithms."})]}),y.jsx("p",{children:"You acknowledge that::"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"AI-generated outputs are probabilistic and may contain errors;"}),y.jsx("li",{children:"cryptographic systems may evolve as standards develop;"}),y.jsx("li",{children:"no cryptographic system is guaranteed to remain secure indefinitely."})]}),y.jsx("p",{children:"Any outputs or recommendations are provided for informational purposes only and must be independently verified."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"No Financial, Legal, or Investment Advice"}),y.jsx("br",{}),y.jsx("p",{children:"Nothing provided through the Services constitutes:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"financial advice,"}),y.jsx("li",{children:"legal advice,"}),y.jsx("li",{children:"tax advice,"}),y.jsx("li",{children:"investment advice."})]}),y.jsx("p",{children:"Cointrol does not recommend or endorse any digital asset, protocol, or strategy. You are solely responsible for evaluating risks and compliance."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"User Responsibilities"}),y.jsx("br",{}),y.jsx("p",{children:"You agree to:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"maintain adequate security over credentials and devices;"}),y.jsx("li",{children:"verify all transaction details before approval;"}),y.jsx("li",{children:"comply with applicable laws and regulations;"}),y.jsx("li",{children:"ensure accuracy of submitted data;"}),y.jsx("li",{children:"not misuse or interfere with the services."})]}),y.jsx("p",{children:"You are responsible for all activity authorised through your accounts or keys."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Third-Party Networks and Services"}),y.jsx("br",{}),y.jsx("p",{children:"The Services rely on third parties including:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"blockchain networks"}),y.jsx("li",{children:"RPC providers"}),y.jsx("li",{children:"could platforms"}),y.jsx("li",{children:"bundlers"}),y.jsx("li",{children:"paymasters"}),y.jsx("li",{children:"identity or analytics services"})]}),y.jsx("p",{children:"Cointrol is not responsible for outages, failures, or acts of these third parties."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Intellectual Property"}),y.jsx("br",{}),y.jsx("p",{children:"We process personal data in accordance with:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"UK GDPR"}),y.jsx("li",{children:"Data Protection Act 2018"})]}),y.jsx("p",{children:"Our Privacy Policy forms part of these Terms. You acknowledge that blockchain data is inherently public and immutable."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Limitation of Liability"}),y.jsx("br",{}),y.jsx("p",{children:"To the maximum extent permitted by law, Cointrol shall not be liable for:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"loss of digital assets;"}),y.jsx("li",{children:"blockchain failures;"}),y.jsx("li",{children:"smart contract behaviour;"}),y.jsx("li",{children:"indirect or consequential damages;"}),y.jsx("li",{children:"loss of profits, revenue, or business;"}),y.jsx("li",{children:"regulatory or tax consequences."})]}),y.jsx("p",{children:"Our total aggregate liability shall not exceed the fees paid by you to Cointrol in the twelve (12) months preceding the event giving rise to the claim. If no fees were paid, liability is limited to 100."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"No Warranties"}),y.jsx("br",{}),y.jsx("p",{children:'The Services are provided "as is" and "as available".'}),y.jsx("p",{children:"We expressly disclaim all warranties, including implied warranties of merchantability, fitness for purpose, and non-infringement."}),y.jsx("p",{children:"We do not warrant uninterrupted or error-free operation."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Indemnity"}),y.jsx("br",{}),y.jsx("p",{children:"You agree to indemnify Cointrol against claims arising from:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"your misuse of the Services;"}),y.jsx("li",{children:"violation of law;"}),y.jsx("li",{children:"breach of these Terms;"}),y.jsx("li",{children:"content or transactions you initiate."})]})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Suspension and Termination"}),y.jsx("br",{}),y.jsx("p",{children:"We may suspend or terminate access where required by law or where use presents security, legal, or operational risk."}),y.jsx("p",{children:"You may cease use at any time."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Force Majeure"}),y.jsx("br",{}),y.jsx("p",{children:"Cointrol is not liable for delays or failures caused by events beyond reasonable control including:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"blockchain outages;"}),y.jsx("li",{children:"cyber incidents;"}),y.jsx("li",{children:"infrastructure failures;"}),y.jsx("li",{children:"regulatory changes;"}),y.jsx("li",{children:"acts of war or government."})]})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Changes to Terms"}),y.jsx("br",{}),y.jsx("p",{children:"We may update these Terms periodically. Continued use constitutes acceptance."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Governing Law"}),y.jsx("br",{}),y.jsx("p",{children:"These Tems are governed by the laws of England and Wales. Courts of England and Wales shall have exclusive jurisdiction."})]})]})]})})]})}function F_(){const t=vc();return y.jsxs(mv,{className:"mx-auto w-full max-w-4xl",children:[y.jsxs(gv,{className:"flex flex-row items-center justify-between gap-4",children:[y.jsx(yv,{children:"Privacy Policy"}),y.jsx("div",{className:"flex gap-2",children:y.jsx(ns,{variant:"outline",onClick:()=>t(-1),children:"Back"})})]}),y.jsx(vv,{className:"prose px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"mx-auto max-w-3xl",children:[y.jsx("p",{children:"[Version 1.1  Last updated: 2026-02-19]"}),y.jsx("br",{}),y.jsxs("ol",{className:"list-decimal pl-6 space-y-8",children:[y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Introduction"}),y.jsx("br",{}),y.jsxs("p",{children:["Welcome to ",y.jsx("strong",{children:"Cointrol Limited"})," (Cointrol, we, our, us). We are committed to upholding privacy, security, and transparency across all of our platforms  including our QuantumAccount wallet, Paymaster services, Bundler infrastructure, and related websites, APIs, and digital tools (collectively, the Services)."]}),y.jsx("p",{children:"Cointrol Limited is a UK-registered company developing post-quantum, non-custodial wallet infrastructure built on Ethereum ERC-4337 Account Abstraction, using Falcon (fips 206) for quantum-resistant digital signatures."}),y.jsx("p",{children:"We take privacy seriously. This document explains our policy regarding the collection, use, and protection of information when you interact with our Services."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Our Approach to Privacy"}),y.jsx("br",{}),y.jsx("p",{children:"Cointrol is built on the principle of user sovereignty. Our architecture is designed so that no personal data is collected, stored, or processed by default. Your keys, identities, and transactions remain entirely under your control and are managed locally on your device or via your connected wallet."}),y.jsx("p",{children:"We will only collect or process data if:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"It is legally required (e.g., by financial regulations or compliance obligations), or"}),y.jsx("li",{children:"You have explicitly consented to its collection for a specific purpose (e.g., participation in a token sale, account verification, or support request)."})]}),y.jsx("p",{children:"When data collection is required, we will:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"Clearly inform you of what data is being collected and why."}),y.jsx("li",{children:"Request your informed consent before processing."}),y.jsx("li",{children:"Handle data securely and in accordance with applicable privacy laws including the UK GDPR and the Data Protection Act 2018."})]})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Information We May Collect (If Applicable)"}),y.jsx("br",{}),y.jsx("p",{children:"While our Services are designed to operate without collecting personal data, certain interactions may require limited information. Examples include:"}),y.jsx("h3",{children:"Contact or Support Enquiries"}),y.jsx("ul",{className:"list-disc pl-6 space-y-1",children:y.jsx("li",{children:"Name, email address, message content  to respond to enquiries"})}),y.jsx("h3",{children:"Regulatory Compliance"}),y.jsx("ul",{className:"list-disc pl-6 space-y-1",children:y.jsx("li",{children:"Identity verification documents, proof of address  only if legally required (e.g., AML/KYC)"})}),y.jsx("h3",{children:"Website Analytics (optional, if consented)"}),y.jsx("ul",{className:"list-disc pl-6 space-y-1",children:y.jsx("li",{children:"Anonymous usage metrics  to improve system performance only"})}),y.jsx("h3",{children:"Technical"}),y.jsx("ul",{className:"list-disc pl-6 space-y-1",children:y.jsx("li",{children:"IP address, device information, browser type, application logs  for security monitoring and troubleshooting only"})}),y.jsx("h3",{children:"Blockchain Identifiers"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"Wallet addresses, transaction hashes, and network metadata"}),y.jsx("li",{children:"Blockchain data is public and not controlled by Cointrol"})]})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Smart Contract and Blockchain Data"}),y.jsx("br",{}),y.jsx("p",{children:"All on-chain transactions (including UserOperations, Paymaster deposits, and QuantumAccount deployments) are public by design and stored on the Ethereum blockchain or compatible networks. Such data - wallet addresses, transaction hashes, and smart contract interactions - are immutable and beyond our direct control."}),y.jsx("p",{children:"Public blockchain data is globally replicated and cannot be deleted nor modified."}),y.jsx("p",{children:"Cointrol does not link any blockchain addresses to real-world identities unless required by regulation and supported by user consent."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Cookies and Local Storage"}),y.jsx("br",{}),y.jsx("p",{children:"Our website may use minimal local storage to maintain functionality (for example, session preferences or authentication tokens). We do not use tracking cookies, third-party advertising scripts, or analytics platforms that profile users. Where optional analytics are used (e.g., self-hosted performance metrics), they will be anonymised and clearly disclosed."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Legal Basis for Processing"}),y.jsx("br",{}),y.jsx("p",{children:"Where we are legally required to process data, we do so under one or more lawful bases:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"Consent - You have clearly agreed to the processing."}),y.jsx("li",{children:"Legal Obligation - There is a requirement to comply with applicable laws (e.g., AML/KYC, taxation, or regulatory reporting)."}),y.jsx("li",{children:"Contract Performance  "}),y.jsx("li",{children:"Legitimate Interests - Security, fraud prevention, service improvement.  "})]})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Data Security"}),y.jsx("br",{}),y.jsx("p",{children:"Security is central to our mission. We employ post-quantum cryptography (Falcon-512 and Falcon-1024), end-to-end encryption, and strict access controls for any system components that might process user-submitted data."}),y.jsx("p",{children:"When we engage service providers (e.g., cloud hosting, email, or payment gateways), we ensure that they meet or exceed industry security standards and comply with applicable data protection laws."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"How We Use Your Data"}),y.jsx("br",{}),y.jsx("p",{children:"We use data to:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"operate and secure services"}),y.jsx("li",{children:"provide support"}),y.jsx("li",{children:"comply with legal obligations"}),y.jsx("li",{children:"detect fraud or abuse"}),y.jsx("li",{children:"improve platform functionality"})]}),y.jsx("p",{children:"We do not sell personal data"})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Data Retention"}),y.jsx("br",{}),y.jsx("p",{children:"We retain information only for as long as necessary to fulfil its intended purpose or to meet legal requirements, operational requirements, or for dispute resolution. Once the purpose expires, data is securely deleted or anonymised in compliance with GDPR retention guidelines."}),y.jsx("p",{children:"Blockchain data cannot be deleted, but we will not associate any personal identifiers with it unless explicitly required by law."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Sharing Information"}),y.jsx("br",{}),y.jsx("p",{children:"We may share data with:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"infrastructure providers"}),y.jsx("li",{children:"analytics providers"}),y.jsx("li",{children:"professional advisors"}),y.jsx("li",{children:"regulators (where legally required)"})]}),y.jsx("p",{children:"All processors are contractually bound to confidentiality."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Your Rights"}),y.jsx("br",{}),y.jsx("p",{children:"If you have provided data to us under consent, you retain full rights under the UK GDPR, including the right to:"}),y.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[y.jsx("li",{children:"Access your information"}),y.jsx("li",{children:"Correct inaccuracies"}),y.jsx("li",{children:"Request deletion of your data (off-chain only)"}),y.jsx("li",{children:"Withdraw consent at any time"}),y.jsx("li",{children:"Restriction "}),y.jsx("li",{children:"Objection  "}),y.jsx("li",{children:"Portability  "})]}),y.jsx("p",{children:"Requests can be made by contacting us using the details below."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Security"}),y.jsx("br",{}),y.jsx("p",{children:"We use technical and organiational safeguards including encryption, access controls, and monitoring.  However, no system is completely secure."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"International Data Transfers"}),y.jsx("br",{}),y.jsx("p",{children:"If any data is processed outside the United Kingdom, we will ensure that such transfers are made in compliance with applicable data protection laws and appropriate safeguards."}),y.jsx("p",{children:"Where applciable, we use UK adequacy regulations and standard constractual clauses."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Updates to This Policy"}),y.jsx("br",{}),y.jsx("p",{children:"We may occasionally update this Privacy Policy to reflect changes in regulation or operational practices. All updates will be published on our website with a revised Last Updated date."})]}),y.jsxs("li",{children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Contact Information"}),y.jsx("br",{}),y.jsx("p",{children:"For questions, requests, or concerns regarding this Privacy Policy, please contact us at:"}),y.jsxs("p",{children:["Cointrol Limited",y.jsx("br",{}),"Registered in the United Kingdom",y.jsx("br",{}),"Email: info@cointrol.co.uk",y.jsx("br",{}),"Address: 21 Tressillian Crescent, London, SE4 1QJ (mail enquiries only)"]})]})]})]})})]})}const bv="cointrol:txns:v1",j_="cointrol:txns:schemaVersion",Td=1,wg=new Set;function vH(t){for(const e of wg)e(t)}function bH(t){return wg.add(t),()=>{wg.delete(t)}}async function xH(){const t=await Pt(j_);return t||Td}async function wH(t){await vn(j_,t)}async function EH(){const t=await xH();t!==Td&&(await Pt(bv),t<Td&&await wH(Td))}async function f1(){return await EH(),await Pt(bv)??[]}async function d1(t){await vn(bv,t),vH(t)}async function _H(){return f1()}async function CH(t){const e=Date.now(),n=await f1(),r={id:`txn:${crypto.randomUUID?.()??`${e}:${n.length}`}`,chainId:t.chainId,userOpHash:t.userOpHash,transactionHash:t.transactionHash,addressId:t.addressId,coinId:t.coinId,folioId:t.folioId,walletId:t.walletId,createdAt:e,updatedAt:e},o=[...n,r];return await d1(o),o}async function AH(t,e){const n=await f1(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await d1(o),o}async function SH(t){const n=(await f1()).filter(r=>r.id!==t);return await d1(n),n}async function IH(){await d1([])}function TH(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await _H();a||(e(u),r(!1))}catch(u){console.error("[Txns] Failed to load:",u),a||(i(u?.message??"Failed to load Txns"),r(!1))}})();const s=bH(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{txns:t,loading:n,error:o,addTxn:CH,updateTxn:AH,deleteTxn:SH,clearTxns:IH}}function cd(t,e){const n=t??0,r=e??0;return n<r?-1:n>r?1:0}function NH(t,e="createdAsc"){const n=[...t];return n.sort((r,o)=>{switch(e){case"createdAsc":return cd(r.createdAt,o.createdAt);case"createdDesc":return cd(o.createdAt,r.createdAt);case"chainIdAsc":return cd(r.chainId,o.chainId);case"chainIdDesc":return cd(o.chainId,r.chainId);default:return 0}}),n}function OH(t={}){const{txns:e,loading:n,error:r,addTxn:o,updateTxn:i,deleteTxn:a,clearTxns:s}=TH(),{query:u="",sortMode:f="createdAsc",chainId:d=0}=t;return{txns:S.useMemo(()=>{let m=e;if(u.trim()){const g=u.trim().toLowerCase();m=m.filter(b=>b.userOpHash.toLowerCase().includes(g)||b.transactionHash.toLowerCase().includes(g))}return d&&(m=m.filter(g=>g.chainId===d)),NH(m,f)},[e,u,f,d]),loading:n,error:r,addTxn:o,updateTxn:i,deleteTxn:a,clearTxns:s}}function PH(t,e){const n=e.trim();if(t==="string"||t==="address")return n;if(t==="bool")return n.toLowerCase()==="true";if(t.startsWith("uint")||t.startsWith("int"))return BigInt(n||"0");if(t.startsWith("bytes")&&!t.endsWith("[]"))return n;if(t.endsWith("[]"))try{return JSON.parse(n||"[]")}catch{throw new Error(`Invalid array JSON for type ${t}`)}return n}function RH(){const[t,e]=S.useState({}),[n,r]=S.useState(""),[o,i]=S.useState("createdDesc"),[a,s]=S.useState(0),[u,f]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(!1),[b,w]=S.useState(!0),[_,C]=S.useState(null),[A,I]=S.useState(null),[T,O]=S.useState(null),[P,k]=S.useState(null),[R,z]=S.useState(null),[F,U]=S.useState(null),[H,Y]=S.useState(""),[ae,X]=S.useState({}),[q,re]=S.useState(""),[L,K]=S.useState(null),[ee,M]=S.useState(null),[V,se]=S.useState(!1),[de,xe]=S.useState(!1),we=Ni(),Ee=S.useRef(!1),Te=S.useRef(""),De={1:"Ethereum",11155111:"Sepolia"},{txns:_e,loading:It,error:rt,addTxn:ht,updateTxn:Tt}=OH({query:n,sortMode:o,chainId:a}),{folios:ct,loading:ce,error:te}=S_({query:"",sortMode:"createdAsc",chainId:a}),{coins:be,loading:ze,error:qe}=S0({query:"",sortMode:"nameAsc",standard:"",chainId:a}),{address:We,loading:mt}=D8({query:"",sortMode:"nameAsc"}),{domains:vt}=Ty(),{contracts:bt,loading:on,error:an}=my(),{contacts:ge,loading:Be}=hy();function tt(Q,pe){if(pe<=0)return Q.toString();const Ce=Q<0n,Le=Ce?-Q:Q,Bt=10n**BigInt(pe),_t=Le/Bt;let Dn=(Le%Bt).toString().padStart(pe,"0");Dn=Dn.replace(/0+$/,"");const mr=_t.toString()+(Dn.length>0?"."+Dn:"");return Ce?"-"+mr:mr}function ne(Q=0,pe){return pe<=0?BigInt(Q):Q<0?BigInt(0):BigInt(Q*10**pe)}S.useEffect(()=>{function Q(pe){pe.target.closest("details")||document.querySelectorAll("details[open]").forEach(Le=>{Le.removeAttribute("open")})}return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]),S.useEffect(()=>{if(!m)return;const Q=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Q}},[m]),S.useEffect(()=>{m&&ct.length===1&&!R&&z(ct[0])},[m,ct,R]),S.useEffect(()=>{if(Ee.current)return;const Q=we.state?.prefill;if(Q&&!(ze||Be||on||ce||mt)){if(Ee.current=!0,Q.mode==="transfer"){const pe=be.find(_t=>_t.id===Q.coinId)??null,Ce=Q.addressId.replace(/^address:/,""),Le=ge.find(_t=>_t.id===Ce)??null,kn=ct.find(_t=>_t.chainId===pe?.chainId)??null,Bt=We.findIndex(_t=>_t.id===Q.addressId);I(pe),O(Le),kn&&z(kn),w(!0),f("Send or Approve Coins"),h("Select any coin and then choose an option."),Y("transfer"),Bt!==-1&&e({to:{mode:"address",manual:"",selectedIndex:Bt}}),g(!0)}else if(Q.mode==="contract"){const pe=Q.addressId.replace(/^address:/,""),Ce=bt.find(Le=>Le.id===pe)??null;k(Ce),w(!1),f("Use a Smart Contract"),h("Select any contract and then choose a function"),Q.functionName&&(Te.current=Q.functionName),g(!0)}}},[we.state,ze,Be,on,ce,mt,be,ge,bt,ct,We]);function ye(){I(null),O(null),k(null),z(null),Y(""),X({}),e({}),re(""),K(null),M(null),C(null)}function Se(){ye(),w(!1),f("Use a Smart Contract"),h("Select any contract and then choose a function"),g(!0)}function Ze(){ye(),w(!0),f("Send or Approve Coins"),h("Select any coin and then choose an option."),g(!0)}function ot(){g(!1),ye()}function Je(Q){return JSON.stringify(Q,(pe,Ce)=>typeof Ce=="bigint"?Ce.toString():Ce,2)}function dt(Q){const pe=t[Q];if(!pe)return"";if(pe.mode==="manual")return(pe.manual??"").trim();const Ce=pe.selectedIndex;if(Ce==null)return"";if(pe.mode==="address"){const Le=We[Ce];if(!Le)return"";if(Le.isContact){const kn=Le.id.replace(/^address:/,""),Bt=ge.find(xn=>xn.id===kn);return Bt?.wallets?.length?(Bt.wallets.find(xn=>xn.chainId===F?.chainId)?.address??"").trim():""}else return(bt.find(Bt=>Bt.id===Le.id)?.address??"").trim()}return pe.mode==="coin"?(be[Ce]?.address??"").trim():pe.mode==="folio"?(ct[Ce]?.address??"").trim():""}function bn(Q){t[Q]||e(pe=>({...pe,[Q]:{mode:"manual",manual:"",selectedIndex:null}}))}async function rr(){var Q;b?Q=T?.id:Q=P?.id;const pe=R?.wallet,Ce=pe?.length;var Le=-1;if(A&&Ce&&Ce>0)for(let Bt=0;Bt<Ce;Bt++)pe[Bt].coin==A.id&&(Le=Bt);const kn={userOpHash:_?.userOpHash,transactionHash:_?.hash,chainId:R?.chainId,addressId:Q,coinId:A?.id,folioId:R?.id,walletId:Le};await ht({...kn}),ot()}async function or(){const Q=_e.filter(pe=>!pe.transactionHash);if(Q.length!==0){xe(!0);try{for(const pe of Q){const Ce=ct.find(Le=>Le.id===pe.folioId);if(!(!Ce?.address||!pe.userOpHash))try{const Le=await bg.getTxReceipt(Ce.address,pe.userOpHash);Le.success&&Le.txHash&&await Tt(pe.id,{transactionHash:Le.txHash})}catch{}}}finally{xe(!1)}}}const fn=S.useMemo(()=>{if(b)switch(A?.type){case"ERC20":return Z6;case"ERC721":return lN;case"ERC1155":return fN;case"NATIVE":return uN;default:return Z6}else return t3(P?.metadata)},[A,b,P]),Kn=S.useMemo(()=>{if(A!=null&&R!=null){const pe=R?.wallet,Ce=pe?.length;var Q=0n;if(Ce&&Ce>0)for(let Le=0;Le<Ce;Le++)pe[Le].coin===A.id&&(Q=pe[Le].balance);return tt(Q,A.decimals)}else return""},[A,R]),Ke=S.useMemo(()=>n3(fn),[fn]),Nt=S.useMemo(()=>Ke.find(pe=>pe.name===H)?.stateMutability==="payable",[Ke,H]),it=V||!b&&Nt&&!(q||"").trim(),et=S.useMemo(()=>Ke.filter(Q=>Q.stateMutability?Q.stateMutability==="nonpayable"||Q.stateMutability==="payable":!Q.constant),[Ke]),xt=S.useMemo(()=>Ke.filter(Q=>Q.stateMutability?Q.stateMutability==="view"||Q.stateMutability==="pure":Q.constant===!0),[Ke]);S.useEffect(()=>{!F&&vt.length&&U(vt[0])},[F,vt]),S.useEffect(()=>{Y(""),X({}),re(""),K(null),M(null)},[fn]),S.useEffect(()=>{!H&&Ke.length>0&&(Te.current?(Y(Te.current),Te.current=""):et.length>0?Y(et[0].name):Y(Ke[0].name),b&&Y("transfer"))},[H,Ke,et]),S.useEffect(()=>{H&&(X({}),re(""),e({}),K(null),M(null))},[H]);const nt=S.useMemo(()=>Ke.find(Q=>Q.name===H),[Ke,H]);function sn(Q,pe){X(Ce=>({...Ce,[Q]:pe}))}function Hn(){return nt?nt.inputs.map((Q,pe)=>{const Ce=X6(Q,pe);if(Q.type==="address")return dt(Ce);if(Ce==="value"&&b)return ne(Number(ae[Ce]),A?.decimals??18);const Le=ae[Ce]??"";return PH(Q.type,Le)}):[]}const{startFlow:Ft}=Fx();async function pr(){if(M(null),K(null),!fn){M("No ABI found for selected contract");return}if(!P&&!b){M("No contract selected");return}if(Nt&&!(q||"").trim()){M("Enter a payable value");return}if(!A&&b){M("No token selected");return}if(!nt){M("No function selected");return}if(!V)try{se(!0);const Q=b&&A?.type==="NATIVE";let pe=null,Ce=0n,Le="0x";if(Q){if(!nt){M("No function selected");return}const Dn=Hn(),mr=Dn?.[0]?.trim(),Rc=Dn?.[1];if(!mr||!mr.startsWith("0x")){M("Invalid _to address");return}if(Rc==null){M("Invalid _value amount");return}pe=mr,Ce=BigInt(Rc),Le="0x"}else{if(!fn){M("No ABI found");return}if(!nt){M("No function selected");return}const Dn=Hn();if(Le=$r({abi:fn,functionName:nt.name,args:Dn}),b){const mr=(A?.address??"").trim();if(!mr.startsWith("0x")){M("Coin has no valid contract address");return}pe=mr,Ce=0n}else{const mr=(P?.address??"").trim();if(!mr.startsWith("0x")){M("Contract has no valid address");return}pe=mr,Ce=Nt?X$((q||"0").trim()):0n}}if(!pe){M("Could not resolve destination address");return}const kn=$r({abi:sN,functionName:"execute",args:[pe,Ce,Le]});await Ft({folio:R,encoded:kn,domain:F});const xn=Fx.getState().status;if(C(xn),xn.phase==="failed"){M(xn.message??"Transaction failed");return}rr()}catch(Q){console.error(Q),M(Q?.message??"Failed to build calldata")}finally{se(!1)}}async function Rn(){if(M(null),K(null),!fn){M("No ABI found for selected contract");return}if(!P&&!b){M("No contract selected");return}if(!A&&b){M("No token selected");return}if(!nt){M("No function selected");return}if(!(nt.stateMutability==="view"||nt.stateMutability==="pure")){M("Selected function is not read-only");return}if(!V)try{se(!0);const Ce=Hn(),Le=c1({transport:u1(F?.rpcUrl)});var pe;b?pe=A?.address:pe=P?.address;const kn=await Le.readContract({address:pe,abi:fn,functionName:nt.name,args:Ce});K(Je(kn))}catch(Ce){console.error(Ce),M(Ce?.message??"Failed to read from RPC")}finally{se(!1)}}const kr=nt&&(nt.stateMutability==="view"||nt.stateMutability==="pure"),Dr=!!fn&&Ke.length>0;return It?y.jsx("div",{className:"p-4",children:"Loading transactions"}):rt?y.jsx("div",{className:"p-4 text-red-600",children:rt}):y.jsxs("div",{className:"space-y-4 p-4",children:[y.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Transactions"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by userOpHash or transactionHash",value:n,onChange:Q=>r(Q.target.value)}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx("select",{className:"h-9 w-[100px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:a,onChange:Q=>s(Number(Q.target.value)),children:Object.entries(De).map(([Q,pe])=>y.jsx("option",{value:Q,children:pe},Q))}),y.jsxs("select",{className:"h-9 w-[140px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:o,onChange:Q=>i(Q.target.value),children:[y.jsx("option",{disabled:!0,children:"Primary sort"}),y.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),y.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),y.jsx("option",{value:"coinSymbolAsc",children:"Symbol (A  Z)"}),y.jsx("option",{value:"coinSymbolDesc",children:"Symbol (Z  A)"}),y.jsx("option",{value:"addressAsc",children:"Address (A  Z)"}),y.jsx("option",{value:"addressDesc",children:"Address (Z  A)"}),y.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),y.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),y.jsx("option",{value:"createdDesc",children:"Newest first"}),y.jsx("option",{value:"createdAsc",children:"Oldest first"})]})]}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[y.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:Ze,children:"Send coins"}),"",y.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:Se,children:"Use a smart contract"}),y.jsxs("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:or,disabled:de,children:["",de?"Refreshing":"Refresh TX hashes",""]})]})]}),_e.length===0?y.jsx("div",{className:"text-sm text-muted",children:"No transactions"}):y.jsx("ul",{className:"space-y-2",children:_e.map(Q=>{const pe=ct.find(Dn=>Dn.id===Q.folioId),Ce=be.find(Dn=>Dn.id===Q.coinId),Le=We.find(Dn=>Dn.id===Q.addressId),kn=pe?.name??Q.folioId,Bt=Ce?.symbol??"",_t=pe&&De[pe.chainId]?De[pe.chainId]:pe?`Chain ${pe.chainId}`:"Unknown chain",xn=Le?.name??"";return y.jsx("li",{className:"w-full",children:y.jsx("div",{className:"w-full rounded-lg border border-border bg-card px-4 py-3",children:y.jsxs("div",{className:"grid gap-3 sm:gap-x-6 sm:gap-y-2 sm:grid-cols-[160px_90px_minmax(0,1fr)_110px] sm:items-start",children:[y.jsxs("div",{className:"min-w-0 font-medium",children:["Sender: ",kn]}),y.jsxs("div",{className:"min-w-0 text-xs text-muted-foreground sm:pt-1",children:[y.jsx("div",{children:Bt}),y.jsx("div",{children:_t})]}),y.jsxs("div",{className:"min-w-0",children:[y.jsxs("div",{className:"text-xs text-muted-foreground",children:["Receiver: ",xn]}),y.jsxs("div",{className:"mt-0.5 text-xs text-muted-foreground font-mono break-words sm:truncate sm:break-normal",title:Q.transactionHash??"",children:["Tx: ",Q.transactionHash]}),y.jsxs("div",{className:"mt-0.5 text-xs text-muted-foreground font-mono break-words sm:truncate sm:break-normal",title:Q.userOpHash??"",children:["UserOp: ",Q.userOpHash]})]}),y.jsx("div",{className:"justify-self-start sm:justify-self-end",children:y.jsx("button",{className:"rounded-md border border-border bg-background px-2 py-1 text-xs hover:bg-muted",onClick:()=>{Q.transactionHash&&window.open(`https://sepolia.etherscan.io/tx/${Q.transactionHash}`,"_blank","noopener,noreferrer")},children:"View on Etherscan"})})]})})},Q.id)})}),m?un.createPortal(y.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:Q=>{Q.target===Q.currentTarget&&ot()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:y.jsxs("div",{className:"bg-background",onMouseDown:Q=>Q.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[y.jsx("h2",{className:"mb-3 text-base font-semibold",children:u}),y.jsx("h3",{className:"mb-4 text-xs font-semibold",children:d}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsx("label",{className:"text-xs font-medium",children:"Folio"})}),y.jsxs("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:R?.id??"",onChange:Q=>z(ct.find(pe=>String(pe.id)===Q.target.value)??null),children:[y.jsx("option",{value:"",children:ce?"Loading...":"Select folio"}),ct.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.name," (",Q.address,")"]},Q.id))]}),te&&y.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",te]})]}),!b&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsx("label",{className:"text-xs font-medium",children:"Contract"})}),y.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:P?.id??"",onChange:Q=>k(bt.find(pe=>String(pe.id)===Q.target.value)??null),children:[y.jsx("option",{value:"",children:on?"Loading...":"Select contract"}),bt.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.name," (",Q.address,")"]},Q.id))]}),an&&y.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",an]})]}),b&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsx("label",{className:"text-xs font-medium",children:"Coin"})}),y.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:A?.id??"",onChange:Q=>I(be.find(pe=>String(pe.id)===Q.target.value)??null),children:[y.jsx("option",{value:"",children:ze?"Loading...":"Select coin"}),be.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.name," (",Q.symbol,")"]},Q.id))]}),qe&&y.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",qe]})]}),b&&A&&y.jsx("div",{className:"text-xs text-muted space-y-1",children:y.jsxs("div",{children:[y.jsx("span",{className:"font-medium",children:"Balance:"})," ",Kn," ",A.symbol]})}),Dr?y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsx("label",{className:"text-xs font-medium",children:"Function"})}),y.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:H,onChange:Q=>{Y(Q.target.value),X({}),K(null),M(null)},children:[y.jsx("optgroup",{label:"Write (nonpayable/payable)",children:et.map(Q=>y.jsxs("option",{value:Q.name,children:[Q.name,"(",Q.inputs.map(pe=>pe.type).join(","),")"]},`w-${Q.name}`))}),y.jsx("optgroup",{label:"Read (view/pure)",children:xt.map(Q=>y.jsxs("option",{value:Q.name,children:[Q.name,"(",Q.inputs.map(pe=>pe.type).join(","),")"]},`r-${Q.name}`))})]})]}):P&&y.jsxs("p",{className:"text-xs text-red-600",children:["No valid ABI found for this contract. Ensure you stored the ABI as either an array or an object with an ",y.jsx("code",{children:"abi"})," field."]}),!b&&Nt&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsxs("label",{className:"text-xs font-medium",children:["Payable value ",y.jsx("span",{className:"text-muted",children:"(ETH)"})]})}),y.jsx("div",{className:"min-w-0",children:y.jsx("input",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:q,onChange:Q=>re(Q.target.value),placeholder:"0.0"})})]}),nt?.inputs.map((Q,pe)=>{const Ce=X6(Q,pe);if(Q.type==="address"){t[Ce]||bn(Ce);const Le=t[Ce]??{mode:"manual",manual:"",selectedIndex:null},kn=Le.mode==="address"?We:Le.mode==="coin"?be:Le.mode==="folio"?ct:[];return y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsxs("label",{className:"text-xs font-medium",children:[Ce," ",y.jsx("span",{className:"text-muted",children:"(address)"})]})}),y.jsx("div",{className:"min-w-0",children:y.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:Le.mode,onChange:Bt=>{const _t=Bt.target.value;e(xn=>({...xn,[Ce]:{mode:_t,manual:"",selectedIndex:null}}))},children:[y.jsx("option",{value:"manual",children:"Manual"}),y.jsx("option",{value:"address",children:"Address"}),y.jsx("option",{value:"coin",children:"Coin"}),y.jsx("option",{value:"folio",children:"Folio"})]})}),y.jsx("div",{className:"min-w-0",children:Le.mode==="manual"?y.jsx("input",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:Le.manual,onChange:Bt=>{const _t=Bt.target.value;e(xn=>({...xn,[Ce]:{...Le,manual:_t}}))},placeholder:"0x"}):y.jsxs("select",{className:"h-9 w-[180px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:Le.selectedIndex??"",onChange:Bt=>{const _t=Bt.target.value;e(xn=>({...xn,[Ce]:{...Le,selectedIndex:_t===""?null:Number(_t)}}))},children:[y.jsxs("option",{value:"",children:["Select ",Le.mode]}),kn.map((Bt,_t)=>y.jsx("option",{value:_t,children:Bt.name},`${Ce}-${_t}`))]})})]},Ce)}return y.jsxs("div",{className:"space-y-1",children:[y.jsx("div",{className:"min-w-0",children:y.jsxs("label",{className:"text-xs font-medium",children:[Ce," ",y.jsxs("span",{className:"text-muted",children:["(",Q.type,")"]})]})}),y.jsx("div",{className:"min-w-0",children:y.jsx("input",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:ae[Ce]??"",onChange:Le=>sn(Ce,Le.target.value),placeholder:Q.type.endsWith("[]")?`JSON array for ${Q.type}`:Q.type==="bool"?"true / false":""})})]},Ce)}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:ot,children:"Cancel"}),"",kr?y.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:Rn,children:"Query"}):y.jsx("button",{type:"button",disabled:it,className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",onClick:pr,children:"Submit"})]}),L&&y.jsx("div",{className:"text-xs text-primary border border-primary rounded-md p-2",children:y.jsx("pre",{children:L})}),ee&&y.jsx("div",{className:"text-xs text-red-600 border border-red-200 rounded-md p-2",children:ee})]})}),document.body):null]})}function kH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let Eg=1;class DH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...o}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Eg++,a=this.toasts.find(u=>u.id===i),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:s,title:r}):u):this.addToast({title:r,...o,dismissible:s,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,a;const s=o.then(async f=>{if(a=["resolve",f],Xe.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(BH(f)&&!f.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,b=typeof h=="object"&&!Xe.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...b})}else if(f instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,b=typeof h=="object"&&!Xe.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...b})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(f):n.success,m=typeof n.description=="function"?await n.description(f):n.description,b=typeof h=="object"&&!Xe.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,...b})}}).catch(async f=>{if(a=["reject",f],n.error!==void 0){i=!1;const d=typeof n.error=="function"?await n.error(f):n.error,h=typeof n.description=="function"?await n.description(f):n.description,g=typeof d=="object"&&!Xe.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,d)=>s.then(()=>a[0]==="reject"?d(a[1]):f(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||Eg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const eo=new DH,MH=(t,e)=>{const n=e?.id||Eg++;return eo.addToast({title:t,...e,id:n}),n},BH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LH=MH,FH=()=>eo.toasts,jH=()=>eo.getActiveToasts(),zx=Object.assign(LH,{success:eo.success,info:eo.info,warning:eo.warning,error:eo.error,custom:eo.custom,message:eo.message,promise:eo.promise,dismiss:eo.dismiss,loading:eo.loading},{getHistory:FH,getToasts:jH});kH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const zH=()=>{};var $x={};const z_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$H=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],a=t[n++],s=t[n++],u=((o&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|a&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,f=u?t[o+2]:0,d=i>>2,h=(i&3)<<4|s>>4;let m=(s&15)<<2|f>>6,g=f&63;u||(g=64,a||(m=64)),r.push(n[d],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$H(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],s=o<t.length?n[t.charAt(o)]:0;++o;const f=o<t.length?n[t.charAt(o)]:64;++o;const h=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||s==null||f==null||h==null)throw new UH;const m=i<<2|s>>4;if(r.push(m),f!==64){const g=s<<4&240|f>>2;if(r.push(g),h!==64){const b=f<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HH=function(t){const e=z_(t);return $_.encodeByteArray(e,!0)},U_=function(t){return HH(t).replace(/\./g,"")},H_=function(t){try{return $_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GH=()=>VH().__FIREBASE_DEFAULTS__,WH=()=>{if(typeof process>"u"||typeof $x>"u")return;const t=$x.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H_(t[1]);return e&&JSON.parse(e)},xv=()=>{try{return zH()||GH()||WH()||ZH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XH=t=>xv()?.emulatorHosts?.[t],V_=()=>xv()?.config,G_=t=>xv()?.[`_${t}`];class qH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function h1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KH(t){return(await fetch(t,{credentials:"include"})).ok}const Nu={};function YH(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function QH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ux=!1;function JH(t,e){if(typeof window>"u"||typeof document>"u"||!h1(window.location.host)||Nu[t]===e||Nu[t]||Ux)return;Nu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=YH().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function s(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ux=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=QH(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),C=n("preprendIcon"),A=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;s(I),d(_,w);const T=f();u(A,C),I.append(A,b,_,T),document.body.appendChild(I)}i?(b.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function tV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oV(){const t=hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iV(){try{return typeof indexedDB=="object"}catch{return!1}}function aV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const sV="FirebaseError";class xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sV,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],a=i?cV(i,r):"Error",s=`${this.serviceName}: ${a} (${o}).`;return new xa(o,s,r)}}function cV(t,e){return t.replace(uV,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const uV=/\{\$([^}]+)}/g;function lV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],a=e[o];if(Hx(i)&&Hx(a)){if(!dc(i,a))return!1}else if(i!==a)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Hx(t){return t!==null&&typeof t=="object"}function kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fV(t,e){const n=new dV(t,e);return n.subscribe.bind(n)}class dV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hV(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tm(){}function Pi(t){return t&&t._delegate?t._delegate:t}class hc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const La="[DEFAULT]";class pV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gV(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);r===s&&a.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mV(t){return t===La?void 0:t}function gV(t){return t.instantiationMode==="EAGER"}class yV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const vV={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},bV=jt.INFO,xV={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=xV[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W_{constructor(e){this.name=e,this._logLevel=bV,this._logHandler=wV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const EV=(t,e)=>e.some(n=>t instanceof n);let Vx,Gx;function _V(){return Vx||(Vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CV(){return Gx||(Gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,_g=new WeakMap,X_=new WeakMap,nm=new WeakMap,wv=new WeakMap;function AV(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(sa(t.result)),o()},a=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Z_.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function SV(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),o()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});_g.set(t,e)}let Cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IV(t){Cg=t(Cg)}function TV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rm(this),e,...n);return X_.set(r,e.sort?e.sort():[e]),sa(r)}:CV().includes(t)?function(...e){return t.apply(rm(this),e),sa(Z_.get(this))}:function(...e){return sa(t.apply(rm(this),e))}}function NV(t){return typeof t=="function"?TV(t):(t instanceof IDBTransaction&&SV(t),EV(t,_V())?new Proxy(t,Cg):t)}function sa(t){if(t instanceof IDBRequest)return AV(t);if(nm.has(t))return nm.get(t);const e=NV(t);return e!==t&&(nm.set(t,e),wv.set(e,t)),e}const rm=t=>wv.get(t);function OV(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),s=sa(a);return r&&a.addEventListener("upgradeneeded",u=>{r(sa(a.result),u.oldVersion,u.newVersion,sa(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),s.then(u=>{i&&u.addEventListener("close",()=>i()),o&&u.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),s}const PV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],om=new Map;function Wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=RV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||PV.includes(n)))return;const i=async function(a,...s){const u=this.transaction(a,o?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(s.shift())),(await Promise.all([f[n](...s),o&&u.done]))[0]};return om.set(e,i),i}IV(t=>({...t,get:(e,n,r)=>Wx(e,n)||t.get(e,n,r),has:(e,n)=>!!Wx(e,n)||t.has(e,n)}));class kV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DV(t){return t.getComponent()?.type==="VERSION"}const Ag="@firebase/app",Zx="0.14.8";const Ii=new W_("@firebase/app"),MV="@firebase/app-compat",BV="@firebase/analytics-compat",LV="@firebase/analytics",FV="@firebase/app-check-compat",jV="@firebase/app-check",zV="@firebase/auth",$V="@firebase/auth-compat",UV="@firebase/database",HV="@firebase/data-connect",VV="@firebase/database-compat",GV="@firebase/functions",WV="@firebase/functions-compat",ZV="@firebase/installations",XV="@firebase/installations-compat",qV="@firebase/messaging",KV="@firebase/messaging-compat",YV="@firebase/performance",QV="@firebase/performance-compat",JV="@firebase/remote-config",eG="@firebase/remote-config-compat",tG="@firebase/storage",nG="@firebase/storage-compat",rG="@firebase/firestore",oG="@firebase/ai",iG="@firebase/firestore-compat",aG="firebase",sG="12.9.0";const Sg="[DEFAULT]",cG={[Ag]:"fire-core",[MV]:"fire-core-compat",[LV]:"fire-analytics",[BV]:"fire-analytics-compat",[jV]:"fire-app-check",[FV]:"fire-app-check-compat",[zV]:"fire-auth",[$V]:"fire-auth-compat",[UV]:"fire-rtdb",[HV]:"fire-data-connect",[VV]:"fire-rtdb-compat",[GV]:"fire-fn",[WV]:"fire-fn-compat",[ZV]:"fire-iid",[XV]:"fire-iid-compat",[qV]:"fire-fcm",[KV]:"fire-fcm-compat",[YV]:"fire-perf",[QV]:"fire-perf-compat",[JV]:"fire-rc",[eG]:"fire-rc-compat",[tG]:"fire-gcs",[nG]:"fire-gcs-compat",[rG]:"fire-fst",[iG]:"fire-fst-compat",[oG]:"fire-vertex","fire-js":"fire-js",[aG]:"fire-js-all"};const e0=new Map,uG=new Map,Ig=new Map;function Xx(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(Ig.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of e0.values())Xx(n,t);for(const n of uG.values())Xx(n,t);return!0}function q_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jo(t){return t==null?!1:t.settings!==void 0}const lG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Rl("app","Firebase",lG);class fG{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const Dl=sG;function K_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ca.create("bad-app-name",{appName:String(o)});if(n||(n=V_()),!n)throw ca.create("no-options");const i=e0.get(o);if(i){if(dc(n,i.options)&&dc(r,i.config))return i;throw ca.create("duplicate-app",{appName:o})}const a=new yV(o);for(const u of Ig.values())a.addComponent(u);const s=new fG(n,r,a);return e0.set(o,s),s}function dG(t=Sg){const e=e0.get(t);if(!e&&t===Sg&&V_())return K_();if(!e)throw ca.create("no-app",{appName:t});return e}function Qs(t,e,n){let r=cG[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}ul(new hc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hG="firebase-heartbeat-database",pG=1,ll="firebase-heartbeat-store";let im=null;function Y_(){return im||(im=OV(hG,pG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),im}async function mG(t){try{const n=(await Y_()).transaction(ll),r=await n.objectStore(ll).get(Q_(t));return await n.done,r}catch(e){if(e instanceof xa)Ii.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}}async function qx(t,e){try{const r=(await Y_()).transaction(ll,"readwrite");await r.objectStore(ll).put(e,Q_(t)),await r.done}catch(n){if(n instanceof xa)Ii.warn(n.message);else{const r=ca.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(r.message)}}}function Q_(t){return`${t.name}!${t.options.appId}`}const gG=1024,yG=30;class vG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>yG){const o=wG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kx(),{heartbeatsToSend:n,unsentEntries:r}=bG(this._heartbeatsCache.heartbeats),o=U_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ii.warn(e),""}}}function Kx(){return new Date().toISOString().substring(0,10)}function bG(t,e=gG){const n=[];let r=t.slice();for(const o of t){const i=n.find(a=>a.agent===o.agent);if(i){if(i.dates.push(o.date),Yx(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iV()?aV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yx(t){return U_(JSON.stringify({version:2,heartbeats:t})).length}function wG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function EG(t){ul(new hc("platform-logger",e=>new kV(e),"PRIVATE")),ul(new hc("heartbeat",e=>new vG(e),"PRIVATE")),Qs(Ag,Zx,t),Qs(Ag,Zx,"esm2020"),Qs("fire-js","")}EG("");function J_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _G=J_,e9=new Rl("auth","Firebase",J_());const t0=new W_("@firebase/auth");function CG(t,...e){t0.logLevel<=jt.WARN&&t0.warn(`Auth (${Dl}): ${t}`,...e)}function Nd(t,...e){t0.logLevel<=jt.ERROR&&t0.error(`Auth (${Dl}): ${t}`,...e)}function Ko(t,...e){throw _v(t,...e)}function Eo(t,...e){return _v(t,...e)}function Ev(t,e,n){const r={..._G(),[e]:n};return new Rl("auth","Firebase",r).create(e,{appName:t.name})}function Za(t){return Ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AG(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ko(t,"argument-error"),Ev(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e9.create(t,...e)}function Qe(t,e,...n){if(!t)throw _v(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nd(e),new Error(e)}function Ti(t,e){t||yi(e)}function Tg(){return typeof self<"u"&&self.location?.href||""}function SG(){return Qx()==="http:"||Qx()==="https:"}function Qx(){return typeof self<"u"&&self.location?.protocol||null}function IG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SG()||nV()||"connection"in navigator)?navigator.onLine:!0}function TG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=eV()||rV()}get(){return IG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cv(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class t9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PG=new Ml(3e4,6e4);function Av(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Nc(t,e,n,r,o={}){return n9(t,o,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const s=kl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...i};return tV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&h1(t.emulatorConfig.host)&&(f.credentials="include"),t9.fetch()(await r9(t,t.config.apiHost,n,s),f)})}async function n9(t,e,n){t._canInitEmulator=!1;const r={...NG,...e};try{const o=new kG(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ud(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const s=i.ok?a.errorMessage:a.error.message,[u,f]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw ud(t,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ev(t,d,f);Ko(t,d)}}catch(o){if(o instanceof xa)throw o;Ko(t,"network-request-failed",{message:String(o)})}}async function RG(t,e,n,r,o={}){const i=await Nc(t,e,n,r,o);return"mfaPendingCredential"in i&&Ko(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function r9(t,e,n,r){const o=`${e}${n}?${r}`,i=t,a=i.config.emulator?Cv(t.config,o):`${t.config.apiScheme}://${o}`;return OG.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class kG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Eo(this.auth,"network-request-failed")),PG.get())})}}function ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Eo(t,e,r);return o.customData._tokenResponse=n,o}async function DG(t,e){return Nc(t,"POST","/v1/accounts:delete",e)}async function n0(t,e){return Nc(t,"POST","/v1/accounts:lookup",e)}function Ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MG(t,e=!1){const n=Pi(t),r=await n.getIdToken(e),o=Sv(r);Qe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,a=i?.sign_in_provider;return{claims:o,token:r,authTime:Ou(am(o.auth_time)),issuedAtTime:Ou(am(o.iat)),expirationTime:Ou(am(o.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function am(t){return Number(t)*1e3}function Sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const o=H_(n);return o?JSON.parse(o):(Nd("Failed to decode base64 JWT payload"),null)}catch(o){return Nd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jx(t){const e=Sv(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xa&&BG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class LG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function r0(t){const e=t.auth,n=await t.getIdToken(),r=await fl(t,n0(e,{idToken:n}));Qe(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const i=o.providerUserInfo?.length?o9(o.providerUserInfo):[],a=jG(t.providerData,i),s=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,f=s?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ng(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function FG(t){const e=Pi(t);await r0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jG(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function o9(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zG(t,e){const n=await n9(t,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,a=await r9(t,o,"/v1/token",`key=${i}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:s,body:r};return t.emulatorConfig&&h1(t.emulatorConfig.host)&&(u.credentials="include"),t9.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $G(t,e){return Nc(t,"POST","/v2/accounts:revokeToken",Av(t,e))}class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=Jx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await zG(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,a=new Js;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),o&&(Qe(typeof o=="string","internal-error",{appName:e}),a.accessToken=o),i&&(Qe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return yi("not implemented")}}function ea(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new LG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fl(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MG(this,e)}reload(){return FG(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await r0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jo(this.auth.app))return Promise.reject(Za(this.auth));const e=await this.getIdToken();return await fl(this,DG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:w}=n;Qe(h&&w,e,"internal-error");const _=Js.fromJSON(this.name,w);Qe(typeof h=="string",e,"internal-error"),ea(r,e.name),ea(o,e.name),Qe(typeof m=="boolean",e,"internal-error"),Qe(typeof g=="boolean",e,"internal-error"),ea(i,e.name),ea(a,e.name),ea(s,e.name),ea(u,e.name),ea(f,e.name),ea(d,e.name);const C=new xo({uid:h,auth:e,email:o,emailVerified:m,displayName:r,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:s,stsTokenManager:_,createdAt:f,lastLoginAt:d});return b&&Array.isArray(b)&&(C.providerData=b.map(A=>({...A}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,n,r=!1){const o=new Js;o.updateFromServerResponse(n);const i=new xo({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await r0(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Qe(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?o9(o.providerUserInfo):[],a=!(o.email&&o.passwordHash)&&!i?.length,s=new Js;s.updateFromIdToken(r);const u=new xo({uid:o.localId,auth:e,stsTokenManager:s,isAnonymous:a}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new Ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!i?.length};return Object.assign(u,f),u}}const ew=new Map;function vi(t){Ti(t instanceof Function,"Expected a class definition");let e=ew.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ew.set(t,e),e)}class i9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i9.type="NONE";const tw=i9;function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,i),this.fullPersistenceKey=Od("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await n0(this.auth,{idToken:e}).catch(()=>{});return n?xo._fromGetAccountInfoResponse(this.auth,n,e):null}return xo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(vi(tw),e,r);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=o[0]||vi(tw);const a=Od(r,e.config.apiKey,e.name);let s=null;for(const f of n)try{const d=await f._get(a);if(d){let h;if(typeof d=="string"){const m=await n0(e,{idToken:d}).catch(()=>{});if(!m)break;h=await xo._fromGetAccountInfoResponse(e,m,d)}else h=xo._fromJSON(e,d);f!==i&&(s=h),i=f;break}}catch{}const u=o.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new ec(i,e,r):(i=u[0],s&&await i._set(a,s.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(a)}catch{}})),new ec(i,e,r))}}function nw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f9(e))return"Blackberry";if(d9(e))return"Webos";if(s9(e))return"Safari";if((e.includes("chrome/")||c9(e))&&!e.includes("edge/"))return"Chrome";if(l9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function a9(t=hr()){return/firefox\//i.test(t)}function s9(t=hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c9(t=hr()){return/crios\//i.test(t)}function u9(t=hr()){return/iemobile/i.test(t)}function l9(t=hr()){return/android/i.test(t)}function f9(t=hr()){return/blackberry/i.test(t)}function d9(t=hr()){return/webos/i.test(t)}function Iv(t=hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UG(t=hr()){return Iv(t)&&!!window.navigator?.standalone}function HG(){return oV()&&document.documentMode===10}function h9(t=hr()){return Iv(t)||l9(t)||d9(t)||f9(t)||/windows phone/i.test(t)||u9(t)}function p9(t,e=[]){let n;switch(t){case"Browser":n=nw(hr());break;case"Worker":n=`${nw(hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}class VG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,s)=>{try{const u=e(i);a(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function GG(t,e={}){return Nc(t,"GET","/v2/passwordPolicy",Av(t,e))}const WG=6;class ZG{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class XG{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rw(this),this.idTokenSubscription=new rw(this),this.beforeStateQueue=new VG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n0(this,{idToken:e}),r=await xo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jo(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,a=r?._redirectEventId,s=await this.tryRedirectSignIn(e);(!i||i===a)&&s?.user&&(r=s.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await r0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jo(this.app))return Promise.reject(Za(this));const n=e?Pi(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jo(this.app)?Promise.reject(Za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jo(this.app)?Promise.reject(Za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GG(this),n=new ZG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $G(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,o);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(jo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CG(`Error while retrieving App Check token: ${e.error}`),e?.token}}function p1(t){return Pi(t)}class rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=fV(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qG(t){Tv=t}function KG(t){return Tv.loadJS(t)}function YG(){return Tv.gapiScript}function QG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function JG(t,e){const n=q_(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(dc(i,e??{}))return o;Ko(o,"already-initialized")}return n.initialize({options:e})}function eW(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function tW(t,e,n){const r=p1(t);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,i=m9(e),{host:a,port:s}=nW(e),u=s===null?"":`:${s}`,f={url:`${i}//${a}${u}/`},d=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(dc(f,r.config.emulator)&&dc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,h1(a)?(KH(`${i}//${a}${u}`),JH("Auth",!0)):rW()}function m9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nW(t){const e=m9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:ow(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:ow(a)}}}function ow(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class g9{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function tc(t,e){return RG(t,"POST","/v1/accounts:signInWithIdp",Av(t,e))}const oW="http://localhost";class es extends g9{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ko("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...i}=n;if(!r||!o)return null;const a=new es(r,o);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:oW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}class Nv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bl extends Nv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hi extends Bl{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";class pi extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";class mi extends Bl{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";class gi extends Bl{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";class pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await xo._fromIdTokenResponse(e,r,o),a=iw(r);return new pc({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=iw(r);return new pc({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class o0 extends xa{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,o0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new o0(e,n,r,o)}}function y9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?o0._fromErrorAndOperation(t,i,e,r):i})}async function iW(t,e,n=!1){const r=await fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pc._forOperation(t,"link",r)}async function aW(t,e,n=!1){const{auth:r}=t;if(jo(r.app))return Promise.reject(Za(r));const o="reauthenticate";try{const i=await fl(t,y9(r,o,e,t),n);Qe(i.idToken,r,"internal-error");const a=Sv(i.idToken);Qe(a,r,"internal-error");const{sub:s}=a;return Qe(t.uid===s,r,"user-mismatch"),pc._forOperation(t,o,i)}catch(i){throw i?.code==="auth/user-not-found"&&Ko(r,"user-mismatch"),i}}async function sW(t,e,n=!1){if(jo(t.app))return Promise.reject(Za(t));const r="signIn",o=await y9(t,r,e),i=await pc._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function cW(t,e){return Pi(t).setPersistence(e)}function uW(t,e,n,r){return Pi(t).onIdTokenChanged(e,n,r)}function lW(t,e,n){return Pi(t).beforeAuthStateChanged(e,n)}function fW(t,e,n,r){return Pi(t).onAuthStateChanged(e,n,r)}function aw(t){return Pi(t).signOut()}const i0="__sak";class v9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(i0,"1"),this.storage.removeItem(i0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dW=1e3,hW=10;class b9 extends v9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);HG()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hW):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b9.type="LOCAL";const pW=b9;class x9 extends v9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x9.type="SESSION";const Ov=x9;function mW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class m1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new m1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,a=this.handlersMap[o];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const s=Array.from(a).map(async f=>f(n.origin,i)),u=await mW(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m1.receivers=[];function Pv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class gW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,a;return new Promise((s,u)=>{const f=Pv("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const m=h;if(m.data.eventId===f)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(m.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Vo(){return window}function yW(t){Vo().location.href=t}function w9(){return typeof Vo().WorkerGlobalScope<"u"&&typeof Vo().importScripts=="function"}async function vW(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bW(){return navigator?.serviceWorker?.controller||null}function xW(){return w9()?self:null}const E9="firebaseLocalStorageDb",wW=1,a0="firebaseLocalStorage",_9="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function g1(t,e){return t.transaction([a0],e?"readwrite":"readonly").objectStore(a0)}function EW(){const t=indexedDB.deleteDatabase(E9);return new Ll(t).toPromise()}function Og(){const t=indexedDB.open(E9,wW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a0,{keyPath:_9})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(a0)?e(r):(r.close(),await EW(),e(await Og()))})})}async function sw(t,e,n){const r=g1(t,!0).put({[_9]:e,value:n});return new Ll(r).toPromise()}async function _W(t,e){const n=g1(t,!1).get(e),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function cw(t,e){const n=g1(t,!0).delete(e);return new Ll(n).toPromise()}const CW=800,AW=3;class C9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m1._getInstance(xW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vW(),!this.activeServiceWorker)return;this.sender=new gW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await sw(e,i0,"1"),await cw(e,i0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_W(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=g1(o,!1).getAll();return new Ll(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C9.type="LOCAL";const SW=C9;new Ml(3e4,6e4);function A9(t,e){return e?vi(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Rv extends g9{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IW(t){return sW(t.auth,new Rv(t),t.bypassAuthState)}function TW(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),aW(n,new Rv(t),t.bypassAuthState)}async function NW(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),iW(n,new Rv(t),t.bypassAuthState)}class S9{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:a,type:s}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IW;case"linkViaPopup":case"linkViaRedirect":return NW;case"reauthViaPopup":case"reauthViaRedirect":return TW;default:Ko(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OW=new Ml(2e3,1e4);async function PW(t,e,n){if(jo(t.app))return Promise.reject(Eo(t,"operation-not-supported-in-this-environment"));const r=p1(t);AG(t,e,Nv);const o=A9(r,n);return new $a(r,"signInViaPopup",e,o).executeNotNull()}class $a extends S9{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Eo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Eo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Eo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OW.get())};e()}}$a.currentPopupAction=null;const RW="pendingRedirect",Pd=new Map;class kW extends S9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await DW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DW(t,e){const n=LW(e),r=BW(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function MW(t,e){Pd.set(t._key(),e)}function BW(t){return vi(t._redirectPersistence)}function LW(t){return Od(RW,t.config.apiKey,t.name)}async function FW(t,e,n=!1){if(jo(t.app))return Promise.reject(Za(t));const r=p1(t),o=A9(r,e),a=await new kW(r,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const jW=600*1e3;class zW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$W(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!I9(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Eo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jW&&this.cachedEventUids.clear(),this.cachedEventUids.has(uw(e))}saveEventToCache(e){this.cachedEventUids.add(uw(e)),this.lastProcessedEventTime=Date.now()}}function uw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I9({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $W(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I9(t);default:return!1}}async function UW(t,e={}){return Nc(t,"GET","/v1/projects",e)}const HW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VW=/^https?/;async function GW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UW(t);for(const n of e)try{if(WW(n))return}catch{}Ko(t,"unauthorized-domain")}function WW(t){const e=Tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!VW.test(n))return!1;if(HW.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const ZW=new Ml(3e4,6e4);function lw(){const t=Vo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XW(t){return new Promise((e,n)=>{function r(){lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lw(),n(Eo(t,"network-request-failed"))},timeout:ZW.get()})}if(Vo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vo().gapi?.load)r();else{const o=QG("iframefcb");return Vo()[o]=()=>{gapi.load?r():n(Eo(t,"network-request-failed"))},KG(`${YG()}?onload=${o}`).catch(i=>n(i))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function qW(t){return Rd=Rd||XW(t),Rd}const KW=new Ml(5e3,15e3),YW="__/auth/iframe",QW="emulator/auth/iframe",JW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tZ(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,QW):`https://${t.config.authDomain}/${YW}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},o=eZ.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${kl(r).slice(1)}`}async function nZ(t){const e=await qW(t),n=Vo().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:tZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JW,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const a=Eo(t,"network-request-failed"),s=Vo().setTimeout(()=>{i(a)},KW.get());function u(){Vo().clearTimeout(s),o(r)}r.ping(u).then(u,()=>{i(a)})}))}const rZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oZ=500,iZ=600,aZ="_blank",sZ="http://localhost";class fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cZ(t,e,n,r=oZ,o=iZ){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u={...rZ,width:r.toString(),height:o.toString(),top:i,left:a},f=hr().toLowerCase();n&&(s=c9(f)?aZ:n),a9(f)&&(e=e||sZ,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(UG(f)&&s!=="_self")return uZ(e||"",s),new fw(null);const h=window.open(e||"",s,d);Qe(h,t,"popup-blocked");try{h.focus()}catch{}return new fw(h)}function uZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const lZ="__/auth/handler",fZ="emulator/auth/handler",dZ=encodeURIComponent("fac");async function dw(t,e,n,r,o,i){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:o};if(e instanceof Nv){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",lV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Bl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const u=await t._getAppCheckToken(),f=u?`#${dZ}=${encodeURIComponent(u)}`:"";return`${hZ(t)}?${kl(s).slice(1)}${f}`}function hZ({config:t}){return t.emulator?Cv(t,fZ):`https://${t.authDomain}/${lZ}`}const sm="webStorageSupport";class pZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ov,this._completeRedirectFn=FW,this._overrideRedirectResult=MW}async _openPopup(e,n,r,o){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await dw(e,n,r,Tg(),o);return cZ(e,i,Pv())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await dw(e,n,r,Tg(),o);return yW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Ti(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nZ(e),r=new zW(e);return n.register("authEvent",o=>(Qe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},o=>{const i=o?.[0]?.[sm];i!==void 0&&n(!!i),Ko(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h9()||s9()||Iv()}}const mZ=pZ;var hw="@firebase/auth",pw="1.12.0";class gZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vZ(t){ul(new hc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Qe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p9(t)},f=new XG(r,o,i,u);return eW(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ul(new hc("auth-internal",e=>{const n=p1(e.getProvider("auth").getImmediate());return(r=>new gZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(hw,pw,yZ(t)),Qs(hw,pw,"esm2020")}const bZ=300,xZ=G_("authIdTokenMaxAge")||bZ;let mw=null;const wZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xZ)return;const o=n?.token;mw!==o&&(mw=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EZ(t=dG()){const e=q_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JG(t,{popupRedirectResolver:mZ,persistence:[SW,pW,Ov]}),r=G_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=wZ(i.toString());lW(n,a,()=>a(n.currentUser)),uW(n,s=>a(s))}}const o=XH("auth");return o&&tW(n,`http://${o}`),n}function _Z(){return document.getElementsByTagName("head")?.[0]??document}qG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Eo("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",_Z().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vZ("Browser");var CZ="firebase",AZ="12.9.0";Qs(CZ,AZ,"app");const SZ={apiKey:"AIzaSyB05cJcO_YNygEvJwAg5Liu6RO6deN7fyY",authDomain:"cointrol-wallet.firebaseapp.com",projectId:"cointrol-wallet",storageBucket:"cointrol-wallet.firebasestorage.app",messagingSenderId:"321052607641",appId:"1:321052607641:web:93927151042f5b7abda408"},IZ=K_(SZ),Ua=EZ(IZ),TZ=new pi,NZ=new hi,OZ=new gi,PZ=new mi;async function gw(){const t=await pv();if(t)return t;if(!Ua.currentUser)throw new Error("User not authenticated");const e=await RZ(Ua.currentUser.uid),n=Zt(e);return await mH(n),n}async function RZ(t){const e=new TextEncoder,n=await crypto.subtle.importKey("raw",e.encode(t),"HKDF",!1,["deriveBits"]),r=await crypto.subtle.deriveBits({name:"HKDF",hash:"SHA-256",salt:e.encode("Cointrol QuantumAccount v1"),info:e.encode("Account Generation Salt")},n,256);return new Uint8Array(r)}const kZ=1800*1e3,T9=S.createContext(null);function DZ({children:t}){const[e,n]=S.useState(null),[r,o]=S.useState(null),[i,a]=S.useState(!0);S.useEffect(()=>{let d=!1;cW(Ua,Ov).catch(console.error);const h=fW(Ua,async m=>{if(!d){if(console.log("[Auth] state changed:",m?.uid??null),n(m),m){await HU(m.uid);const g=await gw();o(g)}else Jp(),o(null);a(!1)}});return()=>{d=!0,h()}},[]);const s="lastActiveAt";S.useEffect(()=>{if(!e)return;let d=!1;const h=()=>{try{localStorage.setItem(s,String(Date.now()))}catch{}},m=()=>{const I=localStorage.getItem(s),T=I?Number(I):Date.now();return Date.now()-T>=kZ},g=async()=>{if(!d){d=!0,console.log("[Auth] idle timeout  signing out"),Jp();try{localStorage.removeItem(s)}catch{}await aw(Ua)}},b=["mousemove","mousedown","keydown","touchstart","scroll","click"],w=()=>h(),_=()=>h(),C=()=>{document.visibilityState==="visible"&&h()};h(),b.forEach(I=>window.addEventListener(I,w,{passive:!0})),window.addEventListener("focus",_),document.addEventListener("visibilitychange",C);const A=window.setInterval(()=>{m()&&g()},6e4);return m()&&g(),()=>{d=!0,window.clearInterval(A),b.forEach(I=>window.removeEventListener(I,w)),window.removeEventListener("focus",_),document.removeEventListener("visibilitychange",C)}},[e]);const u=async()=>{Jp(),await aw(Ua),n(null),o(null)},f=async()=>{const d=await gw();return await B_(),o(d),d};return y.jsx(T9.Provider,{value:{firebaseUser:e,uuid:r,loading:i,signOut:u,completeFirstLogin:f},children:t})}function kv(){const t=S.useContext(T9);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}const N9="/assets/logo-BZF9Blxe.png";var O9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yw=Xe.createContext&&Xe.createContext(O9),MZ=["attr","size","title"];function BZ(t,e){if(t==null)return{};var n=LZ(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(this,arguments)}function vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(n),!0).forEach(function(r){FZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FZ(t,e,n){return e=jZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=zZ(t,"string");return typeof e=="symbol"?e:e+""}function zZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P9(t){return t&&t.map((e,n)=>Xe.createElement(e.tag,c0({key:n},e.attr),P9(e.child)))}function y1(t){return e=>Xe.createElement($Z,s0({attr:c0({},t.attr)},e),P9(t.child))}function $Z(t){var e=n=>{var{attr:r,size:o,title:i}=t,a=BZ(t,MZ),s=o||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Xe.createElement("svg",s0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:c0(c0({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&Xe.createElement("title",null,i),t.children)};return yw!==void 0?Xe.createElement(yw.Consumer,null,n=>e(n)):e(O9)}function UZ(t){return y1({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function HZ(t){return y1({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(t)}function VZ(t){return y1({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function GZ(t){return y1({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(t)}const ld="w-80 h-12 rounded-xl px-4 inline-flex items-center justify-center gap-3 text-[15px] font-medium transition active:scale-[0.99] disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background",fd="h-5 w-5";function WZ({disabled:t,onSignIn:e}){return y.jsxs("div",{className:"space-y-3 flex flex-col items-center",children:[y.jsxs("button",{type:"button",disabled:t,onClick:()=>e("google"),className:[ld,"bg-white text-zinc-900 border border-zinc-200 hover:bg-zinc-50","focus-visible:ring-zinc-300"].join(" "),"aria-label":"Continue with Google",children:[y.jsx(VZ,{className:fd,"aria-hidden":"true"}),y.jsx("span",{children:"Continue with Google"})]}),y.jsxs("button",{type:"button",disabled:t,onClick:()=>e("github"),className:[ld,"bg-zinc-900 text-white hover:bg-zinc-800","focus-visible:ring-zinc-500"].join(" "),"aria-label":"Continue with GitHub",children:[y.jsx(HZ,{className:fd,"aria-hidden":"true"}),y.jsx("span",{children:"Continue with GitHub"})]}),y.jsxs("button",{type:"button",disabled:t,onClick:()=>e("x"),className:[ld,"bg-black text-white hover:bg-black/90","focus-visible:ring-zinc-500"].join(" "),"aria-label":"Continue with X",children:[y.jsx(GZ,{className:fd,"aria-hidden":"true"}),y.jsx("span",{children:"Continue with X"})]}),y.jsxs("button",{type:"button",disabled:t,onClick:()=>e("facebook"),className:[ld,"bg-[#1877F2] text-white hover:bg-[#166FE5]","focus-visible:ring-blue-300"].join(" "),"aria-label":"Continue with Facebook",children:[y.jsx(UZ,{className:fd,"aria-hidden":"true"}),y.jsx("span",{className:"text-white!",children:"Continue with Facebook"})]})]})}function ZZ(){const{firebaseUser:t}=kv(),e=vc(),[n,r]=S.useState(null),[o,i]=S.useState(()=>sessionStorage.getItem("cointrol:terms-pending")==="true"),[a,s]=S.useState(!1);S.useEffect(()=>{yH().then(r)},[]),S.useEffect(()=>{t&&e("/dashboard",{replace:!0})},[t,e]);const u={google:TZ,github:PZ,x:OZ,facebook:NZ},f=async h=>{if(!a){s(!0);try{await PW(Ua,h),await B_(),sessionStorage.removeItem("cointrol:terms-pending")}catch(m){const g=m?.code??"";console.error("[Login] signInWithPopup error:",g,m),g!=="auth/popup-closed-by-user"&&g!=="auth/cancelled-popup-request"&&(g==="auth/account-exists-with-different-credential"?zx.error("An account with this email already exists using a different sign-in method. Please try another provider."):zx.error(m?.message??"Sign-in failed. Please try again.")),s(!1)}}},d=a||n===!0&&!o;return y.jsx("div",{className:"min-h-[100dvh] bg-background flex items-center justify-center px-4",children:y.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx("img",{src:N9,alt:"Cointrol Wallet",style:{height:56,width:"auto"}})}),y.jsxs(mv,{className:"rounded-2xl shadow-sm",children:[y.jsx(gv,{className:"pb-2",children:y.jsx(yv,{className:"text-center text-xl",children:"Sign in to Cointrol Wallet"})}),y.jsx(vv,{className:"space-y-3 pt-2",children:n===null?y.jsx("div",{className:"text-center text-sm text-muted-foreground py-4",children:"Loading"}):y.jsxs(y.Fragment,{children:[n&&y.jsxs("div",{className:"rounded-xl border border-border bg-muted/40 px-4 py-3 space-y-2",children:[y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Before creating your wallet, please review and accept our"," ",y.jsx(Gs,{to:"/legal/terms",className:"underline underline-offset-2 text-foreground",children:"Terms & Conditions"}),"."]}),y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[y.jsx("input",{type:"checkbox",checked:o,onChange:h=>{const m=h.target.checked;sessionStorage.setItem("cointrol:terms-pending",m?"true":"false"),i(m)},className:"mt-0.5 h-4 w-4 rounded border-border accent-foreground cursor-pointer"}),y.jsx("span",{className:"text-sm leading-snug",children:"I have read and agree to the Terms & Conditions"})]})]}),y.jsx("div",{className:"space-y-4 pt-2",children:y.jsx(WZ,{disabled:d,onSignIn:h=>f(u[h])})}),n&&y.jsx("p",{className:"text-center text-xs text-muted-foreground pt-1",children:"First time? A unique wallet identifier will be generated for your device."})]})})]}),y.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:[y.jsx(Gs,{to:"/legal/privacy",className:"underline underline-offset-2",children:"Privacy Policy"}),"",y.jsx(Gs,{to:"/legal/terms",className:"underline underline-offset-2",children:"Terms & Conditions"})]})]})})}const XZ=S.createContext(null);function qZ({children:t}){const e=S.useRef(null);return e.current||(e.current=l1(),e.current.init().catch(()=>{})),S.useEffect(()=>{const n=e.current;return()=>n.terminate()},[]),y.jsx(XZ.Provider,{value:e.current,children:t})}function KZ(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function YZ(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var QZ=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),JZ=(function(t){QZ(e,t);function e(n,r){var o=this.constructor,i=t.call(this,n,r)||this;return Object.defineProperty(i,"name",{value:o.name,enumerable:!1,configurable:!0}),KZ(i,o.prototype),YZ(i),i}return e})(Error),eX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Rr=(function(t){eX(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(JZ),tX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pn=(function(t){tX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Rr),nX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ue=(function(t){nX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Rr),R9=(function(){function t(e){if(this.binarizer=e,e===null)throw new Ue("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,o){var i=this.binarizer.getLuminanceSource().crop(e,n,r,o);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),rX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gn=(function(t){rX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Rr),oX=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),$t=(function(){function t(){}return t.arraycopy=function(e,n,r,o,i){for(;i--;)r[o++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),iX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Dv=(function(t){iX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Rr),aX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bw=(function(t){aX(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var o=t.call(this,r)||this;return o.index=n,o.message=r,o}return e.kind="ArrayIndexOutOfBoundsException",e})(Dv),sX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,o=e.length;r<o;r++)e[r]=n},t.fillWithin=function(e,n,r,o){t.rangeCheck(e.length,n,r);for(var i=n;i<r;i++)e[i]=o},t.rangeCheck=function(e,n,r){if(n>r)throw new Ue("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new bw(n);if(r>e)throw new bw(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var o=Array.from({length:e});return o.map(function(i){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var o=Array.from({length:e});return o.map(function(i){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,o=e.length;r<o;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var o=1;try{for(var i=sX(e),a=i.next();!a.done;a=i.next()){var s=a.value;o=31*o+s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var o=r-n,i=new Int32Array(o);return $t.arraycopy(e,n,i,0,o),i},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var o=0,i=e.length-1;o<=i;){var a=i+o>>1,s=r(n,e[a]);if(s>0)o=a+1;else if(s<0)i=a-1;else return a}return-o-1},t.numberComparator=function(e,n){return e-n},t})(),lt=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Un=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);$t.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,o=Math.floor(e/32),i=r[o];i&=~((1<<(e&31))-1);for(var a=r.length;i===0;){if(++o===a)return n;i=r[o]}var s=o*32+lt.numberOfTrailingZeros(i);return s>n?n:s},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,o=Math.floor(e/32),i=~r[o];i&=~((1<<(e&31))-1);for(var a=r.length;i===0;){if(++o===a)return n;i=~r[o]}var s=o*32+lt.numberOfTrailingZeros(i);return s>n?n:s},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Ue;if(n!==e){n--;for(var r=Math.floor(e/32),o=Math.floor(n/32),i=this.bits,a=r;a<=o;a++){var s=a>r?0:e&31,u=a<o?31:n&31,f=(2<<u)-(1<<s);i[a]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new Ue;if(n===e)return!0;n--;for(var o=Math.floor(e/32),i=Math.floor(n/32),a=this.bits,s=o;s<=i;s++){var u=s>o?0:e&31,f=s<i?31:n&31,d=(2<<f)-(1<<u)&4294967295;if((a[s]&d)!==(r?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Ue("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ue("Sizes don't match");for(var n=this.bits,r=0,o=n.length;r<o;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,o){for(var i=0;i<o;i++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;n[r+i]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,o=this.bits,i=0;i<r;i++){var a=o[i];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-i]=a}if(this.size!==r*32){for(var s=r*32-this.size,u=e[0]>>>s,i=1;i<r;i++){var f=e[i];u|=f<<32-s,e[i-1]=u,u=f>>>s}e[r-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Nn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Nn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),Pg;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Pg||(Pg={}));const Ut=Pg;var cX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ve=(function(t){cX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Rr),uX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(kt||(kt={}));var Tn=(function(){function t(e,n,r){for(var o,i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,f=0,d=u.length;f!==d;f++){var h=u[f];t.VALUES_TO_ECI.set(h,this)}try{for(var m=uX(a),g=m.next();!g.done;g=m.next()){var b=g.value;t.NAME_TO_ECI.set(b,this)}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new ve("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new ve("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(kt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(kt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(kt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(kt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(kt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(kt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(kt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(kt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(kt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(kt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(kt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(kt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(kt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(kt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(kt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(kt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(kt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(kt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(kt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(kt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(kt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(kt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(kt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(kt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(kt.Big5,28,"Big5"),t.GB18030=new t(kt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(kt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),lX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kd=(function(t){lX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Rr),ro=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Tn?e:Tn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var o="",i=0,a=e.length;i<a;i++){var s=e[i].toString(16);s.length<2&&(s="0"+s),o+="%"+s}return decodeURIComponent(o)}if(r.equals(Tn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new kd("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Tn.UTF8)||e.equals(Tn.ISO8859_1)||e.equals(Tn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),o=[],i=0;i<r.length;i++)o.push(r[i].charCodeAt(0));return new Uint8Array(o)},t})(),pt=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return ro.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(Ut.CHARACTER_SET)!==void 0)return n.get(Ut.CHARACTER_SET).toString();for(var r=e.length,o=!0,i=!0,a=!0,s=0,u=0,f=0,d=0,h=0,m=0,g=0,b=0,w=0,_=0,C=0,A=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<r&&(o||i||a);I++){var T=e[I]&255;a&&(s>0?(T&128)===0?a=!1:s--:(T&128)!==0&&((T&64)===0?a=!1:(s++,(T&32)===0?u++:(s++,(T&16)===0?f++:(s++,(T&8)===0?d++:a=!1))))),o&&(T>127&&T<160?o=!1:T>159&&(T<192||T===215||T===247)&&C++),i&&(h>0?T<64||T===127||T>252?i=!1:h--:T===128||T===160||T>239?i=!1:T>160&&T<224?(m++,b=0,g++,g>w&&(w=g)):T>127?(h++,g=0,b++,b>_&&(_=b)):(g=0,b=0))}return a&&s>0&&(a=!1),i&&h>0&&(i=!1),a&&(A||u+f+d>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||w>=3||_>=3)?t.SHIFT_JIS:o&&i?w===2&&m===2||C*10>=r?t.SHIFT_JIS:t.ISO88591:o?t.ISO88591:i?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=-1;function i(s,u,f,d,h,m){if(s==="%%")return"%";if(n[++o]!==void 0){s=d?parseInt(d.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,b;switch(m){case"s":b=n[o];break;case"c":b=n[o][0];break;case"f":b=parseFloat(n[o]).toFixed(s);break;case"p":b=parseFloat(n[o]).toPrecision(s);break;case"e":b=parseFloat(n[o]).toExponential(s);break;case"x":b=parseInt(n[o]).toString(g||16);break;case"d":b=parseFloat(parseInt(n[o],g||10).toPrecision(s)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(g);for(var w=parseInt(f),_=f&&f[0]+""=="0"?"0":" ";b.length<w;)b=u!==void 0?b+_:_+b;return b}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.getBytes=function(e,n){return ro.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Tn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Tn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Tn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),st=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=pt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var o=n;n<n+r;o++)this.append(e[o]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),Yo=(function(){function t(e,n,r,o){if(this.width=e,this.height=n,this.rowSize=r,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new Ue("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,o=new t(r,n),i=0;i<n;i++)for(var a=e[i],s=0;s<r;s++)a[s]&&o.set(s,i);return o},t.parseFromString=function(e,n,r){if(e===null)throw new Ue("stringRepresentation cannot be null");for(var o=new Array(e.length),i=0,a=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(i>a){if(s===-1)s=i-a;else if(i-a!==s)throw new Ue("row lengths do not match");a=i,u++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,o[i]=!0,i++;else if(e.substring(f,f+r.length)===r)f+=r.length,o[i]=!1,i++;else throw new Ue("illegal character encountered: "+e.substring(f));if(i>a){if(s===-1)s=i-a;else if(i-a!==s)throw new Ue("row lengths do not match");u++}for(var d=new t(s,u),h=0;h<i;h++)o[h]&&d.set(Math.floor(h%s),Math.floor(h/s));return d},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ue("input matrix dimensions do not match");for(var n=new Un(Math.floor(this.width/32)+1),r=this.rowSize,o=this.bits,i=0,a=this.height;i<a;i++)for(var s=i*r,u=e.getRow(i,n).getBitArray(),f=0;f<r;f++)o[s+f]^=u[f]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,o){if(n<0||e<0)throw new Ue("Left and top must be nonnegative");if(o<1||r<1)throw new Ue("Height and width must be at least 1");var i=e+r,a=n+o;if(a>this.height||i>this.width)throw new Ue("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=n;f<a;f++)for(var d=f*s,h=e;h<i;h++)u[d+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new Un(this.width):n.clear();for(var r=this.rowSize,o=this.bits,i=e*r,a=0;a<r;a++)n.setBulk(a*32,o[i+a]);return n},t.prototype.setRow=function(e,n){$t.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new Un(e),o=new Un(e),i=0,a=Math.floor((n+1)/2);i<a;i++)r=this.getRow(i,r),o=this.getRow(n-1-i,o),r.reverse(),o.reverse(),this.setRow(i,o),this.setRow(n-1-i,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,o=this.bits,i=e,a=n,s=-1,u=-1,f=0;f<n;f++)for(var d=0;d<r;d++){var h=o[f*r+d];if(h!==0){if(f<a&&(a=f),f>u&&(u=f),d*32<i){for(var m=0;(h<<31-m&4294967295)===0;)m++;d*32+m<i&&(i=d*32+m)}if(d*32+31>s){for(var m=31;!(h>>>m);)m--;d*32+m>s&&(s=d*32+m)}}}return s<i||u<a?null:Int32Array.from([i,a,s-i+1,u-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var o=r/e,i=r%e*32,a=n[r],s=0;(a<<31-s&4294967295)===0;)s++;return i+=s,Int32Array.from([i,o])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var o=Math.floor(r/e),i=Math.floor(r%e)*32,a=n[r],s=31;!(a>>>s);)s--;return i+=s,Int32Array.from([i,o])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Nn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Nn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var o=new st,i=0,a=this.height;i<a;i++){for(var s=0,u=this.width;s<u;s++)o.append(this.get(s,i)?e:n);o.append(r)}return o.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),fX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oe=(function(t){fX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Rr),dX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),hX=(function(t){dX(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var o=this.getLuminanceSource(),i=o.getWidth();r==null||r.getSize()<i?r=new Un(i):r.clear(),this.initArrays(i);for(var a=o.getRow(n,this.luminances),s=this.buckets,u=0;u<i;u++)s[(a[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(i<3)for(var u=0;u<i;u++)(a[u]&255)<f&&r.set(u);else for(var d=a[0]&255,h=a[1]&255,u=1;u<i-1;u++){var m=a[u+1]&255;(h*4-d-m)/2<f&&r.set(u),d=h,h=m}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),i=new Yo(r,o);this.initArrays(r);for(var a=this.buckets,s=1;s<5;s++)for(var u=Math.floor(o*s/5),f=n.getRow(u,this.luminances),d=Math.floor(r*4/5),h=Math.floor(r/5);h<d;h++){var m=f[h]&255;a[m>>e.LUMINANCE_SHIFT]++}for(var g=e.estimateBlackPoint(a),b=n.getMatrix(),s=0;s<o;s++)for(var w=s*r,h=0;h<r;h++){var m=b[w+h]&255;m<g&&i.set(h,s)}return i},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,o=0;o<e.LUMINANCE_BUCKETS;o++)r[o]=0},e.estimateBlackPoint=function(n){for(var r=n.length,o=0,i=0,a=0,s=0;s<r;s++)n[s]>a&&(i=s,a=n[s]),n[s]>o&&(o=n[s]);for(var u=0,f=0,s=0;s<r;s++){var d=s-i,h=n[s]*d*d;h>f&&(u=s,f=h)}if(i>u){var m=i;i=u,u=m}if(u-i<=r/16)throw new oe;for(var g=u-1,b=-1,s=u-1;s>i;s--){var w=s-i,h=w*w*(u-s)*(o-n[s]);h>b&&(g=s,b=h)}return g<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(oX),pX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),k9=(function(t){pX(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&o>=e.MINIMUM_DIMENSION){var i=n.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&a++;var s=o>>e.BLOCK_SIZE_POWER;(o&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(i,a,s,r,o),f=new Yo(r,o);e.calculateThresholdForBlock(i,a,s,r,o,u,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,o,i,a,s,u){for(var f=a-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,h=0;h<o;h++){var m=h<<e.BLOCK_SIZE_POWER;m>f&&(m=f);for(var g=e.cap(h,2,o-3),b=0;b<r;b++){var w=b<<e.BLOCK_SIZE_POWER;w>d&&(w=d);for(var _=e.cap(b,2,r-3),C=0,A=-2;A<=2;A++){var I=s[g+A];C+=I[_-2]+I[_-1]+I[_]+I[_+1]+I[_+2]}var T=C/25;e.thresholdBlock(n,w,m,T,i,u)}}},e.cap=function(n,r,o){return n<r?r:n>o?o:n},e.thresholdBlock=function(n,r,o,i,a,s){for(var u=0,f=o*a+r;u<e.BLOCK_SIZE;u++,f+=a)for(var d=0;d<e.BLOCK_SIZE;d++)(n[f+d]&255)<=i&&s.set(r+d,o+u)},e.calculateBlackPoints=function(n,r,o,i,a){for(var s=a-e.BLOCK_SIZE,u=i-e.BLOCK_SIZE,f=new Array(o),d=0;d<o;d++){f[d]=new Int32Array(r);var h=d<<e.BLOCK_SIZE_POWER;h>s&&(h=s);for(var m=0;m<r;m++){var g=m<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var b=0,w=255,_=0,C=0,A=h*i+g;C<e.BLOCK_SIZE;C++,A+=i){for(var I=0;I<e.BLOCK_SIZE;I++){var T=n[A+I]&255;b+=T,T<w&&(w=T),T>_&&(_=T)}if(_-w>e.MIN_DYNAMIC_RANGE)for(C++,A+=i;C<e.BLOCK_SIZE;C++,A+=i)for(var I=0;I<e.BLOCK_SIZE;I++)b+=n[A+I]&255}var O=b>>e.BLOCK_SIZE_POWER*2;if(_-w<=e.MIN_DYNAMIC_RANGE&&(O=w/2,d>0&&m>0)){var P=(f[d-1][m]+2*f[d][m-1]+f[d-1][m-1])/4;w<P&&(O=P)}f[d][m]=O}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(hX),Fl=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,o){throw new kd("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new kd("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new kd("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new st,r=0;r<this.height;r++){for(var o=this.getRow(r,e),i=0;i<this.width;i++){var a=o[i]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",n.append(s)}n.append(`
`)}return n.toString()},t})(),mX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),v1=(function(t){mX(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var o=this.delegate.getRow(n,r),i=this.getWidth(),a=0;a<i;a++)o[a]=255-(o[a]&255);return o},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r),i=0;i<r;i++)o[i]=255-(n[i]&255);return o},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,o,i){return new e(this.delegate.crop(n,r,o,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Fl),gX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yX=(function(t){gX(e,t);function e(n,r){r===void 0&&(r=!1);var o=t.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=e.makeBufferFromCanvasImageData(n,r),o}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var o=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(o.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,o,i){i===void 0&&(i=!1);var a=new Uint8ClampedArray(r*o);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var s=0,u=0,f=n.length;s<f;s+=4,u++){var d=void 0,h=n[s+3];if(h===0)d=255;else{var m=n[s],g=n[s+1],b=n[s+2];d=306*m+601*g+117*b+512>>10}a[u]=d}else for(var s=0,u=0,w=n.length;s<w;s+=4,u++){var d=void 0,h=n[s+3];if(h===0)d=255;else{var m=n[s],g=n[s+1],b=n[s+2];d=306*m+601*g+117*b+512>>10}a[u]=255-d}return a},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ue("Requested row is outside the image: "+n);var o=this.getWidth(),i=n*o;return r===null?r=this.buffer.slice(i,i+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(i,i+o))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return t.prototype.crop.call(this,n,r,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),o=r.getContext("2d"),i=n*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),f=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);return r.width=u,r.height=f,o.translate(u/2,f/2),o.rotate(i),o.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new v1(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Fl),vX=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),sr=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{f(r.next(d))}catch(h){a(h)}}function u(d){try{f(r.throw(d))}catch(h){a(h)}}function f(d){d.done?i(d.value):o(d.value).then(s,u)}f((r=r.apply(t,e||[])).next())})},cr=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oc=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return sr(this,void 0,void 0,function(){var e,n,r,o,i,a,s,u,f,d,h,m;return cr(this,function(g){switch(g.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),n=[];try{for(r=bX(e),o=r.next();!o.done;o=r.next())i=o.value,a=i.kind==="video"?"videoinput":i.kind,a==="videoinput"&&(s=i.deviceId||i.id,u=i.label||"Video device "+(n.length+1),f=i.groupId,d={deviceId:s,label:u,kind:a,groupId:f},n.push(d))}catch(b){h={error:b}}finally{try{o&&!o.done&&(m=r.return)&&m.call(r)}finally{if(h)throw h.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return sr(this,void 0,void 0,function(){var e;return cr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new vX(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return sr(this,void 0,void 0,function(){var n;return cr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(o){return o.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return sr(this,void 0,void 0,function(){return cr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return sr(this,void 0,void 0,function(){var r,o;return cr(this,function(i){switch(i.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},o={video:r},[4,this.decodeOnceFromConstraints(o,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return sr(this,void 0,void 0,function(){var r;return cr(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return sr(this,void 0,void 0,function(){var r,o;return cr(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=i.sent(),[4,this.decodeOnce(r)];case 2:return o=i.sent(),[2,o]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return sr(this,void 0,void 0,function(){return cr(this,function(o){switch(o.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return sr(this,void 0,void 0,function(){var o,i;return cr(this,function(a){switch(a.label){case 0:return e?o={deviceId:{exact:e}}:o={facingMode:"environment"},i={video:o},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return sr(this,void 0,void 0,function(){var o;return cr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return o=i.sent(),[4,this.decodeFromStream(o,n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return sr(this,void 0,void 0,function(){var o;return cr(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return o=i.sent(),[4,this.decodeContinuously(o,r)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return sr(this,void 0,void 0,function(){var r;return cr(this,function(o){switch(o.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return o.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,o){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return sr(this,void 0,void 0,function(){return cr(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new pn("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new pn("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new pn("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new pn("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new pn("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new pn("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new pn("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new pn("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new pn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new pn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(r,n);return r.src=e,o},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,o){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,o)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return sr(this,void 0,void 0,function(){return cr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return sr(this,void 0,void 0,function(){return cr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var o=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var i=function(a,s){if(o._stopAsyncDecode){s(new oe("Video stream has ended before any code could be detected.")),o._stopAsyncDecode=void 0;return}try{var u=o.decode(e);a(u)}catch(m){var f=n&&m instanceof oe,d=m instanceof gn||m instanceof ve,h=d&&r;if(f||h)return setTimeout(i,o._timeBetweenDecodingAttempts,a,s);s(m)}};return new Promise(function(a,s){return i(a,s)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var o=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var i=r.decode(e);n(i,null),setTimeout(o,r.timeBetweenScansMillis)}catch(u){n(null,u);var a=u instanceof gn||u instanceof ve,s=u instanceof oe;(a||s)&&setTimeout(o,r._timeBetweenDecodingAttempts)}};o()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),o=new yX(r,n),i=new k9(o);return new R9(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=o+"px",n.width=r,n.height=o,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),nr=(function(){function t(e,n,r,o,i,a){r===void 0&&(r=n==null?0:8*n.length),a===void 0&&(a=$t.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=o,this.format=i,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=o,this.format=i,this.resultMetadata=null,a==null?this.timestamp=$t.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);$t.arraycopy(n,0,r,0,n.length),$t.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Rg;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Rg||(Rg={}));const $e=Rg;var kg;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(kg||(kg={}));const Xn=kg;var b1=(function(){function t(e,n,r,o,i,a){i===void 0&&(i=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=o,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Eu=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ue;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),ua=(function(){function t(e,n){if(n.length===0)throw new Ue;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var o=1;o<r&&n[o]===0;)o++;o===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-o),$t.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var o=0,i=n.length;o!==i;o++){var a=n[o];r=Eu.addOrSubtract(r,a)}return r}r=n[0];for(var s=n.length,u=this.field,o=1;o<s;o++)r=Eu.addOrSubtract(u.multiply(e,r),n[o]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;$t.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=Eu.addOrSubtract(n[s-a],r[s]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,a=new Int32Array(r+i-1),s=this.field,u=0;u<r;u++)for(var f=n[u],d=0;d<i;d++)a[u+d]=Eu.addOrSubtract(a[u+d],s.multiply(f,o[d]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,o=new Int32Array(n),i=this.coefficients,a=0;a<n;a++)o[a]=r.multiply(i[a],e);return new t(r,o)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ue;if(n===0)return this.field.getZero();for(var r=this.coefficients,o=r.length,i=new Int32Array(o+e),a=this.field,s=0;s<o;s++)i[s]=a.multiply(r[s],n);return new t(a,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ue("Divide by 0");for(var n=this.field,r=n.getZero(),o=this,i=e.getCoefficient(e.getDegree()),a=n.inverse(i);o.getDegree()>=e.getDegree()&&!o.isZero();){var s=o.getDegree()-e.getDegree(),u=n.multiply(o.getCoefficient(o.getDegree()),a),f=e.multiplyByMonomial(s,u),d=n.buildMonomial(s,u);r=r.addOrSubtract(d),o=o.addOrSubtract(f)}return[r,o]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var o=this.field.log(r);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),xX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),D9=(function(t){xX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Rr),wX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ar=(function(t){wX(e,t);function e(n,r,o){var i=t.call(this)||this;i.primitive=n,i.size=r,i.generatorBase=o;for(var a=new Int32Array(r),s=1,u=0;u<r;u++)a[u]=s,s*=2,s>=r&&(s^=n,s&=r-1);i.expTable=a;for(var f=new Int32Array(r),u=0;u<r-1;u++)f[a[u]]=u;return i.logTable=f,i.zero=new ua(i,Int32Array.from([0])),i.one=new ua(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Ue;if(r===0)return this.zero;var o=new Int32Array(n+1);return o[0]=r,new ua(this,o)},e.prototype.inverse=function(n){if(n===0)throw new D9;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+lt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Eu),EX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),dd=(function(t){EX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Rr),_X=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jl=(function(t){_X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Rr),x1=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,o=new ua(r,e),i=new Int32Array(n),a=!0,s=0;s<n;s++){var u=o.evaluateAt(r.exp(s+r.getGeneratorBase()));i[i.length-1-s]=u,u!==0&&(a=!1)}if(!a)for(var f=new ua(r,i),d=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),h=d[0],m=d[1],g=this.findErrorLocations(h),b=this.findErrorMagnitudes(m,g),s=0;s<g.length;s++){var w=e.length-1-r.log(g[s]);if(w<0)throw new dd("Bad error location");e[w]=Ar.addOrSubtract(e[w],b[s])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var o=e;e=n,n=o}for(var i=this.field,a=e,s=n,u=i.getZero(),f=i.getOne();s.getDegree()>=(r/2|0);){var d=a,h=u;if(a=s,u=f,a.isZero())throw new dd("r_{i-1} was zero");s=d;for(var m=i.getZero(),g=a.getCoefficient(a.getDegree()),b=i.inverse(g);s.getDegree()>=a.getDegree()&&!s.isZero();){var w=s.getDegree()-a.getDegree(),_=i.multiply(s.getCoefficient(s.getDegree()),b);m=m.addOrSubtract(i.buildMonomial(w,_)),s=s.addOrSubtract(a.multiplyByMonomial(w,_))}if(f=m.multiply(u).addOrSubtract(h),s.getDegree()>=a.getDegree())throw new jl("Division algorithm failed to reduce polynomial?")}var C=f.getCoefficient(0);if(C===0)throw new dd("sigmaTilde(0) was zero");var A=i.inverse(C),I=f.multiplyScalar(A),T=s.multiplyScalar(A);return[I,T]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),o=0,i=this.field,a=1;a<i.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(r[o]=i.inverse(a),o++);if(o!==n)throw new dd("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,o=new Int32Array(r),i=this.field,a=0;a<r;a++){for(var s=i.inverse(n[a]),u=1,f=0;f<r;f++)if(a!==f){var d=i.multiply(n[f],s),h=(d&1)===0?d|1:d&-2;u=i.multiply(u,h)}o[a]=i.multiply(e.evaluateAt(s),i.inverse(u)),i.getGeneratorBase()!==0&&(o[a]=i.multiply(o[a],s))}return o},t})(),Wn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Wn||(Wn={}));var xw=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),o=this.correctBits(r),i=t.convertBoolArrayToByteArray(o),a=t.getEncodedData(o),s=new b1(i,a,null,null);return s.setNumBits(o.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=Wn.UPPER,o=Wn.UPPER,i="",a=0;a<n;)if(o===Wn.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,s===0){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(n-a<8){a=n;break}var f=t.readCode(e,a,8);i+=pt.castAsNonUtf8Char(f),a+=8}o=r}else{var d=o===Wn.DIGIT?4:5;if(n-a<d)break;var f=t.readCode(e,a,d);a+=d;var h=t.getCharacter(o,f);h.startsWith("CTRL_")?(r=o,o=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(r=o)):(i+=h,o=r)}return i},t.getTable=function(e){switch(e){case"L":return Wn.LOWER;case"P":return Wn.PUNCT;case"M":return Wn.MIXED;case"D":return Wn.DIGIT;case"B":return Wn.BINARY;default:return Wn.UPPER}},t.getCharacter=function(e,n){switch(e){case Wn.UPPER:return t.UPPER_TABLE[n];case Wn.LOWER:return t.LOWER_TABLE[n];case Wn.MIXED:return t.MIXED_TABLE[n];case Wn.PUNCT:return t.PUNCT_TABLE[n];case Wn.DIGIT:return t.DIGIT_TABLE[n];default:throw new jl("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Ar.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Ar.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Ar.AZTEC_DATA_10):(r=12,n=Ar.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=e.length/r;if(i<o)throw new ve;for(var a=e.length%r,s=new Int32Array(i),u=0;u<i;u++,a+=r)s[u]=t.readCode(e,a,r);try{var f=new x1(n);f.decode(s,i-o)}catch(_){throw new ve(_)}for(var d=(1<<r)-1,h=0,u=0;u<o;u++){var m=s[u];if(m===0||m===d)throw new ve;(m===1||m===d-1)&&h++}for(var g=new Array(o*r-h),b=0,u=0;u<o;u++){var m=s[u];if(m===1||m===d-1)g.fill(m>1,b,b+r-1),b+=r-1;else for(var w=r-1;w>=0;--w)g[b++]=(m&1<<w)!==0}return g},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),o=(n?11:14)+r*4,i=new Int32Array(o),a=new Array(this.totalBitsInLayer(r,n));if(n)for(var s=0;s<i.length;s++)i[s]=s;else for(var u=o+1+2*lt.truncDivision(lt.truncDivision(o,2)-1,15),f=o/2,d=lt.truncDivision(u,2),s=0;s<f;s++){var h=s+lt.truncDivision(s,15);i[f-s-1]=d-h-1,i[f+s]=d+h+1}for(var s=0,m=0;s<r;s++){for(var g=(r-s)*4+(n?9:12),b=s*2,w=o-1-b,_=0;_<g;_++)for(var C=_*2,A=0;A<2;A++)a[m+C+A]=e.get(i[b+A],i[b+_]),a[m+2*g+C+A]=e.get(i[b+_],i[w-A]),a[m+4*g+C+A]=e.get(i[w-A],i[w-_]),a[m+6*g+C+A]=e.get(i[w-_],i[b+A]);m+=g*8}return a},t.readCode=function(e,n,r){for(var o=0,i=n;i<n+r;i++)o<<=1,e[i]&&(o|=1);return o},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),Et=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,o){var i=e-r,a=n-o;return Math.sqrt(i*i+a*a)},t.sum=function(e){for(var n=0,r=0,o=e.length;r!==o;r++){var i=e[r];n+=i}return n},t})(),Dg=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),ke=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*Dg.floatToIntBits(this.x)+Dg.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]),i,a,s;if(r>=n&&r>=o?(a=e[0],i=e[1],s=e[2]):o>=r&&o>=n?(a=e[1],i=e[0],s=e[2]):(a=e[2],i=e[0],s=e[1]),this.crossProductZ(i,a,s)<0){var u=i;i=s,s=u}e[0]=i,e[1]=a,e[2]=s},t.distance=function(e,n){return Et.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var o=n.x,i=n.y;return(r.x-o)*(e.y-i)-(r.y-i)*(e.x-o)},t})(),Mv=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),CX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),AX=(function(t){CX(e,t);function e(n,r,o,i,a){var s=t.call(this,n,r)||this;return s.compact=o,s.nbDatablocks=i,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(Mv),Mg=(function(){function t(e,n,r,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,o=this.downInit,i=!1,a=!0,s=!1,u=!1,f=!1,d=!1,h=!1,m=this.width,g=this.height;a;){a=!1;for(var b=!0;(b||!u)&&n<m;)b=this.containsBlackPoint(r,o,n,!1),b?(n++,a=!0,u=!0):u||n++;if(n>=m){i=!0;break}for(var w=!0;(w||!f)&&o<g;)w=this.containsBlackPoint(e,n,o,!0),w?(o++,a=!0,f=!0):f||o++;if(o>=g){i=!0;break}for(var _=!0;(_||!d)&&e>=0;)_=this.containsBlackPoint(r,o,e,!1),_?(e--,a=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var C=!0;(C||!h)&&r>=0;)C=this.containsBlackPoint(e,n,r,!0),C?(r--,a=!0,h=!0):h||r--;if(r<0){i=!0;break}a&&(s=!0)}if(!i&&s){for(var A=n-e,I=null,T=1;I===null&&T<A;T++)I=this.getBlackPointOnSegment(e,o-T,e+T,o);if(I==null)throw new oe;for(var O=null,T=1;O===null&&T<A;T++)O=this.getBlackPointOnSegment(e,r+T,e+T,r);if(O==null)throw new oe;for(var P=null,T=1;P===null&&T<A;T++)P=this.getBlackPointOnSegment(n,r+T,n-T,r);if(P==null)throw new oe;for(var k=null,T=1;k===null&&T<A;T++)k=this.getBlackPointOnSegment(n,o-T,n-T,o);if(k==null)throw new oe;return this.centerEdges(k,I,P,O)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,n,r,o){for(var i=Et.round(Et.distance(e,n,r,o)),a=(r-e)/i,s=(o-n)/i,u=this.image,f=0;f<i;f++){var d=Et.round(e+f*a),h=Et.round(n+f*s);if(u.get(d,h))return new ke(d,h)}return null},t.prototype.centerEdges=function(e,n,r,o){var i=e.getX(),a=e.getY(),s=n.getX(),u=n.getY(),f=r.getX(),d=r.getY(),h=o.getX(),m=o.getY(),g=t.CORR;return i<this.width/2?[new ke(h-g,m+g),new ke(s+g,u+g),new ke(f-g,d-g),new ke(i+g,a-g)]:[new ke(h+g,m+g),new ke(s+g,u-g),new ke(f-g,d+g),new ke(i-g,a-g)]},t.prototype.containsBlackPoint=function(e,n,r,o){var i=this.image;if(o){for(var a=e;a<=n;a++)if(i.get(a,r))return!0}else for(var s=e;s<=n;s++)if(i.get(r,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),ww=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),o=e.getHeight(),i=!0,a=0;a<n.length&&i;a+=2){var s=Math.floor(n[a]),u=Math.floor(n[a+1]);if(s<-1||s>r||u<-1||u>o)throw new oe;i=!1,s===-1?(n[a]=0,i=!0):s===r&&(n[a]=r-1,i=!0),u===-1?(n[a+1]=0,i=!0):u===o&&(n[a+1]=o-1,i=!0)}i=!0;for(var a=n.length-2;a>=0&&i;a-=2){var s=Math.floor(n[a]),u=Math.floor(n[a+1]);if(s<-1||s>r||u<-1||u>o)throw new oe;i=!1,s===-1?(n[a]=0,i=!0):s===r&&(n[a]=r-1,i=!0),u===-1?(n[a+1]=0,i=!0):u===o&&(n[a+1]=o-1,i=!0)}},t})(),M9=(function(){function t(e,n,r,o,i,a,s,u,f){this.a11=e,this.a21=n,this.a31=r,this.a12=o,this.a22=i,this.a32=a,this.a13=s,this.a23=u,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,n,r,o,i,a,s,u,f,d,h,m,g,b,w,_){var C=t.quadrilateralToSquare(e,n,r,o,i,a,s,u),A=t.squareToQuadrilateral(f,d,h,m,g,b,w,_);return A.times(C)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,o=this.a12,i=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,d=this.a32,h=this.a33,m=0;m<n;m+=2){var g=e[m],b=e[m+1],w=i*g+u*b+h;e[m]=(r*g+a*b+f)/w,e[m+1]=(o*g+s*b+d)/w}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,o=this.a12,i=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,d=this.a32,h=this.a33,m=e.length,g=0;g<m;g++){var b=e[g],w=n[g],_=i*b+u*w+h;e[g]=(r*b+a*w+f)/_,n[g]=(o*b+s*w+d)/_}},t.squareToQuadrilateral=function(e,n,r,o,i,a,s,u){var f=e-r+i-s,d=n-o+a-u;if(f===0&&d===0)return new t(r-e,i-r,e,o-n,a-o,n,0,0,1);var h=r-i,m=s-i,g=o-a,b=u-a,w=h*b-m*g,_=(f*b-m*d)/w,C=(h*d-f*g)/w;return new t(r-e+_*r,s-e+C*s,e,o-n+_*o,u-n+C*u,n,_,C,1)},t.quadrilateralToSquare=function(e,n,r,o,i,a,s,u){return t.squareToQuadrilateral(e,n,r,o,i,a,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),SX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),IX=(function(t){SX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,o,i,a,s,u,f,d,h,m,g,b,w,_,C,A,I,T){var O=M9.quadrilateralToQuadrilateral(i,a,s,u,f,d,h,m,g,b,w,_,C,A,I,T);return this.sampleGridWithTransform(n,r,o,O)},e.prototype.sampleGridWithTransform=function(n,r,o,i){if(r<=0||o<=0)throw new oe;for(var a=new Yo(r,o),s=new Float32Array(2*r),u=0;u<o;u++){for(var f=s.length,d=u+.5,h=0;h<f;h+=2)s[h]=h/2+.5,s[h+1]=d;i.transformPoints(s),ww.checkAndNudgePoints(n,s);try{for(var h=0;h<f;h+=2)n.get(Math.floor(s[h]),Math.floor(s[h+1]))&&a.set(h/2,u)}catch{throw new oe}}return a},e})(ww),Bv=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new IX,t})(),Er=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new ke(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),TX=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new AX(i,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var o=0,i=0;i<4;i++){var a=r[(this.shift+i)%4];this.compact?(o<<=7,o+=a>>1&127):(o<<=10,o+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(i,a,s){var u=(i>>n-2<<1)+(i&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(var o=0;o<4;o++)if(lt.bitCount(r^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new oe},t.prototype.getCorrectedParameterData=function(e,n){var r,o;n?(r=7,o=2):(r=10,o=4);for(var i=r-o,a=new Int32Array(r),s=r-1;s>=0;--s)a[s]=e&15,e>>=4;try{var u=new x1(Ar.AZTEC_PARAM);u.decode(a,i)}catch{throw new oe}for(var f=0,s=0;s<o;s++)f=(f<<4)+a[s];return f},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,o=e,i=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(n,a,1,-1),u=this.getFirstDifferent(r,a,1,1),f=this.getFirstDifferent(o,a,-1,1),d=this.getFirstDifferent(i,a,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(s,u,f,d))break}n=s,r=u,o=f,i=d,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var m=new ke(n.getX()+.5,n.getY()-.5),g=new ke(r.getX()+.5,r.getY()+.5),b=new ke(o.getX()-.5,o.getY()+.5),w=new ke(i.getX()-.5,i.getY()-.5);return this.expandSquare([m,g,b,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,o;try{var i=new Mg(this.image).detect();e=i[0],n=i[1],r=i[2],o=i[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Er(a+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Er(a+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Er(a-7,s+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Er(a-7,s-7),!1,-1,-1).toResultPoint()}var u=Et.round((e.getX()+o.getX()+n.getX()+r.getX())/4),f=Et.round((e.getY()+o.getY()+n.getY()+r.getY())/4);try{var i=new Mg(this.image,15,u,f).detect();e=i[0],n=i[1],r=i[2],o=i[3]}catch{e=this.getFirstDifferent(new Er(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Er(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Er(u-7,f+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Er(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Et.round((e.getX()+o.getX()+n.getX()+r.getX())/4),f=Et.round((e.getY()+o.getY()+n.getY()+r.getY())/4),new Er(u,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,o,i){var a=Bv.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,n,r){for(var o=0,i=this.distanceResultPoint(e,n),a=i/r,s=e.getX(),u=e.getY(),f=a*(n.getX()-e.getX())/i,d=a*(n.getY()-e.getY())/i,h=0;h<r;h++)this.image.get(Et.round(s+h*f),Et.round(u+h*d))&&(o|=1<<r-h-1);return o},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,o){var i=3;e=new Er(e.getX()-i,e.getY()+i),n=new Er(n.getX()-i,n.getY()-i),r=new Er(r.getX()+i,r.getY()-i),o=new Er(o.getX()+i,o.getY()+i);var a=this.getColor(o,e);if(a===0)return!1;var s=this.getColor(e,n);return s!==a||(s=this.getColor(n,r),s!==a)?!1:(s=this.getColor(r,o),s===a)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),o=(n.getX()-e.getX())/r,i=(n.getY()-e.getY())/r,a=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(r),h=0;h<d;h++)s+=o,u+=i,this.image.get(Et.round(s),Et.round(u))!==f&&a++;var m=a/r;return m>.1&&m<.9?0:m<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,n,r,o){for(var i=e.getX()+r,a=e.getY()+o;this.isValid(i,a)&&this.image.get(i,a)===n;)i+=r,a+=o;for(i-=r,a-=o;this.isValid(i,a)&&this.image.get(i,a)===n;)i+=r;for(i-=r;this.isValid(i,a)&&this.image.get(i,a)===n;)a+=o;return a-=o,new Er(i,a)},t.prototype.expandSquare=function(e,n,r){var o=r/(2*n),i=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new ke(s+o*i,u+o*a),d=new ke(s-o*i,u-o*a);i=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var h=new ke(s+o*i,u+o*a),m=new ke(s-o*i,u-o*a),g=[f,h,d,m];return g},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=Et.round(e.getX()),r=Et.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return Et.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return Et.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(lt.truncDivision(this.nbLayers-4,8)+1)+15},t})(),u0=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,o=new TX(e.getBlackMatrix()),i=null,a=null;try{var s=o.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(n,i),a=new xw().decode(s)}catch(h){r=h}if(a==null)try{var s=o.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(n,i),a=new xw().decode(s)}catch(h){throw r??h}var u=new nr(a.getText(),a.getRawBytes(),a.getNumBits(),i,$e.AZTEC,$t.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(Xn.BYTE_SEGMENTS,f);var d=a.getECLevel();return d!=null&&u.putMetadata(Xn.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(Ut.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(o,i,a){r.foundPossibleResultPoint(o)})}},t.prototype.reset=function(){},t})(),NX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){NX(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new u0,n)||this}return e})(Oc);var Pn=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(Ut.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var o=e.rotateCounterClockwise(),i=this.doDecode(o,n),a=i.getResultMetadata(),s=270;a!==null&&a.get(Xn.ORIENTATION)===!0&&(s=s+a.get(Xn.ORIENTATION)%360),i.putMetadata(Xn.ORIENTATION,s);var u=i.getResultPoints();if(u!==null)for(var f=o.getHeight(),d=0;d<u.length;d++)u[d]=new ke(f-u[d].getY()-1,u[d].getX());return i}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),o=e.getHeight(),i=new Un(r),a=n&&n.get(Ut.TRY_HARDER)===!0,s=Math.max(1,o>>(a?8:5)),u;a?u=o:u=15;for(var f=Math.trunc(o/2),d=0;d<u;d++){var h=Math.trunc((d+1)/2),m=(d&1)===0,g=f+s*(m?h:-h);if(g<0||g>=o)break;try{i=e.getBlackRow(g,i)}catch{continue}for(var b=function(A){if(A===1&&(i.reverse(),n&&n.get(Ut.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;n.forEach(function(P,k){return I.set(k,P)}),I.delete(Ut.NEED_RESULT_POINT_CALLBACK),n=I}try{var T=w.decodeRow(g,i,n);if(A===1){T.putMetadata(Xn.ORIENTATION,180);var O=T.getResultPoints();O!==null&&(O[0]=new ke(r-O[0].getX()-1,O[0].getY()),O[1]=new ke(r-O[1].getX()-1,O[1].getY()))}return{value:T}}catch{}},w=this,_=0;_<2;_++){var C=b(_);if(typeof C=="object")return C.value}}throw new oe},t.recordPattern=function(e,n,r){for(var o=r.length,i=0;i<o;i++)r[i]=0;var a=e.getSize();if(n>=a)throw new oe;for(var s=!e.get(n),u=0,f=n;f<a;){if(e.get(f)!==s)r[u]++;else{if(++u===o)break;r[u]=1,s=!s}f++}if(!(u===o||u===o-1&&f===a))throw new oe},t.recordPatternInReverse=function(e,n,r){for(var o=r.length,i=e.get(n);n>0&&o>=0;)e.get(--n)!==i&&(o--,i=!i);if(o>=0)throw new oe;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var o=e.length,i=0,a=0,s=0;s<o;s++)i+=e[s],a+=n[s];if(i<a)return Number.POSITIVE_INFINITY;var u=i/a;r*=u;for(var f=0,d=0;d<o;d++){var h=e[d],m=n[d]*u,g=h>m?h-m:m-h;if(g>r)return Number.POSITIVE_INFINITY;f+=g}return f/i},t})(),OX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ew=(function(t){OX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),o=n.getNextSet(0),i=0,a=Int32Array.from([0,0,0,0,0,0]),s=o,u=!1,f=6,d=o;d<r;d++)if(n.get(d)!==u)a[i]++;else{if(i===f-1){for(var h=e.MAX_AVG_VARIANCE,m=-1,g=e.CODE_START_A;g<=e.CODE_START_C;g++){var b=Pn.patternMatchVariance(a,e.CODE_PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,m=g)}if(m>=0&&n.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,m]);s+=a[0]+a[1],a=a.slice(2,a.length),a[i-1]=0,a[i]=0,i--}else i++;a[i]=1,u=!u}throw new oe},e.decodeCode=function(n,r,o){Pn.recordPattern(n,o,r);for(var i=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);f<i&&(i=f,a=s)}if(a>=0)return a;throw new oe},e.prototype.decodeRow=function(n,r,o){var i=o&&o.get(Ut.ASSUME_GS1)===!0,a=e.findStartPattern(r),s=a[2],u=0,f=new Uint8Array(20);f[u++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new ve}for(var h=!1,m=!1,g="",b=a[0],w=a[1],_=Int32Array.from([0,0,0,0,0,0]),C=0,A=0,I=s,T=0,O=!0,P=!1,k=!1;!h;){var R=m;switch(m=!1,C=A,A=e.decodeCode(r,_,w),f[u++]=A,A!==e.CODE_STOP&&(O=!0),A!==e.CODE_STOP&&(T++,I+=T*A),b=w,w+=_.reduce(function(re,L){return re+L},0),A){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(d){case e.CODE_CODE_A:if(A<64)k===P?g+=String.fromCharCode(32+A):g+=String.fromCharCode(32+A+128),k=!1;else if(A<96)k===P?g+=String.fromCharCode(A-64):g+=String.fromCharCode(A+64),k=!1;else switch(A!==e.CODE_STOP&&(O=!1),A){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!P&&k?(P=!0,k=!1):P&&k?(P=!1,k=!1):k=!0;break;case e.CODE_SHIFT:m=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(A<96)k===P?g+=String.fromCharCode(32+A):g+=String.fromCharCode(32+A+128),k=!1;else switch(A!==e.CODE_STOP&&(O=!1),A){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!P&&k?(P=!0,k=!1):P&&k?(P=!1,k=!1):k=!0;break;case e.CODE_SHIFT:m=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(A<100)A<10&&(g+="0"),g+=A;else switch(A!==e.CODE_STOP&&(O=!1),A){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}R&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var z=w-b;if(w=r.getNextUnset(w),!r.isRange(w,Math.min(r.getSize(),w+(w-b)/2),!1))throw new oe;if(I-=T*C,I%103!==C)throw new gn;var F=g.length;if(F===0)throw new oe;F>0&&O&&(d===e.CODE_CODE_C?g=g.substring(0,F-2):g=g.substring(0,F-1));for(var U=(a[1]+a[0])/2,H=b+z/2,Y=f.length,ae=new Uint8Array(Y),X=0;X<Y;X++)ae[X]=f[X];var q=[new ke(U,n),new ke(H,n)];return new nr(g,ae,0,q,$e.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Pn),PX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_w=(function(t){PX(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var o=t.call(this)||this;return o.usingCheckDigit=n,o.extendedMode=r,o.decodeRowResult="",o.counters=new Int32Array(9),o}return e.prototype.decodeRow=function(n,r,o){var i,a,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(r,f),h=r.getNextSet(d[1]),m=r.getSize(),g,b;do{e.recordPattern(r,h,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new oe;g=e.patternToChar(w),this.decodeRowResult+=g,b=h;try{for(var _=(i=void 0,cm(f)),C=_.next();!C.done;C=_.next()){var A=C.value;h+=A}}catch(Y){i={error:Y}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h=r.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var T=cm(f),O=T.next();!O.done;O=T.next()){var A=O.value;I+=A}}catch(Y){s={error:Y}}finally{try{O&&!O.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}var P=h-b-I;if(h!==m&&P*2<I)throw new oe;if(this.usingCheckDigit){for(var k=this.decodeRowResult.length-1,R=0,z=0;z<k;z++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(z));if(this.decodeRowResult.charAt(k)!==e.ALPHABET_STRING.charAt(R%43))throw new gn;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new oe;var F;this.extendedMode?F=e.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var U=(d[1]+d[0])/2,H=b+I/2;return new nr(F,null,0,[new ke(U,n),new ke(H,n)],$e.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var o=n.getSize(),i=n.getNextSet(0),a=0,s=i,u=!1,f=r.length,d=i;d<o;d++)if(n.get(d)!==u)r[a]++;else{if(a===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,u=!u}throw new oe},e.toNarrowWidePattern=function(n){var r,o,i=n.length,a=0,s;do{var u=2147483647;try{for(var f=(r=void 0,cm(n)),d=f.next();!d.done;d=f.next()){var h=d.value;h<u&&h>a&&(u=h)}}catch(w){r={error:w}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}a=u,s=0;for(var m=0,g=0,b=0;b<i;b++){var h=n[b];h>a&&(g|=1<<i-1-b,s++,m+=h)}if(s===3){for(var b=0;b<i&&s>0;b++){var h=n[b];if(h>a&&(s--,h*2>=m))return-1}return g}}while(s>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(n){for(var r=n.length,o="",i=0;i<r;i++){var a=n.charAt(i);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=n.charAt(i+1),u="\0";switch(a){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new ve;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new ve;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new ve;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new ve;break}o+=u,i++}else o+=a}return o},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Pn),RX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),um=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cw=(function(t){RX(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,o){var i,a,s,u,f=this.findAsteriskPattern(r),d=r.getNextSet(f[1]),h=r.getSize(),m=this.counters;m.fill(0),this.decodeRowResult="";var g,b;do{e.recordPattern(r,d,m);var w=this.toPattern(m);if(w<0)throw new oe;g=this.patternToChar(w),this.decodeRowResult+=g,b=d;try{for(var _=(i=void 0,um(m)),C=_.next();!C.done;C=_.next()){var A=C.value;d+=A}}catch(z){i={error:z}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}d=r.getNextSet(d)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var T=um(m),O=T.next();!O.done;O=T.next()){var A=O.value;I+=A}}catch(z){s={error:z}}finally{try{O&&!O.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}if(d===h||!r.get(d))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var P=this.decodeExtended(this.decodeRowResult),k=(f[1]+f[0])/2,R=b+I/2;return new nr(P,null,0,[new ke(k,n),new ke(R,n)],$e.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),o=n.getNextSet(0);this.counters.fill(0);for(var i=this.counters,a=o,s=!1,u=i.length,f=0,d=o;d<r;d++)if(n.get(d)!==s)i[f]++;else{if(f===u-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([a,d]);a+=i[0]+i[1],i.copyWithin(0,2,2+f-1),i[f-1]=0,i[f]=0,f--}else f++;i[f]=1,s=!s}throw new oe},e.prototype.toPattern=function(n){var r,o,i=0;try{for(var a=um(n),s=a.next();!s.done;s=a.next()){var u=s.value;i+=u}}catch(b){r={error:b}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}for(var f=0,d=n.length,h=0;h<d;h++){var m=Math.round(n[h]*9/i);if(m<1||m>4)return-1;if((h&1)===0)for(var g=0;g<m;g++)f=f<<1|1;else f<<=m}return f},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new oe},e.prototype.decodeExtended=function(n){for(var r=n.length,o="",i=0;i<r;i++){var a=n.charAt(i);if(a>="a"&&a<="d"){if(i>=r-1)throw new ve;var s=n.charAt(i+1),u="\0";switch(a){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new ve;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new ve;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new ve;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new ve;break}o+=u,i++}else o+=a}return o},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,o){for(var i=1,a=0,s=r-1;s>=0;s--)a+=i*e.ALPHABET_STRING.indexOf(n.charAt(s)),++i>o&&(i=1);if(n.charAt(r)!==e.ALPHABET_STRING[a%47])throw new gn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Pn),kX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),DX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aw=(function(t){kX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,o){var i,a,s=this.decodeStart(r),u=this.decodeEnd(r),f=new st;e.decodeMiddle(r,s[1],u[0],f);var d=f.toString(),h=null;o!=null&&(h=o.get(Ut.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var m=d.length,g=!1,b=0;try{for(var w=DX(h),_=w.next();!_.done;_=w.next()){var C=_.value;if(m===C){g=!0;break}C>b&&(b=C)}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}if(!g&&m>b&&(g=!0),!g)throw new ve;var A=[new ke(s[1],n),new ke(u[0],n)],I=new nr(d,null,0,A,$e.ITF,new Date().getTime());return I},e.decodeMiddle=function(n,r,o,i){var a=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),s.fill(0),u.fill(0);r<o;){Pn.recordPattern(n,r,a);for(var f=0;f<5;f++){var d=2*f;s[f]=a[d],u[f]=a[d+1]}var h=e.decodeDigit(s);i.append(h.toString()),h=this.decodeDigit(u),i.append(h.toString()),a.forEach(function(m){r+=m})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),o=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o},e.prototype.validateQuietZone=function(n,r){var o=this.narrowLineWidth*10;o=o<r?o:r;for(var i=r-1;o>0&&i>=0&&!n.get(i);i--)o--;if(o!==0)throw new oe},e.skipWhiteSpace=function(n){var r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new oe;return o},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),o=void 0;try{o=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof oe&&(o=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);var i=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-i,o}finally{n.reverse()}},e.findGuardPattern=function(n,r,o){var i=o.length,a=new Int32Array(i),s=n.getSize(),u=!1,f=0,d=r;a.fill(0);for(var h=r;h<s;h++)if(n.get(h)!==u)a[f]++;else{if(f===i-1){if(Pn.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,h];d+=a[0]+a[1],$t.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,u=!u}throw new oe},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,o=-1,i=e.PATTERNS.length,a=0;a<i;a++){var s=e.PATTERNS[a],u=Pn.patternMatchVariance(n,s,e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,o=a):u===r&&(o=-1)}if(o>=0)return o%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Pn),MX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mc=(function(t){MX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,o,i=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]),o=e.findGuardPattern(n,i,!1,this.START_END_PATTERN,a);var s=o[0];i=o[1];var u=s-(i-s);u>=0&&(r=n.isRange(u,s,!1))}return o},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var o=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===o},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,o=0,i=r-1;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new ve;o+=a}o*=3;for(var i=r-2;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new ve;o+=a}return(1e3-o)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,o,i){return this.findGuardPattern(n,r,o,i,new Int32Array(i.length))},e.findGuardPattern=function(n,r,o,i,a){var s=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);for(var u=0,f=r,d=i.length,h=o,m=r;m<s;m++)if(n.get(m)!==h)a[u]++;else{if(u===d-1){if(Pn.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,m]);f+=a[0]+a[1];for(var g=a.slice(2,a.length),b=0;b<u-1;b++)a[b]=g[b];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,h=!h}throw new oe},e.decodeDigit=function(n,r,o,i){this.recordPattern(n,o,r);for(var a=this.MAX_AVG_VARIANCE,s=-1,u=i.length,f=0;f<u;f++){var d=i[f],h=Pn.patternMatchVariance(r,d,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=f)}if(s>=0)return s;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Pn),BX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LX=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=t.parseExtensionString(a),u=[new ke((r[0]+r[1])/2,e),new ke(i,e)],f=new nr(a,null,0,u,$e.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],f=0,d=0;d<5&&u<s;d++){var h=mc.decodeDigit(e,a,u,mc.L_AND_G_PATTERNS);r+=String.fromCharCode(48+h%10);try{for(var m=(o=void 0,BX(a)),g=m.next();!g.done;g=m.next()){var b=g.value;u+=b}}catch(_){o={error:_}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}h>=10&&(f|=1<<4-d),d!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new oe;var w=this.determineCheckDigit(f);if(t.extensionChecksum(r.toString())!==w)throw new oe;return u},t.extensionChecksum=function(e){for(var n=e.length,r=0,o=n-2;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;r*=3;for(var o=n-1;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Xn.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),o=(r/100).toString(),i=r%100,a=i<10?"0"+i:i.toString();return n+o+"."+a},t})(),FX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jX=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=t.parseExtensionString(a),u=[new ke((r[0]+r[1])/2,e),new ke(i,e)],f=new nr(a,null,0,u,$e.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],f=0,d=0;d<2&&u<s;d++){var h=mc.decodeDigit(e,a,u,mc.L_AND_G_PATTERNS);r+=String.fromCharCode(48+h%10);try{for(var m=(o=void 0,FX(a)),g=m.next();!g.done;g=m.next()){var b=g.value;u+=b}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}h>=10&&(f|=1<<1-d),d!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new oe;if(parseInt(r.toString())%4!==f)throw new oe;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Xn.ISSUE_NUMBER,parseInt(e)]])},t})(),zX=(function(){function t(){}return t.decodeRow=function(e,n,r){var o=mc.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new LX;return i.decodeRow(e,n,o)}catch{var a=new jX;return a.decodeRow(e,n,o)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),$X=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sn=(function(t){$X(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var o=e.L_PATTERNS[r-10],i=new Int32Array(o.length),a=0;a<o.length;a++)i[a]=o[o.length-a-1];e.L_AND_G_PATTERNS[r]=i}return n}return e.prototype.decodeRow=function(n,r,o){var i=e.findStartGuardPattern(r),a=o==null?null:o.get(Ut.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new ke((i[0]+i[1])/2,n);a.foundPossibleResultPoint(s)}var u=this.decodeMiddle(r,i,this.decodeRowStringBuffer),f=u.rowOffset,d=u.resultString;if(a!=null){var h=new ke(f,n);a.foundPossibleResultPoint(h)}var m=e.decodeEnd(r,f);if(a!=null){var g=new ke((m[0]+m[1])/2,n);a.foundPossibleResultPoint(g)}var b=m[1],w=b+(b-m[0]);if(w>=r.getSize()||!r.isRange(b,w,!1))throw new oe;var _=d.toString();if(_.length<8)throw new ve;if(!e.checkChecksum(_))throw new gn;var C=(i[1]+i[0])/2,A=(m[1]+m[0])/2,I=this.getBarcodeFormat(),T=[new ke(C,n),new ke(A,n)],O=new nr(_,null,0,T,I,new Date().getTime()),P=0;try{var k=zX.decodeRow(n,r,m[1]);O.putMetadata(Xn.UPC_EAN_EXTENSION,k.getText()),O.putAllMetadata(k.getResultMetadata()),O.addResultPoints(k.getResultPoints()),P=k.getText().length}catch{}var R=o==null?null:o.get(Ut.ALLOWED_EAN_EXTENSIONS);if(R!=null){var z=!1;for(var F in R)if(P.toString()===F){z=!0;break}if(!z)throw new oe}return I===$e.EAN_13||$e.UPC_A,O},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var o=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===o},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,o=0,i=r-1;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new ve;o+=a}o*=3;for(var i=r-2;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new ve;o+=a}return(1e3-o)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(mc),UX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bg=(function(t){UX(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,o){var i,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),h=r[1],m=0,g=0;g<6&&h<d;g++){var b=Sn.decodeDigit(n,f,h,Sn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);try{for(var w=(i=void 0,Sw(f)),_=w.next();!_.done;_=w.next()){var C=_.value;h+=C}}catch(O){i={error:O}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}b>=10&&(m|=1<<5-g)}o=e.determineFirstDigit(o,m);var A=Sn.findGuardPattern(n,h,!0,Sn.MIDDLE_PATTERN,new Int32Array(Sn.MIDDLE_PATTERN.length).fill(0));h=A[1];for(var g=0;g<6&&h<d;g++){var b=Sn.decodeDigit(n,f,h,Sn.L_PATTERNS);o+=String.fromCharCode(48+b);try{for(var I=(s=void 0,Sw(f)),T=I.next();!T.done;T=I.next()){var C=T.value;h+=C}}catch(k){s={error:k}}finally{try{T&&!T.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}}return{rowOffset:h,resultString:o}},e.prototype.getBarcodeFormat=function(){return $e.EAN_13},e.determineFirstDigit=function(n,r){for(var o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Sn),HX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Iw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tw=(function(t){HX(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,o){var i,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),h=r[1],m=0;m<4&&h<d;m++){var g=Sn.decodeDigit(n,f,h,Sn.L_PATTERNS);o+=String.fromCharCode(48+g);try{for(var b=(i=void 0,Iw(f)),w=b.next();!w.done;w=b.next()){var _=w.value;h+=_}}catch(T){i={error:T}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}}var C=Sn.findGuardPattern(n,h,!0,Sn.MIDDLE_PATTERN,new Int32Array(Sn.MIDDLE_PATTERN.length).fill(0));h=C[1];for(var m=0;m<4&&h<d;m++){var g=Sn.decodeDigit(n,f,h,Sn.L_PATTERNS);o+=String.fromCharCode(48+g);try{for(var A=(s=void 0,Iw(f)),I=A.next();!I.done;I=A.next()){var _=I.value;h+=_}}catch(P){s={error:P}}finally{try{I&&!I.done&&(u=A.return)&&u.call(A)}finally{if(s)throw s.error}}}return{rowOffset:h,resultString:o}},e.prototype.getBarcodeFormat=function(){return $e.EAN_8},e})(Sn),VX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Nw=(function(t){VX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new Bg,n}return e.prototype.getBarcodeFormat=function(){return $e.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))},e.prototype.decodeMiddle=function(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var o=new nr(r.substring(1),null,null,n.getResultPoints(),$e.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Sn),GX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),WX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ow=(function(t){GX(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,o){var i,a,s=this.decodeMiddleCounters.map(function(_){return _});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=n.getSize(),f=r[1],d=0,h=0;h<6&&f<u;h++){var m=e.decodeDigit(n,s,f,e.L_AND_G_PATTERNS);o+=String.fromCharCode(48+m%10);try{for(var g=(i=void 0,WX(s)),b=g.next();!b.done;b=g.next()){var w=b.value;f+=w}}catch(_){i={error:_}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}m>=10&&(d|=1<<5-h)}return e.determineNumSysAndCheckDigit(new st(o),d),f},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return Sn.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var o=0;o<=1;o++)for(var i=0;i<10;i++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][i]){n.insert(0,"0"+o),n.append("0"+i);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return $e.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),o=new st;o.append(n.charAt(0));var i=r[5];switch(i){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(i),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(i);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Sn),ZX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Pw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lm=(function(t){ZX(e,t);function e(n){var r=t.call(this)||this,o=n==null?null:n.get(Ut.POSSIBLE_FORMATS),i=[];return o!=null&&(o.indexOf($e.EAN_13)>-1&&i.push(new Bg),o.indexOf($e.UPC_A)>-1&&i.push(new Nw),o.indexOf($e.EAN_8)>-1&&i.push(new Tw),o.indexOf($e.UPC_E)>-1&&i.push(new Ow)),i.length===0&&(i.push(new Bg),i.push(new Nw),i.push(new Tw),i.push(new Ow)),r.readers=i,r}return e.prototype.decodeRow=function(n,r,o){var i,a;try{for(var s=Pw(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var d=f.decodeRow(n,r,o),h=d.getBarcodeFormat()===$e.EAN_13&&d.getText().charAt(0)==="0",m=o==null?null:o.get(Ut.POSSIBLE_FORMATS),g=m==null||m.includes($e.UPC_A);if(h&&g){var b=d.getRawBytes(),w=new nr(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),$e.UPC_A);return w.putAllMetadata(d.getResultMetadata()),w}return d}catch{}}}catch(_){i={error:_}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}throw new oe},e.prototype.reset=function(){var n,r;try{for(var o=Pw(this.readers),i=o.next();!i.done;i=o.next()){var a=i.value;a.reset()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e})(Pn),XX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),qX=(function(t){XX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,o){var i=this.getValidRowData(r);if(!i)throw new oe;var a=this.codaBarDecodeRow(i.row);if(!a)throw new oe;return new nr(a,null,0,[new ke(i.left,n),new ke(i.right,n)],$e.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),o=r.indexOf(!0);if(o===-1)return null;var i=r.lastIndexOf(!0);if(i<=o)return null;r=r.slice(o,i+1);for(var a=[],s=r[0],u=1,f=1;f<r.length;f++)r[f]===s?u++:(s=r[f],a.push(u),u=1);return a.push(u),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:o,right:i}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],o=Math.ceil(n.reduce(function(u,f){return(u+f)/2},0));n.length>0;){var i=n.splice(0,8).splice(0,7),a=i.map(function(u){return u<o?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[a])}var s=r.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(Pn),KX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fa=(function(t){KX(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var o=0;o<r.length;o++)if(Pn.patternMatchVariance(n,r[o],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return o;throw new oe},e.count=function(n){return Et.sum(new Int32Array(n))},e.increment=function(n,r){for(var o=0,i=r[0],a=1;a<n.length;a++)r[a]>i&&(i=r[a],o=a);n[o]++},e.decrement=function(n,r){for(var o=0,i=r[0],a=1;a<n.length;a++)r[a]<i&&(i=r[a],o=a);n[o]--},e.isFinderPattern=function(n){var r,o,i=n[0]+n[1],a=i+n[2]+n[3],s=i/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=YX(n),h=d.next();!h.done;h=d.next()){var m=h.value;m>f&&(f=m),m<u&&(u=m)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Pn),l0=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),B9=(function(){function t(e,n,r,o,i){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ke(r,i)),this.resultPoints.push(new ke(o,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),QX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$s=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var o,i,a=0;try{for(var s=QX(e),u=s.next();!u.done;u=s.next()){var f=u.value;a+=f}}catch(A){o={error:A}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}for(var d=0,h=0,m=e.length,g=0;g<m-1;g++){var b=void 0;for(b=1,h|=1<<g;b<e[g];b++,h&=~(1<<g)){var w=t.combins(a-b-1,m-g-2);if(r&&h===0&&a-b-(m-g-1)>=m-g-1&&(w-=t.combins(a-b-(m-g),m-g-2)),m-g-1>1){for(var _=0,C=a-b-(m-g-2);C>n;C--)_+=t.combins(a-b-C-1,m-g-3);w-=_*(m-1-g)}else a-b>n&&w--;d+=w}a-=b}return d},t.combins=function(e,n){var r,o;e-n>n?(o=n,r=e-n):(o=e-n,r=n);for(var i=1,a=1,s=e;s>r;s--)i*=s,a<=o&&(i/=a,a++);for(;a<=o;)i/=a,a++;return i},t})(),JX=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,o=new Un(r),i=0,a=e[0],s=a.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!==0&&o.set(i),i++;for(var u=1;u<e.length;++u){for(var f=e[u],d=f.getLeftChar().getValue(),h=11;h>=0;--h)(d&1<<h)!==0&&o.set(i),i++;if(f.getRightChar()!==null)for(var m=f.getRightChar().getValue(),h=11;h>=0;--h)(m&1<<h)!==0&&o.set(i),i++}return o},t})(),Ma=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),Lv=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),eq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mo=(function(t){eq(e,t);function e(n,r){var o=t.call(this,n)||this;return o.value=r,o}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Lv),tq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ba=(function(t){tq(e,t);function e(n,r,o){var i=t.call(this,n)||this;return o?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Lv),nq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ks=(function(t){nq(e,t);function e(n,r,o){var i=t.call(this,n)||this;if(r<0||r>10||o<0||o>10)throw new ve;return i.firstDigit=r,i.secondDigit=o,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Lv),hd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rq=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,o,i,a,s,u,f;if(!e)return null;if(e.length<2)throw new oe;var d=e.substring(0,2);try{for(var h=hd(t.TWO_DIGIT_DATA_LENGTH),m=h.next();!m.done;m=h.next()){var g=m.value;if(g[0]===d)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,g[2],e):t.processFixedAI(2,g[1],e)}}catch(P){n={error:P}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}if(e.length<3)throw new oe;var b=e.substring(0,3);try{for(var w=hd(t.THREE_DIGIT_DATA_LENGTH),_=w.next();!_.done;_=w.next()){var g=_.value;if(g[0]===b)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,g[2],e):t.processFixedAI(3,g[1],e)}}catch(P){o={error:P}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(o)throw o.error}}try{for(var C=hd(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),A=C.next();!A.done;A=C.next()){var g=A.value;if(g[0]===b)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(P){a={error:P}}finally{try{A&&!A.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}if(e.length<4)throw new oe;var I=e.substring(0,4);try{for(var T=hd(t.FOUR_DIGIT_DATA_LENGTH),O=T.next();!O.done;O=T.next()){var g=O.value;if(g[0]===I)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(P){u={error:P}}finally{try{O&&!O.done&&(f=T.return)&&f.call(T)}finally{if(u)throw u.error}}throw new oe},t.processFixedAI=function(e,n,r){if(r.length<e)throw new oe;var o=r.substring(0,e);if(r.length<e+n)throw new oe;var i=r.substring(e,e+n),a=r.substring(e+n),s="("+o+")"+i,u=t.parseFieldsInGeneralPurpose(a);return u==null?s:s+u},t.processVariableAI=function(e,n,r){var o=r.substring(0,e),i;r.length<e+n?i=r.length:i=e+n;var a=r.substring(e,i),s=r.substring(i),u="("+o+")"+a,f=t.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),Dd=(function(){function t(e){this.buffer=new st,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,o=null;do{var i=this.decodeGeneralPurposeField(r,o),a=rq.parseFieldsInGeneralPurpose(i.getNewString());if(a!=null&&e.append(a),i.isRemaining()?o=""+i.getRemainingValue():o=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new ks(this.information.getSize(),ks.FNC1,ks.FNC1):new ks(this.information.getSize(),n-1,ks.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),o=(r-8)/11,i=(r-8)%11;return new ks(e+7,o,i)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var o=0,i=0;i<r;++i)e.get(n+i)&&(o|=1<<r-i-1);return o},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ba(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ba(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var o=r!==this.current.getPosition();if(!o&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new Ba(this.current.getPosition(),this.buffer.toString()):n=new Ba(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ma(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Ba(this.current.getPosition(),this.buffer.toString());return new Ma(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ma(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ba(this.current.getPosition(),this.buffer.toString());return new Ma(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ma(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ba(this.current.getPosition(),this.buffer.toString());return new Ma(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ma(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new mo(e+5,mo.FNC1);if(n>=5&&n<15)return new mo(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new mo(e+7,""+(r+1));if(r>=90&&r<116)return new mo(e+7,""+(r+7));var o=this.extractNumericValueFromBitArray(e,8),i;switch(o){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new ve}return new mo(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new mo(e+5,mo.FNC1);if(n>=5&&n<15)return new mo(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new mo(e+6,""+(r+33));var o;switch(r){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new jl("Decoding invalid alphanumeric value: "+r)}return new mo(e+6,o)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),L9=(function(){function t(e){this.information=e,this.generalDecoder=new Dd(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),oq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yo=(function(t){oq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,o){for(var i=0;i<4;++i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);a/100===0&&n.append("0"),a/10===0&&n.append("0"),n.append(a)}e.appendCheckDigit(n,o)},e.appendCheckDigit=function(n,r){for(var o=0,i=0;i<13;i++){var a=n.charAt(i+r).charCodeAt(0)-48;o+=(i&1)===0?3*a:a}o=10-o%10,o===10&&(o=0),n.append(o)},e.GTIN_SIZE=40,e})(L9),iq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aq=(function(t){iq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new st;n.append("(01)");var r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(yo),sq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cq=(function(t){sq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new st;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(L9),uq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Md=(function(t){uq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,i);for(var a=this.checkWeight(i),s=1e5,u=0;u<5;++u)a/s===0&&n.append("0"),s/=10;n.append(a)},e})(yo),lq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),F9=(function(t){lq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Md.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var n=new st;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+Md.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Md),fq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),dq=(function(t){fq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(F9),hq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pq=(function(t){hq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(F9),mq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gq=(function(t){mq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+yo.GTIN_SIZE)throw new oe;var n=new st;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+yo.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+yo.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(yo),yq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vq=(function(t){yq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+yo.GTIN_SIZE)throw new oe;var n=new st;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+yo.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+yo.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+yo.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(yo),bq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ta=(function(t){bq(e,t);function e(n,r,o){var i=t.call(this,n)||this;return i.dateCode=o,i.firstAIdigits=r,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var n=new st;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(o!==38400){n.append("("),n.append(this.dateCode),n.append(")");var i=o%32;o/=32;var a=o%12+1;o/=12;var s=o;s/10===0&&n.append("0"),n.append(s),a/10===0&&n.append("0"),n.append(a),i/10===0&&n.append("0"),n.append(i)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Md);function xq(t){try{if(t.get(1))return new aq(t);if(!t.get(2))return new cq(t);var e=Dd.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new dq(t);case 5:return new pq(t)}var n=Dd.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new gq(t);case 13:return new vq(t)}var r=Dd.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new ta(t,"310","11");case 57:return new ta(t,"320","11");case 58:return new ta(t,"310","13");case 59:return new ta(t,"320","13");case 60:return new ta(t,"310","15");case 61:return new ta(t,"320","15");case 62:return new ta(t,"310","17");case 63:return new ta(t,"320","17")}}catch(o){throw console.log(o),new jl("unknown decoder: "+t)}}var Rw=(function(){function t(e,n,r,o){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=o}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),wq=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(o,i){n.forEach(function(a){o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),Eq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),na=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_q=(function(t){Eq(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var o=!1;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(s){if(s instanceof oe){if(!this.pairs.length)throw new oe;o=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(n,!1),i){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new oe},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(o){console.log(o)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var o,i,a=r;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var u=(o=void 0,na(n)),f=u.next();!f.done;f=u.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(m){o={error:m}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(n);h.push(s);try{return this.checkRows(h,a+1)}catch(m){console.log(m)}}}throw new oe},e.isValidSequence=function(n){var r,o;try{for(var i=na(e.FINDER_PATTERN_SEQUENCES),a=i.next();!a.done;a=i.next()){var s=a.value;if(!(n.length>s.length)){for(var u=!0,f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!==s[f]){u=!1;break}if(u)return!0}}}catch(d){r={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var o=0,i=!1,a=!1;o<this.rows.length;){var s=this.rows[o];if(s.getRowNumber()>n){a=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),o++}a||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new wq(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var o,i,a,s,u,f;try{for(var d=na(r),h=d.next();!h.done;h=d.next()){var m=h.value;if(m.getPairs().length!==n.length){var g=!0;try{for(var b=(a=void 0,na(m.getPairs())),w=b.next();!w.done;w=b.next()){var _=w.value,C=!1;try{for(var A=(u=void 0,na(n)),I=A.next();!I.done;I=A.next()){var T=I.value;if(Rw.equals(_,T)){C=!0;break}}}catch(O){u={error:O}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(u)throw u.error}}C||(g=!1)}}catch(O){a={error:O}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}}}}catch(O){o={error:O}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}},e.isPartialRow=function(n,r){var o,i,a,s,u,f;try{for(var d=na(r),h=d.next();!h.done;h=d.next()){var m=h.value,g=!0;try{for(var b=(a=void 0,na(n)),w=b.next();!w.done;w=b.next()){var _=w.value,C=!1;try{for(var A=(u=void 0,na(m.getPairs())),I=A.next();!I.done;I=A.next()){var T=I.value;if(_.equals(T)){C=!0;break}}}catch(O){u={error:O}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(u)throw u.error}}if(!C){g=!1;break}}}catch(O){a={error:O}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(g)return!0}}catch(O){o={error:O}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=JX.buildBitArray(n),o=xq(r),i=o.parseInformation(),a=n[0].getFinderPattern().getResultPoints(),s=n[n.length-1].getFinderPattern().getResultPoints(),u=[a[0],a[1],s[0],s[1]];return new nr(i,null,null,u,$e.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o===null)return!1;for(var i=o.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);i+=u.getLeftChar().getChecksumPortion(),a++;var f=u.getRightChar();f!=null&&(i+=f.getChecksumPortion(),a++)}i%=211;var d=211*(a-4)+i;return d===r.getValue()},e.getNextSecondBar=function(n,r){var o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o},e.prototype.retrieveNextPair=function(n,r,o){var i=r.length%2===0;this.startFromEven&&(i=!i);var a,s=!0,u=-1;do this.findNextPair(n,r,u),a=this.parseFoundFinderPattern(n,o,i),a===null?u=e.getNextSecondBar(n,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(n,a,i,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new oe;var d;try{d=this.decodeDataCharacter(n,a,i,!1)}catch(h){d=null,console.log(h)}return new Rw(f,d,a,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,o){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var a=n.getSize(),s;if(o>=0)s=o;else if(this.isEmptyPair(r))s=0;else{var u=r[r.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;s<a&&(d=!n.get(s),!!d);)s++;for(var h=0,m=s,g=s;g<a;g++)if(n.get(g)!==d)i[h]++;else{if(h===3){if(f&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=m,this.startEnd[1]=g;return}f&&e.reverseCounters(i),m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,d=!d}throw new oe},e.reverseCounters=function(n){for(var r=n.length,o=0;o<r/2;++o){var i=n[o];n[o]=n[r-o-1],n[r-o-1]=i}},e.prototype.parseFoundFinderPattern=function(n,r,o){var i,a,s;if(o){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,i=this.startEnd[0]-u,a=u,s=this.startEnd[1]}else a=this.startEnd[0],s=n.getNextUnset(this.startEnd[1]+1),i=s-this.startEnd[1];var f=this.getDecodeFinderCounters();$t.arraycopy(f,0,f,1,f.length-1),f[0]=i;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new B9(d,[a,s],a,s,r)},e.prototype.decodeDataCharacter=function(n,r,o,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)e.recordPatternInReverse(n,r.getStartEnd()[0],a);else{e.recordPattern(n,r.getStartEnd()[1],a);for(var u=0,f=a.length-1;u<f;u++,f--){var d=a[u];a[u]=a[f],a[f]=d}}var h=17,m=Et.sum(new Int32Array(a))/h,g=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(m-g)/g>.3)throw new oe;for(var b=this.getOddCounts(),w=this.getEvenCounts(),_=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var A=1*a[u]/m,I=A+.5;if(I<1){if(A<.3)throw new oe;I=1}else if(I>8){if(A>8.7)throw new oe;I=8}var T=u/2;(u&1)===0?(b[T]=I,_[T]=A-I):(w[T]=I,C[T]=A-I)}this.adjustOddEvenCounts(h);for(var O=4*r.getValue()+(o?0:2)+(i?0:1)-1,P=0,k=0,u=b.length-1;u>=0;u--){if(e.isNotA1left(r,o,i)){var R=e.WEIGHTS[O][2*u];k+=b[u]*R}P+=b[u]}for(var z=0,u=w.length-1;u>=0;u--)if(e.isNotA1left(r,o,i)){var R=e.WEIGHTS[O][2*u+1];z+=w[u]*R}var F=k+z;if((P&1)!==0||P>13||P<4)throw new oe;var U=(13-P)/2,H=e.SYMBOL_WIDEST[U],Y=9-H,ae=$s.getRSSvalue(b,H,!0),X=$s.getRSSvalue(w,Y,!1),q=e.EVEN_TOTAL_SUBSET[U],re=e.GSUM[U],L=ae*q+X+re;return new l0(L,F)},e.isNotA1left=function(n,r,o){return!(n.getValue()===0&&r&&o)},e.prototype.adjustOddEvenCounts=function(n){var r=Et.sum(new Int32Array(this.getOddCounts())),o=Et.sum(new Int32Array(this.getEvenCounts())),i=!1,a=!1;r>13?a=!0:r<4&&(i=!0);var s=!1,u=!1;o>13?u=!0:o<4&&(s=!0);var f=r+o-n,d=(r&1)===1,h=(o&1)===0;if(f===1)if(d){if(h)throw new oe;a=!0}else{if(!h)throw new oe;u=!0}else if(f===-1)if(d){if(h)throw new oe;i=!0}else{if(!h)throw new oe;s=!0}else if(f===0){if(d){if(!h)throw new oe;r<o?(i=!0,u=!0):(a=!0,s=!0)}else if(h)throw new oe}else throw new oe;if(i){if(a)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Fa),Cq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Aq=(function(t){Cq(e,t);function e(n,r,o){var i=t.call(this,n,r)||this;return i.count=0,i.finderPattern=o,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(l0),Sq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kw=(function(t){Sq(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,o){var i,a,s,u,f=this.decodePair(r,!1,n,o);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var d=this.decodePair(r,!0,n,o);e.addOrTally(this.possibleRightPairs,d),r.reverse();try{for(var h=fm(this.possibleLeftPairs),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.getCount()>1)try{for(var b=(s=void 0,fm(this.possibleRightPairs)),w=b.next();!w.done;w=b.next()){var _=w.value;if(_.getCount()>1&&e.checkChecksum(g,_))return e.constructResult(g,_)}}catch(C){s={error:C}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}}}catch(C){i={error:C}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}throw new oe},e.addOrTally=function(n,r){var o,i;if(r!=null){var a=!1;try{for(var s=fm(n),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===r.getValue()){f.incrementCount(),a=!0;break}}}catch(d){o={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}a||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var o=4537077*n.getValue()+r.getValue(),i=new String(o).toString(),a=new st,s=13-i.length;s>0;s--)a.append("0");a.append(i);for(var u=0,s=0;s<13;s++){var f=a.charAt(s).charCodeAt(0)-48;u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),a.append(u.toString());var d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new nr(a.toString(),null,0,[d[0],d[1],h[0],h[1]],$e.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,o===i},e.prototype.decodePair=function(n,r,o,i){try{var a=this.findFinderPattern(n,r),s=this.parseFoundFinderPattern(n,o,r,a),u=i==null?null:i.get(Ut.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(a[0]+a[1])/2;r&&(f=n.getSize()-1-f),u.foundPossibleResultPoint(new ke(f,o))}var d=this.decodeDataCharacter(n,s,!0),h=this.decodeDataCharacter(n,s,!1);return new Aq(1597*d.getValue()+h.getValue(),d.getChecksumPortion()+4*h.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,o){for(var i=this.getDataCharacterCounters(),a=0;a<i.length;a++)i[a]=0;if(o)Pn.recordPatternInReverse(n,r.getStartEnd()[0],i);else{Pn.recordPattern(n,r.getStartEnd()[1]+1,i);for(var s=0,u=i.length-1;s<u;s++,u--){var f=i[s];i[s]=i[u],i[u]=f}}for(var d=o?16:15,h=Et.sum(new Int32Array(i))/d,m=this.getOddCounts(),g=this.getEvenCounts(),b=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var _=i[s]/h,C=Math.floor(_+.5);C<1?C=1:C>8&&(C=8);var A=Math.floor(s/2);(s&1)===0?(m[A]=C,b[A]=_-C):(g[A]=C,w[A]=_-C)}this.adjustOddEvenCounts(o,d);for(var I=0,T=0,s=m.length-1;s>=0;s--)T*=9,T+=m[s],I+=m[s];for(var O=0,P=0,s=g.length-1;s>=0;s--)O*=9,O+=g[s],P+=g[s];var k=T+3*O;if(o){if((I&1)!==0||I>12||I<4)throw new oe;var R=(12-I)/2,z=e.OUTSIDE_ODD_WIDEST[R],F=9-z,U=$s.getRSSvalue(m,z,!1),H=$s.getRSSvalue(g,F,!0),Y=e.OUTSIDE_EVEN_TOTAL_SUBSET[R],ae=e.OUTSIDE_GSUM[R];return new l0(U*Y+H+ae,k)}else{if((P&1)!==0||P>10||P<4)throw new oe;var R=(10-P)/2,z=e.INSIDE_ODD_WIDEST[R],F=9-z,U=$s.getRSSvalue(m,z,!0),H=$s.getRSSvalue(g,F,!1),X=e.INSIDE_ODD_TOTAL_SUBSET[R],ae=e.INSIDE_GSUM[R];return new l0(H*X+U+ae,k)}},e.prototype.findFinderPattern=function(n,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var i=n.getSize(),a=!1,s=0;s<i&&(a=!n.get(s),r!==a);)s++;for(var u=0,f=s,d=s;d<i;d++)if(n.get(d)!==a)o[u]++;else{if(u===3){if(Fa.isFinderPattern(o))return[f,d];f+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,u--}else u++;o[u]=1,a=!a}throw new oe},e.prototype.parseFoundFinderPattern=function(n,r,o,i){for(var a=n.get(i[0]),s=i[0]-1;s>=0&&a!==n.get(s);)s--;s++;var u=i[0]-s,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);$t.arraycopy(f,0,d,1,f.length-1),d[0]=u;var h=this.parseFinderValue(d,e.FINDER_PATTERNS),m=s,g=i[1];return o&&(m=n.getSize()-1-m,g=n.getSize()-1-g),new B9(h,[s,i[1]],m,g,r)},e.prototype.adjustOddEvenCounts=function(n,r){var o=Et.sum(new Int32Array(this.getOddCounts())),i=Et.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,u=!1,f=!1;n?(o>12?s=!0:o<4&&(a=!0),i>12?f=!0:i<4&&(u=!0)):(o>11?s=!0:o<5&&(a=!0),i>10?f=!0:i<4&&(u=!0));var d=o+i-r,h=(o&1)===(n?1:0),m=(i&1)===1;if(d===1)if(h){if(m)throw new oe;s=!0}else{if(!m)throw new oe;f=!0}else if(d===-1)if(h){if(m)throw new oe;a=!0}else{if(!m)throw new oe;u=!0}else if(d===0){if(h){if(!m)throw new oe;o<i?(a=!0,f=!0):(s=!0,u=!0)}else if(m)throw new oe}else throw new oe;if(a){if(s)throw new oe;Fa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Fa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new oe;Fa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Fa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Fa),Iq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Us=(function(t){Iq(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var o=n?n.get(Ut.POSSIBLE_FORMATS):null,i=n&&n.get(Ut.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=n&&n.get(Ut.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return o&&((o.includes($e.EAN_13)||o.includes($e.UPC_A)||o.includes($e.EAN_8)||o.includes($e.UPC_E))&&r.readers.push(new lm(n)),o.includes($e.CODE_39)&&r.readers.push(new _w(i,a)),o.includes($e.CODE_93)&&r.readers.push(new Cw),o.includes($e.CODE_128)&&r.readers.push(new Ew),o.includes($e.ITF)&&r.readers.push(new Aw),o.includes($e.CODABAR)&&r.readers.push(new qX),o.includes($e.RSS_14)&&r.readers.push(new kw),o.includes($e.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new _q))),r.readers.length===0&&(r.readers.push(new lm(n)),r.readers.push(new _w),r.readers.push(new Cw),r.readers.push(new lm(n)),r.readers.push(new Ew),r.readers.push(new Aw),r.readers.push(new kw)),r}return e.prototype.decodeRow=function(n,r,o){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,r,o)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Pn),Tq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){Tq(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new Us(r),n,r)||this}return e})(Oc);var Dw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ot=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Ct=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),Nq=(function(){function t(e,n,r,o,i,a){var s,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=i,this.ecBlocks=a;var f=0,d=a.getECCodewords(),h=a.getECBlocks();try{for(var m=Dw(h),g=m.next();!g.done;g=m.next()){var b=g.value;f+=b.getCount()*(b.getDataCodewords()+d)}}catch(w){s={error:w}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,o;if((e&1)!==0||(n&1)!==0)throw new ve;try{for(var i=Dw(t.VERSIONS),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new ve},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ot(5,new Ct(1,3))),new t(2,12,12,10,10,new Ot(7,new Ct(1,5))),new t(3,14,14,12,12,new Ot(10,new Ct(1,8))),new t(4,16,16,14,14,new Ot(12,new Ct(1,12))),new t(5,18,18,16,16,new Ot(14,new Ct(1,18))),new t(6,20,20,18,18,new Ot(18,new Ct(1,22))),new t(7,22,22,20,20,new Ot(20,new Ct(1,30))),new t(8,24,24,22,22,new Ot(24,new Ct(1,36))),new t(9,26,26,24,24,new Ot(28,new Ct(1,44))),new t(10,32,32,14,14,new Ot(36,new Ct(1,62))),new t(11,36,36,16,16,new Ot(42,new Ct(1,86))),new t(12,40,40,18,18,new Ot(48,new Ct(1,114))),new t(13,44,44,20,20,new Ot(56,new Ct(1,144))),new t(14,48,48,22,22,new Ot(68,new Ct(1,174))),new t(15,52,52,24,24,new Ot(42,new Ct(2,102))),new t(16,64,64,14,14,new Ot(56,new Ct(2,140))),new t(17,72,72,16,16,new Ot(36,new Ct(4,92))),new t(18,80,80,18,18,new Ot(48,new Ct(4,114))),new t(19,88,88,20,20,new Ot(56,new Ct(4,144))),new t(20,96,96,22,22,new Ot(68,new Ct(4,174))),new t(21,104,104,24,24,new Ot(56,new Ct(6,136))),new t(22,120,120,18,18,new Ot(68,new Ct(6,175))),new t(23,132,132,20,20,new Ot(62,new Ct(8,163))),new t(24,144,144,22,22,new Ot(62,new Ct(8,156),new Ct(2,155))),new t(25,8,18,6,16,new Ot(7,new Ct(1,5))),new t(26,8,32,6,14,new Ot(11,new Ct(1,10))),new t(27,12,26,10,24,new Ot(14,new Ct(1,16))),new t(28,12,36,10,16,new Ot(18,new Ct(1,22))),new t(29,16,36,14,16,new Ot(24,new Ct(1,32))),new t(30,16,48,14,22,new Ot(28,new Ct(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),Oq=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new ve;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Yo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return Nq.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,o=0,i=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,d=!1;do if(r===i&&o===0&&!s)e[n++]=this.readCorner1(i,a)&255,r-=2,o+=2,s=!0;else if(r===i-2&&o===0&&(a&3)!==0&&!u)e[n++]=this.readCorner2(i,a)&255,r-=2,o+=2,u=!0;else if(r===i+4&&o===2&&(a&7)===0&&!f)e[n++]=this.readCorner3(i,a)&255,r-=2,o+=2,f=!0;else if(r===i-2&&o===0&&(a&7)===4&&!d)e[n++]=this.readCorner4(i,a)&255,r-=2,o+=2,d=!0;else{do r<i&&o>=0&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,i,a)&255),r-=2,o+=2;while(r>=0&&o<a);r+=1,o+=3;do r>=0&&o<a&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,i,a)&255),r+=2,o-=2;while(r<i&&o>=0);r+=3,o+=1}while(r<i||o<a);if(n!==this.version.getTotalCodewords())throw new ve;return e},t.prototype.readModule=function(e,n,r,o){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,o){var i=0;return this.readModule(e-2,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e-2,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n,r,o)&&(i|=1),i<<=1,this.readModule(e,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e,n,r,o)&&(i|=1),i},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Ue("Dimension of bitMatrix must match the version size");for(var o=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),a=n/o|0,s=r/i|0,u=a*o,f=s*i,d=new Yo(f,u),h=0;h<a;++h)for(var m=h*o,g=0;g<s;++g)for(var b=g*i,w=0;w<o;++w)for(var _=h*(o+2)+1+w,C=m+w,A=0;A<i;++A){var I=g*(i+2)+1+A;if(e.get(I,_)){var T=b+A;d.set(T,C)}}return d},t})(),Mw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pq=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,o,i,a,s=n.getECBlocks(),u=0,f=s.getECBlocks();try{for(var d=Mw(f),h=d.next();!h.done;h=d.next()){var m=h.value;u+=m.getCount()}}catch(ae){r={error:ae}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var g=new Array(u),b=0;try{for(var w=Mw(f),_=w.next();!_.done;_=w.next())for(var m=_.value,C=0;C<m.getCount();C++){var A=m.getDataCodewords(),I=s.getECCodewords()+A;g[b++]=new t(A,new Uint8Array(I))}}catch(ae){i={error:ae}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}for(var T=g[0].codewords.length,O=T-s.getECCodewords(),P=O-1,k=0,C=0;C<P;C++)for(var R=0;R<b;R++)g[R].codewords[C]=e[k++];for(var z=n.getVersionNumber()===24,F=z?8:b,R=0;R<F;R++)g[R].codewords[O-1]=e[k++];for(var U=g[0].codewords.length,C=O;C<U;C++)for(var R=0;R<b;R++){var H=z?(R+8)%b:R,Y=z&&H>7?C-1:C;g[H].codewords[Y]=e[k++]}if(k!==e.length)throw new Ue;return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),j9=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ue(""+e);var n=0,r=this.bitOffset,o=this.byteOffset,i=this.bytes;if(r>0){var a=8-r,s=e<a?e:a,u=a-s,f=255>>8-s<<u;n=(i[o]&f)>>u,e-=s,r+=s,r===8&&(r=0,o++)}if(e>0){for(;e>=8;)n=n<<8|i[o]&255,o++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;n=n<<e|(i[o]&f)>>u,r+=e}}return this.bitOffset=r,this.byteOffset=o,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),Cn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Cn||(Cn={}));var Rq=(function(){function t(){}return t.decode=function(e){var n=new j9(e),r=new st,o=new st,i=new Array,a=Cn.ASCII_ENCODE;do if(a===Cn.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,o);else{switch(a){case Cn.C40_ENCODE:this.decodeC40Segment(n,r);break;case Cn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Cn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Cn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Cn.BASE256_ENCODE:this.decodeBase256Segment(n,r,i);break;default:throw new ve}a=Cn.ASCII_ENCODE}while(a!==Cn.PAD_ENCODE&&n.available()>0);return o.length()>0&&r.append(o.toString()),new b1(e,r.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,n,r){var o=!1;do{var i=e.readBits(8);if(i===0)throw new ve;if(i<=128)return o&&(i+=128),n.append(String.fromCharCode(i-1)),Cn.ASCII_ENCODE;if(i===129)return Cn.PAD_ENCODE;if(i<=229){var a=i-130;a<10&&n.append("0"),n.append(""+a)}else switch(i){case 230:return Cn.C40_ENCODE;case 231:return Cn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Cn.ANSIX12_ENCODE;case 239:return Cn.TEXT_ENCODE;case 240:return Cn.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return Cn.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,o=[],i=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(var s=0;s<3;s++){var u=o[s];switch(i){case 0:if(u<3)i=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new ve;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append("");break;case 30:r=!0;break;default:throw new ve}i=0;break;case 3:r?(n.append(String.fromCharCode(u+224)),r=!1):n.append(String.fromCharCode(u+96)),i=0;break;default:throw new ve}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,o=[],i=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(var s=0;s<3;s++){var u=o[s];switch(i){case 0:if(u<3)i=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new ve;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append("");break;case 30:r=!0;break;default:throw new ve}i=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),i=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),r);for(var i=0;i<3;i++){var a=r[i];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new ve;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var o=(e<<8)+n-1,i=Math.floor(o/1600);r[0]=i,o-=i*1600,i=Math.floor(o/40),r[1]=i,r[2]=o-i*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var o=e.readBits(6);if(o===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(o&32)===0&&(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var o=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),o++),a;if(i===0?a=e.available()/8|0:i<250?a=i:a=250*(i-249)+this.unrandomize255State(e.readBits(8),o++),a<0)throw new ve;for(var s=new Uint8Array(a),u=0;u<a;u++){if(e.available()<8)throw new ve;s[u]=this.unrandomize255State(e.readBits(8),o++)}r.push(s);try{n.append(ro.decode(s,pt.ISO88591))}catch(f){throw new jl("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,o=e-r;return o>=0?o:o+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),kq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dq=(function(){function t(){this.rsDecoder=new x1(Ar.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,o=new Oq(e),i=o.getVersion(),a=o.readCodewords(),s=Pq.getDataBlocks(a,i),u=0;try{for(var f=kq(s),d=f.next();!d.done;d=f.next()){var h=d.value;u+=h.getNumDataCodewords()}}catch(I){n={error:I}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}for(var m=new Uint8Array(u),g=s.length,b=0;b<g;b++){var w=s[b],_=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(_,C);for(var A=0;A<C;A++)m[A*g+b]=_[A]}return Rq.decode(m)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new gn}for(var o=0;o<n;o++)e[o]=r[o]},t})(),Mq=(function(){function t(e){this.image=e,this.rectangleDetector=new Mg(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new oe;n=this.shiftToModuleCenter(n);var r=n[0],o=n[1],i=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(i,a)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=t.sampleGrid(this.image,r,o,i,a,s,u);return new Mv(f,[r,o,i,a])},t.shiftPoint=function(e,n,r){var o=(n.getX()-e.getX())/(r+1),i=(n.getY()-e.getY())/(r+1);return new ke(e.getX()+o,e.getY()+i)},t.moveAway=function(e,n,r){var o=e.getX(),i=e.getY();return o<n?o-=1:o+=1,i<r?i-=1:i+=1,new ke(o,i)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],o=e[3],i=e[2],a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,o),u=this.transitionsBetween(o,i),f=this.transitionsBetween(i,n),d=a,h=[i,n,r,o];return d>s&&(d=s,h[0]=n,h[1]=r,h[2]=o,h[3]=i),d>u&&(d=u,h[0]=r,h[1]=o,h[2]=i,h[3]=n),d>f&&(h[0]=o,h[1]=i,h[2]=n,h[3]=r),h},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i),s=t.shiftPoint(r,o,(a+1)*4),u=t.shiftPoint(o,r,(a+1)*4),f=this.transitionsBetween(s,n),d=this.transitionsBetween(u,i);return f<d?(e[0]=n,e[1]=r,e[2]=o,e[3]=i):(e[0]=r,e[1]=o,e[2]=i,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),u=t.shiftPoint(n,r,(s+1)*4),f=t.shiftPoint(o,r,(a+1)*4);a=this.transitionsBetween(u,i),s=this.transitionsBetween(f,i);var d=new ke(i.getX()+(o.getX()-r.getX())/(a+1),i.getY()+(o.getY()-r.getY())/(a+1)),h=new ke(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));if(!this.isValid(d))return this.isValid(h)?h:null;if(!this.isValid(h))return d;var m=this.transitionsBetween(u,d)+this.transitionsBetween(f,d),g=this.transitionsBetween(u,h)+this.transitionsBetween(f,h);return m>g?d:h},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(o,i)+1,u=t.shiftPoint(n,r,s*4),f=t.shiftPoint(o,r,a*4);a=this.transitionsBetween(u,i)+1,s=this.transitionsBetween(f,i)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var d=(n.getX()+r.getX()+o.getX()+i.getX())/4,h=(n.getY()+r.getY()+o.getY()+i.getY())/4;n=t.moveAway(n,d,h),r=t.moveAway(r,d,h),o=t.moveAway(o,d,h),i=t.moveAway(i,d,h);var m,g;return u=t.shiftPoint(n,r,s*4),u=t.shiftPoint(u,i,a*4),m=t.shiftPoint(r,n,s*4),m=t.shiftPoint(m,o,a*4),f=t.shiftPoint(o,i,s*4),f=t.shiftPoint(f,r,a*4),g=t.shiftPoint(i,o,s*4),g=t.shiftPoint(g,n,a*4),[u,m,f,g]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,o,i,a,s){var u=Bv.getInstance();return u.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),o=Math.trunc(e.getY()),i=Math.trunc(n.getX()),a=Math.trunc(n.getY()),s=Math.abs(a-o)>Math.abs(i-r);if(s){var u=r;r=o,o=u,u=i,i=a,a=u}for(var f=Math.abs(i-r),d=Math.abs(a-o),h=-f/2,m=o<a?1:-1,g=r<i?1:-1,b=0,w=this.image.get(s?o:r,s?r:o),_=r,C=o;_!==i;_+=g){var A=this.image.get(s?C:_,s?_:C);if(A!==w&&(b++,w=A),h+=d,h>0){if(C===a)break;C+=m,h-=f}}return b},t})(),f0=(function(){function t(){this.decoder=new Dq}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,o;if(n!=null&&n.has(Ut.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(i),o=t.NO_POINTS}else{var a=new Mq(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),o=a.getPoints()}var s=r.getRawBytes(),u=new nr(r.getText(),s,8*s.length,o,$e.DATA_MATRIX,$t.currentTimeMillis()),f=r.getByteSegments();f!=null&&u.putMetadata(Xn.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!=null&&u.putMetadata(Xn.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new oe;var o=this.moduleSize(n,e),i=n[1],a=r[1],s=n[0],u=r[0],f=(u-s+1)/o,d=(a-i+1)/o;if(f<=0||d<=0)throw new oe;var h=o/2;i+=h,s+=h;for(var m=new Yo(f,d),g=0;g<d;g++)for(var b=i+g*o,w=0;w<f;w++)e.get(s+w*o,b)&&m.set(w,g);return m},t.moduleSize=function(e,n){for(var r=n.getWidth(),o=e[0],i=e[1];o<r&&n.get(o,i);)o++;if(o===r)throw new oe;var a=o-e[0];if(a===0)throw new oe;return a},t.NO_POINTS=[],t})(),Bq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){Bq(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new f0,n)||this}return e})(Oc);var Hs;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Hs||(Hs={}));var Lq=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new pn(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ue;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Hs.L,"L",1),t.M=new t(Hs.M,"M",0),t.Q=new t(Hs.Q,"Q",3),t.H=new t(Hs.H,"H",2),t})(),Fq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z9=(function(){function t(e){this.errorCorrectionLevel=Lq.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return lt.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,o,i=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=Fq(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,d=f[0];if(d===e||d===n)return new t(f[1]);var h=t.numBitsDiffering(e,d);h<i&&(a=f[1],i=h),e!==n&&(h=t.numBitsDiffering(n,d),h<i&&(a=f[1],i=h))}}catch(m){r={error:m}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),jq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,o=this.ecBlocks;try{for(var i=jq(o),a=i.next();!a.done;a=i.next()){var s=a.value;r+=s.getCount()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),D=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),zq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xa=(function(){function t(e,n){for(var r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;var s=0,u=i[0].getECCodewordsPerBlock(),f=i[0].getECBlocks();try{for(var d=zq(f),h=d.next();!h.done;h=d.next()){var m=h.value;s+=m.getCount()*(m.getDataCodewords()+u)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ue;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,o=0;o<t.VERSION_DECODE_INFO.length;o++){var i=t.VERSION_DECODE_INFO[o];if(i===e)return t.getVersionForNumber(o+7);var a=z9.numBitsDiffering(e,i);a<n&&(r=o+7,n=a)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new Yo(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,o=0;o<r;o++)for(var i=this.alignmentPatternCenters[o]-2,a=0;a<r;a++)o===0&&(a===0||a===r-1)||o===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,i,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new W(7,new D(1,19)),new W(10,new D(1,16)),new W(13,new D(1,13)),new W(17,new D(1,9))),new t(2,Int32Array.from([6,18]),new W(10,new D(1,34)),new W(16,new D(1,28)),new W(22,new D(1,22)),new W(28,new D(1,16))),new t(3,Int32Array.from([6,22]),new W(15,new D(1,55)),new W(26,new D(1,44)),new W(18,new D(2,17)),new W(22,new D(2,13))),new t(4,Int32Array.from([6,26]),new W(20,new D(1,80)),new W(18,new D(2,32)),new W(26,new D(2,24)),new W(16,new D(4,9))),new t(5,Int32Array.from([6,30]),new W(26,new D(1,108)),new W(24,new D(2,43)),new W(18,new D(2,15),new D(2,16)),new W(22,new D(2,11),new D(2,12))),new t(6,Int32Array.from([6,34]),new W(18,new D(2,68)),new W(16,new D(4,27)),new W(24,new D(4,19)),new W(28,new D(4,15))),new t(7,Int32Array.from([6,22,38]),new W(20,new D(2,78)),new W(18,new D(4,31)),new W(18,new D(2,14),new D(4,15)),new W(26,new D(4,13),new D(1,14))),new t(8,Int32Array.from([6,24,42]),new W(24,new D(2,97)),new W(22,new D(2,38),new D(2,39)),new W(22,new D(4,18),new D(2,19)),new W(26,new D(4,14),new D(2,15))),new t(9,Int32Array.from([6,26,46]),new W(30,new D(2,116)),new W(22,new D(3,36),new D(2,37)),new W(20,new D(4,16),new D(4,17)),new W(24,new D(4,12),new D(4,13))),new t(10,Int32Array.from([6,28,50]),new W(18,new D(2,68),new D(2,69)),new W(26,new D(4,43),new D(1,44)),new W(24,new D(6,19),new D(2,20)),new W(28,new D(6,15),new D(2,16))),new t(11,Int32Array.from([6,30,54]),new W(20,new D(4,81)),new W(30,new D(1,50),new D(4,51)),new W(28,new D(4,22),new D(4,23)),new W(24,new D(3,12),new D(8,13))),new t(12,Int32Array.from([6,32,58]),new W(24,new D(2,92),new D(2,93)),new W(22,new D(6,36),new D(2,37)),new W(26,new D(4,20),new D(6,21)),new W(28,new D(7,14),new D(4,15))),new t(13,Int32Array.from([6,34,62]),new W(26,new D(4,107)),new W(22,new D(8,37),new D(1,38)),new W(24,new D(8,20),new D(4,21)),new W(22,new D(12,11),new D(4,12))),new t(14,Int32Array.from([6,26,46,66]),new W(30,new D(3,115),new D(1,116)),new W(24,new D(4,40),new D(5,41)),new W(20,new D(11,16),new D(5,17)),new W(24,new D(11,12),new D(5,13))),new t(15,Int32Array.from([6,26,48,70]),new W(22,new D(5,87),new D(1,88)),new W(24,new D(5,41),new D(5,42)),new W(30,new D(5,24),new D(7,25)),new W(24,new D(11,12),new D(7,13))),new t(16,Int32Array.from([6,26,50,74]),new W(24,new D(5,98),new D(1,99)),new W(28,new D(7,45),new D(3,46)),new W(24,new D(15,19),new D(2,20)),new W(30,new D(3,15),new D(13,16))),new t(17,Int32Array.from([6,30,54,78]),new W(28,new D(1,107),new D(5,108)),new W(28,new D(10,46),new D(1,47)),new W(28,new D(1,22),new D(15,23)),new W(28,new D(2,14),new D(17,15))),new t(18,Int32Array.from([6,30,56,82]),new W(30,new D(5,120),new D(1,121)),new W(26,new D(9,43),new D(4,44)),new W(28,new D(17,22),new D(1,23)),new W(28,new D(2,14),new D(19,15))),new t(19,Int32Array.from([6,30,58,86]),new W(28,new D(3,113),new D(4,114)),new W(26,new D(3,44),new D(11,45)),new W(26,new D(17,21),new D(4,22)),new W(26,new D(9,13),new D(16,14))),new t(20,Int32Array.from([6,34,62,90]),new W(28,new D(3,107),new D(5,108)),new W(26,new D(3,41),new D(13,42)),new W(30,new D(15,24),new D(5,25)),new W(28,new D(15,15),new D(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new W(28,new D(4,116),new D(4,117)),new W(26,new D(17,42)),new W(28,new D(17,22),new D(6,23)),new W(30,new D(19,16),new D(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new W(28,new D(2,111),new D(7,112)),new W(28,new D(17,46)),new W(30,new D(7,24),new D(16,25)),new W(24,new D(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new W(30,new D(4,121),new D(5,122)),new W(28,new D(4,47),new D(14,48)),new W(30,new D(11,24),new D(14,25)),new W(30,new D(16,15),new D(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new W(30,new D(6,117),new D(4,118)),new W(28,new D(6,45),new D(14,46)),new W(30,new D(11,24),new D(16,25)),new W(30,new D(30,16),new D(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new W(26,new D(8,106),new D(4,107)),new W(28,new D(8,47),new D(13,48)),new W(30,new D(7,24),new D(22,25)),new W(30,new D(22,15),new D(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new W(28,new D(10,114),new D(2,115)),new W(28,new D(19,46),new D(4,47)),new W(28,new D(28,22),new D(6,23)),new W(30,new D(33,16),new D(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new W(30,new D(8,122),new D(4,123)),new W(28,new D(22,45),new D(3,46)),new W(30,new D(8,23),new D(26,24)),new W(30,new D(12,15),new D(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new D(3,117),new D(10,118)),new W(28,new D(3,45),new D(23,46)),new W(30,new D(4,24),new D(31,25)),new W(30,new D(11,15),new D(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new D(7,116),new D(7,117)),new W(28,new D(21,45),new D(7,46)),new W(30,new D(1,23),new D(37,24)),new W(30,new D(19,15),new D(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new D(5,115),new D(10,116)),new W(28,new D(19,47),new D(10,48)),new W(30,new D(15,24),new D(25,25)),new W(30,new D(23,15),new D(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new D(13,115),new D(3,116)),new W(28,new D(2,46),new D(29,47)),new W(30,new D(42,24),new D(1,25)),new W(30,new D(23,15),new D(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new D(17,115)),new W(28,new D(10,46),new D(23,47)),new W(30,new D(10,24),new D(35,25)),new W(30,new D(19,15),new D(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new D(17,115),new D(1,116)),new W(28,new D(14,46),new D(21,47)),new W(30,new D(29,24),new D(19,25)),new W(30,new D(11,15),new D(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new D(13,115),new D(6,116)),new W(28,new D(14,46),new D(23,47)),new W(30,new D(44,24),new D(7,25)),new W(30,new D(59,16),new D(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new D(12,121),new D(7,122)),new W(28,new D(12,47),new D(26,48)),new W(30,new D(39,24),new D(14,25)),new W(30,new D(22,15),new D(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new D(6,121),new D(14,122)),new W(28,new D(6,47),new D(34,48)),new W(30,new D(46,24),new D(10,25)),new W(30,new D(2,15),new D(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new D(17,122),new D(4,123)),new W(28,new D(29,46),new D(14,47)),new W(30,new D(49,24),new D(10,25)),new W(30,new D(24,15),new D(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new D(4,122),new D(18,123)),new W(28,new D(13,46),new D(32,47)),new W(30,new D(48,24),new D(14,25)),new W(30,new D(42,15),new D(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new D(20,117),new D(4,118)),new W(28,new D(40,47),new D(7,48)),new W(30,new D(43,24),new D(22,25)),new W(30,new D(10,15),new D(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new D(19,118),new D(6,119)),new W(28,new D(18,47),new D(31,48)),new W(30,new D(34,24),new D(34,25)),new W(30,new D(20,15),new D(61,16)))],t})(),Fn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Fn||(Fn={}));var Bw=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var o=0;o<n;o++)this.isMasked(r,o)&&e.flip(o,r)},t.values=new Map([[Fn.DATA_MASK_000,new t(Fn.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[Fn.DATA_MASK_001,new t(Fn.DATA_MASK_001,function(e,n){return(e&1)===0})],[Fn.DATA_MASK_010,new t(Fn.DATA_MASK_010,function(e,n){return n%3===0})],[Fn.DATA_MASK_011,new t(Fn.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[Fn.DATA_MASK_100,new t(Fn.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[Fn.DATA_MASK_101,new t(Fn.DATA_MASK_101,function(e,n){return e*n%6===0})],[Fn.DATA_MASK_110,new t(Fn.DATA_MASK_110,function(e,n){return e*n%6<3})],[Fn.DATA_MASK_111,new t(Fn.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),$q=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new ve;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var o=this.bitMatrix.getHeight(),i=0,a=o-7,r=o-1;r>=a;r--)i=this.copyBit(8,r,i);for(var n=o-8;n<o;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=z9.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Xa.getVersionForNumber(n);for(var r=0,o=e-11,i=5;i>=0;i--)for(var a=e-9;a>=o;a--)r=this.copyBit(a,i,r);var s=Xa.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(var a=5;a>=0;a--)for(var i=e-9;i>=o;i--)r=this.copyBit(a,i,r);if(s=Xa.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new ve},t.prototype.copyBit=function(e,n,r){var o=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return o?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=Bw.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o);for(var i=n.buildFunctionPattern(),a=!0,s=new Uint8Array(n.getTotalCodewords()),u=0,f=0,d=0,h=o-1;h>0;h-=2){h===6&&h--;for(var m=0;m<o;m++)for(var g=a?o-1-m:m,b=0;b<2;b++)i.get(h-b,g)||(d++,f<<=1,this.bitMatrix.get(h-b,g)&&(f|=1),d===8&&(s[u++]=f,d=0,f=0));a=!a}if(u!==n.getTotalCodewords())throw new ve;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Bw.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var o=n+1,i=e.getHeight();o<i;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))},t})(),Lw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uq=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var o,i,a,s;if(e.length!==n.getTotalCodewords())throw new Ue;var u=n.getECBlocksForLevel(r),f=0,d=u.getECBlocks();try{for(var h=Lw(d),m=h.next();!m.done;m=h.next()){var g=m.value;f+=g.getCount()}}catch(Y){o={error:Y}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}var b=new Array(f),w=0;try{for(var _=Lw(d),C=_.next();!C.done;C=_.next())for(var g=C.value,A=0;A<g.getCount();A++){var I=g.getDataCodewords(),T=u.getECCodewordsPerBlock()+I;b[w++]=new t(I,new Uint8Array(T))}}catch(Y){a={error:Y}}finally{try{C&&!C.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}for(var O=b[0].codewords.length,P=b.length-1;P>=0;){var k=b[P].codewords.length;if(k===O)break;P--}P++;for(var R=O-u.getECCodewordsPerBlock(),z=0,A=0;A<R;A++)for(var F=0;F<w;F++)b[F].codewords[A]=e[z++];for(var F=P;F<w;F++)b[F].codewords[R]=e[z++];for(var U=b[0].codewords.length,A=R;A<U;A++)for(var F=0;F<w;F++){var H=F<P?A:A+1;b[F].codewords[H]=e[z++]}return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Qr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Qr||(Qr={}));var Wt=(function(){function t(e,n,r,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,t.FOR_BITS.set(o,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new Ue;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Qr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Qr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Qr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Qr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Qr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Qr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Qr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Qr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Qr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Qr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),Hq=(function(){function t(){}return t.decode=function(e,n,r,o){var i=new j9(e),a=new st,s=new Array,u=-1,f=-1;try{var d=null,h=!1,m=void 0;do{if(i.available()<4)m=Wt.TERMINATOR;else{var g=i.readBits(4);m=Wt.forBits(g)}switch(m){case Wt.TERMINATOR:break;case Wt.FNC1_FIRST_POSITION:case Wt.FNC1_SECOND_POSITION:h=!0;break;case Wt.STRUCTURED_APPEND:if(i.available()<16)throw new ve;u=i.readBits(8),f=i.readBits(8);break;case Wt.ECI:var b=t.parseECIValue(i);if(d=Tn.getCharacterSetECIByValue(b),d===null)throw new ve;break;case Wt.HANZI:var w=i.readBits(4),_=i.readBits(m.getCharacterCountBits(n));w===t.GB2312_SUBSET&&t.decodeHanziSegment(i,a,_);break;default:var C=i.readBits(m.getCharacterCountBits(n));switch(m){case Wt.NUMERIC:t.decodeNumericSegment(i,a,C);break;case Wt.ALPHANUMERIC:t.decodeAlphanumericSegment(i,a,C,h);break;case Wt.BYTE:t.decodeByteSegment(i,a,C,d,s,o);break;case Wt.KANJI:t.decodeKanjiSegment(i,a,C);break;default:throw new ve}break}}while(m!==Wt.TERMINATOR)}catch{throw new ve}return new b1(e,a.toString(),s.length===0?null:s,r===null?null:r.toString(),u,f)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new ve;for(var o=new Uint8Array(2*r),i=0;r>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,o[i]=s>>8&255,o[i+1]=s&255,i+=2,r--}try{n.append(ro.decode(o,pt.GB2312))}catch(u){throw new ve(u)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new ve;for(var o=new Uint8Array(2*r),i=0;r>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,o[i]=s>>8,o[i+1]=s,i+=2,r--}try{n.append(ro.decode(o,pt.SHIFT_JIS))}catch(u){throw new ve(u)}},t.decodeByteSegment=function(e,n,r,o,i,a){if(8*r>e.available())throw new ve;for(var s=new Uint8Array(r),u=0;u<r;u++)s[u]=e.readBits(8);var f;o===null?f=pt.guessEncoding(s,a):f=o.getName();try{n.append(ro.decode(s,f))}catch(d){throw new ve(d)}i.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ve;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,o){for(var i=n.length();r>1;){if(e.available()<11)throw new ve;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new ve;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(o)for(var s=i;s<n.length();s++)n.charAt(s)==="%"&&(s<n.length()-1&&n.charAt(s+1)==="%"?n.deleteCharAt(s+1):n.setCharAt(s,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new ve;var o=e.readBits(10);if(o>=1e3)throw new ve;n.append(t.toAlphaNumericChar(Math.floor(o/100))),n.append(t.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(t.toAlphaNumericChar(o%10)),r-=3}if(r===2){if(e.available()<7)throw new ve;var i=e.readBits(7);if(i>=100)throw new ve;n.append(t.toAlphaNumericChar(Math.floor(i/10))),n.append(t.toAlphaNumericChar(i%10))}else if(r===1){if(e.available()<4)throw new ve;var a=e.readBits(4);if(a>=10)throw new ve;n.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var o=e.readBits(16);return(n&31)<<16&4294967295|o}throw new ve},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),$9=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),Fw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vq=(function(){function t(){this.rsDecoder=new x1(Ar.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(Yo.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new $q(e),o=null;try{return this.decodeBitMatrixParser(r,n)}catch(a){o=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,n);return i.setOther(new $9(!0)),i}catch(a){throw o!==null?o:a}},t.prototype.decodeBitMatrixParser=function(e,n){var r,o,i,a,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=Uq.getDataBlocks(f,s,u),h=0;try{for(var m=Fw(d),g=m.next();!g.done;g=m.next()){var b=g.value;h+=b.getNumDataCodewords()}}catch(P){r={error:P}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}var w=new Uint8Array(h),_=0;try{for(var C=Fw(d),A=C.next();!A.done;A=C.next()){var b=A.value,I=b.getCodewords(),T=b.getNumDataCodewords();this.correctErrors(I,T);for(var O=0;O<T;O++)w[_++]=I[O]}}catch(P){i={error:P}}finally{try{A&&!A.done&&(a=C.return)&&a.call(C)}finally{if(i)throw i.error}}return Hq.decode(w,s,u,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new gn}for(var o=0;o<n;o++)e[o]=r[o]},t})(),Gq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Wq=(function(t){Gq(e,t);function e(n,r,o){var i=t.call(this,n,r)||this;return i.estimatedModuleSize=o,i}return e.prototype.aboutEquals=function(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,o){var i=(this.getX()+r)/2,a=(this.getY()+n)/2,s=(this.estimatedModuleSize+o)/2;return new e(i,a,s)},e})(ke),Zq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xq=(function(){function t(e,n,r,o,i,a,s){this.image=e,this.startX=n,this.startY=r,this.width=o,this.height=i,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,o=e+r,i=this.startY+n/2,a=new Int32Array(3),s=this.image,u=0;u<n;u++){var f=i+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var d=e;d<o&&!s.get(d,f);)d++;for(var h=0;d<o;){if(s.get(d,f))if(h===1)a[1]++;else if(h===2){if(this.foundPatternCross(a)){var m=this.handlePossibleCenter(a,f,d);if(m!==null)return m}a[0]=a[2],a[1]=1,a[2]=0,h=1}else a[++h]++;else h===1&&h++,a[h]++;d++}if(this.foundPatternCross(a)){var m=this.handlePossibleCenter(a,f,o);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,o=0;o<3;o++)if(Math.abs(n-e[o])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,o){var i=this.image,a=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&i.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!i.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===a||s[1]>r)return NaN;for(;u<a&&!i.get(n,u)&&s[2]<=r;)s[2]++,u++;if(s[2]>r)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-o)>=2*o?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var o,i,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,s,2*e[1],a);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=Zq(this.possibleCenters),h=d.next();!h.done;h=d.next()){var m=h.value;if(m.aboutEquals(f,u,s))return m.combineEstimate(u,s,f)}}catch(b){o={error:b}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}var g=new Wq(s,u,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null},t})(),qq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Kq=(function(t){qq(e,t);function e(n,r,o,i){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=o,a.count=i,i===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,o){var i=this.count+1,a=(this.count*this.getX()+r)/i,s=(this.count*this.getY()+n)/i,u=(this.count*this.estimatedModuleSize+o)/i;return new e(a,s,u,i)},e})(ke),Yq=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),vu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qq=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(Ut.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ut.PURE_BARCODE)!==void 0,o=this.image,i=o.getHeight(),a=o.getWidth(),s=Math.floor(3*i/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var u=!1,f=new Int32Array(5),d=s-1;d<i&&!u;d+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var h=0,m=0;m<a;m++)if(o.get(m,d))(h&1)===1&&h++,f[h]++;else if((h&1)===0)if(h===4)if(t.foundPatternCross(f)){var g=this.handlePossibleCenter(f,d,m,r);if(g===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>f[2]&&(d+=b-f[2]-s,m=a-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,h=3;continue}h=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,h=3;else f[++h]++;else f[h]++;if(t.foundPatternCross(f)){var g=this.handlePossibleCenter(f,d,a,r);g===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return ke.orderBestPatterns(w),new Yq(w)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var o=e[r];if(o===0)return!1;n+=o}if(n<7)return!1;var i=n/7,a=i/2;return Math.abs(i-e[0])<a&&Math.abs(i-e[1])<a&&Math.abs(3*i-e[2])<3*a&&Math.abs(i-e[3])<a&&Math.abs(i-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,o){for(var i=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)i[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&i[1]<=r;)i[1]++,a++;if(e<a||n<a||i[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&i[0]<=r;)i[0]++,a++;if(i[0]>r)return!1;var u=s.getHeight(),f=s.getWidth();for(a=1;e+a<u&&n+a<f&&s.get(n+a,e+a);)i[2]++,a++;if(e+a>=u||n+a>=f)return!1;for(;e+a<u&&n+a<f&&!s.get(n+a,e+a)&&i[3]<r;)i[3]++,a++;if(e+a>=u||n+a>=f||i[3]>=r)return!1;for(;e+a<u&&n+a<f&&s.get(n+a,e+a)&&i[4]<r;)i[4]++,a++;if(i[4]>=r)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-o)<2*o&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,n,r,o){for(var i=this.image,a=i.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&i.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(n,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!i.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&i.get(n,u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-o)>=2*o?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,o){for(var i=this.image,a=i.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&i.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(u,n);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!i.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&i.get(u,n)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-o)>=o?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,o){var i=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],i);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],i),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],i)))){for(var u=i/7,f=!1,d=this.possibleCenters,h=0,m=d.length;h<m;h++){var g=d[h];if(g.aboutEquals(u,s,a)){d[h]=g.combineEstimate(s,a,u),f=!0;break}}if(!f){var b=new Kq(a,s,u);d.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var o=null;try{for(var i=vu(this.possibleCenters),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM)if(o==null)o=s;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-s.getX())-Math.abs(o.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,o,i=0,a=0,s=this.possibleCenters.length;try{for(var u=vu(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;d.getCount()>=t.CENTER_QUORUM&&(i++,a+=d.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(i<3)return!1;var h=a/s,m=0;try{for(var g=vu(this.possibleCenters),b=g.next();!b.done;b=g.next()){var d=b.value;m+=Math.abs(d.getEstimatedModuleSize()-h)}}catch(w){r={error:w}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}return m<=.05*a},t.prototype.selectBestPatterns=function(){var e,n,r,o,i=this.possibleCenters.length;if(i<3)throw new oe;var a=this.possibleCenters,s;if(i>3){var u=0,f=0;try{for(var d=vu(this.possibleCenters),h=d.next();!h.done;h=d.next()){var m=h.value,g=m.getEstimatedModuleSize();u+=g,f+=g*g}}catch(O){e={error:O}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}s=u/i;var b=Math.sqrt(f/i-s*s);a.sort(function(O,P){var k=Math.abs(P.getEstimatedModuleSize()-s),R=Math.abs(O.getEstimatedModuleSize()-s);return k<R?-1:k>R?1:0});for(var w=Math.max(.2*s,b),_=0;_<a.length&&a.length>3;_++){var C=a[_];Math.abs(C.getEstimatedModuleSize()-s)>w&&(a.splice(_,1),_--)}}if(a.length>3){var u=0;try{for(var A=vu(a),I=A.next();!I.done;I=A.next()){var T=I.value;u+=T.getEstimatedModuleSize()}}catch(P){r={error:P}}finally{try{I&&!I.done&&(o=A.return)&&o.call(A)}finally{if(r)throw r.error}}s=u/a.length,a.sort(function(P,k){if(k.getCount()===P.getCount()){var R=Math.abs(k.getEstimatedModuleSize()-s),z=Math.abs(P.getEstimatedModuleSize()-s);return R<z?1:R>z?-1:0}else return k.getCount()-P.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),Jq=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ut.NEED_RESULT_POINT_CALLBACK);var n=new Qq(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),o=e.getBottomLeft(),i=this.calculateModuleSize(n,r,o);if(i<1)throw new oe("No pattern found in proccess finder.");var a=t.computeDimension(n,r,o,i),s=Xa.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var d=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),m=1-3/u,g=Math.floor(n.getX()+m*(d-n.getX())),b=Math.floor(n.getY()+m*(h-n.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(i,g,b,w);break}catch(I){if(!(I instanceof oe))throw I}var _=t.createTransform(n,r,o,f,a),C=t.sampleGrid(this.image,_,a),A;return f===null?A=[o,n,r]:A=[o,n,r,f],new Mv(C,A)},t.createTransform=function(e,n,r,o,i){var a=i-3.5,s,u,f,d;return o!==null?(s=o.getX(),u=o.getY(),f=a-3,d=f):(s=n.getX()-e.getX()+r.getX(),u=n.getY()-e.getY()+r.getY(),f=a,d=a),M9.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,f,d,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),s,u,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var o=Bv.getInstance();return o.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,o){var i=Et.round(ke.distance(e,n)/o),a=Et.round(ke.distance(e,r)/o),s=Math.floor((i+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new oe("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,o){var i=this.sizeOfBlackWhiteBlackRun(e,n,r,o),a=1,s=e-(r-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(n-(o-n)*a);return a=1,u<0?(a=n/(n-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),i+=this.sizeOfBlackWhiteBlackRun(e,n,s,u),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,o){var i=Math.abs(o-n)>Math.abs(r-e);if(i){var a=e;e=n,n=a,a=r,r=o,o=a}for(var s=Math.abs(r-e),u=Math.abs(o-n),f=-s/2,d=e<r?1:-1,h=n<o?1:-1,m=0,g=r+d,b=e,w=n;b!==g;b+=d){var _=i?w:b,C=i?b:w;if(m===1===this.image.get(_,C)){if(m===2)return Et.distance(b,w,e,n);m++}if(f+=u,f>0){if(w===o)break;w+=h,f-=s}}return m===2?Et.distance(r+d,o,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,o){var i=Math.floor(o*e),a=Math.max(0,n-i),s=Math.min(this.image.getWidth()-1,n+i);if(s-a<e*3)throw new oe("Alignment top exceeds estimated module size.");var u=Math.max(0,r-i),f=Math.min(this.image.getHeight()-1,r+i);if(f-u<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var d=new Xq(this.image,a,u,s-a,f-u,e,this.resultPointCallback);return d.find()},t})(),d0=(function(){function t(){this.decoder=new Vq}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,o;if(n!=null&&n.get(Ut.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),o=t.NO_POINTS}else{var a=new Jq(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),o=a.getPoints()}r.getOther()instanceof $9&&r.getOther().applyMirroredCorrection(o);var s=new nr(r.getText(),r.getRawBytes(),void 0,o,$e.QR_CODE,void 0),u=r.getByteSegments();u!==null&&s.putMetadata(Xn.BYTE_SEGMENTS,u);var f=r.getECLevel();return f!==null&&s.putMetadata(Xn.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(s.putMetadata(Xn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(Xn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new oe;var o=this.moduleSize(n,e),i=n[1],a=r[1],s=n[0],u=r[0];if(s>=u||i>=a)throw new oe;if(a-i!==u-s&&(u=s+(a-i),u>=e.getWidth()))throw new oe;var f=Math.round((u-s+1)/o),d=Math.round((a-i+1)/o);if(f<=0||d<=0)throw new oe;if(d!==f)throw new oe;var h=Math.floor(o/2);i+=h,s+=h;var m=s+Math.floor((f-1)*o)-u;if(m>0){if(m>h)throw new oe;s-=m}var g=i+Math.floor((d-1)*o)-a;if(g>0){if(g>h)throw new oe;i-=g}for(var b=new Yo(f,d),w=0;w<d;w++)for(var _=i+Math.floor(w*o),C=0;C<f;C++)e.get(s+Math.floor(C*o),_)&&b.set(C,w);return b},t.moduleSize=function(e,n){for(var r=n.getHeight(),o=n.getWidth(),i=e[0],a=e[1],s=!0,u=0;i<o&&a<r;){if(s!==n.get(i,a)){if(++u===5)break;s=!s}i++,a++}if(i===o||a===r)throw new oe;return(i-e[0])/7},t.NO_POINTS=new Array,t})(),eK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Et.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var o=new Int32Array(e.length),i=0;try{for(var a=eK(e),s=a.next();!s.done;s=a.next()){var u=s.value;o[i++]=u}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},t.getCodeword=function(e){var n=Nn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),tK=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),nK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rK=(function(){function t(){}return t.detectMultiple=function(e,n,r){var o=e.getBlackMatrix(),i=t.detect(r,o);return i.length||(o=o.clone(),o.rotate180(),i=t.detect(r,o)),new tK(o,i)},t.detect=function(e,n){for(var r,o,i=new Array,a=0,s=0,u=!1;a<n.getHeight();){var f=t.findVertices(n,a,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var d=(r=void 0,nK(i)),h=d.next();!h.done;h=d.next()){var m=h.value;m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())))}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}a+=t.ROW_STEP;continue}if(u=!0,i.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return i},t.findVertices=function(e,n,r){var o=e.getHeight(),i=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,o,i,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,o,i,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,n,r){for(var o=0;o<r.length;o++)e[r[o]]=n[o]},t.findRowsWithPattern=function(e,n,r,o,i,a){for(var s=new Array(4),u=!1,f=new Int32Array(a.length);o<n;o+=t.ROW_STEP){var d=t.findGuardPattern(e,i,o,r,!1,a,f);if(d!=null){for(;o>0;){var h=t.findGuardPattern(e,i,--o,r,!1,a,f);if(h!=null)d=h;else{o++;break}}s[0]=new ke(d[0],o),s[1]=new ke(d[1],o),u=!0;break}}var m=o+1;if(u){for(var g=0,h=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);m<n;m++){var d=t.findGuardPattern(e,h[0],m,r,!1,a,f);if(d!=null&&Math.abs(h[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-d[1])<t.MAX_PATTERN_DRIFT)h=d,g=0;else{if(g>t.SKIPPED_ROW_COUNT_MAX)break;g++}}m-=g+1,s[2]=new ke(h[0],m),s[3]=new ke(h[1],m)}return m-o<t.BARCODE_MIN_HEIGHT&&Nn.fill(s,null),s},t.findGuardPattern=function(e,n,r,o,i,a,s){Nn.fillWithin(s,0,s.length,0);for(var u=n,f=0;e.get(u,r)&&u>0&&f++<t.MAX_PIXEL_DRIFT;)u--;for(var d=u,h=0,m=a.length,g=i;d<o;d++){var b=e.get(d,r);if(b!==g)s[h]++;else{if(h===m-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,d]);u+=s[0]+s[1],$t.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,g=!g}}return h===m-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,d-1]):null},t.patternMatchVariance=function(e,n,r){for(var o=e.length,i=0,a=0,s=0;s<o;s++)i+=e[s],a+=n[s];if(i<a)return 1/0;var u=i/a;r*=u;for(var f=0,d=0;d<o;d++){var h=e[d],m=n[d]*u,g=h>m?h-m:m-h;if(g>r)return 1/0;f+=g}return f/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),oK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ha=(function(){function t(e,n){if(n.length===0)throw new Ue;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var o=1;o<r&&n[o]===0;)o++;o===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-o),$t.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var o=0;try{for(var i=oK(this.coefficients),a=i.next();!a.done;a=i.next()){var s=a.value;o=this.field.add(o,s)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}for(var u=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)u=this.field.add(this.field.multiply(e,u),this.coefficients[d]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;$t.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=this.field.add(n[s-a],r[s]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,a=new Int32Array(r+i-1),s=0;s<r;s++)for(var u=n[s],f=0;f<i;f++)a[s+f]=this.field.add(a[s+f],this.field.multiply(u,o[f]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ue;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+e),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new t(this.field,o)},t.prototype.toString=function(){for(var e=new st,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),iK=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ue;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new D9;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),aK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sK=(function(t){aK(e,t);function e(n,r){var o=t.call(this)||this;o.modulus=n,o.expTable=new Int32Array(n),o.logTable=new Int32Array(n);for(var i=1,a=0;a<n;a++)o.expTable[a]=i,i=i*r%n;for(var a=0;a<n-1;a++)o.logTable[o.expTable[a]]=a;return o.zero=new Ha(o,new Int32Array([0])),o.one=new Ha(o,new Int32Array([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Ue;if(r===0)return this.zero;var o=new Int32Array(n+1);return o[0]=r,new Ha(this,o)},e.PDF417_GF=new e(yt.NUMBER_OF_CODEWORDS,3),e})(iK),cK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uK=(function(){function t(){this.field=sK.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var o,i,a=new Ha(this.field,e),s=new Int32Array(n),u=!1,f=n;f>0;f--){var d=a.evaluateAt(this.field.exp(f));s[n-f]=d,d!==0&&(u=!0)}if(!u)return 0;var h=this.field.getOne();if(r!=null)try{for(var m=cK(r),g=m.next();!g.done;g=m.next()){var b=g.value,w=this.field.exp(e.length-1-b),_=new Ha(this.field,new Int32Array([this.field.subtract(0,w),1]));h=h.multiply(_)}}catch(R){o={error:R}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}for(var C=new Ha(this.field,s),A=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),C,n),I=A[0],T=A[1],O=this.findErrorLocations(I),P=this.findErrorMagnitudes(T,I,O),f=0;f<O.length;f++){var k=e.length-1-this.field.log(O[f]);if(k<0)throw gn.getChecksumInstance();e[k]=this.field.subtract(e[k],P[f])}return O.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var o=e;e=n,n=o}for(var i=e,a=n,s=this.field.getZero(),u=this.field.getOne();a.getDegree()>=Math.round(r/2);){var f=i,d=s;if(i=a,s=u,i.isZero())throw gn.getChecksumInstance();a=f;for(var h=this.field.getZero(),m=i.getCoefficient(i.getDegree()),g=this.field.inverse(m);a.getDegree()>=i.getDegree()&&!a.isZero();){var b=a.getDegree()-i.getDegree(),w=this.field.multiply(a.getCoefficient(a.getDegree()),g);h=h.add(this.field.buildMonomial(b,w)),a=a.subtract(i.multiplyByMonomial(b,w))}u=h.multiply(s).subtract(d).negative()}var _=u.getCoefficient(0);if(_===0)throw gn.getChecksumInstance();var C=this.field.inverse(_),A=u.multiply(C),I=a.multiply(C);return[A,I]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),o=0,i=1;i<this.field.getSize()&&o<n;i++)e.evaluateAt(i)===0&&(r[o]=this.field.inverse(i),o++);if(o!==n)throw gn.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var o=n.getDegree(),i=new Int32Array(o),a=1;a<=o;a++)i[o-a]=this.field.multiply(a,n.getCoefficient(a));for(var s=new Ha(this.field,i),u=r.length,f=new Int32Array(u),a=0;a<u;a++){var d=this.field.inverse(r[a]),h=this.field.subtract(0,e.evaluateAt(d)),m=this.field.inverse(s.evaluateAt(d));f[a]=this.field.multiply(h,m)}return f},t})(),Lg=(function(){function t(e,n,r,o,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,o,i)}return t.prototype.constructor_1=function(e,n,r,o,i){var a=n==null||r==null,s=o==null||i==null;if(a&&s)throw new oe;a?(n=new ke(0,o.getY()),r=new ke(0,i.getY())):s&&(o=new ke(e.getWidth()-1,n.getY()),i=new ke(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=o,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(o.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var o=this.topLeft,i=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var d=new ke(u.getX(),f);r?o=d:a=d}if(n>0){var h=r?this.bottomLeft:this.bottomRight,m=Math.trunc(h.getY()+n);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);var g=new ke(h.getX(),m);r?i=g:s=g}return new t(this.image,o,i,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),lK=(function(){function t(e,n,r,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),Fv=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function o(a,s,u,f,d,h){if(a==="%%")return"%";if(n[++r]!==void 0){a=f?parseInt(f.substr(1)):void 0;var m=d?parseInt(d.substr(1)):void 0,g;switch(h){case"s":g=n[r];break;case"c":g=n[r][0];break;case"f":g=parseFloat(n[r]).toFixed(a);break;case"p":g=parseFloat(n[r]).toPrecision(a);break;case"e":g=parseFloat(n[r]).toExponential(a);break;case"x":g=parseInt(n[r]).toString(m||16);break;case"d":g=parseFloat(parseInt(n[r],m||10).toPrecision(a)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(m);for(var b=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";g.length<b;)g=s!==void 0?g+w:w+g;return g}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,o)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),fK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U9=(function(){function t(e){this.boundingBox=new Lg(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(e)-r;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+r,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new Fv,o=0;try{for(var i=fK(this.codewords),a=i.next();!a.done;a=i.next()){var s=a.value;if(s==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),dK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hK=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},_u=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,o=new Array,i=function(h,m){var g={getKey:function(){return h},getValue:function(){return m}};g.getValue()>r?(r=g.getValue(),o=[],o.push(g.getKey())):g.getValue()===r&&o.push(g.getKey())};try{for(var a=dK(this.values.entries()),s=a.next();!s.done;s=a.next()){var u=hK(s.value,2),f=u[0],d=u[1];i(f,d)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return yt.toIntArray(o)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),pK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),dm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jw=(function(t){pK(e,t);function e(n,r){var o=t.call(this,n)||this;return o._isLeft=r,o}return e.prototype.setRowNumbers=function(){var n,r;try{for(var o=dm(this.getCodewords()),i=o.next();!i.done;i=o.next()){var a=i.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var o=this.getBoundingBox(),i=this._isLeft?o.getTopLeft():o.getTopRight(),a=this._isLeft?o.getBottomLeft():o.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=-1,d=1,h=0,m=s;m<u;m++)if(r[m]!=null){var g=r[m],b=g.getRowNumber()-f;if(b===0)h++;else if(b===1)d=Math.max(d,h),h=1,f=g.getRowNumber();else if(b<0||g.getRowNumber()>=n.getRowCount()||b>m)r[m]=null;else{var w=void 0;d>2?w=(d-2)*b:w=b;for(var _=w>=m,C=1;C<=w&&!_;C++)_=r[m-C]!=null;_?r[m]=null:(f=g.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var n,r,o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);var i=new Int32Array(o.getRowCount());try{for(var a=dm(this.getCodewords()),s=a.next();!s.done;s=a.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=i.length)continue;i[f]++}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.getCodewords(),f=-1,d=a;d<s;d++)if(u[d]!=null){var h=u[d];h.setRowNumberAsRowIndicatorColumn();var m=h.getRowNumber()-f;m===0||(m===1?f=h.getRowNumber():h.getRowNumber()>=n.getRowCount()?u[d]=null:f=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,o=this.getCodewords(),i=new _u,a=new _u,s=new _u,u=new _u;try{for(var f=dm(o),d=f.next();!d.done;d=f.next()){var h=d.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var m=h.getValue()%30,g=h.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(m*3+1);break;case 1:u.setValue(m/3),s.setValue(m%3);break;case 2:i.setValue(m+1);break}}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(i.getValue().length===0||a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;var b=new lK(i.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(o,b),b},e.prototype.removeIncorrectCodewords=function(n,r){for(var o=0;o<n.length;o++){var i=n[o];if(n[o]!=null){var a=i.getValue()%30,s=i.getRowNumber();if(s>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:a+1!==r.getColumnCount()&&(n[o]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(U9),mK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gK=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=yt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),o=0;o<r.length;o++)r[o]!=null&&(r[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var o=1;o<=this.barcodeColumnCount;o++){var i=this.detectionResultColumns[o].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var o=n[r].getRowNumber(),i=0,a=this.barcodeColumnCount+1;a>0&&i<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];s!=null&&(i=t.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var o=n[r].getRowNumber(),i=0,a=1;a<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];s!=null&&(i=t.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var o,i;if(this.detectionResultColumns[e-1]!=null){var a=r[n],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[n],f[3]=u[n],n>0&&(f[0]=r[n-1],f[4]=s[n-1],f[5]=u[n-1]),n>1&&(f[8]=r[n-2],f[10]=s[n-2],f[11]=u[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=s[n+1],f[7]=u[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=s[n+2],f[13]=u[n+2]);try{for(var d=mK(f),h=d.next();!h.done;h=d.next()){var m=h.value;if(t.adjustRowNumber(a,m))return}}catch(g){o={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new Fv,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}var i=this.detectionResultColumns[o].getCodewords()[r];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()},t})(),yK=(function(){function t(e,n,r,o){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),vK=(function(){function t(){}return t.initialize=function(){for(var e=0;e<yt.SYMBOL_TABLE.length;e++)for(var n=yt.SYMBOL_TABLE[e],r=n&1,o=0;o<yt.BARS_IN_MODULE;o++){for(var i=0;(n&1)===r;)i+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(yt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][yt.BARS_IN_MODULE-o-1]=Math.fround(i/yt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=Et.sum(e),r=new Int32Array(yt.BARS_IN_MODULE),o=0,i=0,a=0;a<yt.MODULES_IN_CODEWORD;a++){var s=n/(2*yt.MODULES_IN_CODEWORD)+a*n/yt.MODULES_IN_CODEWORD;i+e[o]<=s&&(i+=e[o],o++),r[o]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return yt.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var o=0;o<e[r];o++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=Et.sum(e),r=new Array(yt.BARS_IN_MODULE);if(n>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(e[o]/n);var i=Dg.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,f=t.RATIOS_TABLE[s],d=0;d<yt.BARS_IN_MODULE;d++){var h=Math.fround(f[d]-r[d]);if(u+=Math.fround(h*h),u>=i)break}u<i&&(i=u,a=yt.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(function(e){return new Array(yt.BARS_IN_MODULE)}),t})(),bK=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),zw=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),xK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wK=(function(t){xK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Rr),EK=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new wK;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new Dv;if(r===0)return;for(var o=0;o<r;o++)this.write(e[n+o])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),_K=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),CK=(function(t){_K(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Rr),AK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),SK=(function(t){AK(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new Ue("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,o=r<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new CK;o=lt.MAX_VALUE}this.buf=Nn.copyOfUint8Array(this.buf,o)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new Dv;this.ensureCapacity(this.count+o),$t.arraycopy(n,r,this.buf,this.count,o),this.count+=o},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Nn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(EK),Lt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function H9(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var pd;function aa(t){if(typeof pd>"u"&&(pd=H9()),pd===null)throw new Error("BigInt is not supported!");return pd(t)}function IK(){var t=[];t[0]=aa(1);var e=aa(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var TK=(function(){function t(){}return t.decode=function(e,n){var r=new st(""),o=Tn.ISO8859_1;r.enableDecoding(o);for(var i=1,a=e[i++],s=new bK;i<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(a,e,o,i,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,r);break;case t.ECI_CHARSET:Tn.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ve;default:i--,i=t.textCompaction(e,i,r);break}if(i<e.length)a=e[i++];else throw ve.getFormatInstance()}if(r.length()===0)throw ve.getFormatInstance();var u=new b1(null,r.toString(),null,n);return u.setOther(s),u},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var o=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)o[i]=e[n];r.setSegmentIndex(lt.parseInt(t.decodeBase900toBase10(o,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new st;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new st;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new st;n=t.textCompaction(e,n+1,f),r.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new st;n=t.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new st;n=t.numericCompaction(e,n+1,h),r.setSegmentCount(lt.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var m=new st;n=t.numericCompaction(e,n+1,m),r.setTimestamp(zw.parseLong(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var g=new st;n=t.numericCompaction(e,n+1,g),r.setChecksum(lt.parseInt(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new st;n=t.numericCompaction(e,n+1,b),r.setFileSize(zw.parseLong(b.toString()));break;default:throw ve.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(s!==-1){var w=n-s;r.isLastSegment()&&w--,r.setOptionalData(Nn.copyOfRange(e,s,s+w))}return n},t.textCompaction=function(e,n,r){for(var o=new Int32Array((e[0]-n)*2),i=new Int32Array((e[0]-n)*2),a=0,s=!1;n<e[0]&&!s;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)o[a]=u/30,o[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:o[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],i[a]=u,a++;break}}return t.decodeTextCompaction(o,i,a,r),n},t.decodeTextCompaction=function(e,n,r,o){for(var i=Lt.ALPHA,a=Lt.ALPHA,s=0;s<r;){var u=e[s],f="";switch(i){case Lt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.LL:i=Lt.LOWER;break;case t.ML:i=Lt.MIXED;break;case t.PS:a=i,i=Lt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Lt.ALPHA;break}break;case Lt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case t.AS:a=i,i=Lt.ALPHA_SHIFT;break;case t.ML:i=Lt.MIXED;break;case t.PS:a=i,i=Lt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Lt.ALPHA;break}break;case Lt.MIXED:if(u<t.PL)f=t.MIXED_CHARS[u];else switch(u){case t.PL:i=Lt.PUNCT;break;case 26:f=" ";break;case t.LL:i=Lt.LOWER;break;case t.AL:i=Lt.ALPHA;break;case t.PS:a=i,i=Lt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Lt.ALPHA;break}break;case Lt.PUNCT:if(u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=Lt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(i=a,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(i=a,u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=Lt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Lt.ALPHA;break}break}f!==""&&o.append(f),s++}},t.byteCompaction=function(e,n,r,o,i){var a=new SK,s=0,u=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),h=n[o++];o<n[0]&&!f;)switch(d[s++]=h,u=900*u+h,h=n[o++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,f=!0;break;default:if(s%5===0&&s>0){for(var m=0;m<6;++m)a.write(Number(aa(u)>>aa(8*(5-m))));u=0,s=0}break}o===n[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=h);for(var g=0;g<s;g++)a.write(d[g]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!f;){var b=n[o++];if(b<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+b;else switch(b){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,f=!0;break}if(s%5===0&&s>0){for(var m=0;m<6;++m)a.write(Number(aa(u)>>aa(8*(5-m))));u=0,s=0}}break}return i.append(ro.decode(a.toByteArray(),r)),o},t.numericCompaction=function(e,n,r){for(var o=0,i=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!i;){var s=e[n++];if(n===e[0]&&(i=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[o]=s,o++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(o%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(r.append(t.decodeBase900toBase10(a,o)),o=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=aa(0),o=0;o<n;o++)r+=t.EXP900[n-o-1]*aa(e[o]);var i=r.toString();if(i.charAt(0)!=="1")throw new ve;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=H9()?IK():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),bu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NK=(function(){function t(){}return t.decode=function(e,n,r,o,i,a,s){for(var u=new Lg(e,n,r,o,i),f=null,d=null,h,m=!0;;m=!1){if(n!=null&&(f=t.getRowIndicatorColumn(e,u,n,!0,a,s)),o!=null&&(d=t.getRowIndicatorColumn(e,u,o,!1,a,s)),h=t.merge(f,d),h==null)throw oe.getNotFoundInstance();var g=h.getBoundingBox();if(m&&g!=null&&(g.getMinY()<u.getMinY()||g.getMaxY()>u.getMaxY()))u=g;else break}h.setBoundingBox(u);var b=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,f),h.setDetectionResultColumn(b,d);for(var w=f!=null,_=1;_<=b;_++){var C=w?_:b-_;if(h.getDetectionResultColumn(C)===void 0){var A=void 0;C===0||C===b?A=new jw(u,C===0):A=new U9(u),h.setDetectionResultColumn(C,A);for(var I=-1,T=I,O=u.getMinY();O<=u.getMaxY();O++){if(I=t.getStartColumn(h,C,O,w),I<0||I>u.getMaxX()){if(T===-1)continue;I=T}var P=t.detectCodeword(e,u.getMinX(),u.getMaxX(),w,I,O,a,s);P!=null&&(A.setCodeword(O,P),T=I,a=Math.min(a,P.getWidth()),s=Math.max(s,P.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var o=Lg.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new gK(r,o)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var o=e.getRowHeights();if(o==null)return null;var i=t.getMax(o),a=0;try{for(var s=bu(o),u=s.next();!u.done;u=s.next()){var f=u.value;if(a+=i-f,f>0)break}}catch(g){n={error:g}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var d=e.getCodewords(),h=0;a>0&&d[h]==null;h++)a--;for(var m=0,h=o.length-1;h>=0&&(m+=i-o[h],!(o[h]>0));h--);for(var h=d.length-1;m>0&&d[h]==null;h--)m--;return e.getBoundingBox().addMissingRows(a,m,e.isLeft())},t.getMax=function(e){var n,r,o=-1;try{for(var i=bu(e),a=i.next();!a.done;a=i.next()){var s=a.value;o=Math.max(o,s)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var o;return n==null||(o=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==o.getColumnCount()&&r.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&r.getRowCount()!==o.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,o,i,a){for(var s=new jw(n,o),u=0;u<2;u++)for(var f=u===0?1:-1,d=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=f){var m=t.detectCodeword(e,0,e.getWidth(),o,d,h,i,a);m!=null&&(s.setCodeword(h,m),o?d=m.getStartX():d=m.getEndX())}return s},t.adjustCodewordCount=function(e,n){var r=n[0][1],o=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(i<1||i>yt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();r.setValue(i)}else o[0]!==i&&r.setValue(i)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=n[s][u+1].getValue(),d=s*e.getBarcodeColumnCount()+u;f.length===0?r.push(d):f.length===1?o[d]=f[0]:(a.push(d),i.push(f))}for(var h=new Array(i.length),m=0;m<h.length;m++)h[m]=i[m];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,yt.toIntArray(r),yt.toIntArray(a),h)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,o,i){for(var a=new Int32Array(o.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)n[o[u]]=i[u][a[u]];try{return t.decodeCodewords(n,e,r)}catch(d){var f=d instanceof gn;if(!f)throw d}if(a.length===0)throw gn.getChecksumInstance();for(var u=0;u<a.length;u++)if(a[u]<i[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw gn.getChecksumInstance()}throw gn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,o,i,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var u=0;u<a[s].length;u++)a[s][u]=new _u;var f=0;try{for(var d=bu(e.getDetectionResultColumns()),h=d.next();!h.done;h=d.next()){var m=h.value;if(m!=null)try{for(var g=(o=void 0,bu(m.getCodewords())),b=g.next();!b.done;b=g.next()){var w=b.value;if(w!=null){var _=w.getRowNumber();if(_>=0){if(_>=a.length)continue;a[_][f].setValue(w.getValue())}}}}catch(C){o={error:C}}finally{try{b&&!b.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}f++}}catch(C){n={error:C}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return a},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,o){var i,a,s=o?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodeword(r)),u!=null)return o?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(r),u!=null)return o?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),u!=null)return o?u.getEndX():u.getStartX();for(var f=0;t.isValidBarcodeColumn(e,n-s);){n-=s;try{for(var d=(i=void 0,bu(e.getDetectionResultColumn(n).getCodewords())),h=d.next();!h.done;h=d.next()){var m=h.value;if(m!=null)return(o?m.getEndX():m.getStartX())+s*f*(m.getEndX()-m.getStartX())}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}f++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,o,i,a,s,u){i=t.adjustCodewordStartColumn(e,n,r,o,i,a);var f=t.getModuleBitCount(e,n,r,o,i,a);if(f==null)return null;var d,h=Et.sum(f);if(o)d=i+h;else{for(var m=0;m<f.length/2;m++){var g=f[m];f[m]=f[f.length-1-m],f[f.length-1-m]=g}d=i,i=d-h}if(!t.checkCodewordSkew(h,s,u))return null;var b=vK.getDecodedValue(f),w=yt.getCodeword(b);return w===-1?null:new yK(i,d,t.getCodewordBucketNumber(b),w)},t.getModuleBitCount=function(e,n,r,o,i,a){for(var s=i,u=new Int32Array(8),f=0,d=o?1:-1,h=o;(o?s<r:s>=n)&&f<u.length;)e.get(s,a)===h?(u[f]++,s+=d):(f++,h=!h);return f===u.length||s===(o?r:n)&&f===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,o,i,a){for(var s=i,u=o?-1:1,f=0;f<2;f++){for(;(o?s>=n:s<r)&&o===e.get(s,a);){if(Math.abs(i-s)>t.CODEWORD_SKEW_SIZE)return i;s+=u}u=-u,o=!o}return s},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw ve.getFormatInstance();var o=1<<n+1,i=t.correctErrors(e,r,o);t.verifyCodewordCount(e,o);var a=TK.decode(e,""+n);return a.setErrorsCorrected(i),a.setErasures(r.length),a},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw gn.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw ve.getFormatInstance();var r=e[0];if(r>e.length)throw ve.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw ve.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,o=n.length-1;!((e&1)!==r&&(r=e&1,o--,o<0));)n[o]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new Fv,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var o=0;o<e[r].length;o++){var i=e[r][o];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new uK,t})(),OK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h0=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw oe.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof ve||r instanceof gn?oe.getNotFoundInstance():r}},t.decode=function(e,n,r){var o,i,a=new Array,s=rK.detectMultiple(e,n,r);try{for(var u=OK(s.getPoints()),f=u.next();!f.done;f=u.next()){var d=f.value,h=NK.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),m=new nr(h.getText(),h.getRawBytes(),void 0,d,$e.PDF_417);m.putMetadata(Xn.ERROR_CORRECTION_LEVEL,h.getECLevel());var g=h.getOther();g!=null&&m.putMetadata(Xn.PDF417_EXTRA_METADATA,g),a.push(m)}}catch(b){o={error:b}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return a.map(function(b){return b})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?lt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),PK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$w=(function(t){PK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(Rr),Uw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V9=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(Ut.TRY_HARDER)!==void 0,r=e==null?null:e.get(Ut.POSSIBLE_FORMATS),o=new Array;if(r!=null){var i=r.some(function(a){return a===$e.UPC_A||a===$e.UPC_E||a===$e.EAN_13||a===$e.EAN_8||a===$e.CODABAR||a===$e.CODE_39||a===$e.CODE_93||a===$e.CODE_128||a===$e.ITF||a===$e.RSS_14||a===$e.RSS_EXPANDED});i&&!n&&o.push(new Us(e)),r.includes($e.QR_CODE)&&o.push(new d0),r.includes($e.DATA_MATRIX)&&o.push(new f0),r.includes($e.AZTEC)&&o.push(new u0),r.includes($e.PDF_417)&&o.push(new h0),i&&n&&o.push(new Us(e))}o.length===0&&(n||o.push(new Us(e)),o.push(new d0),o.push(new f0),o.push(new u0),o.push(new h0),n&&o.push(new Us(e))),this.readers=o},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=Uw(this.readers),o=r.next();!o.done;o=r.next()){var i=o.value;i.reset()}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new $w("No readers where selected, nothing can be read.");try{for(var o=Uw(this.readers),i=o.next();!i.done;i=o.next()){var a=i.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof $w)continue}}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t})(),RK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){RK(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var o=this,i=new V9;return i.setHints(n),o=t.call(this,i,r)||this,o}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Oc);var kK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){kK(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new h0,n)||this}return e})(Oc);var DK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){DK(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new d0,n)||this}return e})(Oc);var Fg;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Fg||(Fg={}));const md=Fg;var G9=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ua(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],o=this.field,i=n.length;i<=e;i++){var a=r.multiply(new ua(o,Int32Array.from([1,o.exp(i-1+o.getGeneratorBase())])));n.push(a),r=a}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new Ue("No error correction bytes");var r=e.length-n;if(r<=0)throw new Ue("No data bytes provided");var o=this.buildGenerator(n),i=new Int32Array(r);$t.arraycopy(e,0,i,0,r);var a=new ua(this.field,i);a=a.multiplyByMonomial(n,1);for(var s=a.divide(o)[1],u=s.getCoefficients(),f=n-u.length,d=0;d<f;d++)e[r+d]=0;$t.arraycopy(u,0,e,r+f,u.length)},t})(),Cu=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i-1;a++)for(var s=r[a],u=0;u<o-1;u++){var f=s[u];f===s[u+1]&&f===r[a+1][u]&&f===r[a+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i;a++)for(var s=0;s<o;s++){var u=r[a];s+6<o&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&n++,a+6<i&&r[a][s]===1&&r[a+1][s]===0&&r[a+2][s]===1&&r[a+3][s]===1&&r[a+4][s]===1&&r[a+5][s]===0&&r[a+6][s]===1&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var o=n;o<r;o++)if(e[o]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(var i=r;i<o;i++)if(e[i][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i;a++)for(var s=r[a],u=0;u<o;u++)s[u]===1&&n++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(n*2-f)*10/f);return d*t.N4},t.getDataMaskBit=function(e,n,r){var o,i;switch(e){case 0:o=r+n&1;break;case 1:o=r&1;break;case 2:o=n%3;break;case 3:o=(r+n)%3;break;case 4:o=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:i=r*n,o=(i&1)+i%3;break;case 6:i=r*n,o=(i&1)+i%3&1;break;case 7:i=r*n,o=i%3+(r+n&1)&1;break;default:throw new Ue("Invalid mask pattern: "+e)}return o===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,o=n?e.getHeight():e.getWidth(),i=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<o;s++){for(var u=0,f=-1,d=0;d<i;d++){var h=n?a[s][d]:a[d][s];h===f?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,f=h)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),MK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BK=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),o=0;o!==n;o++)r[o]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var o=MK(this.bytes),i=o.next();!i.done;i=o.next()){var a=i.value;Nn.fill(a,e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,o=this.height;r<o;++r)for(var i=this.bytes[r],a=n.bytes[r],s=0,u=this.width;s<u;++s)if(i[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new st,n=0,r=this.height;n<r;++n){for(var o=this.bytes[n],i=0,a=this.width;i<a;++i)switch(o[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),jg=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new st;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),LK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Gt=(function(t){LK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(Rr),Hw=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,o,i){t.clearMatrix(i),t.embedBasicPatterns(r,i),t.embedTypeInfo(n,o,i),t.maybeEmbedVersionInfo(r,i),t.embedDataBits(e,o,i)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var o=new Un;t.makeTypeInfoBits(e,n,o);for(var i=0,a=o.getSize();i<a;++i){var s=o.get(o.getSize()-1-i),u=t.TYPE_INFO_COORDINATES[i],f=u[0],d=u[1];if(r.setBoolean(f,d,s),i<8){var h=r.getWidth()-i-1,m=8;r.setBoolean(h,m,s)}else{var h=8,m=r.getHeight()-7+(i-8);r.setBoolean(h,m,s)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new Un;t.makeVersionInfoBits(e,r);for(var o=17,i=0;i<6;++i)for(var a=0;a<3;++a){var s=r.get(o);o--,n.setBoolean(i,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,i,s)}}},t.embedDataBits=function(e,n,r){for(var o=0,i=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var f=a-u;if(t.isEmpty(r.get(f,s))){var d=void 0;o<e.getSize()?(d=e.get(o),++o):d=!1,n!==255&&Cu.getDataMaskBit(n,f,s)&&(d=!d),r.setBoolean(f,s,d)}}s+=i}i=-i,s+=i,a-=2}if(o!==e.getSize())throw new Gt("Not all bits consumed: "+o+"/"+e.getSize())},t.findMSBSet=function(e){return 32-lt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new Ue("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!jg.isValidMaskPattern(n))throw new Gt("Invalid mask pattern");var o=e.getBits()<<3|n;r.appendBits(o,5);var i=t.calculateBCHCode(o,t.TYPE_INFO_POLY);r.appendBits(i,10);var a=new Un;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new Gt("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Gt("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Gt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var o=0;o<8;++o){if(!t.isEmpty(r.get(e+o,n)))throw new Gt;r.setNumber(e+o,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var o=0;o<7;++o){if(!t.isEmpty(r.get(e,n+o)))throw new Gt;r.setNumber(e,n+o,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var o=0;o<5;++o)for(var i=t.POSITION_ADJUSTMENT_PATTERN[o],a=0;a<5;++a)r.setNumber(e+a,n+o,i[a])},t.embedPositionDetectionPattern=function(e,n,r){for(var o=0;o<7;++o)for(var i=t.POSITION_DETECTION_PATTERN[o],a=0;a<7;++a)r.setNumber(e+a,n+o,i[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var o=7;t.embedVerticalSeparationPattern(o,0,e),t.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),t.embedVerticalSeparationPattern(o,e.getHeight()-o,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,o=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,a=o.length;i!==a;i++){var s=o[i];if(s>=0)for(var u=0;u!==a;u++){var f=o[u];f>=0&&t.isEmpty(n.get(f,s))&&t.embedPositionAdjustmentPattern(f-2,s-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),FK=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),Vw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Cu.applyMaskPenaltyRule1(e)+Cu.applyMaskPenaltyRule2(e)+Cu.applyMaskPenaltyRule3(e)+Cu.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var o=t.DEFAULT_BYTE_MODE_ENCODING,i=r!==null&&r.get(md.CHARACTER_SET)!==void 0;i&&(o=r.get(md.CHARACTER_SET).toString());var a=this.chooseMode(e,o),s=new Un;if(a===Wt.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==o)){var u=Tn.getCharacterSetECIByName(o);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(a,s);var f=new Un;this.appendBytes(e,a,f,o);var d;if(r!==null&&r.get(md.QR_VERSION)!==void 0){var h=Number.parseInt(r.get(md.QR_VERSION).toString(),10);d=Xa.getVersionForNumber(h);var m=this.calculateBitsNeeded(a,s,f,d);if(!this.willFit(m,d,n))throw new Gt("Data too big for requested version")}else d=this.recommendVersion(n,a,s,f);var g=new Un;g.appendBitArray(s);var b=a===Wt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,d,a,g),g.appendBitArray(f);var w=d.getECBlocksForLevel(n),_=d.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(_,g);var C=this.interleaveWithECBytes(g,d.getTotalCodewords(),_,w.getNumBlocks()),A=new jg;A.setECLevel(n),A.setMode(a),A.setVersion(d);var I=d.getDimensionForVersion(),T=new BK(I,I),O=this.chooseMaskPattern(C,n,d,T);return A.setMaskPattern(O),Hw.buildMatrix(C,n,d,O,T),A.setMatrix(T),A},t.recommendVersion=function(e,n,r,o){var i=this.calculateBitsNeeded(n,r,o,Xa.getVersionForNumber(1)),a=this.chooseVersion(i,e),s=this.calculateBitsNeeded(n,r,o,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,n,r,o){return n.getSize()+e.getCharacterCountBits(o)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),Tn.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Wt.KANJI;for(var r=!1,o=!1,i=0,a=e.length;i<a;++i){var s=e.charAt(i);if(t.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)o=!0;else return Wt.BYTE}return o?Wt.ALPHANUMERIC:r?Wt.NUMERIC:Wt.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=ro.encode(e,Tn.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var o=0;o<r;o+=2){var i=n[o]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,o){for(var i=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<jg.NUM_MASK_PATTERNS;s++){Hw.buildMatrix(e,n,r,s,o);var u=this.calculateMaskPenalty(o);u<i&&(i=u,a=s)}return a},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var o=Xa.getVersionForNumber(r);if(t.willFit(e,o,n))return o}throw new Gt("Data too big")},t.willFit=function(e,n,r){var o=n.getTotalCodewords(),i=n.getECBlocksForLevel(r),a=i.getTotalECCodewords(),s=o-a,u=(e+7)/8;return s>=u},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Gt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var o=0;o<4&&n.getSize()<r;++o)n.appendBit(!1);var i=n.getSize()&7;if(i>0)for(var o=i;o<8;o++)n.appendBit(!1);for(var a=e-n.getSizeInBytes(),o=0;o<a;++o)n.appendBits((o&1)===0?236:17,8);if(n.getSize()!==r)throw new Gt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,o,i,a){if(o>=r)throw new Gt("Block ID too large");var s=e%r,u=r-s,f=Math.floor(e/r),d=f+1,h=Math.floor(n/r),m=h+1,g=f-h,b=d-m;if(g!==b)throw new Gt("EC bytes mismatch");if(r!==u+s)throw new Gt("RS blocks mismatch");if(e!==(h+g)*u+(m+b)*s)throw new Gt("Total bytes mismatch");o<u?(i[0]=h,a[0]=g):(i[0]=m,a[0]=b)},t.interleaveWithECBytes=function(e,n,r,o){var i,a,s,u;if(e.getSizeInBytes()!==r)throw new Gt("Number of bits and data bytes does not match");for(var f=0,d=0,h=0,m=new Array,g=0;g<o;++g){var b=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,o,g,b,w);var _=b[0],C=new Uint8Array(_);e.toBytes(8*f,C,0,_);var A=t.generateECBytes(C,w[0]);m.push(new FK(C,A)),d=Math.max(d,_),h=Math.max(h,A.length),f+=b[0]}if(r!==f)throw new Gt("Data bytes does not match offset");for(var I=new Un,g=0;g<d;++g)try{for(var T=(i=void 0,Vw(m)),O=T.next();!O.done;O=T.next()){var P=O.value,C=P.getDataBytes();g<C.length&&I.appendBits(C[g],8)}}catch(F){i={error:F}}finally{try{O&&!O.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}for(var g=0;g<h;++g)try{for(var k=(s=void 0,Vw(m)),R=k.next();!R.done;R=k.next()){var P=R.value,A=P.getErrorCorrectionBytes();g<A.length&&I.appendBits(A[g],8)}}catch(F){s={error:F}}finally{try{R&&!R.done&&(u=k.return)&&u.call(k)}finally{if(s)throw s.error}}if(n!==I.getSizeInBytes())throw new Gt("Interleaving error: "+n+" and "+I.getSizeInBytes()+" differ.");return I},t.generateECBytes=function(e,n){for(var r=e.length,o=new Int32Array(r+n),i=0;i<r;i++)o[i]=e[i]&255;new G9(Ar.QR_CODE_FIELD_256).encode(o,n);for(var a=new Uint8Array(n),i=0;i<n;i++)a[i]=o[r+i];return a},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,o){var i=r.getCharacterCountBits(n);if(e>=1<<i)throw new Gt(e+" is bigger than "+((1<<i)-1));o.appendBits(e,i)},t.appendBytes=function(e,n,r,o){switch(n){case Wt.NUMERIC:t.appendNumericBytes(e,r);break;case Wt.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Wt.BYTE:t.append8BitBytes(e,r,o);break;case Wt.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Gt("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,o=0;o<r;){var i=t.getDigit(e.charAt(o));if(o+2<r){var a=t.getDigit(e.charAt(o+1)),s=t.getDigit(e.charAt(o+2));n.appendBits(i*100+a*10+s,10),o+=3}else if(o+1<r){var a=t.getDigit(e.charAt(o+1));n.appendBits(i*10+a,7),o+=2}else n.appendBits(i,4),o++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,o=0;o<r;){var i=t.getAlphanumericCode(e.charCodeAt(o));if(i===-1)throw new Gt;if(o+1<r){var a=t.getAlphanumericCode(e.charCodeAt(o+1));if(a===-1)throw new Gt;n.appendBits(i*45+a,11),o+=2}else n.appendBits(i,6),o++}},t.append8BitBytes=function(e,n,r){var o;try{o=ro.encode(e,r)}catch(u){throw new Gt(u)}for(var i=0,a=o.length;i!==a;i++){var s=o[i];n.appendBits(s,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=ro.encode(e,Tn.SJIS)}catch(h){throw new Gt(h)}for(var o=r.length,i=0;i<o;i+=2){var a=r[i]&255,s=r[i+1]&255,u=a<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Gt("Invalid byte sequence");var d=(f>>8)*192+(f&255);n.appendBits(d,13)}},t.appendECI=function(e,n){n.appendBits(Wt.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Tn.UTF8.getName(),t})();var jK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){jK(e,t);function e(n,r,o,i,a,s,u,f){var d=t.call(this,s,u)||this;if(d.yuvData=n,d.dataWidth=r,d.dataHeight=o,d.left=i,d.top=a,i+s>r||a+u>o)throw new Ue("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(s,u),d}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ue("Requested row is outside the image: "+n);var o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));var i=(n+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.yuvData,i,r,0,o),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var o=n*r,i=new Uint8ClampedArray(o),a=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return $t.arraycopy(this.yuvData,a,i,0,o),i;for(var s=0;s<r;s++){var u=s*n;$t.arraycopy(this.yuvData,a,i,u,n),a+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,i,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),i=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var u=s*n,f=0;f<n;f++){var d=i[a+f*e.THUMBNAIL_SCALE_FACTOR]&255;o[u+f]=4278190080|d*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return o},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var o=this.yuvData,i=0,a=this.top*this.dataWidth+this.left;i<r;i++,a+=this.dataWidth)for(var s=a+n/2,u=a,f=a+n-1;u<s;u++,f--){var d=o[u];o[u]=o[f],o[f]=d}},e.prototype.invert=function(){return new v1(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Fl);var zK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){zK(e,t);function e(n,r,o,i,a,s,u){var f=t.call(this,r,o)||this;if(f.dataWidth=i,f.dataHeight=a,f.left=s,f.top=u,n.BYTES_PER_ELEMENT===4){for(var d=r*o,h=new Uint8ClampedArray(d),m=0;m<d;m++){var g=n[m],b=g>>16&255,w=g>>7&510,_=g&255;h[m]=(b+w+_)/4&255}f.luminances=h}else f.luminances=n;if(i===void 0&&(f.dataWidth=r),a===void 0&&(f.dataHeight=o),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+o>f.dataHeight)throw new Ue("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ue("Requested row is outside the image: "+n);var o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));var i=(n+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.luminances,i,r,0,o),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var o=n*r,i=new Uint8ClampedArray(o),a=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return $t.arraycopy(this.luminances,a,i,0,o),i;for(var s=0;s<r;s++){var u=s*n;$t.arraycopy(this.luminances,a,i,u,n),a+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return new e(this.luminances,o,i,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new v1(this)},e})(Fl);var $K=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),UK=(function(t){$K(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Tn),HK=(function(){function t(){}return t.ISO_8859_1=Tn.ISO8859_1,t})(),zg,VK=301,GK=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=VK);return{LOG:t,ALOG:e}};zg=GK([],[]),zg.LOG;zg.ALOG;var Gw;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Gw||(Gw={}));var Ww=129,W9=230,WK=231,ZK=235,XK=236,qK=237,KK=238,YK=239,QK=240,hm=254,JK=254,Zw="[)>05",Xw="[)>06",qw="",Dt=0,Zn=1,lr=2,An=3,jn=4,tr=5,eY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Dt},t.prototype.encode=function(e){var n=vo.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),o=vo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode())switch(o){case tr:e.writeCodeword(WK),e.signalEncoderChange(tr);return;case Zn:e.writeCodeword(W9),e.signalEncoderChange(Zn);return;case An:e.writeCodeword(KK),e.signalEncoderChange(An);break;case lr:e.writeCodeword(YK),e.signalEncoderChange(lr);break;case jn:e.writeCodeword(QK),e.signalEncoderChange(jn);break;default:throw new Error("Illegal mode: "+o)}else vo.isExtendedASCII(r)?(e.writeCodeword(ZK),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(vo.isDigit(e)&&vo.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),tY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return tr},t.prototype.encode=function(e){var n=new st;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var o=vo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Dt);break}}var i=n.length()-1,a=1,s=e.getCodewordCount()+i+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(i<=249)n.setCharAt(0,pt.getCharAt(i));else if(i<=1555)n.setCharAt(0,pt.getCharAt(Math.floor(i/250)+249)),n.insert(1,pt.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var f=0,r=n.length();f<r;f++)e.writeCodeword(this.randomize255State(n.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,o=e+r;return o<=255?o:o-256},t})(),jv=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Zn},t.prototype.encodeMaximal=function(e){for(var n=new st,r=0,o=e.pos,i=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,r=this.encodeChar(a,n),n.length()%3===0&&(o=e.pos,i=n.length())}if(i!==n.length()){var s=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u,d=Math.floor(n.length()%3);(d===2&&f!==2||d===1&&(r>3||f!==1))&&(e.pos=o)}n.length()>0&&e.writeCodeword(W9),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new st;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var o=this.encodeChar(r,n),i=Math.floor(n.length()/3)*2,a=e.getCodewordCount()+i;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var u=new st;for(n.length()%3===2&&s!==2&&(o=this.backtrackOneCharacter(e,n,u,o));n.length()%3===1&&(o>3||s!==1);)o=this.backtrackOneCharacter(e,n,u,o);break}var f=n.length();if(f%3===0){var d=vo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Dt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,o){var i=n.length(),a=n.toString().substring(0,i-o);n.setLengthToZero(),n.append(a),e.pos--;var s=e.getCurrentChar();return o=this.encodeChar(s,r),e.resetSymbolInfo(),o},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),o=n.length()%3,i=e.getCodewordCount()+r;e.updateSymbolInfo(i);var a=e.getSymbolInfo().getDataCapacity()-i;if(o===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(hm)}else if(a===1&&o===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(hm),e.pos--}else if(o===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(a>0||e.hasMoreCharacters())&&e.writeCodeword(hm)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Dt)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,o=n%256,i=new st;return i.append(r),i.append(o),i.toString()},t})(),nY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return jn},t.prototype.encode=function(e){for(var n=new st;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var o=n.length();if(o>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var i=n.toString().substring(4);n.setLengthToZero(),n.append(i);var a=vo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Dt);break}}}n.append(pt.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>o&&(e.updateSymbolInfo(e.getCodewordCount()+1),o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=o&&o<=2)return}if(r>4)throw new Error("Count must not exceed 4");var a=r-1,s=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),f=u&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();o>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}f?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(Dt)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(pt.getCharAt(e-64)):vo.illegalCharacter(pt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),o=n>=2?e.charAt(1).charCodeAt(0):0,i=n>=3?e.charAt(2).charCodeAt(0):0,a=n>=4?e.charAt(3).charCodeAt(0):0,s=(r<<18)+(o<<12)+(i<<6)+a,u=s>>16&255,f=s>>8&255,d=s&255,h=new st;return h.append(u),n>=2&&h.append(f),n>=3&&h.append(d),h.toString()},t})(),rY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=(function(){function t(e,n,r,o,i,a,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=o,this.matrixHeight=i,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=u}return t.lookup=function(e,n,r,o,i){var a,s;n===void 0&&(n=0),r===void 0&&(r=null),o===void 0&&(o=null),i===void 0&&(i=!0);try{for(var u=oY(aY),f=u.next();!f.done;f=u.next()){var d=f.value;if(!(n===1&&d.rectangular)&&!(n===2&&!d.rectangular)&&!(r!=null&&(d.getSymbolWidth()<r.getWidth()||d.getSymbolHeight()<r.getHeight()))&&!(o!=null&&(d.getSymbolWidth()>o.getWidth()||d.getSymbolHeight()>o.getHeight()))&&e<=d.dataCapacity)return d}}catch(h){a={error:h}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),iY=(function(t){rY(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(At),aY=[new At(!1,3,5,8,8,1),new At(!1,5,7,10,10,1),new At(!0,5,7,16,6,1),new At(!1,8,10,12,12,1),new At(!0,10,11,14,6,2),new At(!1,12,12,14,14,1),new At(!0,16,14,24,10,1),new At(!1,18,14,16,16,1),new At(!1,22,18,18,18,1),new At(!0,22,18,16,10,2),new At(!1,30,20,20,20,1),new At(!0,32,24,16,14,2),new At(!1,36,24,22,22,1),new At(!1,44,28,24,24,1),new At(!0,49,28,22,14,2),new At(!1,62,36,14,14,4),new At(!1,86,42,16,16,4),new At(!1,114,48,18,18,4),new At(!1,144,56,20,20,4),new At(!1,174,68,22,22,4),new At(!1,204,84,24,24,4,102,42),new At(!1,280,112,14,14,16,140,56),new At(!1,368,144,16,16,16,92,36),new At(!1,456,192,18,18,16,114,48),new At(!1,576,224,20,20,16,144,56),new At(!1,696,272,22,22,16,174,68),new At(!1,816,336,24,24,16,136,56),new At(!1,1050,408,18,18,36,175,68),new At(!1,1304,496,20,20,36,163,62),new iY],sY=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(s){return s.charCodeAt(0)}),r=new st,o=0,i=n.length;o<i;o++){var a=String.fromCharCode(n[o]&255);if(a==="?"&&e.charAt(o)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(a)}this.msg=r.toString(),this.shape=0,this.codewords=new st,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=At.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),cY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),uY=(function(t){cY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return An},e.prototype.encode=function(n){for(var r=new st;n.hasMoreCharacters();){var o=n.getCurrentChar();n.pos++,this.encodeChar(o,r);var i=r.length();if(i%3===0){this.writeNextTriplet(n,r);var a=vo.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){n.signalEncoderChange(Dt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):vo.illegalCharacter(pt.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var o=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),i=r.length();n.pos-=i,(n.getRemainingCharacters()>1||o>1||n.getRemainingCharacters()!==o)&&n.writeCodeword(JK),n.getNewEncoding()<0&&n.signalEncoderChange(Dt)},e})(jv),lY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fY=(function(t){lY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return lr},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var o=2;return o+=this.encodeChar(n-128,r),o},e})(jv),vo=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=Ww+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,o,i){n===void 0&&(n=0),r===void 0&&(r=null),o===void 0&&(o=null),i===void 0&&(i=!1);var a=new jv,s=[new eY,a,new fY,new uY,new nY,new tY],u=new sY(e);u.setSymbolShape(n),u.setSizeConstraints(r,o),e.startsWith(Zw)&&e.endsWith(qw)?(u.writeCodeword(XK),u.setSkipAtEnd(2),u.pos+=Zw.length):e.startsWith(Xw)&&e.endsWith(qw)&&(u.writeCodeword(qK),u.setSkipAtEnd(2),u.pos+=Xw.length);var f=Dt;for(i&&(a.encodeMaximal(u),f=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[f].encode(u),u.getNewEncoding()>=0&&(f=u.getNewEncoding(),u.resetEncoderSignal());var d=u.getCodewordCount();u.updateSymbolInfo();var h=u.getSymbolInfo().getDataCapacity();d<h&&f!==Dt&&f!==tr&&f!==jn&&u.writeCodeword("");var m=u.getCodewords();for(m.length()<h&&m.append(Ww);m.length()<h;)m.append(this.randomize253State(m.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var o=this.lookAheadTestIntern(e,n,r);if(r===An&&o===An){for(var i=Math.min(n+3,e.length),a=n;a<i;a++)if(!this.isNativeX12(e.charCodeAt(a)))return Dt}else if(r===jn&&o===jn){for(var i=Math.min(n+4,e.length),a=n;a<i;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return Dt}return o},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var o;r===Dt?o=[0,1,1,1,1,1.25]:(o=[1,2,2,2,2,2.25],o[r]=0);for(var i=0,a=new Uint8Array(6),s=[];;){if(n+i===e.length){Nn.fill(a,0),Nn.fill(s,0);var u=this.findMinimums(o,s,lt.MAX_VALUE,a),f=this.getMinimumCount(a);if(s[Dt]===u)return Dt;if(f===1){if(a[tr]>0)return tr;if(a[jn]>0)return jn;if(a[lr]>0)return lr;if(a[An]>0)return An}return Zn}var d=e.charCodeAt(n+i);if(i++,this.isDigit(d)?o[Dt]+=.5:this.isExtendedASCII(d)?(o[Dt]=Math.ceil(o[Dt]),o[Dt]+=2):(o[Dt]=Math.ceil(o[Dt]),o[Dt]++),this.isNativeC40(d)?o[Zn]+=2/3:this.isExtendedASCII(d)?o[Zn]+=8/3:o[Zn]+=4/3,this.isNativeText(d)?o[lr]+=2/3:this.isExtendedASCII(d)?o[lr]+=8/3:o[lr]+=4/3,this.isNativeX12(d)?o[An]+=2/3:this.isExtendedASCII(d)?o[An]+=13/3:o[An]+=10/3,this.isNativeEDIFACT(d)?o[jn]+=3/4:this.isExtendedASCII(d)?o[jn]+=17/4:o[jn]+=13/4,this.isSpecialB256(d)?o[tr]+=4:o[tr]++,i>=4){if(Nn.fill(a,0),Nn.fill(s,0),this.findMinimums(o,s,lt.MAX_VALUE,a),s[Dt]<this.min(s[tr],s[Zn],s[lr],s[An],s[jn]))return Dt;if(s[tr]<s[Dt]||s[tr]+1<this.min(s[Zn],s[lr],s[An],s[jn]))return tr;if(s[jn]+1<this.min(s[tr],s[Zn],s[lr],s[An],s[Dt]))return jn;if(s[lr]+1<this.min(s[tr],s[Zn],s[jn],s[An],s[Dt]))return lr;if(s[An]+1<this.min(s[tr],s[Zn],s[jn],s[lr],s[Dt]))return An;if(s[Zn]+1<this.min(s[Dt],s[tr],s[jn],s[lr])){if(s[Zn]<s[An])return Zn;if(s[Zn]===s[An]){for(var h=n+i+1;h<e.length;){var m=e.charCodeAt(h);if(this.isX12TermSep(m))return An;if(!this.isNativeX12(m))break;h++}return Zn}}}}},t.min=function(e,n,r,o,i){var a=Math.min(e,Math.min(n,Math.min(r,o)));return i===void 0?a:Math.min(a,i)},t.findMinimums=function(e,n,r,o){for(var i=0;i<6;i++){var a=n[i]=Math.ceil(e[i]);r>a&&(r=a,Nn.fill(o,0)),r===a&&(o[i]=o[i]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,o=n;o<r&&this.isDigit(e.charCodeAt(o));)o++;return o-n},t.illegalCharacter=function(e){var n=lt.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),pm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kw=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ro.encode(e,this.charset)!=null}catch{return!1}},t})(),dY=(function(){function t(e,n,r){var o,i,a,s,u,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(z){return new Kw(UK.forName(z))}),this.encoders=[];var d=[];d.push(new Kw(HK.ISO_8859_1));for(var h=n!=null&&n.name.startsWith("UTF"),m=0;m<e.length;m++){var g=!1;try{for(var b=(o=void 0,pm(d)),w=b.next();!w.done;w=b.next()){var _=w.value,C=e.charAt(m),A=C.charCodeAt(0);if(A===r||_.canEncode(C)){g=!0;break}}}catch(z){o={error:z}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}if(!g)try{for(var I=(a=void 0,pm(this.ENCODERS)),T=I.next();!T.done;T=I.next()){var _=T.value;if(_.canEncode(e.charAt(m))){d.push(_),g=!0;break}}}catch(z){a={error:z}}finally{try{T&&!T.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}g||(h=!0)}if(d.length===1&&!h)this.encoders=[d[0]];else{this.encoders=[];var O=0;try{for(var P=pm(d),k=P.next();!k.done;k=P.next()){var _=k.value;this.encoders[O++]=_}}catch(z){u={error:z}}finally{try{k&&!k.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}}var R=-1;if(n!=null){for(var m=0;m<this.encoders.length;m++)if(this.encoders[m]!=null&&n.name===this.encoders[m].name){R=m;break}}this.priorityEncoderIndex=R}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return ro.encode(pt.getCharAt(e),this.encoders[n].name)},t})(),hY=3,pY=(function(){function t(e,n,r){this.fnc1=r;var o=new dY(e,n,r);if(o.length()===1)for(var i=0;i<this.bytes.length;i++){var a=e.charAt(i).charCodeAt(0);this.bytes[i]=a===r?1e3:a}else this.bytes=this.encodeMinimally(e,o,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new st,o=e;o<n;o++){if(this.isECI(o))throw new Error("value at "+o+" is not a character but an ECI");r.append(this.charAt(o))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,o,i,a){var s=e.charAt(o).charCodeAt(0),u=0,f=n.length();n.getPriorityEncoderIndex()>=0&&(s===a||n.canEncode(s,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),f=u+1);for(var d=u;d<f;d++)(s===a||n.canEncode(s,d))&&this.addEdge(r,o+1,new Yw(s,n,d,i,a))},t.prototype.encodeMinimally=function(e,n,r){var o=e.length,i=new Yw[o+1][n.length()];this.addEdges(e,n,i,0,null,r);for(var a=1;a<=o;a++){for(var s=0;s<n.length();s++)i[a][s]!=null&&a<o&&this.addEdges(e,n,i,a,i[a][s],r);for(var s=0;s<n.length();s++)i[a-1][s]=null}for(var u=-1,f=lt.MAX_VALUE,s=0;s<n.length();s++)if(i[o][s]!=null){var d=i[o][s];d.cachedTotalSize<f&&(f=d.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],m=i[o][u];m!=null;){if(m.isFNC1())h.unshift(1e3);else for(var g=n.encode(m.c,m.encoderIndex),a=g.length-1;a>=0;a--)h.unshift(g[a]&255);var b=m.previous===null?0:m.previous.encoderIndex;b!==m.encoderIndex&&h.unshift(256+n.getECIValue(m.encoderIndex)),m=m.previous}for(var w=[],a=0;a<w.length;a++)w[a]=h[a];return w},t})(),Yw=(function(){function t(e,n,r,o,i){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=o,this.fnc1=i,this.c=e===i?1e3:e;var a=this.isFNC1()?1:n.encode(e,r).length,s=o===null?0:o.encoderIndex;s!==r&&(a+=hY),o!=null&&(a+=o.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),mY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var Qw;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Qw||(Qw={}));(function(t){mY(e,t);function e(n,r,o,i,a){var s=t.call(this,n,r,o)||this;return s.shape=i,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(pY);var gY=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),Jw=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),yY=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),vY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zv=(function(t){vY(e,t);function e(n,r,o){var i=t.call(this,n)||this;return i.value=r,i.bitCount=o,i}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+lt.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(yY),bY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),xY=(function(t){bY(e,t);function e(n,r,o){var i=t.call(this,n,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=o,i}return e.prototype.appendTo=function(n,r){for(var o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(zv);function wY(t,e,n){return new xY(t,e,n)}function xu(t,e,n){return new zv(t,e,n)}var EY=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],la=0,p0=1,no=2,Z9=3,$o=4,_Y=new zv(null,0,0),mm=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],CY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function AY(t){var e,n;try{for(var r=CY(t),o=r.next();!o.done;o=r.next()){var i=o.value;Nn.fill(i,-1)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[la][$o]=0,t[p0][$o]=0,t[p0][la]=28,t[Z9][$o]=0,t[no][$o]=0,t[no][la]=15,t}var X9=AY(Nn.createInt32Array(6,6)),SY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IY=(function(){function t(e,n,r,o){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=o}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,o=this.token;if(e!==this.mode){var i=mm[this.mode][e];o=xu(o,i&65535,i>>16),r+=i>>16}var a=e===no?4:5;return o=xu(o,n,a),new t(o,e,0,r+a)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,o=this.mode===no?4:5;return r=xu(r,X9[this.mode][e],o),r=xu(r,n,5),new t(r,this.mode,0,this.bitCount+o+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,o=this.bitCount;if(this.mode===$o||this.mode===no){var i=mm[r][la];n=xu(n,i&65535,i>>16),o+=i>>16,r=la}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(n,r,this.binaryShiftByteCount+1,o+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=wY(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(mm[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,o=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())o.unshift(i);var a=new Un;try{for(var s=SY(o),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(a,e)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},t.prototype.toString=function(){return pt.format("%s bits=%d bytes=%d",EY[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(_Y,la,0,0),t})();function TY(t){var e=pt.getCharCode(" "),n=pt.getCharCode("."),r=pt.getCharCode(",");t[la][e]=1;for(var o=pt.getCharCode("Z"),i=pt.getCharCode("A"),a=i;a<=o;a++)t[la][a]=a-i+2;t[p0][e]=1;for(var s=pt.getCharCode("z"),u=pt.getCharCode("a"),a=u;a<=s;a++)t[p0][a]=a-u+2;t[no][e]=1;for(var f=pt.getCharCode("9"),d=pt.getCharCode("0"),a=d;a<=f;a++)t[no][a]=a-d+2;t[no][r]=12,t[no][n]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],m=0;m<h.length;m++)t[Z9][pt.getCharCode(h[m])]=m;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],m=0;m<g.length;m++)pt.getCharCode(g[m])>0&&(t[$o][pt.getCharCode(g[m])]=m);return t}var gm=TY(Nn.createInt32Array(5,256)),gd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NY=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=pt.getCharCode(" "),n=pt.getCharCode(`
`),r=Jw.singletonList(IY.INITIAL_STATE),o=0;o<this.text.length;o++){var i=void 0,a=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case pt.getCharCode("\r"):i=a===n?2:0;break;case pt.getCharCode("."):i=a===e?3:0;break;case pt.getCharCode(","):i=a===e?4:0;break;case pt.getCharCode(":"):i=a===e?5:0;break;default:i=0}i>0?(r=t.updateStateListForPair(r,o,i),o++):r=this.updateStateListForChar(r,o)}var s=Jw.min(r,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,o,i=[];try{for(var a=gd(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForChar(u,n,i)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,n,r){for(var o=this.text[n]&255,i=gm[e.getMode()][o]>0,a=null,s=0;s<=$o;s++){var u=gm[s][o];if(u>0){if(a==null&&(a=e.endBinaryShift(n)),!i||s===e.getMode()||s===no){var f=a.latchAndAppend(s,u);r.push(f)}if(!i&&X9[e.getMode()][s]>=0){var d=a.shiftAndAppend(s,u);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||gm[e.getMode()][o]===0){var h=e.addBinaryShiftChar(n);r.push(h)}},t.updateStateListForPair=function(e,n,r){var o,i,a=[];try{for(var s=gd(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,n,r,a)}}catch(d){o={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,n,r,o){var i=e.endBinaryShift(n);if(o.push(i.latchAndAppend($o,r)),e.getMode()!==$o&&o.push(i.shiftAndAppend($o,r)),r===3||r===4){var a=i.latchAndAppend(no,16-r).latchAndAppend(no,1);o.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(s)}},t.simplifyStates=function(e){var n,r,o,i,a=[];try{for(var s=gd(e),u=s.next();!u.done;u=s.next()){var f=u.value,d=!0,h=function(_){if(_.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(_)&&(a=a.filter(function(C){return C!==_}))};try{for(var m=(o=void 0,gd(a)),g=m.next();!g.done;g=m.next()){var b=g.value,w=h(b);if(w==="break")break}}catch(_){o={error:_}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}d&&a.push(f)}}catch(_){n={error:_}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},t})(),OY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var o=new NY(e).encode(),i=lt.truncDivision(o.getSize()*n,100)+11,a=o.getSize()+i,s,u,f,d,h;if(r!==t.DEFAULT_AZTEC_LAYERS){if(s=r<0,u=Math.abs(r),u>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ue(pt.format("Illegal value %s for layers",r));f=t.totalBitsInLayer(u,s),d=t.WORD_SIZE[u];var m=f-f%d;if(h=t.stuffBits(o,d),h.getSize()+i>m)throw new Ue("Data to large for user specified layer");if(s&&h.getSize()>d*64)throw new Ue("Data to large for user specified layer")}else{d=0,h=null;for(var g=0;;g++){if(g>t.MAX_NB_BITS)throw new Ue("Data too large for an Aztec code");if(s=g<=3,u=s?g+1:g,f=t.totalBitsInLayer(u,s),!(a>f)){(h==null||d!==t.WORD_SIZE[u])&&(d=t.WORD_SIZE[u],h=t.stuffBits(o,d));var m=f-f%d;if(!(s&&h.getSize()>d*64)&&h.getSize()+i<=m)break}}}var b=t.generateCheckWords(h,f,d),w=h.getSize()/d,_=t.generateModeMessage(s,u,w),C=(s?11:14)+u*4,A=new Int32Array(C),I;if(s){I=C;for(var g=0;g<A.length;g++)A[g]=g}else{I=C+1+2*lt.truncDivision(lt.truncDivision(C,2)-1,15);for(var T=lt.truncDivision(C,2),O=lt.truncDivision(I,2),g=0;g<T;g++){var P=g+lt.truncDivision(g,15);A[T-g-1]=O-P-1,A[T+g]=O+P+1}}for(var k=new Yo(I),g=0,R=0;g<u;g++){for(var z=(u-g)*4+(s?9:12),F=0;F<z;F++)for(var U=F*2,H=0;H<2;H++)b.get(R+U+H)&&k.set(A[g*2+H],A[g*2+F]),b.get(R+z*2+U+H)&&k.set(A[g*2+F],A[C-1-g*2-H]),b.get(R+z*4+U+H)&&k.set(A[C-1-g*2-H],A[C-1-g*2-F]),b.get(R+z*6+U+H)&&k.set(A[C-1-g*2-F],A[g*2+H]);R+=z*8}if(t.drawModeMessage(k,s,I,_),s)t.drawBullsEye(k,lt.truncDivision(I,2),5);else{t.drawBullsEye(k,lt.truncDivision(I,2),7);for(var g=0,F=0;g<lt.truncDivision(C,2)-1;g+=15,F+=16)for(var H=lt.truncDivision(I,2)&1;H<I;H+=2)k.set(lt.truncDivision(I,2)-F,H),k.set(lt.truncDivision(I,2)+F,H),k.set(H,lt.truncDivision(I,2)-F),k.set(H,lt.truncDivision(I,2)+F)}var Y=new gY;return Y.setCompact(s),Y.setSize(I),Y.setLayers(u),Y.setCodeWords(w),Y.setMatrix(k),Y},t.drawBullsEye=function(e,n,r){for(var o=0;o<r;o+=2)for(var i=n-o;i<=n+o;i++)e.set(i,n-o),e.set(i,n+o),e.set(n-o,i),e.set(n+o,i);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var o=new Un;return e?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=t.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=t.generateCheckWords(o,40,4)),o},t.drawModeMessage=function(e,n,r,o){var i=lt.truncDivision(r,2);if(n)for(var a=0;a<7;a++){var s=i-3+a;o.get(a)&&e.set(s,i-5),o.get(a+7)&&e.set(i+5,s),o.get(20-a)&&e.set(s,i+5),o.get(27-a)&&e.set(i-5,s)}else for(var a=0;a<10;a++){var s=i-5+a+lt.truncDivision(a,5);o.get(a)&&e.set(s,i-7),o.get(a+10)&&e.set(i+7,s),o.get(29-a)&&e.set(s,i+7),o.get(39-a)&&e.set(i-7,s)}},t.generateCheckWords=function(e,n,r){var o,i,a=e.getSize()/r,s=new G9(t.getGF(r)),u=lt.truncDivision(n,r),f=t.bitsToWords(e,r,u);s.encode(f,u-a);var d=n%r,h=new Un;h.appendBits(0,d);try{for(var m=OY(Array.from(f)),g=m.next();!g.done;g=m.next()){var b=g.value;h.appendBits(b,r)}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}return h},t.bitsToWords=function(e,n,r){var o=new Int32Array(r),i,a;for(i=0,a=e.getSize()/n;i<a;i++){for(var s=0,u=0;u<n;u++)s|=e.get(i*n+u)?1<<n-u-1:0;o[i]=s}return o},t.getGF=function(e){switch(e){case 4:return Ar.AZTEC_PARAM;case 6:return Ar.AZTEC_DATA_6;case 8:return Ar.AZTEC_DATA_8;case 10:return Ar.AZTEC_DATA_10;case 12:return Ar.AZTEC_DATA_12;default:throw new Ue("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new Un,o=e.getSize(),i=(1<<n)-2,a=0;a<o;a+=n){for(var s=0,u=0;u<n;u++)(a+u>=o||e.get(a+u))&&(s|=1<<n-1-u);(s&i)===i?(r.appendBits(s&i,n),a--):(s&i)===0?(r.appendBits(s|1,n),a--):r.appendBits(s,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var PY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),RY=(function(t){PY(e,t);function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return e.makeBufferFromCanvasImageData=function(n){var r;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var o=r.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(o.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,o){for(var i=new Uint8ClampedArray(r*o),a=0,s=0,u=n.length;a<u;a+=4,s++){var f=void 0,d=n[a+3];if(d===0)f=255;else{var h=n[a],m=n[a+1],g=n[a+2];f=306*h+601*m+117*g+512>>10}i[s]=f}return i},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ue("Requested row is outside the image: "+n);var o=this.getWidth(),i=n*o;return r===null?r=this.buffer.slice(i,i+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(i,i+o))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return t.prototype.crop.call(this,n,r,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new v1(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var o=n*e.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(o))*i+Math.abs(Math.sin(o))*a),u=Math.ceil(Math.abs(Math.sin(o))*i+Math.abs(Math.cos(o))*a);r.width=s,r.height=u;var f=r.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(s/2,u/2),f.rotate(o),f.drawImage(this.canvas,i/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Fl);function q9(){return typeof navigator<"u"}function kY(){return q9()&&!!navigator.mediaDevices}function DY(){return!!(kY()&&navigator.mediaDevices.enumerateDevices)}var Vs=function(){return Vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Vs.apply(this,arguments)},tn=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{f(r.next(d))}catch(h){a(h)}}function u(d){try{f(r.throw(d))}catch(h){a(h)}}function f(d){d.done?i(d.value):o(d.value).then(s,u)}f((r=r.apply(t,e||[])).next())})},nn=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ym=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MY={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Pc=(function(){function t(e,n,r){n===void 0&&(n=new Map),r===void 0&&(r={}),this.reader=e,this.hints=n,this.options=Vs(Vs({},MY),r)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ut.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,n){return tn(this,void 0,void 0,function(){return nn(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return r.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var n,r,o=e.getVideoTracks();try{for(var i=ym(o),a=i.next();!a.done;a=i.next()){var s=a.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new pn("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new pn("element with id '".concat(e,"' must be an ").concat(n," element"));return r},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var n=new RY(e),r=new k9(n);return new R9(r)},t.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new pn("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),o=r.width,i=r.height;return n.style.width=o+"px",n.style.height=i+"px",n.width=o,n.height=i,n},t.tryPlayVideo=function(e){return tn(this,void 0,void 0,function(){var n;return nn(this,function(r){switch(r.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return tn(this,void 0,void 0,function(){var e,n,r,o,i,a,s,u,f,d,h,m;return nn(this,function(g){switch(g.label){case 0:if(!q9())throw new Error("Can't enumerate devices, navigator is not present.");if(!DY())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),n=[];try{for(r=ym(e),o=r.next();!o.done;o=r.next())i=o.value,a=i.kind==="video"?"videoinput":i.kind,a==="videoinput"&&(s=i.deviceId||i.id,u=i.label||"Video device ".concat(n.length+1),f=i.groupId,d={deviceId:s,label:u,kind:a,groupId:f},n.push(d))}catch(b){h={error:b}}finally{try{o&&!o.done&&(m=r.return)&&m.call(r)}finally{if(h)throw h.error}}return[2,n]}})})},t.findDeviceById=function(e){return tn(this,void 0,void 0,function(){var n;return nn(this,function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(o){return o.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,n){return tn(this,void 0,void 0,function(){var r;return nn(this,function(o){switch(o.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return r=o.sent(),r?[2,!0]:[2,new Promise(function(i,a){var s=setTimeout(function(){t.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",u))},n),u=function(){t.tryPlayVideo(e).then(function(f){clearTimeout(s),e.removeEventListener("canplay",u),i(f)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,n,r){return r===void 0&&(r=5e3),tn(this,void 0,void 0,function(){var o;return nn(this,function(i){switch(i.label){case 0:return o=t.prepareVideoElement(n),t.addVideoSource(o,e),[4,t.playVideoOnLoadAsync(o,r)];case 1:return i.sent(),[2,o]}})})},t._waitImageLoad=function(e){return new Promise(function(n,r){var o=1e4,i=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",a),r())},o),a=function(){clearTimeout(i),e.removeEventListener("load",a),n()};e.addEventListener("load",a)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new pn("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return tn(this,void 0,void 0,function(){var n;return nn(this,function(r){switch(r.label){case 0:if(!e)throw new pn("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return tn(this,void 0,void 0,function(){var n;return nn(this,function(r){switch(r.label){case 0:if(!e)throw new pn("An URL must be provided.");n=t.prepareImageElement(),n.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,r.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return tn(this,void 0,void 0,function(){var o,i;return nn(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(o,n,r)];case 3:return[2,a.sent()];case 4:throw i=a.sent(),t.disposeMediaStream(o),i;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,n,r){return tn(this,void 0,void 0,function(){var o,i,a,s,u,f,d,h,m,g=this;return nn(this,function(b){switch(b.label){case 0:return t.checkCallbackFnOrThrow(r),o=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,n,o)];case 1:return i=b.sent(),a=function(){t.disposeMediaStream(e),t.cleanVideoSource(i)},s=this.scan(i,r,a),u=e.getVideoTracks(),f=Vs(Vs({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(w,_){return tn(this,void 0,void 0,function(){var C,A,I,T,O,P,k;return nn(this,function(R){switch(R.label){case 0:C=_?u.filter(_):u,R.label=1;case 1:R.trys.push([1,6,7,8]),A=ym(C),I=A.next(),R.label=2;case 2:return I.done?[3,5]:(T=I.value,[4,T.applyConstraints(w)]);case 3:R.sent(),R.label=4;case 4:return I=A.next(),[3,2];case 5:return[3,8];case 6:return O=R.sent(),P={error:O},[3,8];case 7:try{I&&!I.done&&(k=A.return)&&k.call(A)}finally{if(P)throw P.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(w){return u.find(w).getConstraints()},streamVideoSettingsGet:function(w){return u.find(w).getSettings()},streamVideoCapabilitiesGet:function(w){return u.find(w).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(h=u?.find(function(w){return t.mediaStreamIsTorchCompatibleTrack(w)}),m=function(w){return tn(g,void 0,void 0,function(){return nn(this,function(_){switch(_.label){case 0:return[4,t.mediaStreamSetTorch(h,w)];case 1:return _.sent(),[2]}})})},f.switchTorch=m,f.stop=function(){return tn(g,void 0,void 0,function(){return nn(this,function(w){switch(w.label){case 0:return s.stop(),[4,m(!1)];case 1:return w.sent(),[2]}})})}),[2,f]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return tn(this,void 0,void 0,function(){var o,i;return nn(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),e?o={deviceId:{exact:e}}:o={facingMode:"environment"},i={video:o},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,n){return tn(this,void 0,void 0,function(){var r,o;return nn(this,function(i){switch(i.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new pn("A video element must be provided.");return r=t.prepareVideoElement(e),o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,o)];case 1:return i.sent(),[2,this.scan(r,n)]}})})},t.prototype.decodeFromVideoUrl=function(e,n){return tn(this,void 0,void 0,function(){var r,o,i,a;return nn(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new pn("An URL must be provided.");return r=t.prepareVideoElement(),r.src=e,o=function(){t.cleanVideoSource(r)},i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,i)];case 1:return s.sent(),a=this.scan(r,n,o),[2,a]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return tn(this,void 0,void 0,function(){var r;return nn(this,function(o){switch(o.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return tn(this,void 0,void 0,function(){var r,o,i;return nn(this,function(a){switch(a.label){case 0:return r=!!n,[4,t.attachStreamToVideo(e,n)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(o)];case 3:return i=a.sent(),[2,i];case 4:return r||t.cleanVideoSource(o),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return tn(this,void 0,void 0,function(){var r,o;return nn(this,function(i){switch(i.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},o={video:r},[4,this.decodeOnceFromConstraints(o,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return tn(this,void 0,void 0,function(){var n,r;return nn(this,function(o){switch(o.label){case 0:if(!e)throw new pn("A video element must be provided.");return n=t.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,r)];case 1:return o.sent(),[4,this.scanOneResult(n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return tn(this,void 0,void 0,function(){var n,r;return nn(this,function(o){switch(o.label){case 0:if(!e)throw new pn("An URL must be provided.");n=t.prepareVideoElement(),n.src=e,r=this.decodeOnceFromVideoElement(n),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,r];case 2:return[2,o.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,n,r,o){var i=this;return n===void 0&&(n=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),new Promise(function(a,s){i.scan(e,function(u,f,d){if(u){a(u),d.stop();return}if(f){if(f instanceof oe&&n||f instanceof gn&&r||f instanceof ve&&o)return;d.stop(),s(f)}})})},t.prototype.scan=function(e,n,r){var o=this;t.checkCallbackFnOrThrow(n);var i=t.createCaptureCanvas(e),a;try{a=i.getContext("2d",{willReadFrequently:!0})}catch{a=i.getContext("2d")}if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){a=void 0,i=void 0},u=!1,f,d=function(){u=!0,clearTimeout(f),s(),r&&r()},h={stop:d},m=function(){if(!u)try{t.drawImageOnCanvas(a,e);var g=o.decodeFromCanvas(i);n(g,void 0,h),f=setTimeout(m,o.options.delayBetweenScanSuccess)}catch(C){n(void 0,C,h);var b=C instanceof gn,w=C instanceof ve,_=C instanceof oe;if(b||w||_){f=setTimeout(m,o.options.delayBetweenScanAttempts);return}s(),r&&r(C)}};return m(),h},t.prototype._decodeOnLoadImage=function(e){return tn(this,void 0,void 0,function(){var n;return nn(this,function(r){switch(r.label){case 0:return n=t.isImageLoaded(e),n?[3,2]:[4,t._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return tn(this,void 0,void 0,function(){var n;return nn(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),t.streamTracker.push(n),[2,n]}})})},t.streamTracker=[],t})(),BY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){BY(e,t);function e(n,r){return t.call(this,new u0,n,r)||this}return e})(Pc);var LY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){LY(e,t);function e(n,r){return t.call(this,new Us(n),n,r)||this}return e})(Pc);var FY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){FY(e,t);function e(n,r){return t.call(this,new f0,n,r)||this}return e})(Pc);var jY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zY=(function(t){jY(e,t);function e(n,r){var o=this,i=new V9;return i.setHints(n),o=t.call(this,i,n,r)||this,o.reader=i,o}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(Ut.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(Pc),$Y=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){$Y(e,t);function e(n,r){return t.call(this,new h0,n,r)||this}return e})(Pc);var UY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){UY(e,t);function e(n,r){return t.call(this,new d0,n,r)||this}return e})(Pc);function HY({onDecoded:t}){const e=Xe.useRef(null);return Xe.useEffect(()=>{let n=null,r=!1;const o=new zY;return(async()=>{const i=e.current;i&&(n=await o.decodeFromVideoDevice(void 0,i,(a,s)=>{r||a&&(r=!0,n?.stop(),t(a.getText()))}))})(),()=>{r=!0,n?.stop()}},[t]),y.jsxs("div",{className:"p-4",children:[y.jsx("video",{ref:e,className:"w-full rounded-lg"}),y.jsx("div",{className:"text-xs text-neutral-500 mt-2",children:"Point your camera at a QR code."})]})}function dl(t){return t.toLowerCase()}async function VY(t){const e=await a3(),n=t.data.name.trim().toLowerCase(),r=t.data.surname?.trim().toLowerCase()??"",o=e.find(u=>{const f=u.name.trim().toLowerCase(),d=(u.surname??"").trim().toLowerCase();return f===n&&d===r}),i=t.data.wallets??[];if(!o)return await s3({name:t.data.name,surname:(t.t==="contact"?t.data.surname:void 0)??null,wallets:i.length?i:null}),{mode:"created"};const a=[...o.wallets??[],...i],s=new Map;for(const u of a)s.set(`${u.chainId}:${dl(u.address)}`,u);return{mode:"matched",existingId:o.id,mergedWallets:[...s.values()]}}async function GY(t){const e=await u3(),n=dl(t.data.address),r=e.find(o=>o.chainId===t.data.chainId&&dl(o.address)===n);return r?{mode:"matched",existingId:r.id}:(await l3({name:t.data.name,address:t.data.address,chainId:t.data.chainId,metadata:t.data.metadata}),{mode:"created",abiOmitted:t.data.abiOmitted===!0})}async function WY(t,e){const n=await A0(),r=dl(t.data.address),o=n.find(s=>s.chainId===t.data.chainId&&dl(s.address)===r);if(o)return{mode:"matched",existingId:o.id};const i=await o3({name:t.data.name,symbol:t.data.symbol,decimals:t.data.decimals,chainId:t.data.chainId,address:t.data.address,type:t.data.type}),a=i[i.length-1];if(e?.folios&&e?.updateFolio){for(const s of e.folios)if(s.chainId===Number(t.data.chainId)){const u=s.wallet??[];await e.updateFolio(s.id,{wallet:[...u,{coin:a.id,balance:0n}]})}}return{mode:"created"}}async function ZY(t,e){if(t.t==="contact"||t.t==="profile")return VY(t);if(t.t==="contract")return GY(t);if(t.t==="coin")return WY(t,e);throw new Error("Unsupported payload type")}function XY({open:t,onClose:e,onDecoded:n}){return Xe.useEffect(()=>{if(!t)return;const r=o=>{o.key==="Escape"&&e()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,e]),!t||typeof document>"u"?null:un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:e,style:{position:"fixed",inset:0,zIndex:2147483646,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)"}}),y.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},onClick:e,children:y.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-border bg-card shadow-xl",onClick:r=>r.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[y.jsx("div",{className:"text-sm font-semibold",children:"Scan QR code"}),y.jsx(ns,{size:"sm",variant:"outline",onClick:e,children:"Close"})]}),y.jsx("div",{className:"p-2",children:y.jsx(HY,{onDecoded:r=>{n(r),e()}})})]})})]}),document.body)}function qY(){const{signOut:t}=kv(),[e,n]=Xe.useState(!1),r=Xe.useRef(null),o=208,i=8,[a,s]=Xe.useState({top:0,left:0}),u=Xe.useCallback(()=>{if(!r.current)return;const d=r.current.getBoundingClientRect(),h=window.visualViewport,m=h?.width??window.innerWidth,g=h?.offsetLeft??0,b=h?.offsetTop??0,w=d.bottom+i+b,_=d.right-o+g,C=i+g,A=m-o-i+g,I=Math.max(C,Math.min(_,A));s({top:w,left:I})},[]);function f(){const d=!e;d&&u(),n(d)}return Xe.useEffect(()=>{if(!e)return;const d=h=>{h.key==="Escape"&&n(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[e]),Xe.useEffect(()=>{if(!e)return;const d=()=>u();window.addEventListener("resize",d),window.addEventListener("scroll",d,!0);const h=window.visualViewport;return h?.addEventListener("resize",d),h?.addEventListener("scroll",d),()=>{window.removeEventListener("resize",d),window.removeEventListener("scroll",d,!0),h?.removeEventListener("resize",d),h?.removeEventListener("scroll",d)}},[e,u]),y.jsxs(y.Fragment,{children:[y.jsx(ns,{ref:r,size:"sm",variant:"outline",onClick:f,children:"Menu"}),e&&typeof document<"u"&&un.createPortal(y.jsxs(y.Fragment,{children:[y.jsx("div",{onClick:()=>n(!1),style:{position:"fixed",inset:0,zIndex:9998,backgroundColor:"rgba(0,0,0,0.5)"}}),y.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:a.top,left:a.left,width:o,padding:4,boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},onClick:d=>d.stopPropagation(),children:[y.jsx(ra,{to:"/dashboard",label:"Home",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/transactions",label:"Transactions",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/addressbook",label:"Address Book",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/contacts",label:"Contacts",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/contracts",label:"Smart Contracts",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/coins",label:"Coins",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/legal/terms",label:"Terms",onSelect:()=>n(!1)}),y.jsx(ra,{to:"/legal/privacy",label:"Privacy",onSelect:()=>n(!1)}),y.jsx("div",{className:"my-1 border-t border-border"}),y.jsx("button",{className:"block w-full rounded-lg px-3 py-2 text-left text-sm text-red-600 hover:bg-neutral-100",onClick:()=>{n(!1),t()},children:"Log out"})]})]}),document.body)]})}function ra({to:t,label:e,onSelect:n}){return y.jsx(Ms,{to:t,onClick:n,className:({isActive:r})=>`block rounded-lg px-3 py-2 text-sm ${r?"bg-neutral-900 text-white":"hover:bg-neutral-100"}`,children:e})}function KY({children:t,address:e,domain:n,onOpenScan:r}){return y.jsxs("div",{className:"min-h-[100dvh] bg-background text-foreground",children:[y.jsx("header",{className:"sticky top-0 z-30 border-b border-border bg-background/95 backdrop-blur",children:y.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-3",children:[y.jsx(Gs,{to:"/dashboard",className:"flex items-center gap-2",children:y.jsx("img",{src:N9,alt:"QuantumAccount",style:{height:32,width:"auto"}})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(ns,{size:"sm",variant:"outline",onClick:r,children:"Scan"}),"",y.jsx(qY,{}),"",y.jsx(JY,{domain:n})]})]})}),y.jsx("main",{className:`mx-auto grid max-w-6xl gap-6 px-4 py-6
  pb-[calc(56px+env(safe-area-inset-bottom))]
  lg:pb-6
  lg:grid-cols-[220px_1fr]`,children:y.jsx("section",{className:"min-h-[60dvh] lg:col-span-2",children:t})}),y.jsx(QY,{})]})}function YY(){const[t,e]=Xe.useState(null),[n,r]=Xe.useState("ETHEREUM SEPOLIA"),[o,i]=Xe.useState(null),[a,s]=Xe.useState(!1),{folios:u,updateFolio:f}=Sy(),d=Xe.useCallback(async h=>{try{const m=qD(h),g=await ZY(m,{folios:u,updateFolio:f});console.log("[QR] import result:",g)}catch(m){console.error("[QR] import failed:",m)}},[u,f]);return Xe.useEffect(()=>{let h=!1;return(async()=>{try{console.log("[Wallet] Initialising");const m=await aH();console.log("[Wallet] Ready with address:",m),h||e(m)}catch(m){console.error("[Wallet] Init failed:",m),h||i(m?.message??"Unknown wallet init error")}})(),()=>{h=!0}},[]),y.jsxs(y.Fragment,{children:[y.jsx(XY,{open:a,onClose:()=>s(!1),onDecoded:d}),y.jsx(KY,{address:t,domain:n,onOpenScan:()=>s(!0),children:o?y.jsxs("div",{className:"p-6 text-red-700",children:[y.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Wallet initialisation failed"}),y.jsx("p",{className:"mb-2",children:o}),y.jsx("p",{className:"text-sm text-neutral-600",children:"Check the console for details."})]}):t?y.jsxs(p8,{children:[y.jsx(_r,{index:!0,element:y.jsx(jx,{})}),y.jsx(_r,{path:"dashboard",element:y.jsx(jx,{})}),y.jsx(_r,{path:"transactions",element:y.jsx(RH,{})}),y.jsx(_r,{path:"contacts",element:y.jsx(oM,{})}),y.jsx(_r,{path:"contracts",element:y.jsx(tM,{})}),y.jsx(_r,{path:"coins",element:y.jsx(DU,{})}),y.jsx(_r,{path:"addressbook",element:y.jsx(zN,{})}),y.jsx(_r,{path:"legal/terms",element:y.jsx(L_,{})}),y.jsx(_r,{path:"legal/privacy",element:y.jsx(F_,{})})]}):y.jsx("div",{className:"p-6",children:"Initialising QuantumAccount wallet"})})]})}function QY(){return y.jsx("div",{className:"fixed inset-x-0 bottom-0 z-20 border-t border-border bg-background pb-[env(safe-area-inset-bottom)]",children:y.jsxs("div",{className:"mx-auto grid h-14 max-w-md grid-cols-4 gap-2 px-2 text-center text-xs text-muted items-center",children:[y.jsx(Ms,{to:"/dashboard",children:"Home"}),y.jsx(Ms,{to:"/transactions",children:"Transactions"}),y.jsx(Ms,{to:"/legal/terms",children:"T&C"}),y.jsx(Ms,{to:"/legal/privacy",children:"Privacy"})]})})}function JY({domain:t}){return y.jsx(ns,{size:"sm",variant:"outline",children:t})}function eQ(){const{firebaseUser:t,loading:e}=kv();return e?y.jsx("div",{className:"min-h-dvh flex items-center justify-center text-sm text-muted-foreground",children:"Loading"}):t?y.jsx(YY,{}):y.jsx(HS,{to:"/login",replace:!0})}function tQ(){return y.jsx(pI,{children:y.jsx(DZ,{children:y.jsx(qZ,{children:y.jsxs(p8,{children:[y.jsx(_r,{path:"login",element:y.jsx(ZZ,{})}),y.jsx(_r,{path:"legal/terms",element:y.jsx(L_,{})}),y.jsx(_r,{path:"legal/privacy",element:y.jsx(F_,{})}),y.jsx(_r,{path:"/*",element:y.jsx(eQ,{})})]})})})})}ZA.createRoot(document.getElementById("root")).render(y.jsx(Xe.StrictMode,{children:y.jsx(tQ,{})}));export{fe as B,Tu as H,Mj as a,qo as b,t1 as c,LL as d,ba as e,Zo as f,Ly as g,Y0 as i,o1 as l,qn as s};
