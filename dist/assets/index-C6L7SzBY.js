(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qh={exports:{}},ou={},Kh={exports:{}},at={};var r6;function NA(){if(r6)return at;r6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=h&&L[h]||L["@@iterator"],typeof L=="function"?L:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(L,G,pe){this.props=L,this.context=G,this.refs=w,this.updater=pe||g}_.prototype.isReactComponent={},_.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},_.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=_.prototype;function A(L,G,pe){this.props=L,this.context=G,this.refs=w,this.updater=pe||g}var I=A.prototype=new C;I.constructor=A,b(I,_.prototype),I.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,P={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function k(L,G,pe){var ye,_e={},Ce=null,xe=null;if(G!=null)for(ye in G.ref!==void 0&&(xe=G.ref),G.key!==void 0&&(Ce=""+G.key),G)O.call(G,ye)&&!R.hasOwnProperty(ye)&&(_e[ye]=G[ye]);var Be=arguments.length-2;if(Be===1)_e.children=pe;else if(1<Be){for(var ke=Array(Be),Ae=0;Ae<Be;Ae++)ke[Ae]=arguments[Ae+2];_e.children=ke}if(L&&L.defaultProps)for(ye in Be=L.defaultProps,Be)_e[ye]===void 0&&(_e[ye]=Be[ye]);return{$$typeof:t,type:L,key:Ce,ref:xe,props:_e,_owner:P.current}}function $(L,G){return{$$typeof:t,type:L.type,key:G,ref:L.ref,props:L.props,_owner:L._owner}}function F(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function H(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return G[pe]})}var V=/\/+/g;function te(L,G){return typeof L=="object"&&L!==null&&L.key!=null?H(""+L.key):G.toString(36)}function ae(L,G,pe,ye,_e){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(Ce){case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case t:case e:xe=!0}}if(xe)return xe=L,_e=_e(xe),L=ye===""?"."+te(xe,0):ye,T(_e)?(pe="",L!=null&&(pe=L.replace(V,"$&/")+"/"),ae(_e,G,pe,"",function(Ae){return Ae})):_e!=null&&(F(_e)&&(_e=$(_e,pe+(!_e.key||xe&&xe.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+L)),G.push(_e)),1;if(xe=0,ye=ye===""?".":ye+":",T(L))for(var Be=0;Be<L.length;Be++){Ce=L[Be];var ke=ye+te(Ce,Be);xe+=ae(Ce,G,pe,ke,_e)}else if(ke=m(L),typeof ke=="function")for(L=ke.call(L),Be=0;!(Ce=L.next()).done;)Ce=Ce.value,ke=ye+te(Ce,Be++),xe+=ae(Ce,G,pe,ke,_e);else if(Ce==="object")throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return xe}function q(L,G,pe){if(L==null)return L;var ye=[],_e=0;return ae(L,ye,"","",function(Ce){return G.call(pe,Ce,_e++)}),ye}function Y(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var J={current:null},B={transition:null},U={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:B,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:q,forEach:function(L,G,pe){q(L,function(){G.apply(this,arguments)},pe)},count:function(L){var G=0;return q(L,function(){G++}),G},toArray:function(L){return q(L,function(G){return G})||[]},only:function(L){if(!F(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},at.Component=_,at.Fragment=n,at.Profiler=o,at.PureComponent=A,at.StrictMode=r,at.Suspense=u,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,at.act=ne,at.cloneElement=function(L,G,pe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ye=b({},L.props),_e=L.key,Ce=L.ref,xe=L._owner;if(G!=null){if(G.ref!==void 0&&(Ce=G.ref,xe=P.current),G.key!==void 0&&(_e=""+G.key),L.type&&L.type.defaultProps)var Be=L.type.defaultProps;for(ke in G)O.call(G,ke)&&!R.hasOwnProperty(ke)&&(ye[ke]=G[ke]===void 0&&Be!==void 0?Be[ke]:G[ke])}var ke=arguments.length-2;if(ke===1)ye.children=pe;else if(1<ke){Be=Array(ke);for(var Ae=0;Ae<ke;Ae++)Be[Ae]=arguments[Ae+2];ye.children=Be}return{$$typeof:t,type:L.type,key:_e,ref:Ce,props:ye,_owner:xe}},at.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:i,_context:L},L.Consumer=L},at.createElement=k,at.createFactory=function(L){var G=k.bind(null,L);return G.type=L,G},at.createRef=function(){return{current:null}},at.forwardRef=function(L){return{$$typeof:s,render:L}},at.isValidElement=F,at.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:Y}},at.memo=function(L,G){return{$$typeof:f,type:L,compare:G===void 0?null:G}},at.startTransition=function(L){var G=B.transition;B.transition={};try{L()}finally{B.transition=G}},at.unstable_act=ne,at.useCallback=function(L,G){return J.current.useCallback(L,G)},at.useContext=function(L){return J.current.useContext(L)},at.useDebugValue=function(){},at.useDeferredValue=function(L){return J.current.useDeferredValue(L)},at.useEffect=function(L,G){return J.current.useEffect(L,G)},at.useId=function(){return J.current.useId()},at.useImperativeHandle=function(L,G,pe){return J.current.useImperativeHandle(L,G,pe)},at.useInsertionEffect=function(L,G){return J.current.useInsertionEffect(L,G)},at.useLayoutEffect=function(L,G){return J.current.useLayoutEffect(L,G)},at.useMemo=function(L,G){return J.current.useMemo(L,G)},at.useReducer=function(L,G,pe){return J.current.useReducer(L,G,pe)},at.useRef=function(L){return J.current.useRef(L)},at.useState=function(L){return J.current.useState(L)},at.useSyncExternalStore=function(L,G,pe){return J.current.useSyncExternalStore(L,G,pe)},at.useTransition=function(){return J.current.useTransition()},at.version="18.3.1",at}var o6;function al(){return o6||(o6=1,Kh.exports=NA()),Kh.exports}var i6;function OA(){if(i6)return ou;i6=1;var t=al(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(s,u,f){var d,h={},m=null,g=null;f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(d in u)r.call(u,d)&&!i.hasOwnProperty(d)&&(h[d]=u[d]);if(s&&s.defaultProps)for(d in u=s.defaultProps,u)h[d]===void 0&&(h[d]=u[d]);return{$$typeof:e,type:s,key:m,ref:g,props:h,_owner:o.current}}return ou.Fragment=n,ou.jsx=a,ou.jsxs=a,ou}var a6;function PA(){return a6||(a6=1,qh.exports=OA()),qh.exports}var v=PA(),S=al();const ct=Pg(S);var zf={},Yh={exports:{}},lr={},Jh={exports:{}},Qh={};var s6;function RA(){return s6||(s6=1,(function(t){function e(B,U){var ne=B.length;B.push(U);e:for(;0<ne;){var L=ne-1>>>1,G=B[L];if(0<o(G,U))B[L]=U,B[ne]=G,ne=L;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var U=B[0],ne=B.pop();if(ne!==U){B[0]=ne;e:for(var L=0,G=B.length,pe=G>>>1;L<pe;){var ye=2*(L+1)-1,_e=B[ye],Ce=ye+1,xe=B[Ce];if(0>o(_e,ne))Ce<G&&0>o(xe,_e)?(B[L]=xe,B[Ce]=ne,L=Ce):(B[L]=_e,B[ye]=ne,L=ye);else if(Ce<G&&0>o(xe,ne))B[L]=xe,B[Ce]=ne,L=Ce;else break e}}return U}function o(B,U){var ne=B.sortIndex-U.sortIndex;return ne!==0?ne:B.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],f=[],d=1,h=null,m=3,g=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(B){for(var U=n(f);U!==null;){if(U.callback===null)r(f);else if(U.startTime<=B)r(f),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(f)}}function T(B){if(w=!1,I(B),!b)if(n(u)!==null)b=!0,Y(O);else{var U=n(f);U!==null&&J(T,U.startTime-B)}}function O(B,U){b=!1,w&&(w=!1,C(k),k=-1),g=!0;var ne=m;try{for(I(U),h=n(u);h!==null&&(!(h.expirationTime>U)||B&&!H());){var L=h.callback;if(typeof L=="function"){h.callback=null,m=h.priorityLevel;var G=L(h.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(u)&&r(u),I(U)}else r(u);h=n(u)}if(h!==null)var pe=!0;else{var ye=n(f);ye!==null&&J(T,ye.startTime-U),pe=!1}return pe}finally{h=null,m=ne,g=!1}}var P=!1,R=null,k=-1,$=5,F=-1;function H(){return!(t.unstable_now()-F<$)}function V(){if(R!==null){var B=t.unstable_now();F=B;var U=!0;try{U=R(!0,B)}finally{U?te():(P=!1,R=null)}}else P=!1}var te;if(typeof A=="function")te=function(){A(V)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,q=ae.port2;ae.port1.onmessage=V,te=function(){q.postMessage(null)}}else te=function(){_(V,0)};function Y(B){R=B,P||(P=!0,te())}function J(B,U){k=_(function(){B(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,Y(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var ne=m;m=U;try{return B()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=m;m=B;try{return U()}finally{m=ne}},t.unstable_scheduleCallback=function(B,U,ne){var L=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?L+ne:L):ne=L,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,B={id:d++,callback:U,priorityLevel:B,startTime:ne,expirationTime:G,sortIndex:-1},ne>L?(B.sortIndex=ne,e(f,B),n(u)===null&&B===n(f)&&(w?(C(k),k=-1):w=!0,J(T,ne-L))):(B.sortIndex=G,e(u,B),b||g||(b=!0,Y(O))),B},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(B){var U=m;return function(){var ne=m;m=U;try{return B.apply(this,arguments)}finally{m=ne}}}})(Qh)),Qh}var c6;function kA(){return c6||(c6=1,Jh.exports=RA()),Jh.exports}var u6;function DA(){if(u6)return lr;u6=1;var t=al(),e=kA();function n(c){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(c,l){a(c,l),a(c+"Capture",l)}function a(c,l){for(o[c]=l,c=0;c<l.length;c++)r.add(l[c])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(c){return u.call(h,c)?!0:u.call(d,c)?!1:f.test(c)?h[c]=!0:(d[c]=!0,!1)}function g(c,l,p,y){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,l,p,y){if(l===null||typeof l>"u"||g(c,l,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(c,l,p,y,x,E,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=x,this.mustUseProperty=p,this.propertyName=c,this.type=l,this.sanitizeURL=E,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_[c]=new w(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var l=c[0];_[l]=new w(l,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){_[c]=new w(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_[c]=new w(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_[c]=new w(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){_[c]=new w(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){_[c]=new w(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){_[c]=new w(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){_[c]=new w(c,5,!1,c.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function A(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var l=c.replace(C,A);_[l]=new w(l,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var l=c.replace(C,A);_[l]=new w(l,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var l=c.replace(C,A);_[l]=new w(l,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){_[c]=new w(c,1,!1,c.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){_[c]=new w(c,1,!1,c.toLowerCase(),null,!0,!0)});function I(c,l,p,y){var x=_.hasOwnProperty(l)?_[l]:null;(x!==null?x.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,p,x,y)&&(p=null),y||x===null?m(l)&&(p===null?c.removeAttribute(l):c.setAttribute(l,""+p)):x.mustUseProperty?c[x.propertyName]=p===null?x.type===3?!1:"":p:(l=x.attributeName,y=x.attributeNamespace,p===null?c.removeAttribute(l):(x=x.type,p=x===3||x===4&&p===!0?"":""+p,y?c.setAttributeNS(y,l,p):c.setAttribute(l,p))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),P=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),H=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),B=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var ne=Object.assign,L;function G(c){if(L===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);L=l&&l[1]||""}return`
`+L+c}var pe=!1;function ye(c,l){if(!c||pe)return"";pe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var y=ee}Reflect.construct(c,[],l)}else{try{l.call()}catch(ee){y=ee}c.call(l.prototype)}else{try{throw Error()}catch(ee){y=ee}c()}}catch(ee){if(ee&&y&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),E=y.stack.split(`
`),N=x.length-1,M=E.length-1;1<=N&&0<=M&&x[N]!==E[M];)M--;for(;1<=N&&0<=M;N--,M--)if(x[N]!==E[M]){if(N!==1||M!==1)do if(N--,M--,0>M||x[N]!==E[M]){var j=`
`+x[N].replace(" at new "," at ");return c.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",c.displayName)),j}while(1<=N&&0<=M);break}}}finally{pe=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?G(c):""}function _e(c){switch(c.tag){case 5:return G(c.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return c=ye(c.type,!1),c;case 11:return c=ye(c.type.render,!1),c;case 1:return c=ye(c.type,!0),c;default:return""}}function Ce(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case R:return"Fragment";case P:return"Portal";case $:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case ae:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case H:return(c.displayName||"Context")+".Consumer";case F:return(c._context.displayName||"Context")+".Provider";case V:var l=c.render;return c=c.displayName,c||(c=l.displayName||l.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case q:return l=c.displayName||null,l!==null?l:Ce(c.type)||"Memo";case Y:l=c._payload,c=c._init;try{return Ce(c(l))}catch{}}return null}function xe(c){var l=c.type;switch(c.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=l.render,c=c.displayName||c.name||"",l.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(l);case 8:return l===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Be(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ke(c){var l=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ae(c){var l=ke(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,l),y=""+c[l];if(!c.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,E=p.set;return Object.defineProperty(c,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){y=""+N,E.call(this,N)}}),Object.defineProperty(c,l,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(N){y=""+N},stopTracking:function(){c._valueTracker=null,delete c[l]}}}}function yt(c){c._valueTracker||(c._valueTracker=Ae(c))}function it(c){if(!c)return!1;var l=c._valueTracker;if(!l)return!0;var p=l.getValue(),y="";return c&&(y=ke(c)?c.checked?"true":"false":c.value),c=y,c!==p?(l.setValue(c),!0):!1}function dt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function vt(c,l){var p=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??c._wrapperState.initialChecked})}function se(c,l){var p=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;p=Be(l.value!=null?l.value:p),c._wrapperState={initialChecked:y,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function re(c,l){l=l.checked,l!=null&&I(c,"checked",l,!1)}function Ee(c,l){re(c,l);var p=Be(l.value),y=l.type;if(p!=null)y==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(y==="submit"||y==="reset"){c.removeAttribute("value");return}l.hasOwnProperty("value")?lt(c,l.type,p):l.hasOwnProperty("defaultValue")&&lt(c,l.type,Be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(c.defaultChecked=!!l.defaultChecked)}function je(c,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+c._wrapperState.initialValue,p||l===c.value||(c.value=l),c.defaultValue=l}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function lt(c,l,p){(l!=="number"||dt(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var ze=Array.isArray;function pt(c,l,p,y){if(c=c.options,l){l={};for(var x=0;x<p.length;x++)l["$"+p[x]]=!0;for(p=0;p<c.length;p++)x=l.hasOwnProperty("$"+c[p].value),c[p].selected!==x&&(c[p].selected=x),x&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Be(p),l=null,x=0;x<c.length;x++){if(c[x].value===p){c[x].selected=!0,y&&(c[x].defaultSelected=!0);return}l!==null||c[x].disabled||(l=c[x])}l!==null&&(l.selected=!0)}}function wt(c,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Rt(c,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(ze(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}c._wrapperState={initialValue:Be(p)}}function kt(c,l){var p=Be(l.value),y=Be(l.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),l.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),y!=null&&(c.defaultValue=""+y)}function an(c){var l=c.textContent;l===c._wrapperState.initialValue&&l!==""&&l!==null&&(c.value=l)}function pn(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(c,l){return c==null||c==="http://www.w3.org/1999/xhtml"?pn(l):c==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var De,Xe=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,y,x){MSApp.execUnsafeLocalFunction(function(){return c(l,p,y,x)})}:c})(function(c,l){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=l;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=De.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;l.firstChild;)c.appendChild(l.firstChild)}});function Q(c,l){if(l){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=l;return}}c.textContent=l}var le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];Object.keys(le).forEach(function(c){Le.forEach(function(l){l=l+c.charAt(0).toUpperCase()+c.substring(1),le[l]=le[c]})});function et(c,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||le.hasOwnProperty(c)&&le[c]?(""+l).trim():l+"px"}function Ye(c,l){c=c.style;for(var p in l)if(l.hasOwnProperty(p)){var y=p.indexOf("--")===0,x=et(p,l[p],y);p==="float"&&(p="cssFloat"),y?c.setProperty(p,x):c[p]=x}}var Qe=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ft(c,l){if(l){if(Qe[c]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Dn(c,l){if(c.indexOf("-")===-1)return typeof l.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function qn(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Er=null,$n=null,K=null;function ge(c){if(c=Hc(c)){if(typeof Er!="function")throw Error(n(280));var l=c.stateNode;l&&(l=ef(l),Er(c.stateNode,c.type,l))}}function he(c){$n?K?K.push(c):K=[c]:$n=c}function we(){if($n){var c=$n,l=K;if(K=$n=null,ge(c),l)for(c=0;c<l.length;c++)ge(l[c])}}function Je(c,l){return c(l)}function Ze(){}var nt=!1;function Mt(c,l,p){if(nt)return c(l,p);nt=!0;try{return Je(c,l,p)}finally{nt=!1,($n!==null||K!==null)&&(Ze(),we())}}function tt(c,l){var p=c.stateNode;if(p===null)return null;var y=ef(p);if(y===null)return null;p=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var jt=!1;if(s)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){jt=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{jt=!1}function Yr(c,l,p,y,x,E,N,M,j){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(p,ee)}catch(ue){this.onError(ue)}}var Jr=!1,_o=null,_r=!1,Wo=null,Cc={onError:function(c){Jr=!0,_o=c}};function LC(c,l,p,y,x,E,N,M,j){Jr=!1,_o=null,Yr.apply(Cc,arguments)}function FC(c,l,p,y,x,E,N,M,j){if(LC.apply(this,arguments),Jr){if(Jr){var ee=_o;Jr=!1,_o=null}else throw Error(n(198));_r||(_r=!0,Wo=ee)}}function ga(c){var l=c,p=c;if(c.alternate)for(;l.return;)l=l.return;else{c=l;do l=c,(l.flags&4098)!==0&&(p=l.return),c=l.return;while(c)}return l.tag===3?p:null}function Sv(c){if(c.tag===13){var l=c.memoizedState;if(l===null&&(c=c.alternate,c!==null&&(l=c.memoizedState)),l!==null)return l.dehydrated}return null}function Iv(c){if(ga(c)!==c)throw Error(n(188))}function jC(c){var l=c.alternate;if(!l){if(l=ga(c),l===null)throw Error(n(188));return l!==c?null:c}for(var p=c,y=l;;){var x=p.return;if(x===null)break;var E=x.alternate;if(E===null){if(y=x.return,y!==null){p=y;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===p)return Iv(x),c;if(E===y)return Iv(x),l;E=E.sibling}throw Error(n(188))}if(p.return!==y.return)p=x,y=E;else{for(var N=!1,M=x.child;M;){if(M===p){N=!0,p=x,y=E;break}if(M===y){N=!0,y=x,p=E;break}M=M.sibling}if(!N){for(M=E.child;M;){if(M===p){N=!0,p=E,y=x;break}if(M===y){N=!0,y=E,p=x;break}M=M.sibling}if(!N)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:l}function Tv(c){return c=jC(c),c!==null?Nv(c):null}function Nv(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var l=Nv(c);if(l!==null)return l;c=c.sibling}return null}var Ov=e.unstable_scheduleCallback,Pv=e.unstable_cancelCallback,zC=e.unstable_shouldYield,$C=e.unstable_requestPaint,sn=e.unstable_now,UC=e.unstable_getCurrentPriorityLevel,m1=e.unstable_ImmediatePriority,Rv=e.unstable_UserBlockingPriority,Dl=e.unstable_NormalPriority,HC=e.unstable_LowPriority,kv=e.unstable_IdlePriority,Ml=null,Co=null;function VC(c){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Ml,c,void 0,(c.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:ZC,GC=Math.log,WC=Math.LN2;function ZC(c){return c>>>=0,c===0?32:31-(GC(c)/WC|0)|0}var Bl=64,Ll=4194304;function Ac(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Fl(c,l){var p=c.pendingLanes;if(p===0)return 0;var y=0,x=c.suspendedLanes,E=c.pingedLanes,N=p&268435455;if(N!==0){var M=N&~x;M!==0?y=Ac(M):(E&=N,E!==0&&(y=Ac(E)))}else N=p&~x,N!==0?y=Ac(N):E!==0&&(y=Ac(E));if(y===0)return 0;if(l!==0&&l!==y&&(l&x)===0&&(x=y&-y,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if((y&4)!==0&&(y|=p&16),l=c.entangledLanes,l!==0)for(c=c.entanglements,l&=y;0<l;)p=31-Qr(l),x=1<<p,y|=c[p],l&=~x;return y}function XC(c,l){switch(c){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qC(c,l){for(var p=c.suspendedLanes,y=c.pingedLanes,x=c.expirationTimes,E=c.pendingLanes;0<E;){var N=31-Qr(E),M=1<<N,j=x[N];j===-1?((M&p)===0||(M&y)!==0)&&(x[N]=XC(M,l)):j<=l&&(c.expiredLanes|=M),E&=~M}}function g1(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Dv(){var c=Bl;return Bl<<=1,(Bl&4194240)===0&&(Bl=64),c}function y1(c){for(var l=[],p=0;31>p;p++)l.push(c);return l}function Sc(c,l,p){c.pendingLanes|=l,l!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,l=31-Qr(l),c[l]=p}function KC(c,l){var p=c.pendingLanes&~l;c.pendingLanes=l,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=l,c.mutableReadLanes&=l,c.entangledLanes&=l,l=c.entanglements;var y=c.eventTimes;for(c=c.expirationTimes;0<p;){var x=31-Qr(p),E=1<<x;l[x]=0,y[x]=-1,c[x]=-1,p&=~E}}function v1(c,l){var p=c.entangledLanes|=l;for(c=c.entanglements;p;){var y=31-Qr(p),x=1<<y;x&l|c[y]&l&&(c[y]|=l),p&=~x}}var It=0;function Mv(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Bv,b1,Lv,Fv,jv,x1=!1,jl=[],Si=null,Ii=null,Ti=null,Ic=new Map,Tc=new Map,Ni=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zv(c,l){switch(c){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Ic.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(l.pointerId)}}function Nc(c,l,p,y,x,E){return c===null||c.nativeEvent!==E?(c={blockedOn:l,domEventName:p,eventSystemFlags:y,nativeEvent:E,targetContainers:[x]},l!==null&&(l=Hc(l),l!==null&&b1(l)),c):(c.eventSystemFlags|=y,l=c.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),c)}function JC(c,l,p,y,x){switch(l){case"focusin":return Si=Nc(Si,c,l,p,y,x),!0;case"dragenter":return Ii=Nc(Ii,c,l,p,y,x),!0;case"mouseover":return Ti=Nc(Ti,c,l,p,y,x),!0;case"pointerover":var E=x.pointerId;return Ic.set(E,Nc(Ic.get(E)||null,c,l,p,y,x)),!0;case"gotpointercapture":return E=x.pointerId,Tc.set(E,Nc(Tc.get(E)||null,c,l,p,y,x)),!0}return!1}function $v(c){var l=ya(c.target);if(l!==null){var p=ga(l);if(p!==null){if(l=p.tag,l===13){if(l=Sv(p),l!==null){c.blockedOn=l,jv(c.priority,function(){Lv(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function zl(c){if(c.blockedOn!==null)return!1;for(var l=c.targetContainers;0<l.length;){var p=E1(c.domEventName,c.eventSystemFlags,l[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Xn=y,p.target.dispatchEvent(y),Xn=null}else return l=Hc(p),l!==null&&b1(l),c.blockedOn=p,!1;l.shift()}return!0}function Uv(c,l,p){zl(c)&&p.delete(l)}function QC(){x1=!1,Si!==null&&zl(Si)&&(Si=null),Ii!==null&&zl(Ii)&&(Ii=null),Ti!==null&&zl(Ti)&&(Ti=null),Ic.forEach(Uv),Tc.forEach(Uv)}function Oc(c,l){c.blockedOn===l&&(c.blockedOn=null,x1||(x1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QC)))}function Pc(c){function l(x){return Oc(x,c)}if(0<jl.length){Oc(jl[0],c);for(var p=1;p<jl.length;p++){var y=jl[p];y.blockedOn===c&&(y.blockedOn=null)}}for(Si!==null&&Oc(Si,c),Ii!==null&&Oc(Ii,c),Ti!==null&&Oc(Ti,c),Ic.forEach(l),Tc.forEach(l),p=0;p<Ni.length;p++)y=Ni[p],y.blockedOn===c&&(y.blockedOn=null);for(;0<Ni.length&&(p=Ni[0],p.blockedOn===null);)$v(p),p.blockedOn===null&&Ni.shift()}var ns=T.ReactCurrentBatchConfig,$l=!0;function e9(c,l,p,y){var x=It,E=ns.transition;ns.transition=null;try{It=1,w1(c,l,p,y)}finally{It=x,ns.transition=E}}function t9(c,l,p,y){var x=It,E=ns.transition;ns.transition=null;try{It=4,w1(c,l,p,y)}finally{It=x,ns.transition=E}}function w1(c,l,p,y){if($l){var x=E1(c,l,p,y);if(x===null)j1(c,l,y,Ul,p),zv(c,y);else if(JC(x,c,l,p,y))y.stopPropagation();else if(zv(c,y),l&4&&-1<YC.indexOf(c)){for(;x!==null;){var E=Hc(x);if(E!==null&&Bv(E),E=E1(c,l,p,y),E===null&&j1(c,l,y,Ul,p),E===x)break;x=E}x!==null&&y.stopPropagation()}else j1(c,l,y,null,p)}}var Ul=null;function E1(c,l,p,y){if(Ul=null,c=qn(y),c=ya(c),c!==null)if(l=ga(c),l===null)c=null;else if(p=l.tag,p===13){if(c=Sv(l),c!==null)return c;c=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;c=null}else l!==c&&(c=null);return Ul=c,null}function Hv(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UC()){case m1:return 1;case Rv:return 4;case Dl:case HC:return 16;case kv:return 536870912;default:return 16}default:return 16}}var Oi=null,_1=null,Hl=null;function Vv(){if(Hl)return Hl;var c,l=_1,p=l.length,y,x="value"in Oi?Oi.value:Oi.textContent,E=x.length;for(c=0;c<p&&l[c]===x[c];c++);var N=p-c;for(y=1;y<=N&&l[p-y]===x[E-y];y++);return Hl=x.slice(c,1<y?1-y:void 0)}function Vl(c){var l=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&l===13&&(c=13)):c=l,c===10&&(c=13),32<=c||c===13?c:0}function Gl(){return!0}function Gv(){return!1}function Cr(c){function l(p,y,x,E,N){this._reactName=p,this._targetInst=x,this.type=y,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var M in c)c.hasOwnProperty(M)&&(p=c[M],this[M]=p?p(E):E[M]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Gl:Gv,this.isPropagationStopped=Gv,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),l}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=Cr(rs),Rc=ne({},rs,{view:0,detail:0}),n9=Cr(Rc),A1,S1,kc,Wl=ne({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T1,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==kc&&(kc&&c.type==="mousemove"?(A1=c.screenX-kc.screenX,S1=c.screenY-kc.screenY):S1=A1=0,kc=c),A1)},movementY:function(c){return"movementY"in c?c.movementY:S1}}),Wv=Cr(Wl),r9=ne({},Wl,{dataTransfer:0}),o9=Cr(r9),i9=ne({},Rc,{relatedTarget:0}),I1=Cr(i9),a9=ne({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),s9=Cr(a9),c9=ne({},rs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),u9=Cr(c9),l9=ne({},rs,{data:0}),Zv=Cr(l9),f9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p9(c){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(c):(c=h9[c])?!!l[c]:!1}function T1(){return p9}var m9=ne({},Rc,{key:function(c){if(c.key){var l=f9[c.key]||c.key;if(l!=="Unidentified")return l}return c.type==="keypress"?(c=Vl(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?d9[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T1,charCode:function(c){return c.type==="keypress"?Vl(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Vl(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),g9=Cr(m9),y9=ne({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=Cr(y9),v9=ne({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T1}),b9=Cr(v9),x9=ne({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w9=Cr(x9),E9=ne({},Wl,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),_9=Cr(E9),C9=[9,13,27,32],N1=s&&"CompositionEvent"in window,Dc=null;s&&"documentMode"in document&&(Dc=document.documentMode);var A9=s&&"TextEvent"in window&&!Dc,qv=s&&(!N1||Dc&&8<Dc&&11>=Dc),Kv=" ",Yv=!1;function Jv(c,l){switch(c){case"keyup":return C9.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qv(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var os=!1;function S9(c,l){switch(c){case"compositionend":return Qv(l);case"keypress":return l.which!==32?null:(Yv=!0,Kv);case"textInput":return c=l.data,c===Kv&&Yv?null:c;default:return null}}function I9(c,l){if(os)return c==="compositionend"||!N1&&Jv(c,l)?(c=Vv(),Hl=_1=Oi=null,os=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return qv&&l.locale!=="ko"?null:l.data;default:return null}}var T9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e2(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l==="input"?!!T9[c.type]:l==="textarea"}function t2(c,l,p,y){he(y),l=Yl(l,"onChange"),0<l.length&&(p=new C1("onChange","change",null,p,y),c.push({event:p,listeners:l}))}var Mc=null,Bc=null;function N9(c){b2(c,0)}function Zl(c){var l=us(c);if(it(l))return c}function O9(c,l){if(c==="change")return l}var n2=!1;if(s){var O1;if(s){var P1="oninput"in document;if(!P1){var r2=document.createElement("div");r2.setAttribute("oninput","return;"),P1=typeof r2.oninput=="function"}O1=P1}else O1=!1;n2=O1&&(!document.documentMode||9<document.documentMode)}function o2(){Mc&&(Mc.detachEvent("onpropertychange",i2),Bc=Mc=null)}function i2(c){if(c.propertyName==="value"&&Zl(Bc)){var l=[];t2(l,Bc,c,qn(c)),Mt(N9,l)}}function P9(c,l,p){c==="focusin"?(o2(),Mc=l,Bc=p,Mc.attachEvent("onpropertychange",i2)):c==="focusout"&&o2()}function R9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Zl(Bc)}function k9(c,l){if(c==="click")return Zl(l)}function D9(c,l){if(c==="input"||c==="change")return Zl(l)}function M9(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var eo=typeof Object.is=="function"?Object.is:M9;function Lc(c,l){if(eo(c,l))return!0;if(typeof c!="object"||c===null||typeof l!="object"||l===null)return!1;var p=Object.keys(c),y=Object.keys(l);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var x=p[y];if(!u.call(l,x)||!eo(c[x],l[x]))return!1}return!0}function a2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function s2(c,l){var p=a2(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=l&&y>=l)return{node:p,offset:l-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=a2(p)}}function c2(c,l){return c&&l?c===l?!0:c&&c.nodeType===3?!1:l&&l.nodeType===3?c2(c,l.parentNode):"contains"in c?c.contains(l):c.compareDocumentPosition?!!(c.compareDocumentPosition(l)&16):!1:!1}function u2(){for(var c=window,l=dt();l instanceof c.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)c=l.contentWindow;else break;l=dt(c.document)}return l}function R1(c){var l=c&&c.nodeName&&c.nodeName.toLowerCase();return l&&(l==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||l==="textarea"||c.contentEditable==="true")}function B9(c){var l=u2(),p=c.focusedElem,y=c.selectionRange;if(l!==p&&p&&p.ownerDocument&&c2(p.ownerDocument.documentElement,p)){if(y!==null&&R1(p)){if(l=y.start,c=y.end,c===void 0&&(c=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(c,p.value.length);else if(c=(l=p.ownerDocument||document)&&l.defaultView||window,c.getSelection){c=c.getSelection();var x=p.textContent.length,E=Math.min(y.start,x);y=y.end===void 0?E:Math.min(y.end,x),!c.extend&&E>y&&(x=y,y=E,E=x),x=s2(p,E);var N=s2(p,y);x&&N&&(c.rangeCount!==1||c.anchorNode!==x.node||c.anchorOffset!==x.offset||c.focusNode!==N.node||c.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),c.removeAllRanges(),E>y?(c.addRange(l),c.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),c.addRange(l)))}}for(l=[],c=p;c=c.parentNode;)c.nodeType===1&&l.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)c=l[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var L9=s&&"documentMode"in document&&11>=document.documentMode,is=null,k1=null,Fc=null,D1=!1;function l2(c,l,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;D1||is==null||is!==dt(y)||(y=is,"selectionStart"in y&&R1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Fc&&Lc(Fc,y)||(Fc=y,y=Yl(k1,"onSelect"),0<y.length&&(l=new C1("onSelect","select",null,l,p),c.push({event:l,listeners:y}),l.target=is)))}function Xl(c,l){var p={};return p[c.toLowerCase()]=l.toLowerCase(),p["Webkit"+c]="webkit"+l,p["Moz"+c]="moz"+l,p}var as={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},M1={},f2={};s&&(f2=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function ql(c){if(M1[c])return M1[c];if(!as[c])return c;var l=as[c],p;for(p in l)if(l.hasOwnProperty(p)&&p in f2)return M1[c]=l[p];return c}var d2=ql("animationend"),h2=ql("animationiteration"),p2=ql("animationstart"),m2=ql("transitionend"),g2=new Map,y2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(c,l){g2.set(c,l),i(l,[c])}for(var B1=0;B1<y2.length;B1++){var L1=y2[B1],F9=L1.toLowerCase(),j9=L1[0].toUpperCase()+L1.slice(1);Pi(F9,"on"+j9)}Pi(d2,"onAnimationEnd"),Pi(h2,"onAnimationIteration"),Pi(p2,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(m2,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z9=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function v2(c,l,p){var y=c.type||"unknown-event";c.currentTarget=p,FC(y,l,void 0,c),c.currentTarget=null}function b2(c,l){l=(l&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],x=y.event;y=y.listeners;e:{var E=void 0;if(l)for(var N=y.length-1;0<=N;N--){var M=y[N],j=M.instance,ee=M.currentTarget;if(M=M.listener,j!==E&&x.isPropagationStopped())break e;v2(x,M,ee),E=j}else for(N=0;N<y.length;N++){if(M=y[N],j=M.instance,ee=M.currentTarget,M=M.listener,j!==E&&x.isPropagationStopped())break e;v2(x,M,ee),E=j}}}if(_r)throw c=Wo,_r=!1,Wo=null,c}function zt(c,l){var p=l[G1];p===void 0&&(p=l[G1]=new Set);var y=c+"__bubble";p.has(y)||(x2(l,c,2,!1),p.add(y))}function F1(c,l,p){var y=0;l&&(y|=4),x2(p,c,y,l)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function zc(c){if(!c[Kl]){c[Kl]=!0,r.forEach(function(p){p!=="selectionchange"&&(z9.has(p)||F1(p,!1,c),F1(p,!0,c))});var l=c.nodeType===9?c:c.ownerDocument;l===null||l[Kl]||(l[Kl]=!0,F1("selectionchange",!1,l))}}function x2(c,l,p,y){switch(Hv(l)){case 1:var x=e9;break;case 4:x=t9;break;default:x=w1}p=x.bind(null,l,p,c),x=void 0,!jt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),y?x!==void 0?c.addEventListener(l,p,{capture:!0,passive:x}):c.addEventListener(l,p,!0):x!==void 0?c.addEventListener(l,p,{passive:x}):c.addEventListener(l,p,!1)}function j1(c,l,p,y,x){var E=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var M=y.stateNode.containerInfo;if(M===x||M.nodeType===8&&M.parentNode===x)break;if(N===4)for(N=y.return;N!==null;){var j=N.tag;if((j===3||j===4)&&(j=N.stateNode.containerInfo,j===x||j.nodeType===8&&j.parentNode===x))return;N=N.return}for(;M!==null;){if(N=ya(M),N===null)return;if(j=N.tag,j===5||j===6){y=E=N;continue e}M=M.parentNode}}y=y.return}Mt(function(){var ee=E,ue=qn(p),de=[];e:{var ce=g2.get(c);if(ce!==void 0){var Se=C1,Te=c;switch(c){case"keypress":if(Vl(p)===0)break e;case"keydown":case"keyup":Se=g9;break;case"focusin":Te="focus",Se=I1;break;case"focusout":Te="blur",Se=I1;break;case"beforeblur":case"afterblur":Se=I1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=o9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=b9;break;case d2:case h2:case p2:Se=s9;break;case m2:Se=w9;break;case"scroll":Se=n9;break;case"wheel":Se=_9;break;case"copy":case"cut":case"paste":Se=u9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Xv}var Pe=(l&4)!==0,cn=!Pe&&c==="scroll",W=Pe?ce!==null?ce+"Capture":null:ce;Pe=[];for(var z=ee,X;z!==null;){X=z;var me=X.stateNode;if(X.tag===5&&me!==null&&(X=me,W!==null&&(me=tt(z,W),me!=null&&Pe.push($c(z,me,X)))),cn)break;z=z.return}0<Pe.length&&(ce=new Se(ce,Te,null,p,ue),de.push({event:ce,listeners:Pe}))}}if((l&7)===0){e:{if(ce=c==="mouseover"||c==="pointerover",Se=c==="mouseout"||c==="pointerout",ce&&p!==Xn&&(Te=p.relatedTarget||p.fromElement)&&(ya(Te)||Te[Zo]))break e;if((Se||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,Se?(Te=p.relatedTarget||p.toElement,Se=ee,Te=Te?ya(Te):null,Te!==null&&(cn=ga(Te),Te!==cn||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Se=null,Te=ee),Se!==Te)){if(Pe=Wv,me="onMouseLeave",W="onMouseEnter",z="mouse",(c==="pointerout"||c==="pointerover")&&(Pe=Xv,me="onPointerLeave",W="onPointerEnter",z="pointer"),cn=Se==null?ce:us(Se),X=Te==null?ce:us(Te),ce=new Pe(me,z+"leave",Se,p,ue),ce.target=cn,ce.relatedTarget=X,me=null,ya(ue)===ee&&(Pe=new Pe(W,z+"enter",Te,p,ue),Pe.target=X,Pe.relatedTarget=cn,me=Pe),cn=me,Se&&Te)t:{for(Pe=Se,W=Te,z=0,X=Pe;X;X=ss(X))z++;for(X=0,me=W;me;me=ss(me))X++;for(;0<z-X;)Pe=ss(Pe),z--;for(;0<X-z;)W=ss(W),X--;for(;z--;){if(Pe===W||W!==null&&Pe===W.alternate)break t;Pe=ss(Pe),W=ss(W)}Pe=null}else Pe=null;Se!==null&&w2(de,ce,Se,Pe,!1),Te!==null&&cn!==null&&w2(de,cn,Te,Pe,!0)}}e:{if(ce=ee?us(ee):window,Se=ce.nodeName&&ce.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ce.type==="file")var Me=O9;else if(e2(ce))if(n2)Me=D9;else{Me=R9;var Ve=P9}else(Se=ce.nodeName)&&Se.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Me=k9);if(Me&&(Me=Me(c,ee))){t2(de,Me,p,ue);break e}Ve&&Ve(c,ce,ee),c==="focusout"&&(Ve=ce._wrapperState)&&Ve.controlled&&ce.type==="number"&&lt(ce,"number",ce.value)}switch(Ve=ee?us(ee):window,c){case"focusin":(e2(Ve)||Ve.contentEditable==="true")&&(is=Ve,k1=ee,Fc=null);break;case"focusout":Fc=k1=is=null;break;case"mousedown":D1=!0;break;case"contextmenu":case"mouseup":case"dragend":D1=!1,l2(de,p,ue);break;case"selectionchange":if(L9)break;case"keydown":case"keyup":l2(de,p,ue)}var Ge;if(N1)e:{switch(c){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else os?Jv(c,p)&&(qe="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(qe="onCompositionStart");qe&&(qv&&p.locale!=="ko"&&(os||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&os&&(Ge=Vv()):(Oi=ue,_1="value"in Oi?Oi.value:Oi.textContent,os=!0)),Ve=Yl(ee,qe),0<Ve.length&&(qe=new Zv(qe,c,null,p,ue),de.push({event:qe,listeners:Ve}),Ge?qe.data=Ge:(Ge=Qv(p),Ge!==null&&(qe.data=Ge)))),(Ge=A9?S9(c,p):I9(c,p))&&(ee=Yl(ee,"onBeforeInput"),0<ee.length&&(ue=new Zv("onBeforeInput","beforeinput",null,p,ue),de.push({event:ue,listeners:ee}),ue.data=Ge))}b2(de,l)})}function $c(c,l,p){return{instance:c,listener:l,currentTarget:p}}function Yl(c,l){for(var p=l+"Capture",y=[];c!==null;){var x=c,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=tt(c,p),E!=null&&y.unshift($c(c,E,x)),E=tt(c,l),E!=null&&y.push($c(c,E,x))),c=c.return}return y}function ss(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function w2(c,l,p,y,x){for(var E=l._reactName,N=[];p!==null&&p!==y;){var M=p,j=M.alternate,ee=M.stateNode;if(j!==null&&j===y)break;M.tag===5&&ee!==null&&(M=ee,x?(j=tt(p,E),j!=null&&N.unshift($c(p,j,M))):x||(j=tt(p,E),j!=null&&N.push($c(p,j,M)))),p=p.return}N.length!==0&&c.push({event:l,listeners:N})}var $9=/\r\n?/g,U9=/\u0000|\uFFFD/g;function E2(c){return(typeof c=="string"?c:""+c).replace($9,`
`).replace(U9,"")}function Jl(c,l,p){if(l=E2(l),E2(c)!==l&&p)throw Error(n(425))}function Ql(){}var z1=null,$1=null;function U1(c,l){return c==="textarea"||c==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var H1=typeof setTimeout=="function"?setTimeout:void 0,H9=typeof clearTimeout=="function"?clearTimeout:void 0,_2=typeof Promise=="function"?Promise:void 0,V9=typeof queueMicrotask=="function"?queueMicrotask:typeof _2<"u"?function(c){return _2.resolve(null).then(c).catch(G9)}:H1;function G9(c){setTimeout(function(){throw c})}function V1(c,l){var p=l,y=0;do{var x=p.nextSibling;if(c.removeChild(p),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(y===0){c.removeChild(x),Pc(l);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=x}while(p);Pc(l)}function Ri(c){for(;c!=null;c=c.nextSibling){var l=c.nodeType;if(l===1||l===3)break;if(l===8){if(l=c.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return c}function C2(c){c=c.previousSibling;for(var l=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return c;l--}else p==="/$"&&l++}c=c.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Ao="__reactFiber$"+cs,Uc="__reactProps$"+cs,Zo="__reactContainer$"+cs,G1="__reactEvents$"+cs,W9="__reactListeners$"+cs,Z9="__reactHandles$"+cs;function ya(c){var l=c[Ao];if(l)return l;for(var p=c.parentNode;p;){if(l=p[Zo]||p[Ao]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(c=C2(c);c!==null;){if(p=c[Ao])return p;c=C2(c)}return l}c=p,p=c.parentNode}return null}function Hc(c){return c=c[Ao]||c[Zo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function us(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function ef(c){return c[Uc]||null}var W1=[],ls=-1;function ki(c){return{current:c}}function $t(c){0>ls||(c.current=W1[ls],W1[ls]=null,ls--)}function Bt(c,l){ls++,W1[ls]=c.current,c.current=l}var Di={},Un=ki(Di),ir=ki(!1),va=Di;function fs(c,l){var p=c.type.contextTypes;if(!p)return Di;var y=c.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in p)x[E]=l[E];return y&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=l,c.__reactInternalMemoizedMaskedChildContext=x),x}function ar(c){return c=c.childContextTypes,c!=null}function tf(){$t(ir),$t(Un)}function A2(c,l,p){if(Un.current!==Di)throw Error(n(168));Bt(Un,l),Bt(ir,p)}function S2(c,l,p){var y=c.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var x in y)if(!(x in l))throw Error(n(108,xe(c)||"Unknown",x));return ne({},p,y)}function nf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Di,va=Un.current,Bt(Un,c),Bt(ir,ir.current),!0}function I2(c,l,p){var y=c.stateNode;if(!y)throw Error(n(169));p?(c=S2(c,l,va),y.__reactInternalMemoizedMergedChildContext=c,$t(ir),$t(Un),Bt(Un,c)):$t(ir),Bt(ir,p)}var Xo=null,rf=!1,Z1=!1;function T2(c){Xo===null?Xo=[c]:Xo.push(c)}function X9(c){rf=!0,T2(c)}function Mi(){if(!Z1&&Xo!==null){Z1=!0;var c=0,l=It;try{var p=Xo;for(It=1;c<p.length;c++){var y=p[c];do y=y(!0);while(y!==null)}Xo=null,rf=!1}catch(x){throw Xo!==null&&(Xo=Xo.slice(c+1)),Ov(m1,Mi),x}finally{It=l,Z1=!1}}return null}var ds=[],hs=0,of=null,af=0,Dr=[],Mr=0,ba=null,qo=1,Ko="";function xa(c,l){ds[hs++]=af,ds[hs++]=of,of=c,af=l}function N2(c,l,p){Dr[Mr++]=qo,Dr[Mr++]=Ko,Dr[Mr++]=ba,ba=c;var y=qo;c=Ko;var x=32-Qr(y)-1;y&=~(1<<x),p+=1;var E=32-Qr(l)+x;if(30<E){var N=x-x%5;E=(y&(1<<N)-1).toString(32),y>>=N,x-=N,qo=1<<32-Qr(l)+x|p<<x|y,Ko=E+c}else qo=1<<E|p<<x|y,Ko=c}function X1(c){c.return!==null&&(xa(c,1),N2(c,1,0))}function q1(c){for(;c===of;)of=ds[--hs],ds[hs]=null,af=ds[--hs],ds[hs]=null;for(;c===ba;)ba=Dr[--Mr],Dr[Mr]=null,Ko=Dr[--Mr],Dr[Mr]=null,qo=Dr[--Mr],Dr[Mr]=null}var Ar=null,Sr=null,Gt=!1,to=null;function O2(c,l){var p=jr(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=c,l=c.deletions,l===null?(c.deletions=[p],c.flags|=16):l.push(p)}function P2(c,l){switch(c.tag){case 5:var p=c.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(c.stateNode=l,Ar=c,Sr=Ri(l.firstChild),!0):!1;case 6:return l=c.pendingProps===""||l.nodeType!==3?null:l,l!==null?(c.stateNode=l,Ar=c,Sr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=ba!==null?{id:qo,overflow:Ko}:null,c.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=jr(18,null,null,0),p.stateNode=l,p.return=c,c.child=p,Ar=c,Sr=null,!0):!1;default:return!1}}function K1(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Y1(c){if(Gt){var l=Sr;if(l){var p=l;if(!P2(c,l)){if(K1(c))throw Error(n(418));l=Ri(p.nextSibling);var y=Ar;l&&P2(c,l)?O2(y,p):(c.flags=c.flags&-4097|2,Gt=!1,Ar=c)}}else{if(K1(c))throw Error(n(418));c.flags=c.flags&-4097|2,Gt=!1,Ar=c}}}function R2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ar=c}function sf(c){if(c!==Ar)return!1;if(!Gt)return R2(c),Gt=!0,!1;var l;if((l=c.tag!==3)&&!(l=c.tag!==5)&&(l=c.type,l=l!=="head"&&l!=="body"&&!U1(c.type,c.memoizedProps)),l&&(l=Sr)){if(K1(c))throw k2(),Error(n(418));for(;l;)O2(c,l),l=Ri(l.nextSibling)}if(R2(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,l=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(l===0){Sr=Ri(c.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}c=c.nextSibling}Sr=null}}else Sr=Ar?Ri(c.stateNode.nextSibling):null;return!0}function k2(){for(var c=Sr;c;)c=Ri(c.nextSibling)}function ps(){Sr=Ar=null,Gt=!1}function J1(c){to===null?to=[c]:to.push(c)}var q9=T.ReactCurrentBatchConfig;function Vc(c,l,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var y=p.stateNode}if(!y)throw Error(n(147,c));var x=y,E=""+c;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(N){var M=x.refs;N===null?delete M[E]:M[E]=N},l._stringRef=E,l)}if(typeof c!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,c))}return c}function cf(c,l){throw c=Object.prototype.toString.call(l),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":c))}function D2(c){var l=c._init;return l(c._payload)}function M2(c){function l(W,z){if(c){var X=W.deletions;X===null?(W.deletions=[z],W.flags|=16):X.push(z)}}function p(W,z){if(!c)return null;for(;z!==null;)l(W,z),z=z.sibling;return null}function y(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function x(W,z){return W=Hi(W,z),W.index=0,W.sibling=null,W}function E(W,z,X){return W.index=X,c?(X=W.alternate,X!==null?(X=X.index,X<z?(W.flags|=2,z):X):(W.flags|=2,z)):(W.flags|=1048576,z)}function N(W){return c&&W.alternate===null&&(W.flags|=2),W}function M(W,z,X,me){return z===null||z.tag!==6?(z=Hh(X,W.mode,me),z.return=W,z):(z=x(z,X),z.return=W,z)}function j(W,z,X,me){var Me=X.type;return Me===R?ue(W,z,X.props.children,me,X.key):z!==null&&(z.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Y&&D2(Me)===z.type)?(me=x(z,X.props),me.ref=Vc(W,z,X),me.return=W,me):(me=Rf(X.type,X.key,X.props,null,W.mode,me),me.ref=Vc(W,z,X),me.return=W,me)}function ee(W,z,X,me){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Vh(X,W.mode,me),z.return=W,z):(z=x(z,X.children||[]),z.return=W,z)}function ue(W,z,X,me,Me){return z===null||z.tag!==7?(z=Ta(X,W.mode,me,Me),z.return=W,z):(z=x(z,X),z.return=W,z)}function de(W,z,X){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Hh(""+z,W.mode,X),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return X=Rf(z.type,z.key,z.props,null,W.mode,X),X.ref=Vc(W,null,z),X.return=W,X;case P:return z=Vh(z,W.mode,X),z.return=W,z;case Y:var me=z._init;return de(W,me(z._payload),X)}if(ze(z)||U(z))return z=Ta(z,W.mode,X,null),z.return=W,z;cf(W,z)}return null}function ce(W,z,X,me){var Me=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Me!==null?null:M(W,z,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return X.key===Me?j(W,z,X,me):null;case P:return X.key===Me?ee(W,z,X,me):null;case Y:return Me=X._init,ce(W,z,Me(X._payload),me)}if(ze(X)||U(X))return Me!==null?null:ue(W,z,X,me,null);cf(W,X)}return null}function Se(W,z,X,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number")return W=W.get(X)||null,M(z,W,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case O:return W=W.get(me.key===null?X:me.key)||null,j(z,W,me,Me);case P:return W=W.get(me.key===null?X:me.key)||null,ee(z,W,me,Me);case Y:var Ve=me._init;return Se(W,z,X,Ve(me._payload),Me)}if(ze(me)||U(me))return W=W.get(X)||null,ue(z,W,me,Me,null);cf(z,me)}return null}function Te(W,z,X,me){for(var Me=null,Ve=null,Ge=z,qe=z=0,Tn=null;Ge!==null&&qe<X.length;qe++){Ge.index>qe?(Tn=Ge,Ge=null):Tn=Ge.sibling;var bt=ce(W,Ge,X[qe],me);if(bt===null){Ge===null&&(Ge=Tn);break}c&&Ge&&bt.alternate===null&&l(W,Ge),z=E(bt,z,qe),Ve===null?Me=bt:Ve.sibling=bt,Ve=bt,Ge=Tn}if(qe===X.length)return p(W,Ge),Gt&&xa(W,qe),Me;if(Ge===null){for(;qe<X.length;qe++)Ge=de(W,X[qe],me),Ge!==null&&(z=E(Ge,z,qe),Ve===null?Me=Ge:Ve.sibling=Ge,Ve=Ge);return Gt&&xa(W,qe),Me}for(Ge=y(W,Ge);qe<X.length;qe++)Tn=Se(Ge,W,qe,X[qe],me),Tn!==null&&(c&&Tn.alternate!==null&&Ge.delete(Tn.key===null?qe:Tn.key),z=E(Tn,z,qe),Ve===null?Me=Tn:Ve.sibling=Tn,Ve=Tn);return c&&Ge.forEach(function(Vi){return l(W,Vi)}),Gt&&xa(W,qe),Me}function Pe(W,z,X,me){var Me=U(X);if(typeof Me!="function")throw Error(n(150));if(X=Me.call(X),X==null)throw Error(n(151));for(var Ve=Me=null,Ge=z,qe=z=0,Tn=null,bt=X.next();Ge!==null&&!bt.done;qe++,bt=X.next()){Ge.index>qe?(Tn=Ge,Ge=null):Tn=Ge.sibling;var Vi=ce(W,Ge,bt.value,me);if(Vi===null){Ge===null&&(Ge=Tn);break}c&&Ge&&Vi.alternate===null&&l(W,Ge),z=E(Vi,z,qe),Ve===null?Me=Vi:Ve.sibling=Vi,Ve=Vi,Ge=Tn}if(bt.done)return p(W,Ge),Gt&&xa(W,qe),Me;if(Ge===null){for(;!bt.done;qe++,bt=X.next())bt=de(W,bt.value,me),bt!==null&&(z=E(bt,z,qe),Ve===null?Me=bt:Ve.sibling=bt,Ve=bt);return Gt&&xa(W,qe),Me}for(Ge=y(W,Ge);!bt.done;qe++,bt=X.next())bt=Se(Ge,W,qe,bt.value,me),bt!==null&&(c&&bt.alternate!==null&&Ge.delete(bt.key===null?qe:bt.key),z=E(bt,z,qe),Ve===null?Me=bt:Ve.sibling=bt,Ve=bt);return c&&Ge.forEach(function(TA){return l(W,TA)}),Gt&&xa(W,qe),Me}function cn(W,z,X,me){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case O:e:{for(var Me=X.key,Ve=z;Ve!==null;){if(Ve.key===Me){if(Me=X.type,Me===R){if(Ve.tag===7){p(W,Ve.sibling),z=x(Ve,X.props.children),z.return=W,W=z;break e}}else if(Ve.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Y&&D2(Me)===Ve.type){p(W,Ve.sibling),z=x(Ve,X.props),z.ref=Vc(W,Ve,X),z.return=W,W=z;break e}p(W,Ve);break}else l(W,Ve);Ve=Ve.sibling}X.type===R?(z=Ta(X.props.children,W.mode,me,X.key),z.return=W,W=z):(me=Rf(X.type,X.key,X.props,null,W.mode,me),me.ref=Vc(W,z,X),me.return=W,W=me)}return N(W);case P:e:{for(Ve=X.key;z!==null;){if(z.key===Ve)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){p(W,z.sibling),z=x(z,X.children||[]),z.return=W,W=z;break e}else{p(W,z);break}else l(W,z);z=z.sibling}z=Vh(X,W.mode,me),z.return=W,W=z}return N(W);case Y:return Ve=X._init,cn(W,z,Ve(X._payload),me)}if(ze(X))return Te(W,z,X,me);if(U(X))return Pe(W,z,X,me);cf(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,z!==null&&z.tag===6?(p(W,z.sibling),z=x(z,X),z.return=W,W=z):(p(W,z),z=Hh(X,W.mode,me),z.return=W,W=z),N(W)):p(W,z)}return cn}var ms=M2(!0),B2=M2(!1),uf=ki(null),lf=null,gs=null,Q1=null;function eh(){Q1=gs=lf=null}function th(c){var l=uf.current;$t(uf),c._currentValue=l}function nh(c,l,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&l)!==l?(c.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),c===p)break;c=c.return}}function ys(c,l){lf=c,Q1=gs=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&l)!==0&&(sr=!0),c.firstContext=null)}function Br(c){var l=c._currentValue;if(Q1!==c)if(c={context:c,memoizedValue:l,next:null},gs===null){if(lf===null)throw Error(n(308));gs=c,lf.dependencies={lanes:0,firstContext:c}}else gs=gs.next=c;return l}var wa=null;function rh(c){wa===null?wa=[c]:wa.push(c)}function L2(c,l,p,y){var x=l.interleaved;return x===null?(p.next=p,rh(l)):(p.next=x.next,x.next=p),l.interleaved=p,Yo(c,y)}function Yo(c,l){c.lanes|=l;var p=c.alternate;for(p!==null&&(p.lanes|=l),p=c,c=c.return;c!==null;)c.childLanes|=l,p=c.alternate,p!==null&&(p.childLanes|=l),p=c,c=c.return;return p.tag===3?p.stateNode:null}var Bi=!1;function oh(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F2(c,l){c=c.updateQueue,l.updateQueue===c&&(l.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Jo(c,l){return{eventTime:c,lane:l,tag:0,payload:null,callback:null,next:null}}function Li(c,l,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(mt&2)!==0){var x=y.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),y.pending=l,Yo(c,p)}return x=y.interleaved,x===null?(l.next=l,rh(y)):(l.next=x.next,x.next=l),y.interleaved=l,Yo(c,p)}function ff(c,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var y=l.lanes;y&=c.pendingLanes,p|=y,l.lanes=p,v1(c,p)}}function j2(c,l){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var x=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var N={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?x=E=N:E=E.next=N,p=p.next}while(p!==null);E===null?x=E=l:E=E.next=l}else x=E=l;p={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:y.shared,effects:y.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=l:c.next=l,p.lastBaseUpdate=l}function df(c,l,p,y){var x=c.updateQueue;Bi=!1;var E=x.firstBaseUpdate,N=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var j=M,ee=j.next;j.next=null,N===null?E=ee:N.next=ee,N=j;var ue=c.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==N&&(M===null?ue.firstBaseUpdate=ee:M.next=ee,ue.lastBaseUpdate=j))}if(E!==null){var de=x.baseState;N=0,ue=ee=j=null,M=E;do{var ce=M.lane,Se=M.eventTime;if((y&ce)===ce){ue!==null&&(ue=ue.next={eventTime:Se,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Te=c,Pe=M;switch(ce=l,Se=p,Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){de=Te.call(Se,de,ce);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,ce=typeof Te=="function"?Te.call(Se,de,ce):Te,ce==null)break e;de=ne({},de,ce);break e;case 2:Bi=!0}}M.callback!==null&&M.lane!==0&&(c.flags|=64,ce=x.effects,ce===null?x.effects=[M]:ce.push(M))}else Se={eventTime:Se,lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(ee=ue=Se,j=de):ue=ue.next=Se,N|=ce;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;ce=M,M=ce.next,ce.next=null,x.lastBaseUpdate=ce,x.shared.pending=null}}while(!0);if(ue===null&&(j=de),x.baseState=j,x.firstBaseUpdate=ee,x.lastBaseUpdate=ue,l=x.shared.interleaved,l!==null){x=l;do N|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);Ca|=N,c.lanes=N,c.memoizedState=de}}function z2(c,l,p){if(c=l.effects,l.effects=null,c!==null)for(l=0;l<c.length;l++){var y=c[l],x=y.callback;if(x!==null){if(y.callback=null,y=p,typeof x!="function")throw Error(n(191,x));x.call(y)}}}var Gc={},So=ki(Gc),Wc=ki(Gc),Zc=ki(Gc);function Ea(c){if(c===Gc)throw Error(n(174));return c}function ih(c,l){switch(Bt(Zc,l),Bt(Wc,c),Bt(So,Gc),c=l.nodeType,c){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ve(null,"");break;default:c=c===8?l.parentNode:l,l=c.namespaceURI||null,c=c.tagName,l=ve(l,c)}$t(So),Bt(So,l)}function vs(){$t(So),$t(Wc),$t(Zc)}function $2(c){Ea(Zc.current);var l=Ea(So.current),p=ve(l,c.type);l!==p&&(Bt(Wc,c),Bt(So,p))}function ah(c){Wc.current===c&&($t(So),$t(Wc))}var Yt=ki(0);function hf(c){for(var l=c;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sh=[];function ch(){for(var c=0;c<sh.length;c++)sh[c]._workInProgressVersionPrimary=null;sh.length=0}var pf=T.ReactCurrentDispatcher,uh=T.ReactCurrentBatchConfig,_a=0,Jt=null,gn=null,Sn=null,mf=!1,Xc=!1,qc=0,K9=0;function Hn(){throw Error(n(321))}function lh(c,l){if(l===null)return!1;for(var p=0;p<l.length&&p<c.length;p++)if(!eo(c[p],l[p]))return!1;return!0}function fh(c,l,p,y,x,E){if(_a=E,Jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,pf.current=c===null||c.memoizedState===null?eA:tA,c=p(y,x),Xc){E=0;do{if(Xc=!1,qc=0,25<=E)throw Error(n(301));E+=1,Sn=gn=null,l.updateQueue=null,pf.current=nA,c=p(y,x)}while(Xc)}if(pf.current=vf,l=gn!==null&&gn.next!==null,_a=0,Sn=gn=Jt=null,mf=!1,l)throw Error(n(300));return c}function dh(){var c=qc!==0;return qc=0,c}function Io(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Jt.memoizedState=Sn=c:Sn=Sn.next=c,Sn}function Lr(){if(gn===null){var c=Jt.alternate;c=c!==null?c.memoizedState:null}else c=gn.next;var l=Sn===null?Jt.memoizedState:Sn.next;if(l!==null)Sn=l,gn=c;else{if(c===null)throw Error(n(310));gn=c,c={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Sn===null?Jt.memoizedState=Sn=c:Sn=Sn.next=c}return Sn}function Kc(c,l){return typeof l=="function"?l(c):l}function hh(c){var l=Lr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=gn,x=y.baseQueue,E=p.pending;if(E!==null){if(x!==null){var N=x.next;x.next=E.next,E.next=N}y.baseQueue=x=E,p.pending=null}if(x!==null){E=x.next,y=y.baseState;var M=N=null,j=null,ee=E;do{var ue=ee.lane;if((_a&ue)===ue)j!==null&&(j=j.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),y=ee.hasEagerState?ee.eagerState:c(y,ee.action);else{var de={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};j===null?(M=j=de,N=y):j=j.next=de,Jt.lanes|=ue,Ca|=ue}ee=ee.next}while(ee!==null&&ee!==E);j===null?N=y:j.next=M,eo(y,l.memoizedState)||(sr=!0),l.memoizedState=y,l.baseState=N,l.baseQueue=j,p.lastRenderedState=y}if(c=p.interleaved,c!==null){x=c;do E=x.lane,Jt.lanes|=E,Ca|=E,x=x.next;while(x!==c)}else x===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function ph(c){var l=Lr(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,x=p.pending,E=l.memoizedState;if(x!==null){p.pending=null;var N=x=x.next;do E=c(E,N.action),N=N.next;while(N!==x);eo(E,l.memoizedState)||(sr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),p.lastRenderedState=E}return[E,y]}function U2(){}function H2(c,l){var p=Jt,y=Lr(),x=l(),E=!eo(y.memoizedState,x);if(E&&(y.memoizedState=x,sr=!0),y=y.queue,mh(W2.bind(null,p,y,c),[c]),y.getSnapshot!==l||E||Sn!==null&&Sn.memoizedState.tag&1){if(p.flags|=2048,Yc(9,G2.bind(null,p,y,x,l),void 0,null),In===null)throw Error(n(349));(_a&30)!==0||V2(p,l,x)}return x}function V2(c,l,p){c.flags|=16384,c={getSnapshot:l,value:p},l=Jt.updateQueue,l===null?(l={lastEffect:null,stores:null},Jt.updateQueue=l,l.stores=[c]):(p=l.stores,p===null?l.stores=[c]:p.push(c))}function G2(c,l,p,y){l.value=p,l.getSnapshot=y,Z2(l)&&X2(c)}function W2(c,l,p){return p(function(){Z2(l)&&X2(c)})}function Z2(c){var l=c.getSnapshot;c=c.value;try{var p=l();return!eo(c,p)}catch{return!0}}function X2(c){var l=Yo(c,1);l!==null&&io(l,c,1,-1)}function q2(c){var l=Io();return typeof c=="function"&&(c=c()),l.memoizedState=l.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:c},l.queue=c,c=c.dispatch=Q9.bind(null,Jt,c),[l.memoizedState,c]}function Yc(c,l,p,y){return c={tag:c,create:l,destroy:p,deps:y,next:null},l=Jt.updateQueue,l===null?(l={lastEffect:null,stores:null},Jt.updateQueue=l,l.lastEffect=c.next=c):(p=l.lastEffect,p===null?l.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,l.lastEffect=c)),c}function K2(){return Lr().memoizedState}function gf(c,l,p,y){var x=Io();Jt.flags|=c,x.memoizedState=Yc(1|l,p,void 0,y===void 0?null:y)}function yf(c,l,p,y){var x=Lr();y=y===void 0?null:y;var E=void 0;if(gn!==null){var N=gn.memoizedState;if(E=N.destroy,y!==null&&lh(y,N.deps)){x.memoizedState=Yc(l,p,E,y);return}}Jt.flags|=c,x.memoizedState=Yc(1|l,p,E,y)}function Y2(c,l){return gf(8390656,8,c,l)}function mh(c,l){return yf(2048,8,c,l)}function J2(c,l){return yf(4,2,c,l)}function Q2(c,l){return yf(4,4,c,l)}function e5(c,l){if(typeof l=="function")return c=c(),l(c),function(){l(null)};if(l!=null)return c=c(),l.current=c,function(){l.current=null}}function t5(c,l,p){return p=p!=null?p.concat([c]):null,yf(4,4,e5.bind(null,l,c),p)}function gh(){}function n5(c,l){var p=Lr();l=l===void 0?null:l;var y=p.memoizedState;return y!==null&&l!==null&&lh(l,y[1])?y[0]:(p.memoizedState=[c,l],c)}function r5(c,l){var p=Lr();l=l===void 0?null:l;var y=p.memoizedState;return y!==null&&l!==null&&lh(l,y[1])?y[0]:(c=c(),p.memoizedState=[c,l],c)}function o5(c,l,p){return(_a&21)===0?(c.baseState&&(c.baseState=!1,sr=!0),c.memoizedState=p):(eo(p,l)||(p=Dv(),Jt.lanes|=p,Ca|=p,c.baseState=!0),l)}function Y9(c,l){var p=It;It=p!==0&&4>p?p:4,c(!0);var y=uh.transition;uh.transition={};try{c(!1),l()}finally{It=p,uh.transition=y}}function i5(){return Lr().memoizedState}function J9(c,l,p){var y=$i(c);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},a5(c))s5(l,p);else if(p=L2(c,l,p,y),p!==null){var x=Yn();io(p,c,y,x),c5(p,l,y)}}function Q9(c,l,p){var y=$i(c),x={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(a5(c))s5(l,x);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var N=l.lastRenderedState,M=E(N,p);if(x.hasEagerState=!0,x.eagerState=M,eo(M,N)){var j=l.interleaved;j===null?(x.next=x,rh(l)):(x.next=j.next,j.next=x),l.interleaved=x;return}}catch{}p=L2(c,l,x,y),p!==null&&(x=Yn(),io(p,c,y,x),c5(p,l,y))}}function a5(c){var l=c.alternate;return c===Jt||l!==null&&l===Jt}function s5(c,l){Xc=mf=!0;var p=c.pending;p===null?l.next=l:(l.next=p.next,p.next=l),c.pending=l}function c5(c,l,p){if((p&4194240)!==0){var y=l.lanes;y&=c.pendingLanes,p|=y,l.lanes=p,v1(c,p)}}var vf={readContext:Br,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},eA={readContext:Br,useCallback:function(c,l){return Io().memoizedState=[c,l===void 0?null:l],c},useContext:Br,useEffect:Y2,useImperativeHandle:function(c,l,p){return p=p!=null?p.concat([c]):null,gf(4194308,4,e5.bind(null,l,c),p)},useLayoutEffect:function(c,l){return gf(4194308,4,c,l)},useInsertionEffect:function(c,l){return gf(4,2,c,l)},useMemo:function(c,l){var p=Io();return l=l===void 0?null:l,c=c(),p.memoizedState=[c,l],c},useReducer:function(c,l,p){var y=Io();return l=p!==void 0?p(l):l,y.memoizedState=y.baseState=l,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:l},y.queue=c,c=c.dispatch=J9.bind(null,Jt,c),[y.memoizedState,c]},useRef:function(c){var l=Io();return c={current:c},l.memoizedState=c},useState:q2,useDebugValue:gh,useDeferredValue:function(c){return Io().memoizedState=c},useTransition:function(){var c=q2(!1),l=c[0];return c=Y9.bind(null,c[1]),Io().memoizedState=c,[l,c]},useMutableSource:function(){},useSyncExternalStore:function(c,l,p){var y=Jt,x=Io();if(Gt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),In===null)throw Error(n(349));(_a&30)!==0||V2(y,l,p)}x.memoizedState=p;var E={value:p,getSnapshot:l};return x.queue=E,Y2(W2.bind(null,y,E,c),[c]),y.flags|=2048,Yc(9,G2.bind(null,y,E,p,l),void 0,null),p},useId:function(){var c=Io(),l=In.identifierPrefix;if(Gt){var p=Ko,y=qo;p=(y&~(1<<32-Qr(y)-1)).toString(32)+p,l=":"+l+"R"+p,p=qc++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=K9++,l=":"+l+"r"+p.toString(32)+":";return c.memoizedState=l},unstable_isNewReconciler:!1},tA={readContext:Br,useCallback:n5,useContext:Br,useEffect:mh,useImperativeHandle:t5,useInsertionEffect:J2,useLayoutEffect:Q2,useMemo:r5,useReducer:hh,useRef:K2,useState:function(){return hh(Kc)},useDebugValue:gh,useDeferredValue:function(c){var l=Lr();return o5(l,gn.memoizedState,c)},useTransition:function(){var c=hh(Kc)[0],l=Lr().memoizedState;return[c,l]},useMutableSource:U2,useSyncExternalStore:H2,useId:i5,unstable_isNewReconciler:!1},nA={readContext:Br,useCallback:n5,useContext:Br,useEffect:mh,useImperativeHandle:t5,useInsertionEffect:J2,useLayoutEffect:Q2,useMemo:r5,useReducer:ph,useRef:K2,useState:function(){return ph(Kc)},useDebugValue:gh,useDeferredValue:function(c){var l=Lr();return gn===null?l.memoizedState=c:o5(l,gn.memoizedState,c)},useTransition:function(){var c=ph(Kc)[0],l=Lr().memoizedState;return[c,l]},useMutableSource:U2,useSyncExternalStore:H2,useId:i5,unstable_isNewReconciler:!1};function no(c,l){if(c&&c.defaultProps){l=ne({},l),c=c.defaultProps;for(var p in c)l[p]===void 0&&(l[p]=c[p]);return l}return l}function yh(c,l,p,y){l=c.memoizedState,p=p(y,l),p=p==null?l:ne({},l,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var bf={isMounted:function(c){return(c=c._reactInternals)?ga(c)===c:!1},enqueueSetState:function(c,l,p){c=c._reactInternals;var y=Yn(),x=$i(c),E=Jo(y,x);E.payload=l,p!=null&&(E.callback=p),l=Li(c,E,x),l!==null&&(io(l,c,x,y),ff(l,c,x))},enqueueReplaceState:function(c,l,p){c=c._reactInternals;var y=Yn(),x=$i(c),E=Jo(y,x);E.tag=1,E.payload=l,p!=null&&(E.callback=p),l=Li(c,E,x),l!==null&&(io(l,c,x,y),ff(l,c,x))},enqueueForceUpdate:function(c,l){c=c._reactInternals;var p=Yn(),y=$i(c),x=Jo(p,y);x.tag=2,l!=null&&(x.callback=l),l=Li(c,x,y),l!==null&&(io(l,c,y,p),ff(l,c,y))}};function u5(c,l,p,y,x,E,N){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,E,N):l.prototype&&l.prototype.isPureReactComponent?!Lc(p,y)||!Lc(x,E):!0}function l5(c,l,p){var y=!1,x=Di,E=l.contextType;return typeof E=="object"&&E!==null?E=Br(E):(x=ar(l)?va:Un.current,y=l.contextTypes,E=(y=y!=null)?fs(c,x):Di),l=new l(p,E),c.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=bf,c.stateNode=l,l._reactInternals=c,y&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=x,c.__reactInternalMemoizedMaskedChildContext=E),l}function f5(c,l,p,y){c=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,y),l.state!==c&&bf.enqueueReplaceState(l,l.state,null)}function vh(c,l,p,y){var x=c.stateNode;x.props=p,x.state=c.memoizedState,x.refs={},oh(c);var E=l.contextType;typeof E=="object"&&E!==null?x.context=Br(E):(E=ar(l)?va:Un.current,x.context=fs(c,E)),x.state=c.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(yh(c,l,E,p),x.state=c.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&bf.enqueueReplaceState(x,x.state,null),df(c,p,x,y),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308)}function bs(c,l){try{var p="",y=l;do p+=_e(y),y=y.return;while(y);var x=p}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:c,source:l,stack:x,digest:null}}function bh(c,l,p){return{value:c,source:null,stack:p??null,digest:l??null}}function xh(c,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var rA=typeof WeakMap=="function"?WeakMap:Map;function d5(c,l,p){p=Jo(-1,p),p.tag=3,p.payload={element:null};var y=l.value;return p.callback=function(){Sf||(Sf=!0,Mh=y),xh(c,l)},p}function h5(c,l,p){p=Jo(-1,p),p.tag=3;var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=l.value;p.payload=function(){return y(x)},p.callback=function(){xh(c,l)}}var E=c.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){xh(c,l),typeof y!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),p}function p5(c,l,p){var y=c.pingCache;if(y===null){y=c.pingCache=new rA;var x=new Set;y.set(l,x)}else x=y.get(l),x===void 0&&(x=new Set,y.set(l,x));x.has(p)||(x.add(p),c=yA.bind(null,c,l,p),l.then(c,c))}function m5(c){do{var l;if((l=c.tag===13)&&(l=c.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return c;c=c.return}while(c!==null);return null}function g5(c,l,p,y,x){return(c.mode&1)===0?(c===l?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Jo(-1,1),l.tag=2,Li(p,l,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=x,c)}var oA=T.ReactCurrentOwner,sr=!1;function Kn(c,l,p,y){l.child=c===null?B2(l,null,p,y):ms(l,c.child,p,y)}function y5(c,l,p,y,x){p=p.render;var E=l.ref;return ys(l,x),y=fh(c,l,p,y,E,x),p=dh(),c!==null&&!sr?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,Qo(c,l,x)):(Gt&&p&&X1(l),l.flags|=1,Kn(c,l,y,x),l.child)}function v5(c,l,p,y,x){if(c===null){var E=p.type;return typeof E=="function"&&!Uh(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=E,b5(c,l,E,y,x)):(c=Rf(p.type,null,y,l,l.mode,x),c.ref=l.ref,c.return=l,l.child=c)}if(E=c.child,(c.lanes&x)===0){var N=E.memoizedProps;if(p=p.compare,p=p!==null?p:Lc,p(N,y)&&c.ref===l.ref)return Qo(c,l,x)}return l.flags|=1,c=Hi(E,y),c.ref=l.ref,c.return=l,l.child=c}function b5(c,l,p,y,x){if(c!==null){var E=c.memoizedProps;if(Lc(E,y)&&c.ref===l.ref)if(sr=!1,l.pendingProps=y=E,(c.lanes&x)!==0)(c.flags&131072)!==0&&(sr=!0);else return l.lanes=c.lanes,Qo(c,l,x)}return wh(c,l,p,y,x)}function x5(c,l,p){var y=l.pendingProps,x=y.children,E=c!==null?c.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(ws,Ir),Ir|=p;else{if((p&1073741824)===0)return c=E!==null?E.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:c,cachePool:null,transitions:null},l.updateQueue=null,Bt(ws,Ir),Ir|=c,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:p,Bt(ws,Ir),Ir|=y}else E!==null?(y=E.baseLanes|p,l.memoizedState=null):y=p,Bt(ws,Ir),Ir|=y;return Kn(c,l,x,p),l.child}function w5(c,l){var p=l.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function wh(c,l,p,y,x){var E=ar(p)?va:Un.current;return E=fs(l,E),ys(l,x),p=fh(c,l,p,y,E,x),y=dh(),c!==null&&!sr?(l.updateQueue=c.updateQueue,l.flags&=-2053,c.lanes&=~x,Qo(c,l,x)):(Gt&&y&&X1(l),l.flags|=1,Kn(c,l,p,x),l.child)}function E5(c,l,p,y,x){if(ar(p)){var E=!0;nf(l)}else E=!1;if(ys(l,x),l.stateNode===null)wf(c,l),l5(l,p,y),vh(l,p,y,x),y=!0;else if(c===null){var N=l.stateNode,M=l.memoizedProps;N.props=M;var j=N.context,ee=p.contextType;typeof ee=="object"&&ee!==null?ee=Br(ee):(ee=ar(p)?va:Un.current,ee=fs(l,ee));var ue=p.getDerivedStateFromProps,de=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function";de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==y||j!==ee)&&f5(l,N,y,ee),Bi=!1;var ce=l.memoizedState;N.state=ce,df(l,y,N,x),j=l.memoizedState,M!==y||ce!==j||ir.current||Bi?(typeof ue=="function"&&(yh(l,p,ue,y),j=l.memoizedState),(M=Bi||u5(l,p,M,y,ce,j,ee))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=j),N.props=y,N.state=j,N.context=ee,y=M):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{N=l.stateNode,F2(c,l),M=l.memoizedProps,ee=l.type===l.elementType?M:no(l.type,M),N.props=ee,de=l.pendingProps,ce=N.context,j=p.contextType,typeof j=="object"&&j!==null?j=Br(j):(j=ar(p)?va:Un.current,j=fs(l,j));var Se=p.getDerivedStateFromProps;(ue=typeof Se=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==de||ce!==j)&&f5(l,N,y,j),Bi=!1,ce=l.memoizedState,N.state=ce,df(l,y,N,x);var Te=l.memoizedState;M!==de||ce!==Te||ir.current||Bi?(typeof Se=="function"&&(yh(l,p,Se,y),Te=l.memoizedState),(ee=Bi||u5(l,p,ee,y,ce,Te,j)||!1)?(ue||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,Te,j),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,Te,j)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||M===c.memoizedProps&&ce===c.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&ce===c.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Te),N.props=y,N.state=Te,N.context=j,y=ee):(typeof N.componentDidUpdate!="function"||M===c.memoizedProps&&ce===c.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&ce===c.memoizedState||(l.flags|=1024),y=!1)}return Eh(c,l,p,y,E,x)}function Eh(c,l,p,y,x,E){w5(c,l);var N=(l.flags&128)!==0;if(!y&&!N)return x&&I2(l,p,!1),Qo(c,l,E);y=l.stateNode,oA.current=l;var M=N&&typeof p.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,c!==null&&N?(l.child=ms(l,c.child,null,E),l.child=ms(l,null,M,E)):Kn(c,l,M,E),l.memoizedState=y.state,x&&I2(l,p,!0),l.child}function _5(c){var l=c.stateNode;l.pendingContext?A2(c,l.pendingContext,l.pendingContext!==l.context):l.context&&A2(c,l.context,!1),ih(c,l.containerInfo)}function C5(c,l,p,y,x){return ps(),J1(x),l.flags|=256,Kn(c,l,p,y),l.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Ch(c){return{baseLanes:c,cachePool:null,transitions:null}}function A5(c,l,p){var y=l.pendingProps,x=Yt.current,E=!1,N=(l.flags&128)!==0,M;if((M=N)||(M=c!==null&&c.memoizedState===null?!1:(x&2)!==0),M?(E=!0,l.flags&=-129):(c===null||c.memoizedState!==null)&&(x|=1),Bt(Yt,x&1),c===null)return Y1(l),c=l.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((l.mode&1)===0?l.lanes=1:c.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=y.children,c=y.fallback,E?(y=l.mode,E=l.child,N={mode:"hidden",children:N},(y&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=N):E=kf(N,y,0,null),c=Ta(c,y,p,null),E.return=l,c.return=l,E.sibling=c,l.child=E,l.child.memoizedState=Ch(p),l.memoizedState=_h,c):Ah(l,N));if(x=c.memoizedState,x!==null&&(M=x.dehydrated,M!==null))return iA(c,l,N,y,M,x,p);if(E){E=y.fallback,N=l.mode,x=c.child,M=x.sibling;var j={mode:"hidden",children:y.children};return(N&1)===0&&l.child!==x?(y=l.child,y.childLanes=0,y.pendingProps=j,l.deletions=null):(y=Hi(x,j),y.subtreeFlags=x.subtreeFlags&14680064),M!==null?E=Hi(M,E):(E=Ta(E,N,p,null),E.flags|=2),E.return=l,y.return=l,y.sibling=E,l.child=y,y=E,E=l.child,N=c.child.memoizedState,N=N===null?Ch(p):{baseLanes:N.baseLanes|p,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=c.childLanes&~p,l.memoizedState=_h,y}return E=c.child,c=E.sibling,y=Hi(E,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=p),y.return=l,y.sibling=null,c!==null&&(p=l.deletions,p===null?(l.deletions=[c],l.flags|=16):p.push(c)),l.child=y,l.memoizedState=null,y}function Ah(c,l){return l=kf({mode:"visible",children:l},c.mode,0,null),l.return=c,c.child=l}function xf(c,l,p,y){return y!==null&&J1(y),ms(l,c.child,null,p),c=Ah(l,l.pendingProps.children),c.flags|=2,l.memoizedState=null,c}function iA(c,l,p,y,x,E,N){if(p)return l.flags&256?(l.flags&=-257,y=bh(Error(n(422))),xf(c,l,N,y)):l.memoizedState!==null?(l.child=c.child,l.flags|=128,null):(E=y.fallback,x=l.mode,y=kf({mode:"visible",children:y.children},x,0,null),E=Ta(E,x,N,null),E.flags|=2,y.return=l,E.return=l,y.sibling=E,l.child=y,(l.mode&1)!==0&&ms(l,c.child,null,N),l.child.memoizedState=Ch(N),l.memoizedState=_h,E);if((l.mode&1)===0)return xf(c,l,N,null);if(x.data==="$!"){if(y=x.nextSibling&&x.nextSibling.dataset,y)var M=y.dgst;return y=M,E=Error(n(419)),y=bh(E,y,void 0),xf(c,l,N,y)}if(M=(N&c.childLanes)!==0,sr||M){if(y=In,y!==null){switch(N&-N){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(y.suspendedLanes|N))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,Yo(c,x),io(y,c,x,-1))}return $h(),y=bh(Error(n(421))),xf(c,l,N,y)}return x.data==="$?"?(l.flags|=128,l.child=c.child,l=vA.bind(null,c),x._reactRetry=l,null):(c=E.treeContext,Sr=Ri(x.nextSibling),Ar=l,Gt=!0,to=null,c!==null&&(Dr[Mr++]=qo,Dr[Mr++]=Ko,Dr[Mr++]=ba,qo=c.id,Ko=c.overflow,ba=l),l=Ah(l,y.children),l.flags|=4096,l)}function S5(c,l,p){c.lanes|=l;var y=c.alternate;y!==null&&(y.lanes|=l),nh(c.return,l,p)}function Sh(c,l,p,y,x){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=p,E.tailMode=x)}function I5(c,l,p){var y=l.pendingProps,x=y.revealOrder,E=y.tail;if(Kn(c,l,y.children,p),y=Yt.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=l.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&S5(c,p,l);else if(c.tag===19)S5(c,p,l);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}if(Bt(Yt,y),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(p=l.child,x=null;p!==null;)c=p.alternate,c!==null&&hf(c)===null&&(x=p),p=p.sibling;p=x,p===null?(x=l.child,l.child=null):(x=p.sibling,p.sibling=null),Sh(l,!1,x,p,E);break;case"backwards":for(p=null,x=l.child,l.child=null;x!==null;){if(c=x.alternate,c!==null&&hf(c)===null){l.child=x;break}c=x.sibling,x.sibling=p,p=x,x=c}Sh(l,!0,p,null,E);break;case"together":Sh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function wf(c,l){(l.mode&1)===0&&c!==null&&(c.alternate=null,l.alternate=null,l.flags|=2)}function Qo(c,l,p){if(c!==null&&(l.dependencies=c.dependencies),Ca|=l.lanes,(p&l.childLanes)===0)return null;if(c!==null&&l.child!==c.child)throw Error(n(153));if(l.child!==null){for(c=l.child,p=Hi(c,c.pendingProps),l.child=p,p.return=l;c.sibling!==null;)c=c.sibling,p=p.sibling=Hi(c,c.pendingProps),p.return=l;p.sibling=null}return l.child}function aA(c,l,p){switch(l.tag){case 3:_5(l),ps();break;case 5:$2(l);break;case 1:ar(l.type)&&nf(l);break;case 4:ih(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,x=l.memoizedProps.value;Bt(uf,y._currentValue),y._currentValue=x;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(Bt(Yt,Yt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?A5(c,l,p):(Bt(Yt,Yt.current&1),c=Qo(c,l,p),c!==null?c.sibling:null);Bt(Yt,Yt.current&1);break;case 19:if(y=(p&l.childLanes)!==0,(c.flags&128)!==0){if(y)return I5(c,l,p);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Bt(Yt,Yt.current),y)break;return null;case 22:case 23:return l.lanes=0,x5(c,l,p)}return Qo(c,l,p)}var T5,Ih,N5,O5;T5=function(c,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ih=function(){},N5=function(c,l,p,y){var x=c.memoizedProps;if(x!==y){c=l.stateNode,Ea(So.current);var E=null;switch(p){case"input":x=vt(c,x),y=vt(c,y),E=[];break;case"select":x=ne({},x,{value:void 0}),y=ne({},y,{value:void 0}),E=[];break;case"textarea":x=wt(c,x),y=wt(c,y),E=[];break;default:typeof x.onClick!="function"&&typeof y.onClick=="function"&&(c.onclick=Ql)}ft(p,y);var N;p=null;for(ee in x)if(!y.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var M=x[ee];for(N in M)M.hasOwnProperty(N)&&(p||(p={}),p[N]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?E||(E=[]):(E=E||[]).push(ee,null));for(ee in y){var j=y[ee];if(M=x?.[ee],y.hasOwnProperty(ee)&&j!==M&&(j!=null||M!=null))if(ee==="style")if(M){for(N in M)!M.hasOwnProperty(N)||j&&j.hasOwnProperty(N)||(p||(p={}),p[N]="");for(N in j)j.hasOwnProperty(N)&&M[N]!==j[N]&&(p||(p={}),p[N]=j[N])}else p||(E||(E=[]),E.push(ee,p)),p=j;else ee==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(E=E||[]).push(ee,j)):ee==="children"?typeof j!="string"&&typeof j!="number"||(E=E||[]).push(ee,""+j):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(j!=null&&ee==="onScroll"&&zt("scroll",c),E||M===j||(E=[])):(E=E||[]).push(ee,j))}p&&(E=E||[]).push("style",p);var ee=E;(l.updateQueue=ee)&&(l.flags|=4)}},O5=function(c,l,p,y){p!==y&&(l.flags|=4)};function Jc(c,l){if(!Gt)switch(c.tailMode){case"hidden":l=c.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?l||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Vn(c){var l=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(l)for(var x=c.child;x!==null;)p|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)p|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=y,c.childLanes=p,l}function sA(c,l,p){var y=l.pendingProps;switch(q1(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(l),null;case 1:return ar(l.type)&&tf(),Vn(l),null;case 3:return y=l.stateNode,vs(),$t(ir),$t(Un),ch(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(sf(l)?l.flags|=4:c===null||c.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,to!==null&&(Fh(to),to=null))),Ih(c,l),Vn(l),null;case 5:ah(l);var x=Ea(Zc.current);if(p=l.type,c!==null&&l.stateNode!=null)N5(c,l,p,y,x),c.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(n(166));return Vn(l),null}if(c=Ea(So.current),sf(l)){y=l.stateNode,p=l.type;var E=l.memoizedProps;switch(y[Ao]=l,y[Uc]=E,c=(l.mode&1)!==0,p){case"dialog":zt("cancel",y),zt("close",y);break;case"iframe":case"object":case"embed":zt("load",y);break;case"video":case"audio":for(x=0;x<jc.length;x++)zt(jc[x],y);break;case"source":zt("error",y);break;case"img":case"image":case"link":zt("error",y),zt("load",y);break;case"details":zt("toggle",y);break;case"input":se(y,E),zt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},zt("invalid",y);break;case"textarea":Rt(y,E),zt("invalid",y)}ft(p,E),x=null;for(var N in E)if(E.hasOwnProperty(N)){var M=E[N];N==="children"?typeof M=="string"?y.textContent!==M&&(E.suppressHydrationWarning!==!0&&Jl(y.textContent,M,c),x=["children",M]):typeof M=="number"&&y.textContent!==""+M&&(E.suppressHydrationWarning!==!0&&Jl(y.textContent,M,c),x=["children",""+M]):o.hasOwnProperty(N)&&M!=null&&N==="onScroll"&&zt("scroll",y)}switch(p){case"input":yt(y),je(y,E,!0);break;case"textarea":yt(y),an(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=Ql)}y=x,l.updateQueue=y,y!==null&&(l.flags|=4)}else{N=x.nodeType===9?x:x.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=pn(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=N.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof y.is=="string"?c=N.createElement(p,{is:y.is}):(c=N.createElement(p),p==="select"&&(N=c,y.multiple?N.multiple=!0:y.size&&(N.size=y.size))):c=N.createElementNS(c,p),c[Ao]=l,c[Uc]=y,T5(c,l,!1,!1),l.stateNode=c;e:{switch(N=Dn(p,y),p){case"dialog":zt("cancel",c),zt("close",c),x=y;break;case"iframe":case"object":case"embed":zt("load",c),x=y;break;case"video":case"audio":for(x=0;x<jc.length;x++)zt(jc[x],c);x=y;break;case"source":zt("error",c),x=y;break;case"img":case"image":case"link":zt("error",c),zt("load",c),x=y;break;case"details":zt("toggle",c),x=y;break;case"input":se(c,y),x=vt(c,y),zt("invalid",c);break;case"option":x=y;break;case"select":c._wrapperState={wasMultiple:!!y.multiple},x=ne({},y,{value:void 0}),zt("invalid",c);break;case"textarea":Rt(c,y),x=wt(c,y),zt("invalid",c);break;default:x=y}ft(p,x),M=x;for(E in M)if(M.hasOwnProperty(E)){var j=M[E];E==="style"?Ye(c,j):E==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Xe(c,j)):E==="children"?typeof j=="string"?(p!=="textarea"||j!=="")&&Q(c,j):typeof j=="number"&&Q(c,""+j):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?j!=null&&E==="onScroll"&&zt("scroll",c):j!=null&&I(c,E,j,N))}switch(p){case"input":yt(c),je(c,y,!1);break;case"textarea":yt(c),an(c);break;case"option":y.value!=null&&c.setAttribute("value",""+Be(y.value));break;case"select":c.multiple=!!y.multiple,E=y.value,E!=null?pt(c,!!y.multiple,E,!1):y.defaultValue!=null&&pt(c,!!y.multiple,y.defaultValue,!0);break;default:typeof x.onClick=="function"&&(c.onclick=Ql)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Vn(l),null;case 6:if(c&&l.stateNode!=null)O5(c,l,c.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(n(166));if(p=Ea(Zc.current),Ea(So.current),sf(l)){if(y=l.stateNode,p=l.memoizedProps,y[Ao]=l,(E=y.nodeValue!==p)&&(c=Ar,c!==null))switch(c.tag){case 3:Jl(y.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Jl(y.nodeValue,p,(c.mode&1)!==0)}E&&(l.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Ao]=l,l.stateNode=y}return Vn(l),null;case 13:if($t(Yt),y=l.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Gt&&Sr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)k2(),ps(),l.flags|=98560,E=!1;else if(E=sf(l),y!==null&&y.dehydrated!==null){if(c===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Ao]=l}else ps(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vn(l),E=!1}else to!==null&&(Fh(to),to=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(y=y!==null,y!==(c!==null&&c.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(c===null||(Yt.current&1)!==0?yn===0&&(yn=3):$h())),l.updateQueue!==null&&(l.flags|=4),Vn(l),null);case 4:return vs(),Ih(c,l),c===null&&zc(l.stateNode.containerInfo),Vn(l),null;case 10:return th(l.type._context),Vn(l),null;case 17:return ar(l.type)&&tf(),Vn(l),null;case 19:if($t(Yt),E=l.memoizedState,E===null)return Vn(l),null;if(y=(l.flags&128)!==0,N=E.rendering,N===null)if(y)Jc(E,!1);else{if(yn!==0||c!==null&&(c.flags&128)!==0)for(c=l.child;c!==null;){if(N=hf(c),N!==null){for(l.flags|=128,Jc(E,!1),y=N.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=p,p=l.child;p!==null;)E=p,c=y,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=c,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,c=N.dependencies,E.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return Bt(Yt,Yt.current&1|2),l.child}c=c.sibling}E.tail!==null&&sn()>Es&&(l.flags|=128,y=!0,Jc(E,!1),l.lanes=4194304)}else{if(!y)if(c=hf(N),c!==null){if(l.flags|=128,y=!0,p=c.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Jc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!Gt)return Vn(l),null}else 2*sn()-E.renderingStartTime>Es&&p!==1073741824&&(l.flags|=128,y=!0,Jc(E,!1),l.lanes=4194304);E.isBackwards?(N.sibling=l.child,l.child=N):(p=E.last,p!==null?p.sibling=N:l.child=N,E.last=N)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=sn(),l.sibling=null,p=Yt.current,Bt(Yt,y?p&1|2:p&1),l):(Vn(l),null);case 22:case 23:return zh(),y=l.memoizedState!==null,c!==null&&c.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(Ir&1073741824)!==0&&(Vn(l),l.subtreeFlags&6&&(l.flags|=8192)):Vn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function cA(c,l){switch(q1(l),l.tag){case 1:return ar(l.type)&&tf(),c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 3:return vs(),$t(ir),$t(Un),ch(),c=l.flags,(c&65536)!==0&&(c&128)===0?(l.flags=c&-65537|128,l):null;case 5:return ah(l),null;case 13:if($t(Yt),c=l.memoizedState,c!==null&&c.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ps()}return c=l.flags,c&65536?(l.flags=c&-65537|128,l):null;case 19:return $t(Yt),null;case 4:return vs(),null;case 10:return th(l.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var Ef=!1,Gn=!1,uA=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function xs(c,l){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){nn(c,l,y)}else p.current=null}function Th(c,l,p){try{p()}catch(y){nn(c,l,y)}}var P5=!1;function lA(c,l){if(z1=$l,c=u2(),R1(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var x=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var N=0,M=-1,j=-1,ee=0,ue=0,de=c,ce=null;t:for(;;){for(var Se;de!==p||x!==0&&de.nodeType!==3||(M=N+x),de!==E||y!==0&&de.nodeType!==3||(j=N+y),de.nodeType===3&&(N+=de.nodeValue.length),(Se=de.firstChild)!==null;)ce=de,de=Se;for(;;){if(de===c)break t;if(ce===p&&++ee===x&&(M=N),ce===E&&++ue===y&&(j=N),(Se=de.nextSibling)!==null)break;de=ce,ce=de.parentNode}de=Se}p=M===-1||j===-1?null:{start:M,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for($1={focusedElem:c,selectionRange:p},$l=!1,Ie=l;Ie!==null;)if(l=Ie,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,Ie=c;else for(;Ie!==null;){l=Ie;try{var Te=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Pe=Te.memoizedProps,cn=Te.memoizedState,W=l.stateNode,z=W.getSnapshotBeforeUpdate(l.elementType===l.type?Pe:no(l.type,Pe),cn);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var X=l.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){nn(l,l.return,me)}if(c=l.sibling,c!==null){c.return=l.return,Ie=c;break}Ie=l.return}return Te=P5,P5=!1,Te}function Qc(c,l,p){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&c)===c){var E=x.destroy;x.destroy=void 0,E!==void 0&&Th(l,p,E)}x=x.next}while(x!==y)}}function _f(c,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&c)===c){var y=p.create;p.destroy=y()}p=p.next}while(p!==l)}}function Nh(c){var l=c.ref;if(l!==null){var p=c.stateNode;c.tag,c=p,typeof l=="function"?l(c):l.current=c}}function R5(c){var l=c.alternate;l!==null&&(c.alternate=null,R5(l)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(l=c.stateNode,l!==null&&(delete l[Ao],delete l[Uc],delete l[G1],delete l[W9],delete l[Z9])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function k5(c){return c.tag===5||c.tag===3||c.tag===4}function D5(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||k5(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Oh(c,l,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(c,l):p.insertBefore(c,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(c,p)):(l=p,l.appendChild(c)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Ql));else if(y!==4&&(c=c.child,c!==null))for(Oh(c,l,p),c=c.sibling;c!==null;)Oh(c,l,p),c=c.sibling}function Ph(c,l,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,l?p.insertBefore(c,l):p.appendChild(c);else if(y!==4&&(c=c.child,c!==null))for(Ph(c,l,p),c=c.sibling;c!==null;)Ph(c,l,p),c=c.sibling}var Mn=null,ro=!1;function Fi(c,l,p){for(p=p.child;p!==null;)M5(c,l,p),p=p.sibling}function M5(c,l,p){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Ml,p)}catch{}switch(p.tag){case 5:Gn||xs(p,l);case 6:var y=Mn,x=ro;Mn=null,Fi(c,l,p),Mn=y,ro=x,Mn!==null&&(ro?(c=Mn,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):Mn.removeChild(p.stateNode));break;case 18:Mn!==null&&(ro?(c=Mn,p=p.stateNode,c.nodeType===8?V1(c.parentNode,p):c.nodeType===1&&V1(c,p),Pc(c)):V1(Mn,p.stateNode));break;case 4:y=Mn,x=ro,Mn=p.stateNode.containerInfo,ro=!0,Fi(c,l,p),Mn=y,ro=x;break;case 0:case 11:case 14:case 15:if(!Gn&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var E=x,N=E.destroy;E=E.tag,N!==void 0&&((E&2)!==0||(E&4)!==0)&&Th(p,l,N),x=x.next}while(x!==y)}Fi(c,l,p);break;case 1:if(!Gn&&(xs(p,l),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(M){nn(p,l,M)}Fi(c,l,p);break;case 21:Fi(c,l,p);break;case 22:p.mode&1?(Gn=(y=Gn)||p.memoizedState!==null,Fi(c,l,p),Gn=y):Fi(c,l,p);break;default:Fi(c,l,p)}}function B5(c){var l=c.updateQueue;if(l!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new uA),l.forEach(function(y){var x=bA.bind(null,c,y);p.has(y)||(p.add(y),y.then(x,x))})}}function oo(c,l){var p=l.deletions;if(p!==null)for(var y=0;y<p.length;y++){var x=p[y];try{var E=c,N=l,M=N;e:for(;M!==null;){switch(M.tag){case 5:Mn=M.stateNode,ro=!1;break e;case 3:Mn=M.stateNode.containerInfo,ro=!0;break e;case 4:Mn=M.stateNode.containerInfo,ro=!0;break e}M=M.return}if(Mn===null)throw Error(n(160));M5(E,N,x),Mn=null,ro=!1;var j=x.alternate;j!==null&&(j.return=null),x.return=null}catch(ee){nn(x,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)L5(l,c),l=l.sibling}function L5(c,l){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(oo(l,c),To(c),y&4){try{Qc(3,c,c.return),_f(3,c)}catch(Pe){nn(c,c.return,Pe)}try{Qc(5,c,c.return)}catch(Pe){nn(c,c.return,Pe)}}break;case 1:oo(l,c),To(c),y&512&&p!==null&&xs(p,p.return);break;case 5:if(oo(l,c),To(c),y&512&&p!==null&&xs(p,p.return),c.flags&32){var x=c.stateNode;try{Q(x,"")}catch(Pe){nn(c,c.return,Pe)}}if(y&4&&(x=c.stateNode,x!=null)){var E=c.memoizedProps,N=p!==null?p.memoizedProps:E,M=c.type,j=c.updateQueue;if(c.updateQueue=null,j!==null)try{M==="input"&&E.type==="radio"&&E.name!=null&&re(x,E),Dn(M,N);var ee=Dn(M,E);for(N=0;N<j.length;N+=2){var ue=j[N],de=j[N+1];ue==="style"?Ye(x,de):ue==="dangerouslySetInnerHTML"?Xe(x,de):ue==="children"?Q(x,de):I(x,ue,de,ee)}switch(M){case"input":Ee(x,E);break;case"textarea":kt(x,E);break;case"select":var ce=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var Se=E.value;Se!=null?pt(x,!!E.multiple,Se,!1):ce!==!!E.multiple&&(E.defaultValue!=null?pt(x,!!E.multiple,E.defaultValue,!0):pt(x,!!E.multiple,E.multiple?[]:"",!1))}x[Uc]=E}catch(Pe){nn(c,c.return,Pe)}}break;case 6:if(oo(l,c),To(c),y&4){if(c.stateNode===null)throw Error(n(162));x=c.stateNode,E=c.memoizedProps;try{x.nodeValue=E}catch(Pe){nn(c,c.return,Pe)}}break;case 3:if(oo(l,c),To(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Pc(l.containerInfo)}catch(Pe){nn(c,c.return,Pe)}break;case 4:oo(l,c),To(c);break;case 13:oo(l,c),To(c),x=c.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Dh=sn())),y&4&&B5(c);break;case 22:if(ue=p!==null&&p.memoizedState!==null,c.mode&1?(Gn=(ee=Gn)||ue,oo(l,c),Gn=ee):oo(l,c),To(c),y&8192){if(ee=c.memoizedState!==null,(c.stateNode.isHidden=ee)&&!ue&&(c.mode&1)!==0)for(Ie=c,ue=c.child;ue!==null;){for(de=Ie=ue;Ie!==null;){switch(ce=Ie,Se=ce.child,ce.tag){case 0:case 11:case 14:case 15:Qc(4,ce,ce.return);break;case 1:xs(ce,ce.return);var Te=ce.stateNode;if(typeof Te.componentWillUnmount=="function"){y=ce,p=ce.return;try{l=y,Te.props=l.memoizedProps,Te.state=l.memoizedState,Te.componentWillUnmount()}catch(Pe){nn(y,p,Pe)}}break;case 5:xs(ce,ce.return);break;case 22:if(ce.memoizedState!==null){z5(de);continue}}Se!==null?(Se.return=ce,Ie=Se):z5(de)}ue=ue.sibling}e:for(ue=null,de=c;;){if(de.tag===5){if(ue===null){ue=de;try{x=de.stateNode,ee?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(M=de.stateNode,j=de.memoizedProps.style,N=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=et("display",N))}catch(Pe){nn(c,c.return,Pe)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=ee?"":de.memoizedProps}catch(Pe){nn(c,c.return,Pe)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===c)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===c)break e;for(;de.sibling===null;){if(de.return===null||de.return===c)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:oo(l,c),To(c),y&4&&B5(c);break;case 21:break;default:oo(l,c),To(c)}}function To(c){var l=c.flags;if(l&2){try{e:{for(var p=c.return;p!==null;){if(k5(p)){var y=p;break e}p=p.return}throw Error(n(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(Q(x,""),y.flags&=-33);var E=D5(c);Ph(c,E,x);break;case 3:case 4:var N=y.stateNode.containerInfo,M=D5(c);Oh(c,M,N);break;default:throw Error(n(161))}}catch(j){nn(c,c.return,j)}c.flags&=-3}l&4096&&(c.flags&=-4097)}function fA(c,l,p){Ie=c,F5(c)}function F5(c,l,p){for(var y=(c.mode&1)!==0;Ie!==null;){var x=Ie,E=x.child;if(x.tag===22&&y){var N=x.memoizedState!==null||Ef;if(!N){var M=x.alternate,j=M!==null&&M.memoizedState!==null||Gn;M=Ef;var ee=Gn;if(Ef=N,(Gn=j)&&!ee)for(Ie=x;Ie!==null;)N=Ie,j=N.child,N.tag===22&&N.memoizedState!==null?$5(x):j!==null?(j.return=N,Ie=j):$5(x);for(;E!==null;)Ie=E,F5(E),E=E.sibling;Ie=x,Ef=M,Gn=ee}j5(c)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,Ie=E):j5(c)}}function j5(c){for(;Ie!==null;){var l=Ie;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Gn||_f(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Gn)if(p===null)y.componentDidMount();else{var x=l.elementType===l.type?p.memoizedProps:no(l.type,p.memoizedProps);y.componentDidUpdate(x,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&z2(l,E,y);break;case 3:var N=l.updateQueue;if(N!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}z2(l,N,p)}break;case 5:var M=l.stateNode;if(p===null&&l.flags&4){p=M;var j=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&p.focus();break;case"img":j.src&&(p.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Pc(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gn||l.flags&512&&Nh(l)}catch(ce){nn(l,l.return,ce)}}if(l===c){Ie=null;break}if(p=l.sibling,p!==null){p.return=l.return,Ie=p;break}Ie=l.return}}function z5(c){for(;Ie!==null;){var l=Ie;if(l===c){Ie=null;break}var p=l.sibling;if(p!==null){p.return=l.return,Ie=p;break}Ie=l.return}}function $5(c){for(;Ie!==null;){var l=Ie;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{_f(4,l)}catch(j){nn(l,p,j)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var x=l.return;try{y.componentDidMount()}catch(j){nn(l,x,j)}}var E=l.return;try{Nh(l)}catch(j){nn(l,E,j)}break;case 5:var N=l.return;try{Nh(l)}catch(j){nn(l,N,j)}}}catch(j){nn(l,l.return,j)}if(l===c){Ie=null;break}var M=l.sibling;if(M!==null){M.return=l.return,Ie=M;break}Ie=l.return}}var dA=Math.ceil,Cf=T.ReactCurrentDispatcher,Rh=T.ReactCurrentOwner,Fr=T.ReactCurrentBatchConfig,mt=0,In=null,ln=null,Bn=0,Ir=0,ws=ki(0),yn=0,eu=null,Ca=0,Af=0,kh=0,tu=null,cr=null,Dh=0,Es=1/0,ei=null,Sf=!1,Mh=null,ji=null,If=!1,zi=null,Tf=0,nu=0,Bh=null,Nf=-1,Of=0;function Yn(){return(mt&6)!==0?sn():Nf!==-1?Nf:Nf=sn()}function $i(c){return(c.mode&1)===0?1:(mt&2)!==0&&Bn!==0?Bn&-Bn:q9.transition!==null?(Of===0&&(Of=Dv()),Of):(c=It,c!==0||(c=window.event,c=c===void 0?16:Hv(c.type)),c)}function io(c,l,p,y){if(50<nu)throw nu=0,Bh=null,Error(n(185));Sc(c,p,y),((mt&2)===0||c!==In)&&(c===In&&((mt&2)===0&&(Af|=p),yn===4&&Ui(c,Bn)),ur(c,y),p===1&&mt===0&&(l.mode&1)===0&&(Es=sn()+500,rf&&Mi()))}function ur(c,l){var p=c.callbackNode;qC(c,l);var y=Fl(c,c===In?Bn:0);if(y===0)p!==null&&Pv(p),c.callbackNode=null,c.callbackPriority=0;else if(l=y&-y,c.callbackPriority!==l){if(p!=null&&Pv(p),l===1)c.tag===0?X9(H5.bind(null,c)):T2(H5.bind(null,c)),V9(function(){(mt&6)===0&&Mi()}),p=null;else{switch(Mv(y)){case 1:p=m1;break;case 4:p=Rv;break;case 16:p=Dl;break;case 536870912:p=kv;break;default:p=Dl}p=Y5(p,U5.bind(null,c))}c.callbackPriority=l,c.callbackNode=p}}function U5(c,l){if(Nf=-1,Of=0,(mt&6)!==0)throw Error(n(327));var p=c.callbackNode;if(_s()&&c.callbackNode!==p)return null;var y=Fl(c,c===In?Bn:0);if(y===0)return null;if((y&30)!==0||(y&c.expiredLanes)!==0||l)l=Pf(c,y);else{l=y;var x=mt;mt|=2;var E=G5();(In!==c||Bn!==l)&&(ei=null,Es=sn()+500,Sa(c,l));do try{mA();break}catch(M){V5(c,M)}while(!0);eh(),Cf.current=E,mt=x,ln!==null?l=0:(In=null,Bn=0,l=yn)}if(l!==0){if(l===2&&(x=g1(c),x!==0&&(y=x,l=Lh(c,x))),l===1)throw p=eu,Sa(c,0),Ui(c,y),ur(c,sn()),p;if(l===6)Ui(c,y);else{if(x=c.current.alternate,(y&30)===0&&!hA(x)&&(l=Pf(c,y),l===2&&(E=g1(c),E!==0&&(y=E,l=Lh(c,E))),l===1))throw p=eu,Sa(c,0),Ui(c,y),ur(c,sn()),p;switch(c.finishedWork=x,c.finishedLanes=y,l){case 0:case 1:throw Error(n(345));case 2:Ia(c,cr,ei);break;case 3:if(Ui(c,y),(y&130023424)===y&&(l=Dh+500-sn(),10<l)){if(Fl(c,0)!==0)break;if(x=c.suspendedLanes,(x&y)!==y){Yn(),c.pingedLanes|=c.suspendedLanes&x;break}c.timeoutHandle=H1(Ia.bind(null,c,cr,ei),l);break}Ia(c,cr,ei);break;case 4:if(Ui(c,y),(y&4194240)===y)break;for(l=c.eventTimes,x=-1;0<y;){var N=31-Qr(y);E=1<<N,N=l[N],N>x&&(x=N),y&=~E}if(y=x,y=sn()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*dA(y/1960))-y,10<y){c.timeoutHandle=H1(Ia.bind(null,c,cr,ei),y);break}Ia(c,cr,ei);break;case 5:Ia(c,cr,ei);break;default:throw Error(n(329))}}}return ur(c,sn()),c.callbackNode===p?U5.bind(null,c):null}function Lh(c,l){var p=tu;return c.current.memoizedState.isDehydrated&&(Sa(c,l).flags|=256),c=Pf(c,l),c!==2&&(l=cr,cr=p,l!==null&&Fh(l)),c}function Fh(c){cr===null?cr=c:cr.push.apply(cr,c)}function hA(c){for(var l=c;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var x=p[y],E=x.getSnapshot;x=x.value;try{if(!eo(E(),x))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===c)break;for(;l.sibling===null;){if(l.return===null||l.return===c)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ui(c,l){for(l&=~kh,l&=~Af,c.suspendedLanes|=l,c.pingedLanes&=~l,c=c.expirationTimes;0<l;){var p=31-Qr(l),y=1<<p;c[p]=-1,l&=~y}}function H5(c){if((mt&6)!==0)throw Error(n(327));_s();var l=Fl(c,0);if((l&1)===0)return ur(c,sn()),null;var p=Pf(c,l);if(c.tag!==0&&p===2){var y=g1(c);y!==0&&(l=y,p=Lh(c,y))}if(p===1)throw p=eu,Sa(c,0),Ui(c,l),ur(c,sn()),p;if(p===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=l,Ia(c,cr,ei),ur(c,sn()),null}function jh(c,l){var p=mt;mt|=1;try{return c(l)}finally{mt=p,mt===0&&(Es=sn()+500,rf&&Mi())}}function Aa(c){zi!==null&&zi.tag===0&&(mt&6)===0&&_s();var l=mt;mt|=1;var p=Fr.transition,y=It;try{if(Fr.transition=null,It=1,c)return c()}finally{It=y,Fr.transition=p,mt=l,(mt&6)===0&&Mi()}}function zh(){Ir=ws.current,$t(ws)}function Sa(c,l){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,H9(p)),ln!==null)for(p=ln.return;p!==null;){var y=p;switch(q1(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&tf();break;case 3:vs(),$t(ir),$t(Un),ch();break;case 5:ah(y);break;case 4:vs();break;case 13:$t(Yt);break;case 19:$t(Yt);break;case 10:th(y.type._context);break;case 22:case 23:zh()}p=p.return}if(In=c,ln=c=Hi(c.current,null),Bn=Ir=l,yn=0,eu=null,kh=Af=Ca=0,cr=tu=null,wa!==null){for(l=0;l<wa.length;l++)if(p=wa[l],y=p.interleaved,y!==null){p.interleaved=null;var x=y.next,E=p.pending;if(E!==null){var N=E.next;E.next=x,y.next=N}p.pending=y}wa=null}return c}function V5(c,l){do{var p=ln;try{if(eh(),pf.current=vf,mf){for(var y=Jt.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}mf=!1}if(_a=0,Sn=gn=Jt=null,Xc=!1,qc=0,Rh.current=null,p===null||p.return===null){yn=1,eu=l,ln=null;break}e:{var E=c,N=p.return,M=p,j=l;if(l=Bn,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=j,ue=M,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Se=m5(N);if(Se!==null){Se.flags&=-257,g5(Se,N,M,E,l),Se.mode&1&&p5(E,ee,l),l=Se,j=ee;var Te=l.updateQueue;if(Te===null){var Pe=new Set;Pe.add(j),l.updateQueue=Pe}else Te.add(j);break e}else{if((l&1)===0){p5(E,ee,l),$h();break e}j=Error(n(426))}}else if(Gt&&M.mode&1){var cn=m5(N);if(cn!==null){(cn.flags&65536)===0&&(cn.flags|=256),g5(cn,N,M,E,l),J1(bs(j,M));break e}}E=j=bs(j,M),yn!==4&&(yn=2),tu===null?tu=[E]:tu.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var W=d5(E,j,l);j2(E,W);break e;case 1:M=j;var z=E.type,X=E.stateNode;if((E.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ji===null||!ji.has(X)))){E.flags|=65536,l&=-l,E.lanes|=l;var me=h5(E,M,l);j2(E,me);break e}}E=E.return}while(E!==null)}Z5(p)}catch(Me){l=Me,ln===p&&p!==null&&(ln=p=p.return);continue}break}while(!0)}function G5(){var c=Cf.current;return Cf.current=vf,c===null?vf:c}function $h(){(yn===0||yn===3||yn===2)&&(yn=4),In===null||(Ca&268435455)===0&&(Af&268435455)===0||Ui(In,Bn)}function Pf(c,l){var p=mt;mt|=2;var y=G5();(In!==c||Bn!==l)&&(ei=null,Sa(c,l));do try{pA();break}catch(x){V5(c,x)}while(!0);if(eh(),mt=p,Cf.current=y,ln!==null)throw Error(n(261));return In=null,Bn=0,yn}function pA(){for(;ln!==null;)W5(ln)}function mA(){for(;ln!==null&&!zC();)W5(ln)}function W5(c){var l=K5(c.alternate,c,Ir);c.memoizedProps=c.pendingProps,l===null?Z5(c):ln=l,Rh.current=null}function Z5(c){var l=c;do{var p=l.alternate;if(c=l.return,(l.flags&32768)===0){if(p=sA(p,l,Ir),p!==null){ln=p;return}}else{if(p=cA(p,l),p!==null){p.flags&=32767,ln=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{yn=6,ln=null;return}}if(l=l.sibling,l!==null){ln=l;return}ln=l=c}while(l!==null);yn===0&&(yn=5)}function Ia(c,l,p){var y=It,x=Fr.transition;try{Fr.transition=null,It=1,gA(c,l,p,y)}finally{Fr.transition=x,It=y}return null}function gA(c,l,p,y){do _s();while(zi!==null);if((mt&6)!==0)throw Error(n(327));p=c.finishedWork;var x=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var E=p.lanes|p.childLanes;if(KC(c,E),c===In&&(ln=In=null,Bn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||If||(If=!0,Y5(Dl,function(){return _s(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=Fr.transition,Fr.transition=null;var N=It;It=1;var M=mt;mt|=4,Rh.current=null,lA(c,p),L5(p,c),B9($1),$l=!!z1,$1=z1=null,c.current=p,fA(p),$C(),mt=M,It=N,Fr.transition=E}else c.current=p;if(If&&(If=!1,zi=c,Tf=x),E=c.pendingLanes,E===0&&(ji=null),VC(p.stateNode),ur(c,sn()),l!==null)for(y=c.onRecoverableError,p=0;p<l.length;p++)x=l[p],y(x.value,{componentStack:x.stack,digest:x.digest});if(Sf)throw Sf=!1,c=Mh,Mh=null,c;return(Tf&1)!==0&&c.tag!==0&&_s(),E=c.pendingLanes,(E&1)!==0?c===Bh?nu++:(nu=0,Bh=c):nu=0,Mi(),null}function _s(){if(zi!==null){var c=Mv(Tf),l=Fr.transition,p=It;try{if(Fr.transition=null,It=16>c?16:c,zi===null)var y=!1;else{if(c=zi,zi=null,Tf=0,(mt&6)!==0)throw Error(n(331));var x=mt;for(mt|=4,Ie=c.current;Ie!==null;){var E=Ie,N=E.child;if((Ie.flags&16)!==0){var M=E.deletions;if(M!==null){for(var j=0;j<M.length;j++){var ee=M[j];for(Ie=ee;Ie!==null;){var ue=Ie;switch(ue.tag){case 0:case 11:case 15:Qc(8,ue,E)}var de=ue.child;if(de!==null)de.return=ue,Ie=de;else for(;Ie!==null;){ue=Ie;var ce=ue.sibling,Se=ue.return;if(R5(ue),ue===ee){Ie=null;break}if(ce!==null){ce.return=Se,Ie=ce;break}Ie=Se}}}var Te=E.alternate;if(Te!==null){var Pe=Te.child;if(Pe!==null){Te.child=null;do{var cn=Pe.sibling;Pe.sibling=null,Pe=cn}while(Pe!==null)}}Ie=E}}if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,Ie=N;else e:for(;Ie!==null;){if(E=Ie,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Qc(9,E,E.return)}var W=E.sibling;if(W!==null){W.return=E.return,Ie=W;break e}Ie=E.return}}var z=c.current;for(Ie=z;Ie!==null;){N=Ie;var X=N.child;if((N.subtreeFlags&2064)!==0&&X!==null)X.return=N,Ie=X;else e:for(N=z;Ie!==null;){if(M=Ie,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:_f(9,M)}}catch(Me){nn(M,M.return,Me)}if(M===N){Ie=null;break e}var me=M.sibling;if(me!==null){me.return=M.return,Ie=me;break e}Ie=M.return}}if(mt=x,Mi(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Ml,c)}catch{}y=!0}return y}finally{It=p,Fr.transition=l}}return!1}function X5(c,l,p){l=bs(p,l),l=d5(c,l,1),c=Li(c,l,1),l=Yn(),c!==null&&(Sc(c,1,l),ur(c,l))}function nn(c,l,p){if(c.tag===3)X5(c,c,p);else for(;l!==null;){if(l.tag===3){X5(l,c,p);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ji===null||!ji.has(y))){c=bs(p,c),c=h5(l,c,1),l=Li(l,c,1),c=Yn(),l!==null&&(Sc(l,1,c),ur(l,c));break}}l=l.return}}function yA(c,l,p){var y=c.pingCache;y!==null&&y.delete(l),l=Yn(),c.pingedLanes|=c.suspendedLanes&p,In===c&&(Bn&p)===p&&(yn===4||yn===3&&(Bn&130023424)===Bn&&500>sn()-Dh?Sa(c,0):kh|=p),ur(c,l)}function q5(c,l){l===0&&((c.mode&1)===0?l=1:(l=Ll,Ll<<=1,(Ll&130023424)===0&&(Ll=4194304)));var p=Yn();c=Yo(c,l),c!==null&&(Sc(c,l,p),ur(c,p))}function vA(c){var l=c.memoizedState,p=0;l!==null&&(p=l.retryLane),q5(c,p)}function bA(c,l){var p=0;switch(c.tag){case 13:var y=c.stateNode,x=c.memoizedState;x!==null&&(p=x.retryLane);break;case 19:y=c.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(l),q5(c,p)}var K5;K5=function(c,l,p){if(c!==null)if(c.memoizedProps!==l.pendingProps||ir.current)sr=!0;else{if((c.lanes&p)===0&&(l.flags&128)===0)return sr=!1,aA(c,l,p);sr=(c.flags&131072)!==0}else sr=!1,Gt&&(l.flags&1048576)!==0&&N2(l,af,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;wf(c,l),c=l.pendingProps;var x=fs(l,Un.current);ys(l,p),x=fh(null,l,y,c,x,p);var E=dh();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ar(y)?(E=!0,nf(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,oh(l),x.updater=bf,l.stateNode=x,x._reactInternals=l,vh(l,y,c,p),l=Eh(null,l,y,!0,E,p)):(l.tag=0,Gt&&E&&X1(l),Kn(null,l,x,p),l=l.child),l;case 16:y=l.elementType;e:{switch(wf(c,l),c=l.pendingProps,x=y._init,y=x(y._payload),l.type=y,x=l.tag=wA(y),c=no(y,c),x){case 0:l=wh(null,l,y,c,p);break e;case 1:l=E5(null,l,y,c,p);break e;case 11:l=y5(null,l,y,c,p);break e;case 14:l=v5(null,l,y,no(y.type,c),p);break e}throw Error(n(306,y,""))}return l;case 0:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:no(y,x),wh(c,l,y,x,p);case 1:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:no(y,x),E5(c,l,y,x,p);case 3:e:{if(_5(l),c===null)throw Error(n(387));y=l.pendingProps,E=l.memoizedState,x=E.element,F2(c,l),df(l,y,null,p);var N=l.memoizedState;if(y=N.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=bs(Error(n(423)),l),l=C5(c,l,y,p,x);break e}else if(y!==x){x=bs(Error(n(424)),l),l=C5(c,l,y,p,x);break e}else for(Sr=Ri(l.stateNode.containerInfo.firstChild),Ar=l,Gt=!0,to=null,p=B2(l,null,y,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ps(),y===x){l=Qo(c,l,p);break e}Kn(c,l,y,p)}l=l.child}return l;case 5:return $2(l),c===null&&Y1(l),y=l.type,x=l.pendingProps,E=c!==null?c.memoizedProps:null,N=x.children,U1(y,x)?N=null:E!==null&&U1(y,E)&&(l.flags|=32),w5(c,l),Kn(c,l,N,p),l.child;case 6:return c===null&&Y1(l),null;case 13:return A5(c,l,p);case 4:return ih(l,l.stateNode.containerInfo),y=l.pendingProps,c===null?l.child=ms(l,null,y,p):Kn(c,l,y,p),l.child;case 11:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:no(y,x),y5(c,l,y,x,p);case 7:return Kn(c,l,l.pendingProps,p),l.child;case 8:return Kn(c,l,l.pendingProps.children,p),l.child;case 12:return Kn(c,l,l.pendingProps.children,p),l.child;case 10:e:{if(y=l.type._context,x=l.pendingProps,E=l.memoizedProps,N=x.value,Bt(uf,y._currentValue),y._currentValue=N,E!==null)if(eo(E.value,N)){if(E.children===x.children&&!ir.current){l=Qo(c,l,p);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var M=E.dependencies;if(M!==null){N=E.child;for(var j=M.firstContext;j!==null;){if(j.context===y){if(E.tag===1){j=Jo(-1,p&-p),j.tag=2;var ee=E.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?j.next=j:(j.next=ue.next,ue.next=j),ee.pending=j}}E.lanes|=p,j=E.alternate,j!==null&&(j.lanes|=p),nh(E.return,p,l),M.lanes|=p;break}j=j.next}}else if(E.tag===10)N=E.type===l.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=p,M=N.alternate,M!==null&&(M.lanes|=p),nh(N,p,l),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===l){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}Kn(c,l,x.children,p),l=l.child}return l;case 9:return x=l.type,y=l.pendingProps.children,ys(l,p),x=Br(x),y=y(x),l.flags|=1,Kn(c,l,y,p),l.child;case 14:return y=l.type,x=no(y,l.pendingProps),x=no(y.type,x),v5(c,l,y,x,p);case 15:return b5(c,l,l.type,l.pendingProps,p);case 17:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:no(y,x),wf(c,l),l.tag=1,ar(y)?(c=!0,nf(l)):c=!1,ys(l,p),l5(l,y,x),vh(l,y,x,p),Eh(null,l,y,!0,c,p);case 19:return I5(c,l,p);case 22:return x5(c,l,p)}throw Error(n(156,l.tag))};function Y5(c,l){return Ov(c,l)}function xA(c,l,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(c,l,p,y){return new xA(c,l,p,y)}function Uh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wA(c){if(typeof c=="function")return Uh(c)?1:0;if(c!=null){if(c=c.$$typeof,c===V)return 11;if(c===q)return 14}return 2}function Hi(c,l){var p=c.alternate;return p===null?(p=jr(c.tag,l,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=l,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,l=c.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function Rf(c,l,p,y,x,E){var N=2;if(y=c,typeof c=="function")Uh(c)&&(N=1);else if(typeof c=="string")N=5;else e:switch(c){case R:return Ta(p.children,x,E,l);case k:N=8,x|=8;break;case $:return c=jr(12,p,l,x|2),c.elementType=$,c.lanes=E,c;case te:return c=jr(13,p,l,x),c.elementType=te,c.lanes=E,c;case ae:return c=jr(19,p,l,x),c.elementType=ae,c.lanes=E,c;case J:return kf(p,x,E,l);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case F:N=10;break e;case H:N=9;break e;case V:N=11;break e;case q:N=14;break e;case Y:N=16,y=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return l=jr(N,p,l,x),l.elementType=c,l.type=y,l.lanes=E,l}function Ta(c,l,p,y){return c=jr(7,c,y,l),c.lanes=p,c}function kf(c,l,p,y){return c=jr(22,c,y,l),c.elementType=J,c.lanes=p,c.stateNode={isHidden:!1},c}function Hh(c,l,p){return c=jr(6,c,null,l),c.lanes=p,c}function Vh(c,l,p){return l=jr(4,c.children!==null?c.children:[],c.key,l),l.lanes=p,l.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},l}function EA(c,l,p,y,x){this.tag=l,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y1(0),this.expirationTimes=y1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y1(0),this.identifierPrefix=y,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Gh(c,l,p,y,x,E,N,M,j){return c=new EA(c,l,p,M,j),l===1?(l=1,E===!0&&(l|=8)):l=0,E=jr(3,null,null,l),c.current=E,E.stateNode=c,E.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(E),c}function _A(c,l,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:c,containerInfo:l,implementation:p}}function J5(c){if(!c)return Di;c=c._reactInternals;e:{if(ga(c)!==c||c.tag!==1)throw Error(n(170));var l=c;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ar(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(c.tag===1){var p=c.type;if(ar(p))return S2(c,p,l)}return l}function Q5(c,l,p,y,x,E,N,M,j){return c=Gh(p,y,!0,c,x,E,N,M,j),c.context=J5(null),p=c.current,y=Yn(),x=$i(p),E=Jo(y,x),E.callback=l??null,Li(p,E,x),c.current.lanes=x,Sc(c,x,y),ur(c,y),c}function Df(c,l,p,y){var x=l.current,E=Yn(),N=$i(x);return p=J5(p),l.context===null?l.context=p:l.pendingContext=p,l=Jo(E,N),l.payload={element:c},y=y===void 0?null:y,y!==null&&(l.callback=y),c=Li(x,l,N),c!==null&&(io(c,x,N,E),ff(c,x,N)),N}function Mf(c){return c=c.current,c.child?(c.child.tag===5,c.child.stateNode):null}function e6(c,l){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<l?p:l}}function Wh(c,l){e6(c,l),(c=c.alternate)&&e6(c,l)}function CA(){return null}var t6=typeof reportError=="function"?reportError:function(c){console.error(c)};function Zh(c){this._internalRoot=c}Bf.prototype.render=Zh.prototype.render=function(c){var l=this._internalRoot;if(l===null)throw Error(n(409));Df(c,l,null,null)},Bf.prototype.unmount=Zh.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var l=c.containerInfo;Aa(function(){Df(null,c,null,null)}),l[Zo]=null}};function Bf(c){this._internalRoot=c}Bf.prototype.unstable_scheduleHydration=function(c){if(c){var l=Fv();c={blockedOn:null,target:c,priority:l};for(var p=0;p<Ni.length&&l!==0&&l<Ni[p].priority;p++);Ni.splice(p,0,c),p===0&&$v(c)}};function Xh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Lf(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function n6(){}function AA(c,l,p,y,x){if(x){if(typeof y=="function"){var E=y;y=function(){var ee=Mf(N);E.call(ee)}}var N=Q5(l,y,c,0,null,!1,!1,"",n6);return c._reactRootContainer=N,c[Zo]=N.current,zc(c.nodeType===8?c.parentNode:c),Aa(),N}for(;x=c.lastChild;)c.removeChild(x);if(typeof y=="function"){var M=y;y=function(){var ee=Mf(j);M.call(ee)}}var j=Gh(c,0,!1,null,null,!1,!1,"",n6);return c._reactRootContainer=j,c[Zo]=j.current,zc(c.nodeType===8?c.parentNode:c),Aa(function(){Df(l,j,p,y)}),j}function Ff(c,l,p,y,x){var E=p._reactRootContainer;if(E){var N=E;if(typeof x=="function"){var M=x;x=function(){var j=Mf(N);M.call(j)}}Df(l,N,c,x)}else N=AA(p,l,c,x,y);return Mf(N)}Bv=function(c){switch(c.tag){case 3:var l=c.stateNode;if(l.current.memoizedState.isDehydrated){var p=Ac(l.pendingLanes);p!==0&&(v1(l,p|1),ur(l,sn()),(mt&6)===0&&(Es=sn()+500,Mi()))}break;case 13:Aa(function(){var y=Yo(c,1);if(y!==null){var x=Yn();io(y,c,1,x)}}),Wh(c,1)}},b1=function(c){if(c.tag===13){var l=Yo(c,134217728);if(l!==null){var p=Yn();io(l,c,134217728,p)}Wh(c,134217728)}},Lv=function(c){if(c.tag===13){var l=$i(c),p=Yo(c,l);if(p!==null){var y=Yn();io(p,c,l,y)}Wh(c,l)}},Fv=function(){return It},jv=function(c,l){var p=It;try{return It=c,l()}finally{It=p}},Er=function(c,l,p){switch(l){case"input":if(Ee(c,p),l=p.name,p.type==="radio"&&l!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var y=p[l];if(y!==c&&y.form===c.form){var x=ef(y);if(!x)throw Error(n(90));it(y),Ee(y,x)}}}break;case"textarea":kt(c,p);break;case"select":l=p.value,l!=null&&pt(c,!!p.multiple,l,!1)}},Je=jh,Ze=Aa;var SA={usingClientEntryPoint:!1,Events:[Hc,us,ef,he,we,jh]},ru={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IA={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Tv(c),c===null?null:c.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||CA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Ml=jf.inject(IA),Co=jf}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA,lr.createPortal=function(c,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xh(l))throw Error(n(200));return _A(c,l,null,p)},lr.createRoot=function(c,l){if(!Xh(c))throw Error(n(299));var p=!1,y="",x=t6;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Gh(c,1,!1,null,null,p,!1,y,x),c[Zo]=l.current,zc(c.nodeType===8?c.parentNode:c),new Zh(l)},lr.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var l=c._reactInternals;if(l===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Tv(l),c=c===null?null:c.stateNode,c},lr.flushSync=function(c){return Aa(c)},lr.hydrate=function(c,l,p){if(!Lf(l))throw Error(n(200));return Ff(null,c,l,!0,p)},lr.hydrateRoot=function(c,l,p){if(!Xh(c))throw Error(n(405));var y=p!=null&&p.hydratedSources||null,x=!1,E="",N=t6;if(p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(N=p.onRecoverableError)),l=Q5(l,null,c,1,p??null,x,!1,E,N),c[Zo]=l.current,zc(c),y)for(c=0;c<y.length;c++)p=y[c],x=p._getVersion,x=x(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,x]:l.mutableSourceEagerHydrationData.push(p,x);return new Bf(l)},lr.render=function(c,l,p){if(!Lf(l))throw Error(n(200));return Ff(null,c,l,!1,p)},lr.unmountComponentAtNode=function(c){if(!Lf(c))throw Error(n(40));return c._reactRootContainer?(Aa(function(){Ff(null,null,c,!1,function(){c._reactRootContainer=null,c[Zo]=null})}),!0):!1},lr.unstable_batchedUpdates=jh,lr.unstable_renderSubtreeIntoContainer=function(c,l,p,y){if(!Lf(p))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return Ff(c,l,p,!1,y)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var l6;function $w(){if(l6)return Yh.exports;l6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yh.exports=DA(),Yh.exports}var f6;function MA(){if(f6)return zf;f6=1;var t=$w();return zf.createRoot=t.createRoot,zf.hydrateRoot=t.hydrateRoot,zf}var BA=MA();const LA=Pg(BA);var d6="popstate";function FA(t={}){function e(o,i){let{pathname:a="/",search:s="",hash:u=""}=Ya(o.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),fm("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let a=o.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let u=o.location.href,f=u.indexOf("#");s=f===-1?u:u.slice(0,f)}return s+"#"+(typeof i=="string"?i:_u(i))}function r(o,i){Zr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return zA(e,n,r,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jA(){return Math.random().toString(36).substring(2,10)}function h6(t,e){return{usr:t.state,key:t.key,idx:e}}function fm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:n,key:e&&e.key||r||jA()}}function _u({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zA(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",u=null,f=d();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function d(){return(a.state||{idx:null}).idx}function h(){s="POP";let _=d(),C=_==null?null:_-f;f=_,u&&u({action:s,location:w.location,delta:C})}function m(_,C){s="PUSH";let A=fm(w.location,_,C);n&&n(A,_),f=d()+1;let I=h6(A,f),T=w.createHref(A);try{a.pushState(I,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(T)}i&&u&&u({action:s,location:w.location,delta:1})}function g(_,C){s="REPLACE";let A=fm(w.location,_,C);n&&n(A,_),f=d();let I=h6(A,f),T=w.createHref(A);a.replaceState(I,"",T),i&&u&&u({action:s,location:w.location,delta:0})}function b(_){return $A(_)}let w={get action(){return s},get location(){return t(o,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(d6,h),u=_,()=>{o.removeEventListener(d6,h),u=null}},createHref(_){return e(o,_)},createURL:b,encodeLocation(_){let C=b(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:g,go(_){return a.go(_)}};return w}function $A(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_u(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Uw(t,e,n="/"){return UA(t,e,n,!1)}function UA(t,e,n,r){let o=typeof e=="string"?Ya(e):e,i=gi(o.pathname||"/",n);if(i==null)return null;let a=Hw(t);HA(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let f=eS(i);s=JA(a[u],f,r)}return s}function Hw(t,e=[],n=[],r="",o=!1){let i=(a,s,u=o,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;Zt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=hi([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Zt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Hw(a.children,e,m,h,u)),!(a.path==null&&!a.index)&&e.push({path:h,score:KA(h,a.index),routesMeta:m})};return t.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))i(a,s);else for(let u of Vw(a.path))i(a,s,!0,u)}),e}function Vw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=Vw(r.join("/")),s=[];return s.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&s.push(...a),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function HA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VA=/^:[\w-]+$/,GA=3,WA=2,ZA=1,XA=10,qA=-2,p6=t=>t==="*";function KA(t,e){let n=t.split("/"),r=n.length;return n.some(p6)&&(r+=qA),e&&(r+=WA),n.filter(o=>!p6(o)).reduce((o,i)=>o+(VA.test(i)?GA:i===""?ZA:XA),r)}function YA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function JA(t,e,n=!1){let{routesMeta:r}=t,o={},i="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Nd({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),m=u.route;if(!h&&f&&n&&!r[r.length-1].route.index&&(h=Nd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(o,h.params),a.push({params:o,pathname:hi([i,h.pathname]),pathnameBase:oS(hi([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=hi([i,h.pathnameBase]))}return a}function Nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QA(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:h},m)=>{if(d==="*"){let b=s[m]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=s[m];return h&&!g?f[d]=void 0:f[d]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function QA(t,e=!1,n=!0){Zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function eS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function nS(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ya(t):t,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=m6(n.substring(1),"/"):i=m6(n,e)):i=e,{pathname:i,search:iS(r),hash:aS(o)}}function m6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ep(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rg(t){let e=rS(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kg(t,e,n,r=!1){let o;typeof t=="string"?o=Ya(t):(o={...t},Zt(!o.pathname||!o.pathname.includes("?"),ep("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),ep("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),ep("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,s;if(a==null)s=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;o.pathname=m.join("/")}s=h>=0?e[h]:"/"}let u=nS(o,s),f=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),oS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,sS=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uS(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ww(t,e){let n=t;if(typeof n!="string"||!tS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Gw)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),s=gi(a.pathname,e);a.origin===i.origin&&s!=null?n=s+a.search+a.hash:o=!0}catch{Zr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zw=["POST","PUT","PATCH","DELETE"];new Set(Zw);var lS=["GET",...Zw];new Set(lS);var uc=S.createContext(null);uc.displayName="DataRouter";var s0=S.createContext(null);s0.displayName="DataRouterState";var fS=S.createContext(!1),Xw=S.createContext({isTransitioning:!1});Xw.displayName="ViewTransition";var dS=S.createContext(new Map);dS.displayName="Fetchers";var hS=S.createContext(null);hS.displayName="Await";var Rr=S.createContext(null);Rr.displayName="Navigation";var sl=S.createContext(null);sl.displayName="Location";var Go=S.createContext({outlet:null,matches:[],isDataRoute:!1});Go.displayName="Route";var Dg=S.createContext(null);Dg.displayName="RouteError";var qw="REACT_ROUTER_ERROR",pS="REDIRECT",mS="ROUTE_ERROR_RESPONSE";function gS(t){if(t.startsWith(`${qw}:${pS}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yS(t){if(t.startsWith(`${qw}:${mS}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sS(e.status,e.statusText,e.data)}catch{}}function vS(t,{relative:e}={}){Zt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Rr),{hash:o,pathname:i,search:a}=ul(t,{relative:e}),s=i;return n!=="/"&&(s=i==="/"?n:hi([n,i])),r.createHref({pathname:s,search:a,hash:o})}function lc(){return S.useContext(sl)!=null}function da(){return Zt(lc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(sl).location}var Kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(t){S.useContext(Rr).static||S.useLayoutEffect(t)}function cl(){let{isDataRoute:t}=S.useContext(Go);return t?PS():bS()}function bS(){Zt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(uc),{basename:e,navigator:n}=S.useContext(Rr),{matches:r}=S.useContext(Go),{pathname:o}=da(),i=JSON.stringify(Rg(r)),a=S.useRef(!1);return Yw(()=>{a.current=!0}),S.useCallback((u,f={})=>{if(Zr(a.current,Kw),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=kg(u,JSON.parse(i),o,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hi([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,i,o,t])}S.createContext(null);function ul(t,{relative:e}={}){let{matches:n}=S.useContext(Go),{pathname:r}=da(),o=JSON.stringify(Rg(n));return S.useMemo(()=>kg(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function xS(t,e){return Jw(t,e)}function Jw(t,e,n,r,o){Zt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Rr),{matches:a}=S.useContext(Go),s=a[a.length-1],u=s?s.params:{},f=s?s.pathname:"/",d=s?s.pathnameBase:"/",h=s&&s.route;{let A=h&&h.path||"";e8(f,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=da(),g;if(e){let A=typeof e=="string"?Ya(e):e;Zt(d==="/"||A.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=m;let b=g.pathname||"/",w=b;if(d!=="/"){let A=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=Uw(t,{pathname:w});Zr(h||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Zr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=AS(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:hi([d,i.encodeLocation?i.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:hi([d,i.encodeLocation?i.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,r,o);return e&&C?S.createElement(sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function wS(){let t=OS(),e=cS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,a)}var ES=S.createElement(wS,null),Qw=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=yS(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Go.Provider,{value:this.props.routeContext},S.createElement(Dg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(_S,{error:t},e):e}};Qw.contextType=fS;var tp=new WeakMap;function _S({children:t,error:e}){let{basename:n}=S.useContext(Rr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=gS(e.digest);if(r){let o=tp.get(e);if(o)throw o;let i=Ww(r.location,n);if(Gw&&!tp.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw tp.set(e,a),a}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function CS({routeContext:t,match:e,children:n}){let r=S.useContext(uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Go.Provider,{value:t},n)}function AS(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);Zt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let s=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let f=n&&r?(d,h)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uS(n.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,m)=>{let g,b=!1,w=null,_=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||ES,s&&(u<0&&m===0?(e8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):u===m&&(b=!0,_=h.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),A=()=>{let I;return g?I=w:b?I=_:h.route.Component?I=S.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=d,S.createElement(CS,{match:h,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?S.createElement(Qw,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):A()},null)}function Mg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SS(t){let e=S.useContext(uc);return Zt(e,Mg(t)),e}function IS(t){let e=S.useContext(s0);return Zt(e,Mg(t)),e}function TS(t){let e=S.useContext(Go);return Zt(e,Mg(t)),e}function Bg(t){let e=TS(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NS(){return Bg("useRouteId")}function OS(){let t=S.useContext(Dg),e=IS("useRouteError"),n=Bg("useRouteError");return t!==void 0?t:e.errors?.[n]}function PS(){let{router:t}=SS("useNavigate"),e=Bg("useNavigate"),n=S.useRef(!1);return Yw(()=>{n.current=!0}),S.useCallback(async(o,i={})=>{Zr(n.current,Kw),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...i}))},[t,e])}var g6={};function e8(t,e,n){!e&&!g6[t]&&(g6[t]=!0,Zr(!1,n))}S.memo(RS);function RS({routes:t,future:e,state:n,onError:r}){return Jw(t,void 0,n,r,e)}function kS({to:t,replace:e,state:n,relative:r}){Zt(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Rr);Zr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Go),{pathname:a}=da(),s=cl(),u=kg(t,Rg(i),a,r==="path"),f=JSON.stringify(u);return S.useEffect(()=>{s(JSON.parse(f),{replace:e,state:n,relative:r})},[s,f,r,e,n]),null}function dr(t){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DS({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:a}){Zt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:s,navigator:o,static:i,unstable_useTransitions:a,future:{}}),[s,o,i,a]);typeof n=="string"&&(n=Ya(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:g="default"}=n,b=S.useMemo(()=>{let w=gi(f,s);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:g},navigationType:r}},[s,f,d,h,m,g,r]);return Zr(b!=null,`<Router basename="${s}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Rr.Provider,{value:u},S.createElement(sl.Provider,{children:e,value:b}))}function t8({children:t,location:e}){return xS(dm(t),e)}function dm(t,e=[]){let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let i=[...e,o];if(r.type===S.Fragment){n.push.apply(n,dm(r.props.children,i));return}Zt(r.type===dr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=dm(r.props.children,i)),n.push(a)}),n}var ld="get",fd="application/x-www-form-urlencoded";function c0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function MS(t){return c0(t)&&t.tagName.toLowerCase()==="button"}function BS(t){return c0(t)&&t.tagName.toLowerCase()==="form"}function LS(t){return c0(t)&&t.tagName.toLowerCase()==="input"}function FS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jS(t,e){return t.button===0&&(!e||e==="_self")&&!FS(t)}var $f=null;function zS(){if($f===null)try{new FormData(document.createElement("form"),0),$f=!1}catch{$f=!0}return $f}var $S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function np(t){return t!=null&&!$S.has(t)?(Zr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):t}function US(t,e){let n,r,o,i,a;if(BS(t)){let s=t.getAttribute("action");r=s?gi(s,e):null,n=t.getAttribute("method")||ld,o=np(t.getAttribute("enctype"))||fd,i=new FormData(t)}else if(MS(t)||LS(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(r=u?gi(u,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||ld,o=np(t.getAttribute("formenctype"))||np(s.getAttribute("enctype"))||fd,i=new FormData(s,t),!zS()){let{name:f,type:d,value:h}=t;if(d==="image"){let m=f?`${f}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else f&&i.append(f,h)}}else{if(c0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ld,r=null,o=fd,a=t}return i&&o==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HS(t,e,n,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&gi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function VS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WS(t,e,n){let r=await Promise.all(t.map(async o=>{let i=e.routes[o.route.id];if(i){let a=await VS(i,n);return a.links?a.links():[]}return[]}));return KS(r.flat(1).filter(GS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y6(t,e,n,r,o,i){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,s=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,f)=>a(u,f)||s(u,f)):i==="data"?e.filter((u,f)=>{let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,f)||s(u,f))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function ZS(t,e,{includeHydrateFallback:n}={}){return XS(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function XS(t){return[...new Set(t)]}function qS(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KS(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let i=JSON.stringify(qS(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function n8(){let t=S.useContext(uc);return Lg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YS(){let t=S.useContext(s0);return Lg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fg=S.createContext(void 0);Fg.displayName="FrameworkContext";function r8(){let t=S.useContext(Fg);return Lg(t,"You must render this element inside a <HydratedRouter> element"),t}function JS(t,e){let n=S.useContext(Fg),[r,o]=S.useState(!1),[i,a]=S.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:h}=e,m=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=C=>{C.forEach(A=>{a(A.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let g=()=>{o(!0)},b=()=>{o(!1),a(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:iu(s,g),onBlur:iu(u,b),onMouseEnter:iu(f,g),onMouseLeave:iu(d,b),onTouchStart:iu(h,g)}]:[!1,m,{}]}function iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QS({page:t,...e}){let{router:n}=n8(),r=S.useMemo(()=>Uw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(tI,{page:t,matches:r,...e}):null}function eI(t){let{manifest:e,routeModules:n}=r8(),[r,o]=S.useState([]);return S.useEffect(()=>{let i=!1;return WS(t,e,n).then(a=>{i||o(a)}),()=>{i=!0}},[t,e,n]),r}function tI({page:t,matches:e,...n}){let r=da(),{future:o,manifest:i,routeModules:a}=r8(),{basename:s}=n8(),{loaderData:u,matches:f}=YS(),d=S.useMemo(()=>y6(t,e,f,i,r,"data"),[t,e,f,i,r]),h=S.useMemo(()=>y6(t,e,f,i,r,"assets"),[t,e,f,i,r]),m=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(A=>{let I=i.routes[A.route.id];!I||!I.hasLoader||(!d.some(T=>T.route.id===A.route.id)&&A.route.id in u&&a[A.route.id]?.shouldRevalidate||I.hasClientLoader?_=!0:w.add(A.route.id))}),w.size===0)return[];let C=HS(t,s,o.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&C.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[s,o.unstable_trailingSlashAwareDataRequests,u,r,i,d,e,t,a]),g=S.useMemo(()=>ZS(h,i),[h,i]),b=eI(h);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:_})=>S.createElement("link",{key:w,nonce:n.nonce,..._,crossOrigin:_.crossOrigin??n.crossOrigin})))}function nI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rI&&(window.__reactRouterVersion="7.13.0")}catch{}function oI({basename:t,children:e,unstable_useTransitions:n,window:r}){let o=S.useRef();o.current==null&&(o.current=FA({window:r,v5Compat:!0}));let i=o.current,[a,s]=S.useState({action:i.action,location:i.location}),u=S.useCallback(f=>{n===!1?s(f):S.startTransition(()=>s(f))},[n]);return S.useLayoutEffect(()=>i.listen(u),[i,u]),S.createElement(DS,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var o8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cu=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:a,state:s,target:u,to:f,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:m,...g},b){let{basename:w,unstable_useTransitions:_}=S.useContext(Rr),C=typeof f=="string"&&o8.test(f),A=Ww(f,w);f=A.to;let I=vS(f,{relative:o}),[T,O,P]=JS(r,g),R=sI(f,{replace:a,state:s,target:u,preventScrollReset:d,relative:o,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:_});function k(F){e&&e(F),F.defaultPrevented||R(F)}let $=S.createElement("a",{...g,...P,href:A.absoluteURL||I,onClick:A.isExternal||i?e:k,ref:nI(b,O),target:u,"data-discover":!C&&n==="render"?"true":void 0});return T&&!C?S.createElement(S.Fragment,null,$,S.createElement(QS,{page:I})):$});Cu.displayName="Link";var Os=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:a,viewTransition:s,children:u,...f},d){let h=ul(a,{relative:f.relative}),m=da(),g=S.useContext(s0),{navigator:b,basename:w}=S.useContext(Rr),_=g!=null&&dI(h)&&s===!0,C=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,A=m.pathname,I=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(A=A.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&w&&(I=gi(I,w)||I);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let O=A===C||!o&&A.startsWith(C)&&A.charAt(T)==="/",P=I!=null&&(I===C||!o&&I.startsWith(C)&&I.charAt(C.length)==="/"),R={isActive:O,isPending:P,isTransitioning:_},k=O?e:void 0,$;typeof r=="function"?$=r(R):$=[r,O?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(R):i;return S.createElement(Cu,{...f,"aria-current":k,className:$,ref:d,style:F,to:a,viewTransition:s},typeof u=="function"?u(R):u)});Os.displayName="NavLink";var iI=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:i,method:a=ld,action:s,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:m,...g},b)=>{let{unstable_useTransitions:w}=S.useContext(Rr),_=lI(),C=fI(s,{relative:f}),A=a.toLowerCase()==="get"?"get":"post",I=typeof s=="string"&&o8.test(s),T=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,R=P?.getAttribute("formmethod")||a,k=()=>_(P||O.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:i,relative:f,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:m});w&&n!==!1?S.startTransition(()=>k()):k()};return S.createElement("form",{ref:b,method:A,action:C,onSubmit:r?u:T,...g,"data-discover":!I&&t==="render"?"true":void 0})});iI.displayName="Form";function aI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i8(t){let e=S.useContext(uc);return Zt(e,aI(t)),e}function sI(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let f=cl(),d=da(),h=ul(t,{relative:i});return S.useCallback(m=>{if(jS(m,e)){m.preventDefault();let g=n!==void 0?n:_u(d)===_u(h),b=()=>f(t,{replace:g,state:r,preventScrollReset:o,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:s});u?S.startTransition(()=>b()):b()}},[d,f,h,n,r,e,t,o,i,a,s,u])}var cI=0,uI=()=>`__${String(++cI)}__`;function lI(){let{router:t}=i8("useSubmit"),{basename:e}=S.useContext(Rr),n=NS(),r=t.fetch,o=t.navigate;return S.useCallback(async(i,a={})=>{let{action:s,method:u,encType:f,formData:d,body:h}=US(i,e);if(a.navigate===!1){let m=a.fetcherKey||uI();await r(m,n,a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await o(a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,o,e,n])}function fI(t,{relative:e}={}){let{basename:n}=S.useContext(Rr),r=S.useContext(Go);Zt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...ul(t||".",{relative:e})},a=da();if(t==null){i.search=a.search;let s=new URLSearchParams(i.search),u=s.getAll("index");if(u.some(d=>d==="")){s.delete("index"),u.filter(h=>h).forEach(h=>s.append("index",h));let d=s.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:hi([n,i.pathname])),_u(i)}function dI(t,{relative:e}={}){let n=S.useContext(Xw);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i8("useViewTransitionState"),o=ul(t,{relative:e});if(!n.isTransitioning)return!1;let i=gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nd(o.pathname,a)!=null||Nd(o.pathname,i)!=null}var rn=$w();function a8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=a8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hI(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=a8(t))&&(r&&(r+=" "),r+=e);return r}const pI=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},mI=(t,e)=>({classGroupId:t,validator:e}),s8=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Od="-",v6=[],gI="arbitrary..",yI=t=>{const e=bI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return vI(a);const s=a.split(Od),u=s[0]===""&&s.length>1?1:0;return c8(s,u,e)},getConflictingClassGroupIds:(a,s)=>{if(s){const u=r[a],f=n[a];return u?f?pI(f,u):u:f||v6}return n[a]||v6}}},c8=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],i=n.nextPart.get(o);if(i){const f=c8(t,e+1,i);if(f)return f}const a=n.validators;if(a===null)return;const s=e===0?t.join(Od):t.slice(e).join(Od),u=a.length;for(let f=0;f<u;f++){const d=a[f];if(d.validator(s))return d.classGroupId}},vI=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?gI+r:void 0})(),bI=t=>{const{theme:e,classGroups:n}=t;return xI(n,e)},xI=(t,e)=>{const n=s8();for(const r in t){const o=t[r];jg(o,n,r,e)}return n},jg=(t,e,n,r)=>{const o=t.length;for(let i=0;i<o;i++){const a=t[i];wI(a,e,n,r)}},wI=(t,e,n,r)=>{if(typeof t=="string"){EI(t,e,n);return}if(typeof t=="function"){_I(t,e,n,r);return}CI(t,e,n,r)},EI=(t,e,n)=>{const r=t===""?e:u8(e,t);r.classGroupId=n},_I=(t,e,n,r)=>{if(AI(t)){jg(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(mI(n,t))},CI=(t,e,n,r)=>{const o=Object.entries(t),i=o.length;for(let a=0;a<i;a++){const[s,u]=o[a];jg(u,u8(e,s),n,r)}},u8=(t,e)=>{let n=t;const r=e.split(Od),o=r.length;for(let i=0;i<o;i++){const a=r[i];let s=n.nextPart.get(a);s||(s=s8(),n.nextPart.set(a,s)),n=s}return n},AI=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,SI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const o=(i,a)=>{n[i]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let a=n[i];if(a!==void 0)return a;if((a=r[i])!==void 0)return o(i,a),a},set(i,a){i in n?n[i]=a:o(i,a)}}},hm="!",b6=":",II=[],x6=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),TI=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const i=[];let a=0,s=0,u=0,f;const d=o.length;for(let w=0;w<d;w++){const _=o[w];if(a===0&&s===0){if(_===b6){i.push(o.slice(u,w)),u=w+1;continue}if(_==="/"){f=w;continue}}_==="["?a++:_==="]"?a--:_==="("?s++:_===")"&&s--}const h=i.length===0?o:o.slice(u);let m=h,g=!1;h.endsWith(hm)?(m=h.slice(0,-1),g=!0):h.startsWith(hm)&&(m=h.slice(1),g=!0);const b=f&&f>u?f-u:void 0;return x6(i,g,m,b)};if(e){const o=e+b6,i=r;r=a=>a.startsWith(o)?i(a.slice(o.length)):x6(II,!1,a,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},NI=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const a=n[i],s=a[0]==="[",u=e.has(a);s||u?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(a)):o.push(a)}return o.length>0&&(o.sort(),r.push(...o)),r}},OI=t=>({cache:SI(t.cacheSize),parseClassName:TI(t),sortModifiers:NI(t),...yI(t)}),PI=/\s+/,RI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=e,a=[],s=t.trim().split(PI);let u="";for(let f=s.length-1;f>=0;f-=1){const d=s[f],{isExternal:h,modifiers:m,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}=n(d);if(h){u=d+(u.length>0?" "+u:u);continue}let _=!!w,C=r(_?b.substring(0,w):b);if(!C){if(!_){u=d+(u.length>0?" "+u:u);continue}if(C=r(b),!C){u=d+(u.length>0?" "+u:u);continue}_=!1}const A=m.length===0?"":m.length===1?m[0]:i(m).join(":"),I=g?A+hm:A,T=I+C;if(a.indexOf(T)>-1)continue;a.push(T);const O=o(C,_);for(let P=0;P<O.length;++P){const R=O[P];a.push(I+R)}u=d+(u.length>0?" "+u:u)}return u},kI=(...t)=>{let e=0,n,r,o="";for(;e<t.length;)(n=t[e++])&&(r=l8(n))&&(o&&(o+=" "),o+=r);return o},l8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=l8(t[r]))&&(n&&(n+=" "),n+=e);return n},DI=(t,...e)=>{let n,r,o,i;const a=u=>{const f=e.reduce((d,h)=>h(d),t());return n=OI(f),r=n.cache.get,o=n.cache.set,i=s,s(u)},s=u=>{const f=r(u);if(f)return f;const d=RI(u,n);return o(u,d),d};return i=a,(...u)=>i(kI(...u))},MI=[],vn=t=>{const e=n=>n[t]||MI;return e.isThemeGetter=!0,e},f8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,d8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BI=/^\d+\/\d+$/,LI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$I=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=t=>BI.test(t),rt=t=>!!t&&!Number.isNaN(Number(t)),Gi=t=>!!t&&Number.isInteger(Number(t)),rp=t=>t.endsWith("%")&&rt(t.slice(0,-1)),ti=t=>LI.test(t),UI=()=>!0,HI=t=>FI.test(t)&&!jI.test(t),h8=()=>!1,VI=t=>zI.test(t),GI=t=>$I.test(t),WI=t=>!Ne(t)&&!Oe(t),ZI=t=>fc(t,g8,h8),Ne=t=>f8.test(t),Na=t=>fc(t,y8,HI),op=t=>fc(t,JI,rt),w6=t=>fc(t,p8,h8),XI=t=>fc(t,m8,GI),Uf=t=>fc(t,v8,VI),Oe=t=>d8.test(t),au=t=>dc(t,y8),qI=t=>dc(t,QI),E6=t=>dc(t,p8),KI=t=>dc(t,g8),YI=t=>dc(t,m8),Hf=t=>dc(t,v8,!0),fc=(t,e,n)=>{const r=f8.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},dc=(t,e,n=!1)=>{const r=d8.exec(t);return r?r[1]?e(r[1]):n:!1},p8=t=>t==="position"||t==="percentage",m8=t=>t==="image"||t==="url",g8=t=>t==="length"||t==="size"||t==="bg-size",y8=t=>t==="length",JI=t=>t==="number",QI=t=>t==="family-name",v8=t=>t==="shadow",e7=()=>{const t=vn("color"),e=vn("font"),n=vn("text"),r=vn("font-weight"),o=vn("tracking"),i=vn("leading"),a=vn("breakpoint"),s=vn("container"),u=vn("spacing"),f=vn("radius"),d=vn("shadow"),h=vn("inset-shadow"),m=vn("text-shadow"),g=vn("drop-shadow"),b=vn("blur"),w=vn("perspective"),_=vn("aspect"),C=vn("ease"),A=vn("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...T(),Oe,Ne],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],k=()=>[Oe,Ne,u],$=()=>[Cs,"full","auto",...k()],F=()=>[Gi,"none","subgrid",Oe,Ne],H=()=>["auto",{span:["full",Gi,Oe,Ne]},Gi,Oe,Ne],V=()=>[Gi,"auto",Oe,Ne],te=()=>["auto","min","max","fr",Oe,Ne],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...k()],J=()=>[Cs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],B=()=>[t,Oe,Ne],U=()=>[...T(),E6,w6,{position:[Oe,Ne]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",KI,ZI,{size:[Oe,Ne]}],G=()=>[rp,au,Na],pe=()=>["","none","full",f,Oe,Ne],ye=()=>["",rt,au,Na],_e=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[rt,rp,E6,w6],Be=()=>["","none",b,Oe,Ne],ke=()=>["none",rt,Oe,Ne],Ae=()=>["none",rt,Oe,Ne],yt=()=>[rt,Oe,Ne],it=()=>[Cs,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ti],breakpoint:[ti],color:[UI],container:[ti],"drop-shadow":[ti],ease:["in","out","in-out"],font:[WI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ti],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ti],shadow:[ti],spacing:["px",rt],text:[ti],"text-shadow":[ti],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cs,Ne,Oe,_]}],container:["container"],columns:[{columns:[rt,Ne,Oe,s]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Gi,"auto",Oe,Ne]}],basis:[{basis:[Cs,"full","auto",s,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,Cs,"auto","initial","none",Ne]}],grow:[{grow:["",rt,Oe,Ne]}],shrink:[{shrink:["",rt,Oe,Ne]}],order:[{order:[Gi,"first","last","none",Oe,Ne]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[s,"screen",...J()]}],"min-w":[{"min-w":[s,"screen","none",...J()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,au,Na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Oe,op]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rp,Ne]}],"font-family":[{font:[qI,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Oe,Ne]}],"line-clamp":[{"line-clamp":[rt,"none",Oe,op]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",Oe,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",Oe,Na]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[rt,"auto",Oe,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gi,Oe,Ne],radial:["",Oe,Ne],conic:[Gi,Oe,Ne]},YI,XI]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,Oe,Ne]}],"outline-w":[{outline:["",rt,au,Na]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",d,Hf,Uf]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",h,Hf,Uf]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[rt,Na]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",m,Hf,Uf]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[rt,Oe,Ne]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Oe,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,Ne]}],filter:[{filter:["","none",Oe,Ne]}],blur:[{blur:Be()}],brightness:[{brightness:[rt,Oe,Ne]}],contrast:[{contrast:[rt,Oe,Ne]}],"drop-shadow":[{"drop-shadow":["","none",g,Hf,Uf]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",rt,Oe,Ne]}],"hue-rotate":[{"hue-rotate":[rt,Oe,Ne]}],invert:[{invert:["",rt,Oe,Ne]}],saturate:[{saturate:[rt,Oe,Ne]}],sepia:[{sepia:["",rt,Oe,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,Ne]}],"backdrop-blur":[{"backdrop-blur":Be()}],"backdrop-brightness":[{"backdrop-brightness":[rt,Oe,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[rt,Oe,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,Oe,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,Oe,Ne]}],"backdrop-invert":[{"backdrop-invert":["",rt,Oe,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[rt,Oe,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[rt,Oe,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,Oe,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",Oe,Ne]}],ease:[{ease:["linear","initial",C,Oe,Ne]}],delay:[{delay:[rt,Oe,Ne]}],animate:[{animate:["none",A,Oe,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Oe,Ne]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:yt()}],"skew-x":[{"skew-x":yt()}],"skew-y":[{"skew-y":yt()}],transform:[{transform:[Oe,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:it()}],"translate-x":[{"translate-x":it()}],"translate-y":[{"translate-y":it()}],"translate-z":[{"translate-z":it()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,Ne]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[rt,au,Na,op]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},t7=DI(e7);function ll(...t){return t7(hI(t))}const lo=S.forwardRef(({className:t,variant:e="default",size:n="md",...r},o)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none",a={default:"bg-neutral-900 text-white hover:bg-neutral-800",outline:"border border-neutral-300 hover:bg-neutral-100",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-200",ghost:"hover:bg-neutral-100"},s={sm:"h-8 px-3",md:"h-9 px-4",lg:"h-10 px-5",icon:"h-9 w-9 p-0"};return v.jsx("button",{ref:o,className:ll(i,a[e],s[n],t),...r})});lo.displayName="Button";function u0(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function n7(t,e){let n;const r=()=>{if(n)return n;const o=indexedDB.open(t);return o.onupgradeneeded=()=>o.result.createObjectStore(e),n=u0(o),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(o,i)=>r().then(a=>i(a.transaction(e,o).objectStore(e)))}let ip;function zg(){return ip||(ip=n7("keyval-store","keyval")),ip}function St(t,e=zg()){return e("readonly",n=>u0(n.get(t)))}function hn(t,e,n=zg()){return n("readwrite",r=>(r.put(e,t),u0(r.transaction)))}function su(t,e=zg()){return e("readwrite",n=>(n.delete(t),u0(n.transaction)))}const $g="cointrol:address:v1",b8="cointrol:address:schemaVersion",dd=1,pm=new Set;function r7(t){for(const e of pm)e(t)}function o7(t){return pm.add(t),()=>{pm.delete(t)}}async function i7(){const t=await St(b8);return t||dd}async function a7(t){await hn(b8,t)}async function s7(){const t=await i7();t!==dd&&(await St($g),t<dd&&await a7(dd))}async function l0(){return await s7(),await St($g)??[]}async function f0(t){await hn($g,t),r7(t)}async function c7(){return l0()}async function Ug(t){const e=Date.now(),n=await l0(),r={id:t.id,name:t.name,group:t.group||void 0,isContact:t.isContact,isVisible:t.isVisible,indexOrder:t.indexOrder,createdAt:e,updatedAt:e},o=[...n,r];return await f0(o),o}async function Hg(t,e){const n=await l0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await f0(o),o}async function Vg(t){const n=(await l0()).filter(r=>r.id!==t);return await f0(n),n}async function u7(){await f0([])}function Gg(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await c7();a||(e(u),r(!1))}catch(u){console.error("[address] Failed to load:",u),a||(i(u?.message??"Failed to load addresses"),r(!1))}})();const s=o7(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{address:t,loading:n,error:o,addAddress:Ug,updateAddress:Hg,deleteAddress:Vg,clearAddress:u7}}function x8(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="createdAsc"?n.sort((r,o)=>r.createdAt-o.createdAt):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="custom"&&n.sort((r,o)=>r.indexOrder-o.indexOrder),n}function w8(t={}){const{address:e,loading:n,error:r,addAddress:o,updateAddress:i,deleteAddress:a,clearAddress:s}=Gg(),{query:u="",sortMode:f="createdAsc",tags:d=[],tagMode:h="any"}=t;return{address:S.useMemo(()=>{let g=e;if(u.trim()){const b=u.trim().toLowerCase();g=g.filter(w=>w.name.toLowerCase().includes(b))}return d&&d.length>0&&(h=="any"?g=g.filter(b=>b.group?.some(w=>d.includes(w))):g=g.filter(b=>d.every(w=>b.group?.includes(w)))),x8(g,f)},[e,u,f,d,h]),loading:n,error:r,addAddress:o,updateAddress:i,deleteAddress:a,clearAddress:s}}function l7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(o=>o(r))},e)}const d0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Wg(t){return"nodeType"in t}function yr(t){var e,n;return t?hc(t)?t:Wg(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Zg(t){const{Document:e}=yr(t);return t instanceof e}function fl(t){return hc(t)?!1:t instanceof yr(t).HTMLElement}function E8(t){return t instanceof yr(t).SVGElement}function pc(t){return t?hc(t)?t.document:Wg(t)?Zg(t)?t:fl(t)||E8(t)?t.ownerDocument:document:document:document}const Fo=d0?S.useLayoutEffect:S.useEffect;function Xg(t){const e=S.useRef(t);return Fo(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function f7(){const t=S.useRef(null),e=S.useCallback((r,o)=>{t.current=setInterval(r,o)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Au(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Fo(()=>{n.current!==t&&(n.current=t)},e),n}function dl(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Pd(t){const e=Xg(t),n=S.useRef(null),r=S.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,r]}function mm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let ap={};function hl(t,e){return S.useMemo(()=>{if(e)return e;const n=ap[t]==null?0:ap[t]+1;return ap[t]=n,t+"-"+n},[t,e])}function _8(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,a)=>{const s=Object.entries(a);for(const[u,f]of s){const d=i[u];d!=null&&(i[u]=d+t*f)}return i},{...e})}}const zs=_8(1),Rd=_8(-1);function d7(t){return"clientX"in t&&"clientY"in t}function qg(t){if(!t)return!1;const{KeyboardEvent:e}=yr(t.target);return e&&t instanceof e}function h7(t){if(!t)return!1;const{TouchEvent:e}=yr(t.target);return e&&t instanceof e}function gm(t){if(h7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return d7(t)?{x:t.clientX,y:t.clientY}:null}const Su=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Su.Translate.toString(t),Su.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),_6="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function p7(t){return t.matches(_6)?t:t.querySelector(_6)}const m7={display:"none"};function g7(t){let{id:e,value:n}=t;return ct.createElement("div",{id:e,style:m7},n)}function y7(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ct.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function v7(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const C8=S.createContext(null);function b7(t){const e=S.useContext(C8);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function x7(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:o,event:i}=r;t.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[t]),e]}const w7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function _7(t){let{announcements:e=E7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=w7}=t;const{announce:i,announcement:a}=v7(),s=hl("DndLiveRegion"),[u,f]=S.useState(!1);if(S.useEffect(()=>{f(!0)},[]),b7(S.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&i(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;i(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;i(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;i(e.onDragCancel({active:m,over:g}))}}),[i,e])),!u)return null;const d=ct.createElement(ct.Fragment,null,ct.createElement(g7,{id:r,value:o.draggable}),ct.createElement(y7,{id:s,announcement:a}));return n?rn.createPortal(d,n):d}var En;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(En||(En={}));function kd(){}function C7(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function A7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const go=Object.freeze({x:0,y:0});function S7(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function I7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function T7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function N7(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function C6(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const O7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=C6(e,e.left,e.top),i=[];for(const a of r){const{id:s}=a,u=n.get(s);if(u){const f=S7(C6(u),o);i.push({id:s,data:{droppableContainer:a,value:f}})}}return i.sort(I7)};function P7(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),a=o-r,s=i-n;if(r<o&&n<i){const u=e.width*e.height,f=t.width*t.height,d=a*s,h=d/(u+f-d);return Number(h.toFixed(4))}return 0}const R7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=[];for(const i of r){const{id:a}=i,s=n.get(a);if(s){const u=P7(s,e);u>0&&o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(T7)};function k7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function A8(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:go}function D7(t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+t*s.y,bottom:a.bottom+t*s.y,left:a.left+t*s.x,right:a.right+t*s.x}),{...n})}}const M7=D7(1);function B7(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function L7(t,e,n){const r=B7(e);if(!r)return t;const{scaleX:o,scaleY:i,x:a,y:s}=r,u=t.left-a-(1-o)*parseFloat(n),f=t.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?t.width/o:t.width,h=i?t.height/i:t.height;return{width:d,height:h,top:f,right:u+d,bottom:f+h,left:u}}const F7={ignoreTransform:!1};function mc(t,e){e===void 0&&(e=F7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:d}=yr(t).getComputedStyle(t);f&&(n=L7(n,f,d))}const{top:r,left:o,width:i,height:a,bottom:s,right:u}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:u}}function A6(t){return mc(t,{ignoreTransform:!0})}function j7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function z7(t,e){return e===void 0&&(e=yr(t).getComputedStyle(t)),e.position==="fixed"}function $7(t,e){e===void 0&&(e=yr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=e[o];return typeof i=="string"?n.test(i):!1})}function Kg(t,e){const n=[];function r(o){if(e!=null&&n.length>=e||!o)return n;if(Zg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!fl(o)||E8(o)||n.includes(o))return n;const i=yr(t).getComputedStyle(o);return o!==t&&$7(o,i)&&n.push(o),z7(o,i)?n:r(o.parentNode)}return t?r(t):n}function S8(t){const[e]=Kg(t,1);return e??null}function sp(t){return!d0||!t?null:hc(t)?t:Wg(t)?Zg(t)||t===pc(t).scrollingElement?window:fl(t)?t:null:null}function I8(t){return hc(t)?t.scrollX:t.scrollLeft}function T8(t){return hc(t)?t.scrollY:t.scrollTop}function ym(t){return{x:I8(t),y:T8(t)}}var Rn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Rn||(Rn={}));function N8(t){return!d0||!t?!1:t===document.scrollingElement}function O8(t){const e={x:0,y:0},n=N8(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,s=t.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:r,minScroll:e}}const U7={x:.2,y:.2};function H7(t,e,n,r,o){let{top:i,left:a,right:s,bottom:u}=n;r===void 0&&(r=10),o===void 0&&(o=U7);const{isTop:f,isBottom:d,isLeft:h,isRight:m}=O8(t),g={x:0,y:0},b={x:0,y:0},w={height:e.height*o.y,width:e.width*o.x};return!f&&i<=e.top+w.height?(g.y=Rn.Backward,b.y=r*Math.abs((e.top+w.height-i)/w.height)):!d&&u>=e.bottom-w.height&&(g.y=Rn.Forward,b.y=r*Math.abs((e.bottom-w.height-u)/w.height)),!m&&s>=e.right-w.width?(g.x=Rn.Forward,b.x=r*Math.abs((e.right-w.width-s)/w.width)):!h&&a<=e.left+w.width&&(g.x=Rn.Backward,b.x=r*Math.abs((e.left+w.width-a)/w.width)),{direction:g,speed:b}}function V7(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:e,left:n,right:r,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:o,width:t.clientWidth,height:t.clientHeight}}function P8(t){return t.reduce((e,n)=>zs(e,ym(n)),go)}function G7(t){return t.reduce((e,n)=>e+I8(n),0)}function W7(t){return t.reduce((e,n)=>e+T8(n),0)}function Z7(t,e){if(e===void 0&&(e=mc),!t)return;const{top:n,left:r,bottom:o,right:i}=e(t);S8(t)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const X7=[["x",["left","right"],G7],["y",["top","bottom"],W7]];class Yg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Kg(n),o=P8(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,a,s]of X7)for(const u of a)Object.defineProperty(this,u,{get:()=>{const f=s(r),d=o[i]-f;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var o;(o=this.target)==null||o.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function q7(t){const{EventTarget:e}=yr(t);return t instanceof e?t:pc(t)}function cp(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Vr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Vr||(Vr={}));function S6(t){t.preventDefault()}function K7(t){t.stopPropagation()}var Ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ct||(Ct={}));const R8={start:[Ct.Space,Ct.Enter],cancel:[Ct.Esc],end:[Ct.Space,Ct.Enter,Ct.Tab]},Y7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ct.Right:return{...n,x:n.x+25};case Ct.Left:return{...n,x:n.x-25};case Ct.Down:return{...n,y:n.y+25};case Ct.Up:return{...n,y:n.y-25}}};class k8{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new yu(pc(n)),this.windowListeners=new yu(yr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Vr.Resize,this.handleCancel),this.windowListeners.add(Vr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Vr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Z7(r),n(go)}handleKeyDown(e){if(qg(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=R8,coordinateGetter:a=Y7,scrollBehavior:s="smooth"}=o,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:f}=r.current,d=f?{x:f.left,y:f.top}:go;this.referenceCoordinates||(this.referenceCoordinates=d);const h=a(e,{active:n,context:r.current,currentCoordinates:d});if(h){const m=Rd(h,d),g={x:0,y:0},{scrollableAncestors:b}=r.current;for(const w of b){const _=e.code,{isTop:C,isRight:A,isLeft:I,isBottom:T,maxScroll:O,minScroll:P}=O8(w),R=V7(w),k={x:Math.min(_===Ct.Right?R.right-R.width/2:R.right,Math.max(_===Ct.Right?R.left:R.left+R.width/2,h.x)),y:Math.min(_===Ct.Down?R.bottom-R.height/2:R.bottom,Math.max(_===Ct.Down?R.top:R.top+R.height/2,h.y))},$=_===Ct.Right&&!A||_===Ct.Left&&!I,F=_===Ct.Down&&!T||_===Ct.Up&&!C;if($&&k.x!==h.x){const H=w.scrollLeft+m.x,V=_===Ct.Right&&H<=O.x||_===Ct.Left&&H>=P.x;if(V&&!m.y){w.scrollTo({left:H,behavior:s});return}V?g.x=w.scrollLeft-H:g.x=_===Ct.Right?w.scrollLeft-O.x:w.scrollLeft-P.x,g.x&&w.scrollBy({left:-g.x,behavior:s});break}else if(F&&k.y!==h.y){const H=w.scrollTop+m.y,V=_===Ct.Down&&H<=O.y||_===Ct.Up&&H>=P.y;if(V&&!m.x){w.scrollTo({top:H,behavior:s});return}V?g.y=w.scrollTop-H:g.y=_===Ct.Down?w.scrollTop-O.y:w.scrollTop-P.y,g.y&&w.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(e,zs(Rd(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}k8.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=R8,onActivation:o}=e,{active:i}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const s=i.activatorNode.current;return s&&t.target!==s?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function I6(t){return!!(t&&"distance"in t)}function T6(t){return!!(t&&"delay"in t)}class Jg{constructor(e,n,r){var o;r===void 0&&(r=q7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:a}=i;this.props=e,this.events=n,this.document=pc(a),this.documentListeners=new yu(this.document),this.listeners=new yu(r),this.windowListeners=new yu(yr(a)),this.initialCoordinates=(o=gm(i))!=null?o:go,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Vr.Resize,this.handleCancel),this.windowListeners.add(Vr.DragStart,S6),this.windowListeners.add(Vr.VisibilityChange,this.handleCancel),this.windowListeners.add(Vr.ContextMenu,S6),this.documentListeners.add(Vr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(T6(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(I6(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:o}=this.props;o(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Vr.Click,K7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Vr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;const u=(n=gm(e))!=null?n:go,f=Rd(o,u);if(!r&&s){if(I6(s)){if(s.tolerance!=null&&cp(f,s.tolerance))return this.handleCancel();if(cp(f,s.distance))return this.handleStart()}if(T6(s)&&cp(f,s.tolerance))return this.handleCancel();this.handlePending(s,f);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const J7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qg extends Jg{constructor(e){const{event:n}=e,r=pc(n.target);super(e,J7,r)}}Qg.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Q7={move:{name:"mousemove"},end:{name:"mouseup"}};var vm;(function(t){t[t.RightClick=2]="RightClick"})(vm||(vm={}));class eT extends Jg{constructor(e){super(e,Q7,pc(e.event.target))}}eT.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===vm.RightClick?!1:(r?.({event:n}),!0)}}];const up={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tT extends Jg{constructor(e){super(e,up)}static setup(){return window.addEventListener(up.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(up.move.name,e)};function e(){}}}tT.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var vu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(vu||(vu={}));var Dd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Dd||(Dd={}));function nT(t){let{acceleration:e,activator:n=vu.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:a=5,order:s=Dd.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:d,delta:h,threshold:m}=t;const g=oT({delta:h,disabled:!i}),[b,w]=f7(),_=S.useRef({x:0,y:0}),C=S.useRef({x:0,y:0}),A=S.useMemo(()=>{switch(n){case vu.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case vu.DraggableRect:return o}},[n,o,u]),I=S.useRef(null),T=S.useCallback(()=>{const P=I.current;if(!P)return;const R=_.current.x*C.current.x,k=_.current.y*C.current.y;P.scrollBy(R,k)},[]),O=S.useMemo(()=>s===Dd.TreeOrder?[...f].reverse():f,[s,f]);S.useEffect(()=>{if(!i||!f.length||!A){w();return}for(const P of O){if(r?.(P)===!1)continue;const R=f.indexOf(P),k=d[R];if(!k)continue;const{direction:$,speed:F}=H7(P,k,A,e,m);for(const H of["x","y"])g[H][$[H]]||(F[H]=0,$[H]=0);if(F.x>0||F.y>0){w(),I.current=P,b(T,a),_.current=F,C.current=$;return}}_.current={x:0,y:0},C.current={x:0,y:0},w()},[e,T,r,w,i,a,JSON.stringify(A),JSON.stringify(g),b,f,O,d,JSON.stringify(m)])}const rT={x:{[Rn.Backward]:!1,[Rn.Forward]:!1},y:{[Rn.Backward]:!1,[Rn.Forward]:!1}};function oT(t){let{delta:e,disabled:n}=t;const r=mm(e);return dl(o=>{if(n||!r||!o)return rT;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Rn.Backward]:o.x[Rn.Backward]||i.x===-1,[Rn.Forward]:o.x[Rn.Forward]||i.x===1},y:{[Rn.Backward]:o.y[Rn.Backward]||i.y===-1,[Rn.Forward]:o.y[Rn.Forward]||i.y===1}}},[n,e,r])}function iT(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return dl(o=>{var i;return e==null?null:(i=r??o)!=null?i:null},[r,e])}function aT(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...i]},[]),[t,e])}var Iu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Iu||(Iu={}));var bm;(function(t){t.Optimized="optimized"})(bm||(bm={}));const N6=new Map;function sT(t,e){let{dragging:n,dependencies:r,config:o}=e;const[i,a]=S.useState(null),{frequency:s,measure:u,strategy:f}=o,d=S.useRef(t),h=_(),m=Au(h),g=S.useCallback(function(C){C===void 0&&(C=[]),!m.current&&a(A=>A===null?C:A.concat(C.filter(I=>!A.includes(I))))},[m]),b=S.useRef(null),w=dl(C=>{if(h&&!n)return N6;if(!C||C===N6||d.current!==t||i!=null){const A=new Map;for(let I of t){if(!I)continue;if(i&&i.length>0&&!i.includes(I.id)&&I.rect.current){A.set(I.id,I.rect.current);continue}const T=I.node.current,O=T?new Yg(u(T),T):null;I.rect.current=O,O&&A.set(I.id,O)}return A}return C},[t,i,n,h,u]);return S.useEffect(()=>{d.current=t},[t]),S.useEffect(()=>{h||g()},[n,h]),S.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),S.useEffect(()=>{h||typeof s!="number"||b.current!==null||(b.current=setTimeout(()=>{g(),b.current=null},s))},[s,h,g,...r]),{droppableRects:w,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(f){case Iu.Always:return!1;case Iu.BeforeDragging:return n;default:return!n}}}function D8(t,e){return dl(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function cT(t,e){return D8(t,e)}function uT(t){let{callback:e,disabled:n}=t;const r=Xg(e),o=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function h0(t){let{callback:e,disabled:n}=t;const r=Xg(e),o=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function lT(t){return new Yg(mc(t),t)}function O6(t,e,n){e===void 0&&(e=lT);const[r,o]=S.useState(null);function i(){o(u=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=u??n)!=null?f:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const a=uT({callback(u){if(t)for(const f of u){const{type:d,target:h}=f;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),s=h0({callback:i});return Fo(()=>{i(),t?(s?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),a?.disconnect())},[t]),r}function fT(t){const e=D8(t);return A8(t,e)}const P6=[];function dT(t){const e=S.useRef(t),n=dl(r=>t?r&&r!==P6&&t&&e.current&&t.parentNode===e.current.parentNode?r:Kg(t):P6,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function hT(t){const[e,n]=S.useState(null),r=S.useRef(t),o=S.useCallback(i=>{const a=sp(i.target);a&&n(s=>s?(s.set(a,ym(a)),new Map(s)):null)},[]);return S.useEffect(()=>{const i=r.current;if(t!==i){a(i);const s=t.map(u=>{const f=sp(u);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,ym(f)]):null}).filter(u=>u!=null);n(s.length?new Map(s):null),r.current=t}return()=>{a(t),a(i)};function a(s){s.forEach(u=>{const f=sp(u);f?.removeEventListener("scroll",o)})}},[o,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,a)=>zs(i,a),go):P8(t):go,[t,e])}function R6(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==go;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Rd(t,n.current):go}function pT(t){S.useEffect(()=>{if(!d0)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function mT(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=a=>{i(a,e)},n},{}),[t,e])}function M8(t){return S.useMemo(()=>t?j7(t):null,[t])}const k6=[];function gT(t,e){e===void 0&&(e=mc);const[n]=t,r=M8(n?yr(n):null),[o,i]=S.useState(k6);function a(){i(()=>t.length?t.map(u=>N8(u)?r:new Yg(e(u),u)):k6)}const s=h0({callback:a});return Fo(()=>{s?.disconnect(),a(),t.forEach(u=>s?.observe(u))},[t]),o}function yT(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return fl(e)?e:t}function vT(t){let{measure:e}=t;const[n,r]=S.useState(null),o=S.useCallback(f=>{for(const{target:d}of f)if(fl(d)){r(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=h0({callback:o}),a=S.useCallback(f=>{const d=yT(f);i?.disconnect(),d&&i?.observe(d),r(d?e(d):null)},[e,i]),[s,u]=Pd(a);return S.useMemo(()=>({nodeRef:s,rect:n,setRef:u}),[n,s,u])}const bT=[{sensor:Qg,options:{}},{sensor:k8,options:{}}],xT={current:{}},hd={draggable:{measure:A6},droppable:{measure:A6,strategy:Iu.WhileDragging,frequency:bm.Optimized},dragOverlay:{measure:mc}};class bu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const wT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hd,measureDroppableContainers:kd,windowRect:null,measuringScheduled:!1},ET={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kd,draggableNodes:new Map,over:null,measureDroppableContainers:kd},p0=S.createContext(ET),B8=S.createContext(wT);function _T(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bu}}}function CT(t,e){switch(e.type){case En.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case En.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case En.DragEnd:case En.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case En.RegisterDroppable:{const{element:n}=e,{id:r}=n,o=new bu(t.droppable.containers);return o.set(r,n),{...t,droppable:{...t.droppable,containers:o}}}case En.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new bu(t.droppable.containers);return a.set(n,{...i,disabled:o}),{...t,droppable:{...t.droppable,containers:a}}}case En.UnregisterDroppable:{const{id:n,key:r}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const i=new bu(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function AT(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=S.useContext(p0),i=mm(r),a=mm(n?.id);return S.useEffect(()=>{if(!e&&!r&&i&&a!=null){if(!qg(i)||document.activeElement===i.target)return;const s=o.get(a);if(!s)return;const{activatorNode:u,node:f}=s;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const d of[u.current,f.current]){if(!d)continue;const h=p7(d);if(h){h.focus();break}}})}},[r,e,o,a,i]),null}function ST(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((o,i)=>i({transform:o,...r}),n):n}function IT(t){return S.useMemo(()=>({draggable:{...hd.draggable,...t?.draggable},droppable:{...hd.droppable,...t?.droppable},dragOverlay:{...hd.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function TT(t){let{activeNode:e,measure:n,initialRect:r,config:o=!0}=t;const i=S.useRef(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;Fo(()=>{if(!a&&!s||!e){i.current=!1;return}if(i.current||!r)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const d=n(f),h=A8(d,r);if(a||(h.x=0),s||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=S8(f);m&&m.scrollBy({top:h.y,left:h.x})}},[e,a,s,r,n])}const L8=S.createContext({...go,scaleX:1,scaleY:1});var Qi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Qi||(Qi={}));const NT=S.memo(function(e){var n,r,o,i;let{id:a,accessibility:s,autoScroll:u=!0,children:f,sensors:d=bT,collisionDetection:h=R7,measuring:m,modifiers:g,...b}=e;const w=S.useReducer(CT,void 0,_T),[_,C]=w,[A,I]=x7(),[T,O]=S.useState(Qi.Uninitialized),P=T===Qi.Initialized,{draggable:{active:R,nodes:k,translate:$},droppable:{containers:F}}=_,H=R!=null?k.get(R):null,V=S.useRef({initial:null,translated:null}),te=S.useMemo(()=>{var K;return R!=null?{id:R,data:(K=H?.data)!=null?K:xT,rect:V}:null},[R,H]),ae=S.useRef(null),[q,Y]=S.useState(null),[J,B]=S.useState(null),U=Au(b,Object.values(b)),ne=hl("DndDescribedBy",a),L=S.useMemo(()=>F.getEnabled(),[F]),G=IT(m),{droppableRects:pe,measureDroppableContainers:ye,measuringScheduled:_e}=sT(L,{dragging:P,dependencies:[$.x,$.y],config:G.droppable}),Ce=iT(k,R),xe=S.useMemo(()=>J?gm(J):null,[J]),Be=$n(),ke=cT(Ce,G.draggable.measure);TT({activeNode:R!=null?k.get(R):null,config:Be.layoutShiftCompensation,initialRect:ke,measure:G.draggable.measure});const Ae=O6(Ce,G.draggable.measure,ke),yt=O6(Ce?Ce.parentElement:null),it=S.useRef({activatorEvent:null,active:null,activeNode:Ce,collisionRect:null,collisions:null,droppableRects:pe,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=F.getNodeFor((n=it.current.over)==null?void 0:n.id),vt=vT({measure:G.dragOverlay.measure}),se=(r=vt.nodeRef.current)!=null?r:Ce,re=P?(o=vt.rect)!=null?o:Ae:null,Ee=!!(vt.nodeRef.current&&vt.rect),je=fT(Ee?null:Ae),lt=M8(se?yr(se):null),ze=dT(P?dt??Ce:null),pt=gT(ze),wt=ST(g,{transform:{x:$.x-je.x,y:$.y-je.y,scaleX:1,scaleY:1},activatorEvent:J,active:te,activeNodeRect:Ae,containerNodeRect:yt,draggingNodeRect:re,over:it.current.over,overlayNodeRect:vt.rect,scrollableAncestors:ze,scrollableAncestorRects:pt,windowRect:lt}),Rt=xe?zs(xe,$):null,kt=hT(ze),an=R6(kt),pn=R6(kt,[Ae]),ve=zs(wt,an),De=re?M7(re,wt):null,Xe=te&&De?h({active:te,collisionRect:De,droppableRects:pe,droppableContainers:L,pointerCoordinates:Rt}):null,Q=N7(Xe,"id"),[le,Le]=S.useState(null),et=Ee?wt:zs(wt,pn),Ye=k7(et,(i=le?.rect)!=null?i:null,Ae),Qe=S.useRef(null),ft=S.useCallback((K,ge)=>{let{sensor:he,options:we}=ge;if(ae.current==null)return;const Je=k.get(ae.current);if(!Je)return;const Ze=K.nativeEvent,nt=new he({active:ae.current,activeNode:Je,event:Ze,options:we,context:it,onAbort(tt){if(!k.get(tt))return;const{onDragAbort:mn}=U.current,Yr={id:tt};mn?.(Yr),A({type:"onDragAbort",event:Yr})},onPending(tt,jt,mn,Yr){if(!k.get(tt))return;const{onDragPending:_o}=U.current,_r={id:tt,constraint:jt,initialCoordinates:mn,offset:Yr};_o?.(_r),A({type:"onDragPending",event:_r})},onStart(tt){const jt=ae.current;if(jt==null)return;const mn=k.get(jt);if(!mn)return;const{onDragStart:Yr}=U.current,Jr={activatorEvent:Ze,active:{id:jt,data:mn.data,rect:V}};rn.unstable_batchedUpdates(()=>{Yr?.(Jr),O(Qi.Initializing),C({type:En.DragStart,initialCoordinates:tt,active:jt}),A({type:"onDragStart",event:Jr}),Y(Qe.current),B(Ze)})},onMove(tt){C({type:En.DragMove,coordinates:tt})},onEnd:Mt(En.DragEnd),onCancel:Mt(En.DragCancel)});Qe.current=nt;function Mt(tt){return async function(){const{active:mn,collisions:Yr,over:Jr,scrollAdjustedTranslate:_o}=it.current;let _r=null;if(mn&&_o){const{cancelDrop:Wo}=U.current;_r={activatorEvent:Ze,active:mn,collisions:Yr,delta:_o,over:Jr},tt===En.DragEnd&&typeof Wo=="function"&&await Promise.resolve(Wo(_r))&&(tt=En.DragCancel)}ae.current=null,rn.unstable_batchedUpdates(()=>{C({type:tt}),O(Qi.Uninitialized),Le(null),Y(null),B(null),Qe.current=null;const Wo=tt===En.DragEnd?"onDragEnd":"onDragCancel";if(_r){const Cc=U.current[Wo];Cc?.(_r),A({type:Wo,event:_r})}})}}},[k]),Dn=S.useCallback((K,ge)=>(he,we)=>{const Je=he.nativeEvent,Ze=k.get(we);if(ae.current!==null||!Ze||Je.dndKit||Je.defaultPrevented)return;const nt={active:Ze};K(he,ge.options,nt)===!0&&(Je.dndKit={capturedBy:ge.sensor},ae.current=we,ft(he,ge))},[k,ft]),Xn=aT(d,Dn);pT(d),Fo(()=>{Ae&&T===Qi.Initializing&&O(Qi.Initialized)},[Ae,T]),S.useEffect(()=>{const{onDragMove:K}=U.current,{active:ge,activatorEvent:he,collisions:we,over:Je}=it.current;if(!ge||!he)return;const Ze={active:ge,activatorEvent:he,collisions:we,delta:{x:ve.x,y:ve.y},over:Je};rn.unstable_batchedUpdates(()=>{K?.(Ze),A({type:"onDragMove",event:Ze})})},[ve.x,ve.y]),S.useEffect(()=>{const{active:K,activatorEvent:ge,collisions:he,droppableContainers:we,scrollAdjustedTranslate:Je}=it.current;if(!K||ae.current==null||!ge||!Je)return;const{onDragOver:Ze}=U.current,nt=we.get(Q),Mt=nt&&nt.rect.current?{id:nt.id,rect:nt.rect.current,data:nt.data,disabled:nt.disabled}:null,tt={active:K,activatorEvent:ge,collisions:he,delta:{x:Je.x,y:Je.y},over:Mt};rn.unstable_batchedUpdates(()=>{Le(Mt),Ze?.(tt),A({type:"onDragOver",event:tt})})},[Q]),Fo(()=>{it.current={activatorEvent:J,active:te,activeNode:Ce,collisionRect:De,collisions:Xe,droppableRects:pe,draggableNodes:k,draggingNode:se,draggingNodeRect:re,droppableContainers:F,over:le,scrollableAncestors:ze,scrollAdjustedTranslate:ve},V.current={initial:re,translated:De}},[te,Ce,Xe,De,k,se,re,pe,F,le,ze,ve]),nT({...Be,delta:$,draggingRect:De,pointerCoordinates:Rt,scrollableAncestors:ze,scrollableAncestorRects:pt});const qn=S.useMemo(()=>({active:te,activeNode:Ce,activeNodeRect:Ae,activatorEvent:J,collisions:Xe,containerNodeRect:yt,dragOverlay:vt,draggableNodes:k,droppableContainers:F,droppableRects:pe,over:le,measureDroppableContainers:ye,scrollableAncestors:ze,scrollableAncestorRects:pt,measuringConfiguration:G,measuringScheduled:_e,windowRect:lt}),[te,Ce,Ae,J,Xe,yt,vt,k,F,pe,le,ye,ze,pt,G,_e,lt]),Er=S.useMemo(()=>({activatorEvent:J,activators:Xn,active:te,activeNodeRect:Ae,ariaDescribedById:{draggable:ne},dispatch:C,draggableNodes:k,over:le,measureDroppableContainers:ye}),[J,Xn,te,Ae,C,ne,k,le,ye]);return ct.createElement(C8.Provider,{value:I},ct.createElement(p0.Provider,{value:Er},ct.createElement(B8.Provider,{value:qn},ct.createElement(L8.Provider,{value:Ye},f)),ct.createElement(AT,{disabled:s?.restoreFocus===!1})),ct.createElement(_7,{...s,hiddenTextDescribedById:ne}));function $n(){const K=q?.autoScrollEnabled===!1,ge=typeof u=="object"?u.enabled===!1:u===!1,he=P&&!K&&!ge;return typeof u=="object"?{...u,enabled:he}:{enabled:he}}}),OT=S.createContext(null),D6="button",PT="Draggable";function RT(t){let{id:e,data:n,disabled:r=!1,attributes:o}=t;const i=hl(PT),{activators:a,activatorEvent:s,active:u,activeNodeRect:f,ariaDescribedById:d,draggableNodes:h,over:m}=S.useContext(p0),{role:g=D6,roleDescription:b="draggable",tabIndex:w=0}=o??{},_=u?.id===e,C=S.useContext(_?L8:OT),[A,I]=Pd(),[T,O]=Pd(),P=mT(a,e),R=Au(n);Fo(()=>(h.set(e,{id:e,key:i,node:A,activatorNode:T,data:R}),()=>{const $=h.get(e);$&&$.key===i&&h.delete(e)}),[h,e]);const k=S.useMemo(()=>({role:g,tabIndex:w,"aria-disabled":r,"aria-pressed":_&&g===D6?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,g,w,_,b,d.draggable]);return{active:u,activatorEvent:s,activeNodeRect:f,attributes:k,isDragging:_,listeners:r?void 0:P,node:A,over:m,setNodeRef:I,setActivatorNodeRef:O,transform:C}}function kT(){return S.useContext(B8)}const DT="Droppable",MT={timeout:25};function BT(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:o}=t;const i=hl(DT),{active:a,dispatch:s,over:u,measureDroppableContainers:f}=S.useContext(p0),d=S.useRef({disabled:n}),h=S.useRef(!1),m=S.useRef(null),g=S.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:_}={...MT,...o},C=Au(w??r),A=S.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),g.current=null},_)},[_]),I=h0({callback:A,disabled:b||!a}),T=S.useCallback((k,$)=>{I&&($&&(I.unobserve($),h.current=!1),k&&I.observe(k))},[I]),[O,P]=Pd(T),R=Au(e);return S.useEffect(()=>{!I||!O.current||(I.disconnect(),h.current=!1,I.observe(O.current))},[O,I]),S.useEffect(()=>(s({type:En.RegisterDroppable,element:{id:r,key:i,disabled:n,node:O,rect:m,data:R}}),()=>s({type:En.UnregisterDroppable,key:i,id:r})),[r]),S.useEffect(()=>{n!==d.current.disabled&&(s({type:En.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,s]),{active:a,rect:m,isOver:u?.id===r,node:O,over:u,setNodeRef:P}}function ey(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function LT(t,e){return t.reduce((n,r,o)=>{const i=e.get(r);return i&&(n[o]=i),n},Array(t.length))}function Vf(t){return t!==null&&t>=0}function FT(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function jT(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const F8=t=>{let{rects:e,activeIndex:n,overIndex:r,index:o}=t;const i=ey(e,r,n),a=e[o],s=i[o];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}},Gf={scaleX:1,scaleY:1},zT=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=t;const s=(e=i[n])!=null?e:r;if(!s)return null;if(o===n){const f=i[a];return f?{x:0,y:n<a?f.top+f.height-(s.top+s.height):f.top-s.top,...Gf}:null}const u=$T(i,o,n);return o>n&&o<=a?{x:0,y:-s.height-u,...Gf}:o<n&&o>=a?{x:0,y:s.height+u,...Gf}:{x:0,y:0,...Gf}};function $T(t,e,n){const r=t[e],o=t[e-1],i=t[e+1];return r?n<e?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const j8="Sortable",z8=ct.createContext({activeIndex:-1,containerId:j8,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:F8,disabled:{draggable:!1,droppable:!1}});function UT(t){let{children:e,id:n,items:r,strategy:o=F8,disabled:i=!1}=t;const{active:a,dragOverlay:s,droppableRects:u,over:f,measureDroppableContainers:d}=kT(),h=hl(j8,n),m=s.rect!==null,g=S.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),b=a!=null,w=a?g.indexOf(a.id):-1,_=f?g.indexOf(f.id):-1,C=S.useRef(g),A=!FT(g,C.current),I=_!==-1&&w===-1||A,T=jT(i);Fo(()=>{A&&b&&d(g)},[A,g,b,d]),S.useEffect(()=>{C.current=g},[g]);const O=S.useMemo(()=>({activeIndex:w,containerId:h,disabled:T,disableTransforms:I,items:g,overIndex:_,useDragOverlay:m,sortedRects:LT(g,u),strategy:o}),[w,h,T.draggable,T.droppable,I,g,_,u,m,o]);return ct.createElement(z8.Provider,{value:O},e)}const HT=t=>{let{id:e,items:n,activeIndex:r,overIndex:o}=t;return ey(n,r,o).indexOf(e)},VT=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:u,transition:f}=t;return!f||!r||s!==i&&o===a?!1:n?!0:a!==o&&e===u},GT={duration:200,easing:"ease"},$8="transform",WT=Su.Transition.toString({property:$8,duration:0,easing:"linear"}),ZT={roleDescription:"sortable"};function XT(t){let{disabled:e,index:n,node:r,rect:o}=t;const[i,a]=S.useState(null),s=S.useRef(n);return Fo(()=>{if(!e&&n!==s.current&&r.current){const u=o.current;if(u){const f=mc(r.current,{ignoreTransform:!0}),d={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(d.x||d.y)&&a(d)}}n!==s.current&&(s.current=n)},[e,n,r,o]),S.useEffect(()=>{i&&a(null)},[i]),i}function qT(t){let{animateLayoutChanges:e=VT,attributes:n,disabled:r,data:o,getNewIndex:i=HT,id:a,strategy:s,resizeObserverConfig:u,transition:f=GT}=t;const{items:d,containerId:h,activeIndex:m,disabled:g,disableTransforms:b,sortedRects:w,overIndex:_,useDragOverlay:C,strategy:A}=S.useContext(z8),I=KT(r,g),T=d.indexOf(a),O=S.useMemo(()=>({sortable:{containerId:h,index:T,items:d},...o}),[h,o,T,d]),P=S.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:R,node:k,isOver:$,setNodeRef:F}=BT({id:a,data:O,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...u}}),{active:H,activatorEvent:V,activeNodeRect:te,attributes:ae,setNodeRef:q,listeners:Y,isDragging:J,over:B,setActivatorNodeRef:U,transform:ne}=RT({id:a,data:O,attributes:{...ZT,...n},disabled:I.draggable}),L=l7(F,q),G=!!H,pe=G&&!b&&Vf(m)&&Vf(_),ye=!C&&J,_e=ye&&pe?ne:null,xe=pe?_e??(s??A)({rects:w,activeNodeRect:te,activeIndex:m,overIndex:_,index:T}):null,Be=Vf(m)&&Vf(_)?i({id:a,items:d,activeIndex:m,overIndex:_}):T,ke=H?.id,Ae=S.useRef({activeId:ke,items:d,newIndex:Be,containerId:h}),yt=d!==Ae.current.items,it=e({active:H,containerId:h,isDragging:J,isSorting:G,id:a,index:T,items:d,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:f,wasDragging:Ae.current.activeId!=null}),dt=XT({disabled:!it,index:T,node:k,rect:R});return S.useEffect(()=>{G&&Ae.current.newIndex!==Be&&(Ae.current.newIndex=Be),h!==Ae.current.containerId&&(Ae.current.containerId=h),d!==Ae.current.items&&(Ae.current.items=d)},[G,Be,h,d]),S.useEffect(()=>{if(ke===Ae.current.activeId)return;if(ke!=null&&Ae.current.activeId==null){Ae.current.activeId=ke;return}const se=setTimeout(()=>{Ae.current.activeId=ke},50);return()=>clearTimeout(se)},[ke]),{active:H,activeIndex:m,attributes:ae,data:O,rect:R,index:T,newIndex:Be,items:d,isOver:$,isSorting:G,isDragging:J,listeners:Y,node:k,overIndex:_,over:B,setNodeRef:L,setActivatorNodeRef:U,setDroppableNodeRef:F,setDraggableNodeRef:q,transform:dt??xe,transition:vt()};function vt(){if(dt||yt&&Ae.current.newIndex===T)return WT;if(!(ye&&!qg(V)||!f)&&(G||it))return Su.Transition.toString({...f,property:$8})}}function KT(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}Ct.Down,Ct.Right,Ct.Up,Ct.Left;function m0({className:t,...e}){return v.jsx("div",{className:ll("rounded-2xl border bg-white shadow-sm",t),...e})}function g0({className:t,...e}){return v.jsx("div",{className:ll("p-4",t),...e})}function y0({className:t,...e}){return v.jsx("h3",{className:ll("text-base font-semibold",t),...e})}function v0({className:t,...e}){return v.jsx("div",{className:ll("p-4",t),...e})}function YT({items:t,sortMode:e,onReorder:n,onHide:r}){const o=S.useMemo(()=>{const s=t.filter(u=>u.isVisible!==!1);return x8(s,e)},[t,e]),i=A7(C7(Qg,{activationConstraint:{distance:5}}));function a(s){if(e!=="custom")return;const{active:u,over:f}=s;if(!f||u.id===f.id)return;const d=o.findIndex(g=>g.id===u.id),h=o.findIndex(g=>g.id===f.id);if(d===-1||h===-1)return;const m=ey(o,d,h).map((g,b)=>({...g,indexOrder:b}));n(m)}return v.jsx(NT,{sensors:i,collisionDetection:O7,onDragEnd:a,children:v.jsx(UT,{items:o.map(s=>s.id),strategy:zT,children:v.jsx("div",{className:"space-y-2",children:o.map(s=>v.jsx(JT,{item:s,draggable:e==="custom",onHide:r},s.id))})})})}function JT({item:t,draggable:e,onHide:n}){const{attributes:r,listeners:o,setNodeRef:i,transform:a,transition:s,isDragging:u}=qT({id:t.id}),f={transform:Su.Transform.toString(a),transition:s,opacity:u?.6:1,cursor:e?"grab":"default"};return v.jsx("div",{ref:i,style:f,children:v.jsxs(m0,{className:"border shadow-sm",children:[v.jsxs(g0,{className:"flex flex-row items-center justify-between py-2",children:[v.jsx(y0,{className:"text-sm font-semibold",children:t.name}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{type:"button",...e?{...r,...o}:{},className:"text-xs text-gray-400 hover:text-muted disabled:opacity-40",disabled:!e,children:""}),v.jsx("button",{onClick:()=>n(t.id),className:"text-xs text-red-500 hover:text-red-700 ml-2 border px-2 py-0.5 rounded",children:"Hide"})]})]}),v.jsxs(v0,{className:"text-xs py-2 space-y-1",children:[v.jsx("div",{className:"text-muted break-all",children:t.id}),t.group&&t.group.length>0&&v.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:t.group.map(d=>v.jsxs("span",{className:"rounded-full px-2 py-0.5 text-[10px] leading-none",children:[d,""]},d))})]})]})})}function QT(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),{address:d,loading:h,error:m,updateAddress:g}=w8({query:t,sortMode:n,tags:o,tagMode:a});function b({sortMode:A,setSortMode:I,tagSearch:T,setTagSearch:O,setTags:P,tagMode:R,setTagSearchMode:k}){const[$,F]=S.useState(!1),H=S.useRef(null),[V,te]=S.useState({top:0,left:0,width:320}),ae=()=>F(!1),q=S.useCallback(()=>{if(!H.current)return;const J=H.current.getBoundingClientRect(),B=8,U=Math.min(360,window.innerWidth-B*2),ne=J.bottom+8,L=J.right-U,G=Math.min(Math.max(B,L),window.innerWidth-U-B);te({top:ne,left:G,width:U})},[]),Y=()=>{const J=!$;J&&q(),F(J)};return S.useEffect(()=>{if(!$)return;const J=B=>{B.key==="Escape"&&ae()};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[$]),S.useEffect(()=>{if($)return window.addEventListener("resize",q),window.addEventListener("scroll",q,!0),()=>{window.removeEventListener("resize",q),window.removeEventListener("scroll",q,!0)}},[$,q]),v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:H,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:Y,children:"Sort / Filter"}),$&&typeof document<"u"&&rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:ae,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),v.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:V.top,left:V.left,width:V.width,padding:12},onClick:J=>J.stopPropagation(),children:[v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),v.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:A,onChange:J=>I(J.target.value),children:[v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),v.jsx("div",{className:"my-3 border-t border-border"}),v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:T,onChange:J=>{const B=J.target.value;O(B);const U=B.split(",").map(ne=>ne.trim()).filter(Boolean);P(U)}}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-muted",children:"Mode"}),v.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:R,onChange:J=>k(J.target.value),children:[v.jsx("option",{value:"any",children:"Match any"}),v.jsx("option",{value:"all",children:"Match all"})]}),v.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{O(""),P([]),k("any")},children:"Clear"})]}),v.jsx("div",{className:"mt-3 flex justify-end",children:v.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:ae,children:"Done"})})]})]}),document.body)]})}const w=S.useMemo(()=>d.filter(A=>A.isVisible!==!1),[d]);async function _(A){await Promise.all(A.map((I,T)=>g(I.id,{indexOrder:T})))}async function C(A){await g(A,{isVisible:!1})}return h?v.jsx("div",{className:"p-4",children:"Loading Address"}):m?v.jsx("div",{className:"p-4 text-red-600",children:m}):v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Address Book"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:A=>e(A.target.value)}),v.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:v.jsx(b,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s})})]}),v.jsx(YT,{items:w,sortMode:n,onReorder:_,onHide:C})]})}const ty="cointrol:contracts:v1",U8="cointrol:contracts:schemaVersion",pd=1,xm=new Set;function eN(t){for(const e of xm)e(t)}function tN(t){return xm.add(t),()=>{xm.delete(t)}}async function nN(){const t=await St(U8);return t||pd}async function rN(t){await hn(U8,t)}async function oN(){const t=await nN();t!==pd&&(await St(ty),t<pd&&await rN(pd))}async function b0(){return await oN(),await St(ty)??[]}async function x0(t){await hn(ty,t),eN(t)}async function H8(){return b0()}async function V8(t){const e=Date.now(),n=await b0(),r={id:`contract:${crypto.randomUUID?.()??`${e}:${n.length}`}`,name:t.name,address:t.address,chainId:t.chainId,tags:t.tags||void 0,metadata:t.metadata||void 0,createdAt:e,updatedAt:e},o=[...n,r];return await x0(o),await Ug({id:`address:${r.id}`,name:r.name,isContact:!1,isVisible:!0,indexOrder:n.length}),o}async function iN(t,e){const n=await b0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await x0(o),await Hg(`address:${t}`,{name:e.name||n.find(i=>i.id===t)?.name||""}),o}async function aN(t){const n=(await b0()).filter(r=>r.id!==t);return await x0(n),Vg(`address:${t}`),n}async function sN(){await x0([])}function G8(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await H8();a||(e(u),r(!1))}catch(u){console.error("[Contracts] Failed to load:",u),a||(i(u?.message??"Failed to load contracts"),r(!1))}})();const s=tN(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{contracts:t,loading:n,error:o,addContract:V8,updateContract:iN,deleteContract:aN,clearContracts:sN}}function cN(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="createdAsc"?n.sort((r,o)=>r.createdAt-o.createdAt):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="chainIdAsc"?n.sort((r,o)=>r.chainId-o.chainId):e==="chainIdDesc"?n.sort((r,o)=>o.chainId-r.chainId):e==="addressAsc"?n.sort((r,o)=>r.address.toLocaleLowerCase().localeCompare(o.address.toLocaleLowerCase())):e==="addressDesc"&&n.sort((r,o)=>o.address.toLocaleLowerCase().localeCompare(r.address.toLocaleLowerCase())),n}function uN(t={}){const{contracts:e,loading:n,error:r,addContract:o,updateContract:i,deleteContract:a,clearContracts:s}=G8(),{query:u="",sortMode:f="nameAsc",tags:d=[],tagMode:h="any",chainId:m=0}=t;return{contracts:S.useMemo(()=>{let b=e;if(u.trim()){const w=u.trim().toLowerCase();b=b.filter(_=>_.name.toLowerCase().includes(w)||_.address.toLowerCase().includes(w))}return m&&(b=b.filter(w=>w.chainId===m)),d&&d.length>0&&(h=="any"?b=b.filter(w=>w.tags?.some(_=>d.includes(_))):b=b.filter(w=>d.every(_=>w.tags?.includes(_)))),cN(b,f)},[e,u,f,h,d,m]),loading:n,error:r,addContract:o,updateContract:i,deleteContract:a,clearContracts:s}}var As={},lp={exports:{}},fp,M6;function lN(){if(M6)return fp;M6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fp=t,fp}var dp,B6;function fN(){if(B6)return dp;B6=1;var t=lN();function e(){}function n(){}return n.resetWarningCache=e,dp=function(){function r(a,s,u,f,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},dp}var L6;function W8(){return L6||(L6=1,lp.exports=fN()()),lp.exports}var hp,F6;function Z8(){return F6||(F6=1,hp={L:1,M:0,Q:3,H:2}),hp}var pp,j6;function X8(){return j6||(j6=1,pp={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),pp}var mp,z6;function dN(){if(z6)return mp;z6=1;var t=X8();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},mp=e,mp}var gp,$6;function hN(){if($6)return gp;$6=1;var t=Z8();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var o=e.getRsBlockTable(n,r);if(o==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var i=o.length/3,a=new Array,s=0;s<i;s++)for(var u=o[s*3+0],f=o[s*3+1],d=o[s*3+2],h=0;h<u;h++)a.push(new e(f,d));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},gp=e,gp}var yp,U6;function pN(){if(U6)return yp;U6=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},yp=t,yp}var vp,H6;function q8(){if(H6)return vp;H6=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return vp=t,vp}var bp,V6;function K8(){if(V6)return bp;V6=1;var t=q8();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var o=0;o<n.length&&n[o]==0;)o++;this.num=new Array(n.length-o+r);for(var i=0;i<n.length-o;i++)this.num[i]=n[i+o]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),o=0;o<this.getLength();o++)for(var i=0;i<n.getLength();i++)r[o+i]^=t.gexp(t.glog(this.get(o))+t.glog(n.get(i)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),o=new Array(this.getLength()),i=0;i<this.getLength();i++)o[i]=this.get(i);for(var i=0;i<n.getLength();i++)o[i]^=t.gexp(t.glog(n.get(i))+r);return new e(o,0).mod(n)}},bp=e,bp}var xp,G6;function mN(){if(G6)return xp;G6=1;var t=X8(),e=K8(),n=q8(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var a=i<<10;o.getBCHDigit(a)-o.getBCHDigit(o.G15)>=0;)a^=o.G15<<o.getBCHDigit(a)-o.getBCHDigit(o.G15);return(i<<10|a)^o.G15_MASK},getBCHTypeNumber:function(i){for(var a=i<<12;o.getBCHDigit(a)-o.getBCHDigit(o.G18)>=0;)a^=o.G18<<o.getBCHDigit(a)-o.getBCHDigit(o.G18);return i<<12|a},getBCHDigit:function(i){for(var a=0;i!=0;)a++,i>>>=1;return a},getPatternPosition:function(i){return o.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,a,s){switch(i){case r.PATTERN000:return(a+s)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return s%3==0;case r.PATTERN011:return(a+s)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2==0;case r.PATTERN101:return a*s%2+a*s%3==0;case r.PATTERN110:return(a*s%2+a*s%3)%2==0;case r.PATTERN111:return(a*s%3+(a+s)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var a=new e([1],0),s=0;s<i;s++)a=a.multiply(new e([1,n.gexp(s)],0));return a},getLengthInBits:function(i,a){if(1<=a&&a<10)switch(i){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(a<27)switch(i){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else if(a<41)switch(i){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}else throw new Error("type:"+a)},getLostPoint:function(i){for(var a=i.getModuleCount(),s=0,u=0;u<a;u++)for(var f=0;f<a;f++){for(var d=0,h=i.isDark(u,f),m=-1;m<=1;m++)if(!(u+m<0||a<=u+m))for(var g=-1;g<=1;g++)f+g<0||a<=f+g||m==0&&g==0||h==i.isDark(u+m,f+g)&&d++;d>5&&(s+=3+d-5)}for(var u=0;u<a-1;u++)for(var f=0;f<a-1;f++){var b=0;i.isDark(u,f)&&b++,i.isDark(u+1,f)&&b++,i.isDark(u,f+1)&&b++,i.isDark(u+1,f+1)&&b++,(b==0||b==4)&&(s+=3)}for(var u=0;u<a;u++)for(var f=0;f<a-6;f++)i.isDark(u,f)&&!i.isDark(u,f+1)&&i.isDark(u,f+2)&&i.isDark(u,f+3)&&i.isDark(u,f+4)&&!i.isDark(u,f+5)&&i.isDark(u,f+6)&&(s+=40);for(var f=0;f<a;f++)for(var u=0;u<a-6;u++)i.isDark(u,f)&&!i.isDark(u+1,f)&&i.isDark(u+2,f)&&i.isDark(u+3,f)&&i.isDark(u+4,f)&&!i.isDark(u+5,f)&&i.isDark(u+6,f)&&(s+=40);for(var w=0,f=0;f<a;f++)for(var u=0;u<a;u++)i.isDark(u,f)&&w++;var _=Math.abs(100*w/a/a-50)/5;return s+=_*10,s}};return xp=o,xp}var wp,W6;function gN(){if(W6)return wp;W6=1;var t=dN(),e=hN(),n=pN(),r=mN(),o=K8();function i(s,u){this.typeNumber=s,this.errorCorrectLevel=u,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=i.prototype;return a.addData=function(s){var u=new t(s);this.dataList.push(u),this.dataCache=null},a.isDark=function(s,u){if(s<0||this.moduleCount<=s||u<0||this.moduleCount<=u)throw new Error(s+","+u);return this.modules[s][u]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var s=1;for(s=1;s<40;s++){for(var u=e.getRSBlocks(s,this.errorCorrectLevel),f=new n,d=0,h=0;h<u.length;h++)d+=u[h].dataCount;for(var h=0;h<this.dataList.length;h++){var m=this.dataList[h];f.put(m.mode,4),f.put(m.getLength(),r.getLengthInBits(m.mode,s)),m.write(f)}if(f.getLengthInBits()<=d*8)break}this.typeNumber=s}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(s,u){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[f][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,u),this.typeNumber>=7&&this.setupTypeNumber(s),this.dataCache==null&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,u)},a.setupPositionProbePattern=function(s,u){for(var f=-1;f<=7;f++)if(!(s+f<=-1||this.moduleCount<=s+f))for(var d=-1;d<=7;d++)u+d<=-1||this.moduleCount<=u+d||(0<=f&&f<=6&&(d==0||d==6)||0<=d&&d<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=d&&d<=4?this.modules[s+f][u+d]=!0:this.modules[s+f][u+d]=!1)},a.getBestMaskPattern=function(){for(var s=0,u=0,f=0;f<8;f++){this.makeImpl(!0,f);var d=r.getLostPoint(this);(f==0||s>d)&&(s=d,u=f)}return u},a.createMovieClip=function(s,u,f){var d=s.createEmptyMovieClip(u,f),h=1;this.make();for(var m=0;m<this.modules.length;m++)for(var g=m*h,b=0;b<this.modules[m].length;b++){var w=b*h,_=this.modules[m][b];_&&(d.beginFill(0,100),d.moveTo(w,g),d.lineTo(w+h,g),d.lineTo(w+h,g+h),d.lineTo(w,g+h),d.endFill())}return d},a.setupTimingPattern=function(){for(var s=8;s<this.moduleCount-8;s++)this.modules[s][6]==null&&(this.modules[s][6]=s%2==0);for(var u=8;u<this.moduleCount-8;u++)this.modules[6][u]==null&&(this.modules[6][u]=u%2==0)},a.setupPositionAdjustPattern=function(){for(var s=r.getPatternPosition(this.typeNumber),u=0;u<s.length;u++)for(var f=0;f<s.length;f++){var d=s[u],h=s[f];if(this.modules[d][h]==null)for(var m=-2;m<=2;m++)for(var g=-2;g<=2;g++)m==-2||m==2||g==-2||g==2||m==0&&g==0?this.modules[d+m][h+g]=!0:this.modules[d+m][h+g]=!1}},a.setupTypeNumber=function(s){for(var u=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var d=!s&&(u>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=d}for(var f=0;f<18;f++){var d=!s&&(u>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=d}},a.setupTypeInfo=function(s,u){for(var f=this.errorCorrectLevel<<3|u,d=r.getBCHTypeInfo(f),h=0;h<15;h++){var m=!s&&(d>>h&1)==1;h<6?this.modules[h][8]=m:h<8?this.modules[h+1][8]=m:this.modules[this.moduleCount-15+h][8]=m}for(var h=0;h<15;h++){var m=!s&&(d>>h&1)==1;h<8?this.modules[8][this.moduleCount-h-1]=m:h<9?this.modules[8][15-h-1+1]=m:this.modules[8][15-h-1]=m}this.modules[this.moduleCount-8][8]=!s},a.mapData=function(s,u){for(var f=-1,d=this.moduleCount-1,h=7,m=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var b=0;b<2;b++)if(this.modules[d][g-b]==null){var w=!1;m<s.length&&(w=(s[m]>>>h&1)==1);var _=r.getMask(u,d,g-b);_&&(w=!w),this.modules[d][g-b]=w,h--,h==-1&&(m++,h=7)}if(d+=f,d<0||this.moduleCount<=d){d-=f,f=-f;break}}},i.PAD0=236,i.PAD1=17,i.createData=function(s,u,f){for(var d=e.getRSBlocks(s,u),h=new n,m=0;m<f.length;m++){var g=f[m];h.put(g.mode,4),h.put(g.getLength(),r.getLengthInBits(g.mode,s)),g.write(h)}for(var b=0,m=0;m<d.length;m++)b+=d[m].dataCount;if(h.getLengthInBits()>b*8)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+b*8+")");for(h.getLengthInBits()+4<=b*8&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=b*8||(h.put(i.PAD0,8),h.getLengthInBits()>=b*8));)h.put(i.PAD1,8);return i.createBytes(h,d)},i.createBytes=function(s,u){for(var f=0,d=0,h=0,m=new Array(u.length),g=new Array(u.length),b=0;b<u.length;b++){var w=u[b].dataCount,_=u[b].totalCount-w;d=Math.max(d,w),h=Math.max(h,_),m[b]=new Array(w);for(var C=0;C<m[b].length;C++)m[b][C]=255&s.buffer[C+f];f+=w;var A=r.getErrorCorrectPolynomial(_),I=new o(m[b],A.getLength()-1),T=I.mod(A);g[b]=new Array(A.getLength()-1);for(var C=0;C<g[b].length;C++){var O=C+T.getLength()-g[b].length;g[b][C]=O>=0?T.get(O):0}}for(var P=0,C=0;C<u.length;C++)P+=u[C].totalCount;for(var R=new Array(P),k=0,C=0;C<d;C++)for(var b=0;b<u.length;b++)C<m[b].length&&(R[k++]=m[b][C]);for(var C=0;C<h;C++)for(var b=0;b<u.length;b++)C<g[b].length&&(R[k++]=g[b][C]);return R},wp=i,wp}var Wf={},Z6;function yN(){if(Z6)return Wf;Z6=1,Object.defineProperty(Wf,"__esModule",{value:!0});var t=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(f[m]=h[m])}return f},e=W8(),n=i(e),r=al(),o=i(r);function i(f){return f&&f.__esModule?f:{default:f}}function a(f,d){var h={};for(var m in f)d.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(f,m)&&(h[m]=f[m]);return h}var s={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},u=(0,r.forwardRef)(function(f,d){var h=f.bgColor,m=f.bgD,g=f.fgD,b=f.fgColor,w=f.size,_=f.title,C=f.viewBoxSize,A=f.xmlns,I=A===void 0?"http://www.w3.org/2000/svg":A,T=a(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",t({},T,{height:w,ref:d,viewBox:"0 0 "+C+" "+C,width:w,xmlns:I}),_?o.default.createElement("title",null,_):null,o.default.createElement("path",{d:m,fill:h}),o.default.createElement("path",{d:g,fill:b}))});return u.displayName="QRCodeSvg",u.propTypes=s,Wf.default=u,Wf}var X6;function vN(){if(X6)return As;X6=1,Object.defineProperty(As,"__esModule",{value:!0}),As.QRCode=void 0;var t=Object.assign||function(w){for(var _=1;_<arguments.length;_++){var C=arguments[_];for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(w[A]=C[A])}return w},e=W8(),n=h(e),r=Z8(),o=h(r),i=gN(),a=h(i),s=al(),u=h(s),f=yN(),d=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,_){var C={};for(var A in w)_.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(w,A)&&(C[A]=w[A]);return C}var g={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},b=(0,s.forwardRef)(function(w,_){var C=w.bgColor,A=C===void 0?"#FFFFFF":C,I=w.fgColor,T=I===void 0?"#000000":I,O=w.level,P=O===void 0?"L":O,R=w.size,k=R===void 0?256:R,$=w.value,F=m(w,["bgColor","fgColor","level","size","value"]),H=new a.default(-1,o.default[P]);H.addData($),H.make();var V=H.modules;return u.default.createElement(d.default,t({},F,{bgColor:A,bgD:V.map(function(te,ae){return te.map(function(q,Y){return q?"":"M "+Y+" "+ae+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:T,fgD:V.map(function(te,ae){return te.map(function(q,Y){return q?"M "+Y+" "+ae+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:k,viewBoxSize:V.length}))});return As.QRCode=b,b.displayName="QRCode",b.propTypes=g,As.default=b,As}var bN=vN();const xN=Pg(bN);function ie(t,e,n){function r(s,u){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),s._zod.traits.has(t))return;s._zod.traits.add(t),e(s,u);const f=a.prototype,d=Object.keys(f);for(let h=0;h<d.length;h++){const m=d[h];m in s||(s[m]=f[m].bind(s))}}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:t});function a(s){var u;const f=n?.Parent?new i:this;r(f,s),(u=f._zod).deferred??(u.deferred=[]);for(const d of f._zod.deferred)d();return f}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:s=>n?.Parent&&s instanceof n.Parent?!0:s?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class $s extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Y8 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const J8={};function ia(t){return J8}function Q8(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,o])=>e.indexOf(+r)===-1).map(([r,o])=>o)}function wm(t,e){return typeof e=="bigint"?e.toString():e}function ny(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function ry(t){return t==null}function oy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function wN(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(o=Number.parseInt(u[1]))}const i=n>o?n:o,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}const q6=Symbol("evaluating");function Ot(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==q6)return r===void 0&&(r=q6,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function Ja(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ha(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function K6(t){return JSON.stringify(t)}function EN(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const e3="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Md(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const _N=ny(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ks(t){if(Md(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Md(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function t3(t){return Ks(t)?{...t}:Array.isArray(t)?[...t]:t}const CN=new Set(["string","number","symbol"]);function Ys(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Fe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function AN(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const SN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function IN(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=ha(t._zod.def,{get shape(){const a={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(a[s]=n.shape[s])}return Ja(this,"shape",a),a},checks:[]});return pa(t,i)}function TN(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=ha(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete a[s]}return Ja(this,"shape",a),a},checks:[]});return pa(t,i)}function NN(t,e){if(!Ks(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const i=t._zod.def.shape;for(const a in e)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ha(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return Ja(this,"shape",i),i}});return pa(t,o)}function ON(t,e){if(!Ks(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ha(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Ja(this,"shape",r),r}});return pa(t,n)}function PN(t,e){const n=ha(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Ja(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return pa(t,n)}function RN(t,e,n){const o=e._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=ha(e._zod.def,{get shape(){const s=e._zod.def.shape,u={...s};if(n)for(const f in n){if(!(f in s))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=t?new t({type:"optional",innerType:s[f]}):s[f])}else for(const f in s)u[f]=t?new t({type:"optional",innerType:s[f]}):s[f];return Ja(this,"shape",u),u},checks:[]});return pa(e,a)}function kN(t,e,n){const r=ha(e._zod.def,{get shape(){const o=e._zod.def.shape,i={...o};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new t({type:"nonoptional",innerType:o[a]}))}else for(const a in o)i[a]=new t({type:"nonoptional",innerType:o[a]});return Ja(this,"shape",i),i}});return pa(e,r)}function Ps(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Rs(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Zf(t){return typeof t=="string"?t:t?.message}function aa(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const o=Zf(t.inst?._zod.def?.error?.(t))??Zf(e?.error?.(t))??Zf(n.customError?.(t))??Zf(n.localeError?.(t))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function iy(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Tu(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const n3=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,wm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},r3=ie("$ZodError",n3),o3=ie("$ZodError",n3,{Parent:Error});function DN(t,e=n=>n.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function MN(t,e=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let a=n,s=0;for(;s<i.path.length;){const u=i.path[s];s===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(i))):a[u]=a[u]||{_errors:[]},a=a[u],s++}}};return r(t),n}const ay=t=>(e,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new $s;if(a.issues.length){const s=new(o?.Err??t)(a.issues.map(u=>aa(u,i,ia())));throw e3(s,o?.callee),s}return a.value},sy=t=>async(e,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const s=new(o?.Err??t)(a.issues.map(u=>aa(u,i,ia())));throw e3(s,o?.callee),s}return a.value},w0=t=>(e,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new $s;return i.issues.length?{success:!1,error:new(t??r3)(i.issues.map(a=>aa(a,o,ia())))}:{success:!0,data:i.value}},BN=w0(o3),E0=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>aa(a,o,ia())))}:{success:!0,data:i.value}},LN=E0(o3),FN=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ay(t)(e,n,o)},jN=t=>(e,n,r)=>ay(t)(e,n,r),zN=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sy(t)(e,n,o)},$N=t=>async(e,n,r)=>sy(t)(e,n,r),UN=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return w0(t)(e,n,o)},HN=t=>(e,n,r)=>w0(t)(e,n,r),VN=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return E0(t)(e,n,o)},GN=t=>async(e,n,r)=>E0(t)(e,n,r),WN=/^[cC][^\s-]{8,}$/,ZN=/^[0-9a-z]+$/,XN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,qN=/^[0-9a-vA-V]{20}$/,KN=/^[A-Za-z0-9]{27}$/,YN=/^[a-zA-Z0-9_-]{21}$/,JN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,QN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Y6=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,eO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nO(){return new RegExp(tO,"u")}const rO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,iO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,i3=/^[A-Za-z0-9_-]*$/,cO=/^\+[1-9]\d{6,14}$/,a3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",uO=new RegExp(`^${a3}$`);function s3(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function lO(t){return new RegExp(`^${s3(t)}$`)}function fO(t){const e=s3({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${a3}T(?:${r})$`)}const dO=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},hO=/^-?\d+$/,c3=/^-?\d+(?:\.\d+)?$/,pO=/^(?:true|false)$/i,mO=/^[^A-Z]*$/,gO=/^[^a-z]*$/,vr=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),u3={number:"number",bigint:"bigint",object:"date"},l3=ie("$ZodCheckLessThan",(t,e)=>{vr.init(t,e);const n=u3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,i=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),f3=ie("$ZodCheckGreaterThan",(t,e)=>{vr.init(t,e);const n=u3[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,i=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),yO=ie("$ZodCheckMultipleOf",(t,e)=>{vr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):wN(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),vO=ie("$ZodCheckNumberFormat",(t,e)=>{vr.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[o,i]=SN[e.format];t._zod.onattach.push(a=>{const s=a._zod.bag;s.format=e.format,s.minimum=o,s.maximum=i,n&&(s.pattern=hO)}),t._zod.check=a=>{const s=a.value;if(n){if(!Number.isInteger(s)){a.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}s<o&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!e.abort}),s>i&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inclusive:!0,inst:t,continue:!e.abort})}}),bO=ie("$ZodCheckMaxLength",(t,e)=>{var n;vr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!ry(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const a=iy(o);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),xO=ie("$ZodCheckMinLength",(t,e)=>{var n;vr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!ry(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const a=iy(o);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),wO=ie("$ZodCheckLengthEquals",(t,e)=>{var n;vr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!ry(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,i=o.length;if(i===e.length)return;const a=iy(o),s=i>e.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),_0=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;vr.init(t,e),t._zod.onattach.push(o=>{const i=o._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),EO=ie("$ZodCheckRegex",(t,e)=>{_0.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),_O=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=mO),_0.init(t,e)}),CO=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=gO),_0.init(t,e)}),AO=ie("$ZodCheckIncludes",(t,e)=>{vr.init(t,e);const n=Ys(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),SO=ie("$ZodCheckStartsWith",(t,e)=>{vr.init(t,e);const n=new RegExp(`^${Ys(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),IO=ie("$ZodCheckEndsWith",(t,e)=>{vr.init(t,e);const n=new RegExp(`.*${Ys(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),TO=ie("$ZodCheckOverwrite",(t,e)=>{vr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class NO{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),i=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,o.join(`
`))}}const OO={major:4,minor:3,patch:6},Xt=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=OO;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const i of o._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const o=(a,s,u)=>{let f=Ps(a),d;for(const h of s){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(f)continue;const m=a.issues.length,g=h._zod.check(a);if(g instanceof Promise&&u?.async===!1)throw new $s;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==m&&(f||(f=Ps(a,m)))});else{if(a.issues.length===m)continue;f||(f=Ps(a,m))}}return d?d.then(()=>a):a},i=(a,s,u)=>{if(Ps(a))return a.aborted=!0,a;const f=o(s,r,u);if(f instanceof Promise){if(u.async===!1)throw new $s;return f.then(d=>t._zod.parse(d,u))}return t._zod.parse(f,u)};t._zod.run=(a,s)=>{if(s.skipChecks)return t._zod.parse(a,s);if(s.direction==="backward"){const f=t._zod.parse({value:a.value,issues:[]},{...s,skipChecks:!0});return f instanceof Promise?f.then(d=>i(d,a,s)):i(f,a,s)}const u=t._zod.parse(a,s);if(u instanceof Promise){if(s.async===!1)throw new $s;return u.then(f=>o(f,r,s))}return o(u,r,s)}}Ot(t,"~standard",()=>({validate:o=>{try{const i=BN(t,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return LN(t,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),cy=ie("$ZodString",(t,e)=>{Xt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??dO(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),qt=ie("$ZodStringFormat",(t,e)=>{_0.init(t,e),cy.init(t,e)}),PO=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=QN),qt.init(t,e)}),RO=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Y6(r))}else e.pattern??(e.pattern=Y6());qt.init(t,e)}),kO=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=eO),qt.init(t,e)}),DO=ie("$ZodURL",(t,e)=>{qt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),MO=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=nO()),qt.init(t,e)}),BO=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=YN),qt.init(t,e)}),LO=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=WN),qt.init(t,e)}),FO=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=ZN),qt.init(t,e)}),jO=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=XN),qt.init(t,e)}),zO=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=qN),qt.init(t,e)}),$O=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=KN),qt.init(t,e)}),UO=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=fO(e)),qt.init(t,e)}),HO=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=uO),qt.init(t,e)}),VO=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=lO(e)),qt.init(t,e)}),GO=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=JN),qt.init(t,e)}),WO=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=rO),qt.init(t,e),t._zod.bag.format="ipv4"}),ZO=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=oO),qt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),XO=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=iO),qt.init(t,e)}),qO=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=aO),qt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function d3(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const KO=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=sO),qt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{d3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function YO(t){if(!i3.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return d3(n)}const JO=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=i3),qt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{YO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),QO=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=cO),qt.init(t,e)});function eP(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const tP=ie("$ZodJWT",(t,e)=>{qt.init(t,e),t._zod.check=n=>{eP(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),h3=ie("$ZodNumber",(t,e)=>{Xt.init(t,e),t._zod.pattern=t._zod.bag.pattern??c3,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...i?{received:i}:{}}),n}}),nP=ie("$ZodNumberFormat",(t,e)=>{vO.init(t,e),h3.init(t,e)}),rP=ie("$ZodBoolean",(t,e)=>{Xt.init(t,e),t._zod.pattern=pO,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:t}),n}}),oP=ie("$ZodAny",(t,e)=>{Xt.init(t,e),t._zod.parse=n=>n}),iP=ie("$ZodUnknown",(t,e)=>{Xt.init(t,e),t._zod.parse=n=>n}),aP=ie("$ZodNever",(t,e)=>{Xt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function J6(t,e,n){t.issues.length&&e.issues.push(...Rs(n,t.issues)),e.value[n]=t.value}const sP=ie("$ZodArray",(t,e)=>{Xt.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const i=[];for(let a=0;a<o.length;a++){const s=o[a],u=e.element._zod.run({value:s,issues:[]},r);u instanceof Promise?i.push(u.then(f=>J6(f,n,a))):J6(u,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function Bd(t,e,n,r,o){if(t.issues.length){if(o&&!(n in r))return;e.issues.push(...Rs(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function p3(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=AN(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function m3(t,e,n,r,o,i){const a=[],s=o.keySet,u=o.catchall._zod,f=u.def.type,d=u.optout==="optional";for(const h in e){if(s.has(h))continue;if(f==="never"){a.push(h);continue}const m=u.run({value:e[h],issues:[]},r);m instanceof Promise?t.push(m.then(g=>Bd(g,n,h,e,d))):Bd(m,n,h,e,d)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const cP=ie("$ZodObject",(t,e)=>{if(Xt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const s=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...s};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=ny(()=>p3(e));Ot(t._zod,"propValues",()=>{const s=e.shape,u={};for(const f in s){const d=s[f]._zod;if(d.values){u[f]??(u[f]=new Set);for(const h of d.values)u[f].add(h)}}return u});const o=Md,i=e.catchall;let a;t._zod.parse=(s,u)=>{a??(a=r.value);const f=s.value;if(!o(f))return s.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),s;s.value={};const d=[],h=a.shape;for(const m of a.keys){const g=h[m],b=g._zod.optout==="optional",w=g._zod.run({value:f[m],issues:[]},u);w instanceof Promise?d.push(w.then(_=>Bd(_,s,m,f,b))):Bd(w,s,m,f,b)}return i?m3(d,f,s,u,r.value,t):d.length?Promise.all(d).then(()=>s):s}}),uP=ie("$ZodObjectJIT",(t,e)=>{cP.init(t,e);const n=t._zod.parse,r=ny(()=>p3(e)),o=m=>{const g=new NO(["shape","payload","ctx"]),b=r.value,w=I=>{const T=K6(I);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};g.write("const input = payload.value;");const _=Object.create(null);let C=0;for(const I of b.keys)_[I]=`key_${C++}`;g.write("const newResult = {};");for(const I of b.keys){const T=_[I],O=K6(I),R=m[I]?._zod?.optout==="optional";g.write(`const ${T} = ${w(I)};`),R?g.write(`
        if (${T}.issues.length) {
          if (${O} in input) {
            payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${O}, ...iss.path] : [${O}]
            })));
          }
        }
        
        if (${T}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${T}.value;
        }
        
      `):g.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        if (${T}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${T}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const A=g.compile();return(I,T)=>A(m,I,T)};let i;const a=Md,s=!J8.jitless,f=s&&_N.value,d=e.catchall;let h;t._zod.parse=(m,g)=>{h??(h=r.value);const b=m.value;return a(b)?s&&f&&g?.async===!1&&g.jitless!==!0?(i||(i=o(e.shape)),m=i(m,g),d?m3([],b,m,g,h,t):m):n(m,g):(m.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),m)}});function Q6(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const o=t.filter(i=>!Ps(i));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(a=>aa(a,r,ia())))}),e)}const lP=ie("$ZodUnion",(t,e)=>{Xt.init(t,e),Ot(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Ot(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Ot(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),Ot(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>oy(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const s=[];for(const u of e.options){const f=u._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)s.push(f),a=!0;else{if(f.issues.length===0)return f;s.push(f)}}return a?Promise.all(s).then(u=>Q6(u,o,t,i)):Q6(s,o,t,i)}}),fP=ie("$ZodIntersection",(t,e)=>{Xt.init(t,e),t._zod.parse=(n,r)=>{const o=n.value,i=e.left._zod.run({value:o,issues:[]},r),a=e.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,f])=>eb(n,u,f)):eb(n,i,a)}});function Em(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ks(t)&&Ks(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(const i of r){const a=Em(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};o[i]=a.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=e[r],a=Em(o,i);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function eb(t,e,n){const r=new Map;let o;for(const s of e.issues)if(s.code==="unrecognized_keys"){o??(o=s);for(const u of s.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else t.issues.push(s);for(const s of n.issues)if(s.code==="unrecognized_keys")for(const u of s.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else t.issues.push(s);const i=[...r].filter(([,s])=>s.l&&s.r).map(([s])=>s);if(i.length&&o&&t.issues.push({...o,keys:i}),Ps(t))return t;const a=Em(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const dP=ie("$ZodRecord",(t,e)=>{Xt.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Ks(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:t}),n;const i=[],a=e.keyType._zod.values;if(a){n.value={};const s=new Set;for(const f of a)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){s.add(typeof f=="number"?f.toString():f);const d=e.valueType._zod.run({value:o[f],issues:[]},r);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&n.issues.push(...Rs(f,h.issues)),n.value[f]=h.value})):(d.issues.length&&n.issues.push(...Rs(f,d.issues)),n.value[f]=d.value)}let u;for(const f in o)s.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:t,keys:u})}else{n.value={};for(const s of Reflect.ownKeys(o)){if(s==="__proto__")continue;let u=e.keyType._zod.run({value:s,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof s=="string"&&c3.test(s)&&u.issues.length){const h=e.keyType._zod.run({value:Number(s),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){e.mode==="loose"?n.value[s]=o[s]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>aa(h,r,ia())),input:s,path:[s],inst:t});continue}const d=e.valueType._zod.run({value:o[s],issues:[]},r);d instanceof Promise?i.push(d.then(h=>{h.issues.length&&n.issues.push(...Rs(s,h.issues)),n.value[u.value]=h.value})):(d.issues.length&&n.issues.push(...Rs(s,d.issues)),n.value[u.value]=d.value)}}return i.length?Promise.all(i).then(()=>n):n}}),hP=ie("$ZodEnum",(t,e)=>{Xt.init(t,e);const n=Q8(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>CN.has(typeof o)).map(o=>typeof o=="string"?Ys(o):o.toString()).join("|")})$`),t._zod.parse=(o,i)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:t}),o}}),pP=ie("$ZodLiteral",(t,e)=>{if(Xt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Ys(r):r?Ys(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),mP=ie("$ZodTransform",(t,e)=>{Xt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Y8(t.constructor.name);const o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new $s;return n.value=o,n}});function tb(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const g3=ie("$ZodOptional",(t,e)=>{Xt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${oy(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>tb(i,n.value)):tb(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),gP=ie("$ZodExactOptional",(t,e)=>{g3.init(t,e),Ot(t._zod,"values",()=>e.innerType._zod.values),Ot(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),yP=ie("$ZodNullable",(t,e)=>{Xt.init(t,e),Ot(t._zod,"optin",()=>e.innerType._zod.optin),Ot(t._zod,"optout",()=>e.innerType._zod.optout),Ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${oy(n.source)}|null)$`):void 0}),Ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),vP=ie("$ZodDefault",(t,e)=>{Xt.init(t,e),t._zod.optin="optional",Ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>nb(i,e)):nb(o,e)}});function nb(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const bP=ie("$ZodPrefault",(t,e)=>{Xt.init(t,e),t._zod.optin="optional",Ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),xP=ie("$ZodNonOptional",(t,e)=>{Xt.init(t,e),Ot(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>rb(i,t)):rb(o,t)}});function rb(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const wP=ie("$ZodCatch",(t,e)=>{Xt.init(t,e),Ot(t._zod,"optin",()=>e.innerType._zod.optin),Ot(t._zod,"optout",()=>e.innerType._zod.optout),Ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>aa(a,r,ia()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(i=>aa(i,r,ia()))},input:n.value}),n.issues=[]),n)}}),EP=ie("$ZodPipe",(t,e)=>{Xt.init(t,e),Ot(t._zod,"values",()=>e.in._zod.values),Ot(t._zod,"optin",()=>e.in._zod.optin),Ot(t._zod,"optout",()=>e.out._zod.optout),Ot(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(a=>Xf(a,e.in,r)):Xf(i,e.in,r)}const o=e.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Xf(i,e.out,r)):Xf(o,e.out,r)}});function Xf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const _P=ie("$ZodReadonly",(t,e)=>{Xt.init(t,e),Ot(t._zod,"propValues",()=>e.innerType._zod.propValues),Ot(t._zod,"values",()=>e.innerType._zod.values),Ot(t._zod,"optin",()=>e.innerType?._zod?.optin),Ot(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(ob):ob(o)}});function ob(t){return t.value=Object.freeze(t.value),t}const CP=ie("$ZodCustom",(t,e)=>{vr.init(t,e),Xt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(i=>ib(i,n,r,t));ib(o,n,r,t)}});function ib(t,e,n,r){if(!t){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(Tu(o))}}var ab;class AP{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function SP(){return new AP}(ab=globalThis).__zod_globalRegistry??(ab.__zod_globalRegistry=SP());const hu=globalThis.__zod_globalRegistry;function IP(t,e){return new t({type:"string",...Fe(e)})}function TP(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function sb(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function NP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function OP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function PP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function RP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function kP(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function DP(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function MP(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function BP(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function LP(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function FP(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function jP(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function zP(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function $P(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function UP(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function HP(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function VP(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function GP(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function WP(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function ZP(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function XP(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function qP(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function KP(t,e){return new t({type:"string",format:"date",check:"string_format",...Fe(e)})}function YP(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function JP(t,e){return new t({type:"string",format:"duration",check:"string_format",...Fe(e)})}function QP(t,e){return new t({type:"number",checks:[],...Fe(e)})}function eR(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function tR(t,e){return new t({type:"boolean",...Fe(e)})}function nR(t){return new t({type:"any"})}function rR(t){return new t({type:"unknown"})}function oR(t,e){return new t({type:"never",...Fe(e)})}function cb(t,e){return new l3({check:"less_than",...Fe(e),value:t,inclusive:!1})}function Ep(t,e){return new l3({check:"less_than",...Fe(e),value:t,inclusive:!0})}function ub(t,e){return new f3({check:"greater_than",...Fe(e),value:t,inclusive:!1})}function _p(t,e){return new f3({check:"greater_than",...Fe(e),value:t,inclusive:!0})}function lb(t,e){return new yO({check:"multiple_of",...Fe(e),value:t})}function y3(t,e){return new bO({check:"max_length",...Fe(e),maximum:t})}function Ld(t,e){return new xO({check:"min_length",...Fe(e),minimum:t})}function v3(t,e){return new wO({check:"length_equals",...Fe(e),length:t})}function iR(t,e){return new EO({check:"string_format",format:"regex",...Fe(e),pattern:t})}function aR(t){return new _O({check:"string_format",format:"lowercase",...Fe(t)})}function sR(t){return new CO({check:"string_format",format:"uppercase",...Fe(t)})}function cR(t,e){return new AO({check:"string_format",format:"includes",...Fe(e),includes:t})}function uR(t,e){return new SO({check:"string_format",format:"starts_with",...Fe(e),prefix:t})}function lR(t,e){return new IO({check:"string_format",format:"ends_with",...Fe(e),suffix:t})}function gc(t){return new TO({check:"overwrite",tx:t})}function fR(t){return gc(e=>e.normalize(t))}function dR(){return gc(t=>t.trim())}function hR(){return gc(t=>t.toLowerCase())}function pR(){return gc(t=>t.toUpperCase())}function mR(){return gc(t=>EN(t))}function gR(t,e,n){return new t({type:"array",element:e,...Fe(n)})}function yR(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Fe(n)})}function vR(t){const e=bR(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Tu(r,n.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(Tu(o))}},t(n.value,n)));return e}function bR(t,e){const n=new vr({check:"custom",...Fe(e)});return n._zod.check=t,n}function b3(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??hu,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function dn(t,e,n={path:[],schemaPath:[]}){var r;const o=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const s=t._zod.toJSONSchema?.();if(s)a.schema=s;else{const d={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,d);else{const m=a.schema,g=e.processors[o.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);g(t,e,m,d)}const h=t._zod.parent;h&&(a.ref||(a.ref=h),dn(h,e,d),e.seen.get(h).isParent=!0)}const u=e.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),e.io==="input"&&er(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function x3(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const a of t.seen.entries()){const s=t.metadataRegistry.get(a[0])?.id;if(s){const u=r.get(s);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${s}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(s,a[0])}}const o=a=>{const s=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const h=t.external.registry.get(a[0])?.id,m=t.external.uri??(b=>b);if(h)return{ref:m(h)};const g=a[1].defId??a[1].schema.id??`schema${t.counter++}`;return a[1].defId=g,{defId:g,ref:`${m("__shared")}#/${s}/${g}`}}if(a[1]===n)return{ref:"#"};const f=`#/${s}/`,d=a[1].schema.id??`__schema${t.counter++}`;return{defId:d,ref:f+d}},i=a=>{if(a[1].schema.$ref)return;const s=a[1],{ref:u,defId:f}=o(a);s.def={...s.schema},f&&(s.defId=f);const d=s.schema;for(const h in d)delete d[h];d.$ref=u};if(t.cycles==="throw")for(const a of t.seen.entries()){const s=a[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of t.seen.entries()){const s=a[1];if(e===a[0]){i(a);continue}if(t.external){const f=t.external.registry.get(a[0])?.id;if(e!==a[0]&&f){i(a);continue}}if(t.metadataRegistry.get(a[0])?.id){i(a);continue}if(s.cycle){i(a);continue}if(s.count>1&&t.reused==="ref"){i(a);continue}}}function w3(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=a=>{const s=t.seen.get(a);if(s.ref===null)return;const u=s.def??s.schema,f={...u},d=s.ref;if(s.ref=null,d){r(d);const m=t.seen.get(d),g=m.schema;if(g.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(g)):Object.assign(u,g),Object.assign(u,f),a._zod.parent===d)for(const w in u)w==="$ref"||w==="allOf"||w in f||delete u[w];if(g.$ref&&m.def)for(const w in u)w==="$ref"||w==="allOf"||w in m.def&&JSON.stringify(u[w])===JSON.stringify(m.def[w])&&delete u[w]}const h=a._zod.parent;if(h&&h!==d){r(h);const m=t.seen.get(h);if(m?.schema.$ref&&(u.$ref=m.schema.$ref,m.def))for(const g in u)g==="$ref"||g==="allOf"||g in m.def&&JSON.stringify(u[g])===JSON.stringify(m.def[g])&&delete u[g]}t.override({zodSchema:a,jsonSchema:u,path:s.path??[]})};for(const a of[...t.seen.entries()].reverse())r(a[0]);const o={};if(t.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const a=t.external.registry.get(e)?.id;if(!a)throw new Error("Schema is missing an `id` property");o.$id=t.external.uri(a)}Object.assign(o,n.def??n.schema);const i=t.external?.defs??{};for(const a of t.seen.entries()){const s=a[1];s.def&&s.defId&&(i[s.defId]=s.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const a=JSON.parse(JSON.stringify(o));return Object.defineProperty(a,"~standard",{value:{...e["~standard"],jsonSchema:{input:Fd(e,"input",t.processors),output:Fd(e,"output",t.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function er(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return er(r.element,n);if(r.type==="set")return er(r.valueType,n);if(r.type==="lazy")return er(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return er(r.innerType,n);if(r.type==="intersection")return er(r.left,n)||er(r.right,n);if(r.type==="record"||r.type==="map")return er(r.keyType,n)||er(r.valueType,n);if(r.type==="pipe")return er(r.in,n)||er(r.out,n);if(r.type==="object"){for(const o in r.shape)if(er(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(er(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(er(o,n))return!0;return!!(r.rest&&er(r.rest,n))}return!1}const xR=(t,e={})=>n=>{const r=b3({...n,processors:e});return dn(t,r),x3(r,t),w3(r,t)},Fd=(t,e,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},a=b3({...o??{},target:i,io:e,processors:n});return dn(t,a),x3(a,t),w3(a,t)},wR={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},ER=(t,e,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:a,format:s,patterns:u,contentEncoding:f}=t._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof a=="number"&&(o.maxLength=a),s&&(o.format=wR[s]??s,o.format===""&&delete o.format,s==="time"&&delete o.format),f&&(o.contentEncoding=f),u&&u.size>0){const d=[...u];d.length===1?o.pattern=d[0].source:d.length>1&&(o.allOf=[...d.map(h=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},_R=(t,e,n,r)=>{const o=n,{minimum:i,maximum:a,format:s,multipleOf:u,exclusiveMaximum:f,exclusiveMinimum:d}=t._zod.bag;typeof s=="string"&&s.includes("int")?o.type="integer":o.type="number",typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.minimum=d,o.exclusiveMinimum=!0):o.exclusiveMinimum=d),typeof i=="number"&&(o.minimum=i,typeof d=="number"&&e.target!=="draft-04"&&(d>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof a=="number"&&(o.maximum=a,typeof f=="number"&&e.target!=="draft-04"&&(f<=a?delete o.maximum:delete o.exclusiveMaximum)),typeof u=="number"&&(o.multipleOf=u)},CR=(t,e,n,r)=>{n.type="boolean"},AR=(t,e,n,r)=>{n.not={}},SR=(t,e,n,r)=>{},IR=(t,e,n,r)=>{},TR=(t,e,n,r)=>{const o=t._zod.def,i=Q8(o.entries);i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),n.enum=i},NR=(t,e,n,r)=>{const o=t._zod.def,i=[];for(const a of o.values)if(a===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];n.type=a===null?"null":typeof a,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[a]:n.const=a}else i.every(a=>typeof a=="number")&&(n.type="number"),i.every(a=>typeof a=="string")&&(n.type="string"),i.every(a=>typeof a=="boolean")&&(n.type="boolean"),i.every(a=>a===null)&&(n.type="null"),n.enum=i},OR=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},PR=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},RR=(t,e,n,r)=>{const o=n,i=t._zod.def,{minimum:a,maximum:s}=t._zod.bag;typeof a=="number"&&(o.minItems=a),typeof s=="number"&&(o.maxItems=s),o.type="array",o.items=dn(i.element,e,{...r,path:[...r.path,"items"]})},kR=(t,e,n,r)=>{const o=n,i=t._zod.def;o.type="object",o.properties={};const a=i.shape;for(const f in a)o.properties[f]=dn(a[f],e,{...r,path:[...r.path,"properties",f]});const s=new Set(Object.keys(a)),u=new Set([...s].filter(f=>{const d=i.shape[f]._zod;return e.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(o.required=Array.from(u)),i.catchall?._zod.def.type==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=dn(i.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(o.additionalProperties=!1)},DR=(t,e,n,r)=>{const o=t._zod.def,i=o.inclusive===!1,a=o.options.map((s,u)=>dn(s,e,{...r,path:[...r.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=a:n.anyOf=a},MR=(t,e,n,r)=>{const o=t._zod.def,i=dn(o.left,e,{...r,path:[...r.path,"allOf",0]}),a=dn(o.right,e,{...r,path:[...r.path,"allOf",1]}),s=f=>"allOf"in f&&Object.keys(f).length===1,u=[...s(i)?i.allOf:[i],...s(a)?a.allOf:[a]];n.allOf=u},BR=(t,e,n,r)=>{const o=n,i=t._zod.def;o.type="object";const a=i.keyType,u=a._zod.bag?.patterns;if(i.mode==="loose"&&u&&u.size>0){const d=dn(i.valueType,e,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const h of u)o.patternProperties[h.source]=d}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(o.propertyNames=dn(i.keyType,e,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=dn(i.valueType,e,{...r,path:[...r.path,"additionalProperties"]});const f=a._zod.values;if(f){const d=[...f].filter(h=>typeof h=="string"||typeof h=="number");d.length>0&&(o.required=d)}},LR=(t,e,n,r)=>{const o=t._zod.def,i=dn(o.innerType,e,r),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},FR=(t,e,n,r)=>{const o=t._zod.def;dn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType},jR=(t,e,n,r)=>{const o=t._zod.def;dn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},zR=(t,e,n,r)=>{const o=t._zod.def;dn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},$R=(t,e,n,r)=>{const o=t._zod.def;dn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType;let a;try{a=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},UR=(t,e,n,r)=>{const o=t._zod.def,i=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;dn(i,e,r);const a=e.seen.get(t);a.ref=i},HR=(t,e,n,r)=>{const o=t._zod.def;dn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,n.readOnly=!0},E3=(t,e,n,r)=>{const o=t._zod.def;dn(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType},VR=ie("ZodISODateTime",(t,e)=>{UO.init(t,e),tn.init(t,e)});function GR(t){return qP(VR,t)}const WR=ie("ZodISODate",(t,e)=>{HO.init(t,e),tn.init(t,e)});function ZR(t){return KP(WR,t)}const XR=ie("ZodISOTime",(t,e)=>{VO.init(t,e),tn.init(t,e)});function qR(t){return YP(XR,t)}const KR=ie("ZodISODuration",(t,e)=>{GO.init(t,e),tn.init(t,e)});function YR(t){return JP(KR,t)}const JR=(t,e)=>{r3.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>MN(t,n)},flatten:{value:n=>DN(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,wm,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,wm,2)}},isEmpty:{get(){return t.issues.length===0}}})},Kr=ie("ZodError",JR,{Parent:Error}),QR=ay(Kr),ek=sy(Kr),tk=w0(Kr),nk=E0(Kr),rk=FN(Kr),ok=jN(Kr),ik=zN(Kr),ak=$N(Kr),sk=UN(Kr),ck=HN(Kr),uk=VN(Kr),lk=GN(Kr),Kt=ie("ZodType",(t,e)=>(Xt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Fd(t,"input"),output:Fd(t,"output")}}),t.toJSONSchema=xR(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ha(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>pa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>QR(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>tk(t,n,r),t.parseAsync=async(n,r)=>ek(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>nk(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>rk(t,n,r),t.decode=(n,r)=>ok(t,n,r),t.encodeAsync=async(n,r)=>ik(t,n,r),t.decodeAsync=async(n,r)=>ak(t,n,r),t.safeEncode=(n,r)=>sk(t,n,r),t.safeDecode=(n,r)=>ck(t,n,r),t.safeEncodeAsync=async(n,r)=>uk(t,n,r),t.safeDecodeAsync=async(n,r)=>lk(t,n,r),t.refine=(n,r)=>t.check(cD(n,r)),t.superRefine=n=>t.check(uD(n)),t.overwrite=n=>t.check(gc(n)),t.optional=()=>pb(t),t.exactOptional=()=>qk(t),t.nullable=()=>mb(t),t.nullish=()=>pb(mb(t)),t.nonoptional=n=>tD(t,n),t.array=()=>uy(t),t.or=n=>A3([t,n]),t.and=n=>$k(t,n),t.transform=n=>gb(t,Zk(n)),t.default=n=>Jk(t,n),t.prefault=n=>eD(t,n),t.catch=n=>rD(t,n),t.pipe=n=>gb(t,n),t.readonly=()=>aD(t),t.describe=n=>{const r=t.clone();return hu.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return hu.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return hu.get(t);const r=t.clone();return hu.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),_3=ie("_ZodString",(t,e)=>{cy.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(r,o,i)=>ER(t,r,o);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(iR(...r)),t.includes=(...r)=>t.check(cR(...r)),t.startsWith=(...r)=>t.check(uR(...r)),t.endsWith=(...r)=>t.check(lR(...r)),t.min=(...r)=>t.check(Ld(...r)),t.max=(...r)=>t.check(y3(...r)),t.length=(...r)=>t.check(v3(...r)),t.nonempty=(...r)=>t.check(Ld(1,...r)),t.lowercase=r=>t.check(aR(r)),t.uppercase=r=>t.check(sR(r)),t.trim=()=>t.check(dR()),t.normalize=(...r)=>t.check(fR(...r)),t.toLowerCase=()=>t.check(hR()),t.toUpperCase=()=>t.check(pR()),t.slugify=()=>t.check(mR())}),fk=ie("ZodString",(t,e)=>{cy.init(t,e),_3.init(t,e),t.email=n=>t.check(TP(dk,n)),t.url=n=>t.check(kP(hk,n)),t.jwt=n=>t.check(XP(Tk,n)),t.emoji=n=>t.check(DP(pk,n)),t.guid=n=>t.check(sb(fb,n)),t.uuid=n=>t.check(NP(qf,n)),t.uuidv4=n=>t.check(OP(qf,n)),t.uuidv6=n=>t.check(PP(qf,n)),t.uuidv7=n=>t.check(RP(qf,n)),t.nanoid=n=>t.check(MP(mk,n)),t.guid=n=>t.check(sb(fb,n)),t.cuid=n=>t.check(BP(gk,n)),t.cuid2=n=>t.check(LP(yk,n)),t.ulid=n=>t.check(FP(vk,n)),t.base64=n=>t.check(GP(Ak,n)),t.base64url=n=>t.check(WP(Sk,n)),t.xid=n=>t.check(jP(bk,n)),t.ksuid=n=>t.check(zP(xk,n)),t.ipv4=n=>t.check($P(wk,n)),t.ipv6=n=>t.check(UP(Ek,n)),t.cidrv4=n=>t.check(HP(_k,n)),t.cidrv6=n=>t.check(VP(Ck,n)),t.e164=n=>t.check(ZP(Ik,n)),t.datetime=n=>t.check(GR(n)),t.date=n=>t.check(ZR(n)),t.time=n=>t.check(qR(n)),t.duration=n=>t.check(YR(n))});function po(t){return IP(fk,t)}const tn=ie("ZodStringFormat",(t,e)=>{qt.init(t,e),_3.init(t,e)}),dk=ie("ZodEmail",(t,e)=>{kO.init(t,e),tn.init(t,e)}),fb=ie("ZodGUID",(t,e)=>{PO.init(t,e),tn.init(t,e)}),qf=ie("ZodUUID",(t,e)=>{RO.init(t,e),tn.init(t,e)}),hk=ie("ZodURL",(t,e)=>{DO.init(t,e),tn.init(t,e)}),pk=ie("ZodEmoji",(t,e)=>{MO.init(t,e),tn.init(t,e)}),mk=ie("ZodNanoID",(t,e)=>{BO.init(t,e),tn.init(t,e)}),gk=ie("ZodCUID",(t,e)=>{LO.init(t,e),tn.init(t,e)}),yk=ie("ZodCUID2",(t,e)=>{FO.init(t,e),tn.init(t,e)}),vk=ie("ZodULID",(t,e)=>{jO.init(t,e),tn.init(t,e)}),bk=ie("ZodXID",(t,e)=>{zO.init(t,e),tn.init(t,e)}),xk=ie("ZodKSUID",(t,e)=>{$O.init(t,e),tn.init(t,e)}),wk=ie("ZodIPv4",(t,e)=>{WO.init(t,e),tn.init(t,e)}),Ek=ie("ZodIPv6",(t,e)=>{ZO.init(t,e),tn.init(t,e)}),_k=ie("ZodCIDRv4",(t,e)=>{XO.init(t,e),tn.init(t,e)}),Ck=ie("ZodCIDRv6",(t,e)=>{qO.init(t,e),tn.init(t,e)}),Ak=ie("ZodBase64",(t,e)=>{KO.init(t,e),tn.init(t,e)}),Sk=ie("ZodBase64URL",(t,e)=>{JO.init(t,e),tn.init(t,e)}),Ik=ie("ZodE164",(t,e)=>{QO.init(t,e),tn.init(t,e)}),Tk=ie("ZodJWT",(t,e)=>{tP.init(t,e),tn.init(t,e)}),C3=ie("ZodNumber",(t,e)=>{h3.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(r,o,i)=>_R(t,r,o),t.gt=(r,o)=>t.check(ub(r,o)),t.gte=(r,o)=>t.check(_p(r,o)),t.min=(r,o)=>t.check(_p(r,o)),t.lt=(r,o)=>t.check(cb(r,o)),t.lte=(r,o)=>t.check(Ep(r,o)),t.max=(r,o)=>t.check(Ep(r,o)),t.int=r=>t.check(db(r)),t.safe=r=>t.check(db(r)),t.positive=r=>t.check(ub(0,r)),t.nonnegative=r=>t.check(_p(0,r)),t.negative=r=>t.check(cb(0,r)),t.nonpositive=r=>t.check(Ep(0,r)),t.multipleOf=(r,o)=>t.check(lb(r,o)),t.step=(r,o)=>t.check(lb(r,o)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Nu(t){return QP(C3,t)}const Nk=ie("ZodNumberFormat",(t,e)=>{nP.init(t,e),C3.init(t,e)});function db(t){return eR(Nk,t)}const Ok=ie("ZodBoolean",(t,e)=>{rP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>CR(t,n,r)});function Pk(t){return tR(Ok,t)}const Rk=ie("ZodAny",(t,e)=>{oP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>SR()});function kk(){return nR(Rk)}const Dk=ie("ZodUnknown",(t,e)=>{iP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>IR()});function hb(){return rR(Dk)}const Mk=ie("ZodNever",(t,e)=>{aP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>AR(t,n,r)});function Bk(t){return oR(Mk,t)}const Lk=ie("ZodArray",(t,e)=>{sP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>RR(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(Ld(n,r)),t.nonempty=n=>t.check(Ld(1,n)),t.max=(n,r)=>t.check(y3(n,r)),t.length=(n,r)=>t.check(v3(n,r)),t.unwrap=()=>t.element});function uy(t,e){return gR(Lk,t,e)}const Fk=ie("ZodObject",(t,e)=>{uP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>kR(t,n,r,o),Ot(t,"shape",()=>e.shape),t.keyof=()=>Vk(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:hb()}),t.loose=()=>t.clone({...t._zod.def,catchall:hb()}),t.strict=()=>t.clone({...t._zod.def,catchall:Bk()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>NN(t,n),t.safeExtend=n=>ON(t,n),t.merge=n=>PN(t,n),t.pick=n=>IN(t,n),t.omit=n=>TN(t,n),t.partial=(...n)=>RN(S3,t,n[0]),t.required=(...n)=>kN(I3,t,n[0])});function jo(t,e){const n={type:"object",shape:t??{},...Fe(e)};return new Fk(n)}const jk=ie("ZodUnion",(t,e)=>{lP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>DR(t,n,r,o),t.options=e.options});function A3(t,e){return new jk({type:"union",options:t,...Fe(e)})}const zk=ie("ZodIntersection",(t,e)=>{fP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>MR(t,n,r,o)});function $k(t,e){return new zk({type:"intersection",left:t,right:e})}const Uk=ie("ZodRecord",(t,e)=>{dP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>BR(t,n,r,o),t.keyType=e.keyType,t.valueType=e.valueType});function Hk(t,e,n){return new Uk({type:"record",keyType:t,valueType:e,...Fe(n)})}const _m=ie("ZodEnum",(t,e)=>{hP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(r,o,i)=>TR(t,r,o),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const i={};for(const a of r)if(n.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new _m({...e,checks:[],...Fe(o),entries:i})},t.exclude=(r,o)=>{const i={...e.entries};for(const a of r)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new _m({...e,checks:[],...Fe(o),entries:i})}});function Vk(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new _m({type:"enum",entries:n,...Fe(e)})}const Gk=ie("ZodLiteral",(t,e)=>{pP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>NR(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function sa(t,e){return new Gk({type:"literal",values:Array.isArray(t)?t:[t],...Fe(e)})}const Wk=ie("ZodTransform",(t,e)=>{mP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>PR(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Y8(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Tu(i,n.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(Tu(a))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function Zk(t){return new Wk({type:"transform",transform:t})}const S3=ie("ZodOptional",(t,e)=>{g3.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>E3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function pb(t){return new S3({type:"optional",innerType:t})}const Xk=ie("ZodExactOptional",(t,e)=>{gP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>E3(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function qk(t){return new Xk({type:"optional",innerType:t})}const Kk=ie("ZodNullable",(t,e)=>{yP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>LR(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function mb(t){return new Kk({type:"nullable",innerType:t})}const Yk=ie("ZodDefault",(t,e)=>{vP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>jR(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Jk(t,e){return new Yk({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():t3(e)}})}const Qk=ie("ZodPrefault",(t,e)=>{bP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>zR(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function eD(t,e){return new Qk({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():t3(e)}})}const I3=ie("ZodNonOptional",(t,e)=>{xP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>FR(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function tD(t,e){return new I3({type:"nonoptional",innerType:t,...Fe(e)})}const nD=ie("ZodCatch",(t,e)=>{wP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$R(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function rD(t,e){return new nD({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const oD=ie("ZodPipe",(t,e)=>{EP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>UR(t,n,r,o),t.in=e.in,t.out=e.out});function gb(t,e){return new oD({type:"pipe",in:t,out:e})}const iD=ie("ZodReadonly",(t,e)=>{_P.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>HR(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function aD(t){return new iD({type:"readonly",innerType:t})}const sD=ie("ZodCustom",(t,e)=>{CP.init(t,e),Kt.init(t,e),t._zod.processJSONSchema=(n,r,o)=>OR(t,n)});function cD(t,e={}){return yR(sD,t,e)}function uD(t){return vR(t)}var Cp={exports:{}},yb;function lD(){return yb||(yb=1,(function(t){var e=(function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(u,f){if(!i[u]){i[u]={};for(var d=0;d<u.length;d++)i[u][u.charAt(d)]=d}return i[u][f]}var s={compressToBase64:function(u){if(u==null)return"";var f=s._compress(u,6,function(d){return r.charAt(d)});switch(f.length%4){default:case 0:return f;case 1:return f+"===";case 2:return f+"==";case 3:return f+"="}},decompressFromBase64:function(u){return u==null?"":u==""?null:s._decompress(u.length,32,function(f){return a(r,u.charAt(f))})},compressToUTF16:function(u){return u==null?"":s._compress(u,15,function(f){return n(f+32)})+" "},decompressFromUTF16:function(u){return u==null?"":u==""?null:s._decompress(u.length,16384,function(f){return u.charCodeAt(f)-32})},compressToUint8Array:function(u){for(var f=s.compress(u),d=new Uint8Array(f.length*2),h=0,m=f.length;h<m;h++){var g=f.charCodeAt(h);d[h*2]=g>>>8,d[h*2+1]=g%256}return d},decompressFromUint8Array:function(u){if(u==null)return s.decompress(u);for(var f=new Array(u.length/2),d=0,h=f.length;d<h;d++)f[d]=u[d*2]*256+u[d*2+1];var m=[];return f.forEach(function(g){m.push(n(g))}),s.decompress(m.join(""))},compressToEncodedURIComponent:function(u){return u==null?"":s._compress(u,6,function(f){return o.charAt(f)})},decompressFromEncodedURIComponent:function(u){return u==null?"":u==""?null:(u=u.replace(/ /g,"+"),s._decompress(u.length,32,function(f){return a(o,u.charAt(f))}))},compress:function(u){return s._compress(u,16,function(f){return n(f)})},_compress:function(u,f,d){if(u==null)return"";var h,m,g={},b={},w="",_="",C="",A=2,I=3,T=2,O=[],P=0,R=0,k;for(k=0;k<u.length;k+=1)if(w=u.charAt(k),Object.prototype.hasOwnProperty.call(g,w)||(g[w]=I++,b[w]=!0),_=C+w,Object.prototype.hasOwnProperty.call(g,_))C=_;else{if(Object.prototype.hasOwnProperty.call(b,C)){if(C.charCodeAt(0)<256){for(h=0;h<T;h++)P=P<<1,R==f-1?(R=0,O.push(d(P)),P=0):R++;for(m=C.charCodeAt(0),h=0;h<8;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1}else{for(m=1,h=0;h<T;h++)P=P<<1|m,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=0;for(m=C.charCodeAt(0),h=0;h<16;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1}A--,A==0&&(A=Math.pow(2,T),T++),delete b[C]}else for(m=g[C],h=0;h<T;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1;A--,A==0&&(A=Math.pow(2,T),T++),g[_]=I++,C=String(w)}if(C!==""){if(Object.prototype.hasOwnProperty.call(b,C)){if(C.charCodeAt(0)<256){for(h=0;h<T;h++)P=P<<1,R==f-1?(R=0,O.push(d(P)),P=0):R++;for(m=C.charCodeAt(0),h=0;h<8;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1}else{for(m=1,h=0;h<T;h++)P=P<<1|m,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=0;for(m=C.charCodeAt(0),h=0;h<16;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1}A--,A==0&&(A=Math.pow(2,T),T++),delete b[C]}else for(m=g[C],h=0;h<T;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1;A--,A==0&&(A=Math.pow(2,T),T++)}for(m=2,h=0;h<T;h++)P=P<<1|m&1,R==f-1?(R=0,O.push(d(P)),P=0):R++,m=m>>1;for(;;)if(P=P<<1,R==f-1){O.push(d(P));break}else R++;return O.join("")},decompress:function(u){return u==null?"":u==""?null:s._decompress(u.length,32768,function(f){return u.charCodeAt(f)})},_decompress:function(u,f,d){var h=[],m=4,g=4,b=3,w="",_=[],C,A,I,T,O,P,R,k={val:d(0),position:f,index:1};for(C=0;C<3;C+=1)h[C]=C;for(I=0,O=Math.pow(2,2),P=1;P!=O;)T=k.val&k.position,k.position>>=1,k.position==0&&(k.position=f,k.val=d(k.index++)),I|=(T>0?1:0)*P,P<<=1;switch(I){case 0:for(I=0,O=Math.pow(2,8),P=1;P!=O;)T=k.val&k.position,k.position>>=1,k.position==0&&(k.position=f,k.val=d(k.index++)),I|=(T>0?1:0)*P,P<<=1;R=n(I);break;case 1:for(I=0,O=Math.pow(2,16),P=1;P!=O;)T=k.val&k.position,k.position>>=1,k.position==0&&(k.position=f,k.val=d(k.index++)),I|=(T>0?1:0)*P,P<<=1;R=n(I);break;case 2:return""}for(h[3]=R,A=R,_.push(R);;){if(k.index>u)return"";for(I=0,O=Math.pow(2,b),P=1;P!=O;)T=k.val&k.position,k.position>>=1,k.position==0&&(k.position=f,k.val=d(k.index++)),I|=(T>0?1:0)*P,P<<=1;switch(R=I){case 0:for(I=0,O=Math.pow(2,8),P=1;P!=O;)T=k.val&k.position,k.position>>=1,k.position==0&&(k.position=f,k.val=d(k.index++)),I|=(T>0?1:0)*P,P<<=1;h[g++]=n(I),R=g-1,m--;break;case 1:for(I=0,O=Math.pow(2,16),P=1;P!=O;)T=k.val&k.position,k.position>>=1,k.position==0&&(k.position=f,k.val=d(k.index++)),I|=(T>0?1:0)*P,P<<=1;h[g++]=n(I),R=g-1,m--;break;case 2:return _.join("")}if(m==0&&(m=Math.pow(2,b),b++),h[R])w=h[R];else if(R===g)w=A+A.charAt(0);else return null;_.push(w),h[g++]=A+w.charAt(0),m--,A=w,m==0&&(m=Math.pow(2,b),b++)}}};return s})();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(Cp)),Cp.exports}var T3=lD();const Cm="cointrol://share/v1/",ly=po().regex(/^0x[a-fA-F0-9]{40}$/,"Invalid address"),N3=jo({chainId:Nu().int().positive(),address:ly}),C0=jo({createdAt:Nu().int().optional(),source:po().optional(),note:po().optional()}).optional(),fD=jo({v:sa(1),t:sa("contact"),data:jo({name:po().min(1),surname:po().optional(),wallets:uy(N3).optional()}),meta:C0}),dD=jo({v:sa(1),t:sa("contract"),data:jo({name:po().min(1),address:ly,chainId:Nu().int().positive(),metadata:Hk(po(),kk()).optional(),abiOmitted:Pk().optional()}),meta:C0}),hD=jo({v:sa(1),t:sa("profile"),data:jo({name:po().min(1),wallets:uy(N3).min(1)}),meta:C0}),pD=jo({v:sa(1),t:sa("coin"),data:jo({name:po().min(1),symbol:po().min(1),decimals:Nu().int().nonnegative(),chainId:Nu().int().positive(),address:ly,type:po().min(1)}),meta:C0}),mD=A3([fD,dD,hD,pD]);function gD(t){const e=JSON.stringify(t),n=T3.compressToEncodedURIComponent(e);return`${Cm}${n}`}function yD(t){const e=t.startsWith(Cm)?t.slice(Cm.length):t,n=T3.decompressFromEncodedURIComponent(e);if(!n)throw new Error("Invalid or unsupported QR payload");if(n.length>2e5)throw new Error("Payload too large");const r=JSON.parse(n);return mD.parse(r)}function A0({payload:t,onClose:e}){const n=gD(t);return typeof document>"u"?null:rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:e,style:{position:"fixed",inset:0,zIndex:2147483646,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)"}}),v.jsxs("div",{role:"dialog","aria-modal":"true",className:`
          rounded-2xl
          border border-neutral-200
          bg-[#fffdf7]
          text-neutral-900
          shadow-2xl
        `,style:{position:"fixed",zIndex:2147483647,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(420px, calc(100vw - 32px))",padding:20},onClick:r=>r.stopPropagation(),children:[v.jsxs("div",{className:"text-lg font-semibold mb-3 text-center",children:["Share ",t.t,": ",t.data.name]}),v.jsx("div",{className:"mt-4 flex justify-end gap-2"}),v.jsx("br",{}),v.jsx("div",{className:"mt-2 flex justify-center",children:v.jsx("div",{className:"bg-white p-3 rounded-lg border shadow-sm",children:v.jsx(xN,{value:n,size:240})})}),v.jsx("div",{className:"mt-4 flex justify-end",children:v.jsx("button",{type:"button",className:"rounded bg-black px-3 py-2 text-white",onClick:e,children:"Close"})})]})]}),document.body)}function O3(t){const e=new Map;for(const n of t){const r=`${n.chainId}:${n.address.toLowerCase()}`;e.has(r)||e.set(r,{chainId:n.chainId,address:n.address})}return[...e.values()]}function vD(t){return{v:1,t:"contact",data:{name:t.name,surname:t.surname,wallets:t.wallets?O3(t.wallets):void 0},meta:{createdAt:Date.now(),source:"Cointrol"}}}function bD(t,e={}){const n=e.maxMetadataBytes??2e4;let r=t.metadata,o=!1;if(r&&JSON.stringify(r).length>n){const{abi:a,...s}=r;r=s,o=!0}return{v:1,t:"contract",data:{name:t.name,address:t.address,chainId:t.chainId,metadata:r??void 0,abiOmitted:o||void 0},meta:{createdAt:Date.now(),source:"Cointrol"}}}function xD(t,e,n){const r=O3(e.map(o=>({chainId:o.chainId,address:o.address})));return{v:1,t:"profile",data:{name:t,wallets:r},meta:{createdAt:Date.now(),source:"Cointrol"}}}function wD(t){return{v:1,t:"coin",data:{name:t.name,symbol:t.symbol,decimals:t.decimals,chainId:t.chainId,address:t.address,type:t.type},meta:{createdAt:Date.now(),source:"Cointrol"}}}function ED(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),[d,h]=S.useState(!1),[m,g]=S.useState(null),[b,w]=S.useState(null),[_,C]=S.useState(""),[A,I]=S.useState(""),[T,O]=S.useState(1),[P,R]=S.useState([]),[k,$]=S.useState(""),[F,H]=S.useState(""),[V,te]=S.useState(null),ae=/^0x[0-9a-fA-F]{40}$/,q=/^[a-z0-9-]+\.eth$/i,Y={1:"Ethereum",11155111:"Sepolia",31337:"Local"},{address:J,updateAddress:B}=Gg(),{contracts:U,loading:ne,error:L,addContract:G,deleteContract:pe,updateContract:ye}=uN({query:t,sortMode:n,tags:o,tagMode:a});function _e({sortMode:se,setSortMode:re,tagSearch:Ee,setTagSearch:je,setTags:lt,tagMode:ze,setTagSearchMode:pt}){const[wt,Rt]=S.useState(!1),kt=S.useRef(null),[an,pn]=S.useState({top:0,left:0,width:320}),ve=()=>Rt(!1),De=S.useCallback(()=>{if(!kt.current)return;const Q=kt.current.getBoundingClientRect(),le=8,Le=Math.min(360,window.innerWidth-le*2),et=Q.bottom+8,Ye=Q.right-Le,Qe=Math.min(Math.max(le,Ye),window.innerWidth-Le-le);pn({top:et,left:Qe,width:Le})},[]),Xe=()=>{const Q=!wt;Q&&De(),Rt(Q)};return S.useEffect(()=>{if(!wt)return;const Q=le=>{le.key==="Escape"&&ve()};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[wt]),S.useEffect(()=>{if(wt)return window.addEventListener("resize",De),window.addEventListener("scroll",De,!0),()=>{window.removeEventListener("resize",De),window.removeEventListener("scroll",De,!0)}},[wt,De]),v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:kt,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:Xe,children:"Sort / Filter"}),wt&&typeof document<"u"&&rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:ve,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),v.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:an.top,left:an.left,width:an.width,padding:12},onClick:Q=>Q.stopPropagation(),children:[v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),v.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:se,onChange:Q=>re(Q.target.value),children:[v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"surnameAsc",children:"Surname (A  Z)"}),v.jsx("option",{value:"surnameDesc",children:"Surname (Z  A)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),v.jsx("div",{className:"my-3 border-t border-border"}),v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:Ee,onChange:Q=>{const le=Q.target.value;je(le);const Le=le.split(",").map(et=>et.trim()).filter(Boolean);lt(Le)}}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-muted",children:"Mode"}),v.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:ze,onChange:Q=>pt(Q.target.value),children:[v.jsx("option",{value:"any",children:"Match any"}),v.jsx("option",{value:"all",children:"Match all"})]}),v.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{je(""),lt([]),pt("any")},children:"Clear"})]}),v.jsx("div",{className:"mt-3 flex justify-end",children:v.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:ve,children:"Done"})})]})]}),document.body)]})}function Ce(se,re){B(se.id,{name:se.name,isVisible:re,group:se.tags??[]})}const xe=S.useMemo(()=>{const se={};return J.forEach(re=>{se[re.id]=re}),se},[J]);S.useEffect(()=>{function se(re){re.target.closest("details")||document.querySelectorAll("details[open]").forEach(je=>{je.removeAttribute("open")})}return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[]),S.useEffect(()=>{if(!d)return;const se=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=se}},[d]);function Be(){C(""),I(""),R([]),O(1),$(""),H("")}function ke(){g(null),Be(),h(!0)}function Ae(se){g(se),C(se.name??""),I(se.address??""),O(se.chainId??1),R(se.tags??[]),$(""),se.metadata?.ABI?H(JSON.stringify(se.metadata.ABI,null,2)):H(""),h(!0)}function yt(){h(!1),g(null),Be()}function it(){const se=k.trim();if(!se)return;const re=se.split(",").map(Ee=>Ee.trim()).filter(Boolean);R(Ee=>{const je=new Set(Ee.map(ze=>ze.toLowerCase())),lt=[...Ee];for(const ze of re)je.has(ze.toLowerCase())||lt.push(ze);return lt}),$("")}function dt(se){R(re=>re.filter(Ee=>Ee!==se))}async function vt(se){se.preventDefault();const re=_.trim();if(!re)return;const Ee={name:re,address:A.trim()||void 0,chainId:T||void 0,tags:P.length>0?P:void 0,metadata:F.trim()?{ABI:JSON.parse(F)}:void 0};m?await ye(m.id,Ee):await G(Ee),yt()}return ne?v.jsx("div",{className:"p-4",children:"Loading contracts"}):L?v.jsx("div",{className:"p-4 text-red-600",children:L}):v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Smart Contracts"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:se=>e(se.target.value)}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsx(_e,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s}),"",v.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:ke,children:"+ Add contract"})]})]}),U.length===0?v.jsx("div",{className:"text-sm text-muted",children:"No contracts yet. Add one from the transaction screen or here."}):v.jsx("ul",{className:"space-y-2 overflow-visible",children:U.map(se=>v.jsxs("li",{className:`
    grid gap-x-6 gap-y-2 rounded-lg border px-4 py-3 text-sm
    grid-cols-1
    sm:grid-cols-[80px_80px_1fr_110px] sm:items-start sm:px-8
  `,children:[v.jsx("div",{className:"min-w-0",children:v.jsx("span",{className:"font-medium",children:se.name})}),v.jsx("div",{className:"min-w-0",children:v.jsx("div",{className:"space-y-1 text-[11px] text-muted",children:se.address})}),v.jsx("div",{className:"min-w-0",children:v.jsx("div",{className:"space-y-1 text-[11px] text-muted",children:Y[se.chainId]??se.chainId})}),v.jsx("div",{className:"min-w-0",children:se.tags&&se.tags.length>0&&v.jsx("div",{className:"mt-2 flex flex-wrap gap-10 text-[11px] text-muted",children:se.tags.map(re=>v.jsxs("span",{className:"px-10 py-0.5",children:["#",re]},re))})}),v.jsx("div",{className:"justify-self-start sm:justify-self-end overflow-visible",children:v.jsxs("details",{className:"relative inline-block overflow-visible",children:[v.jsx("summary",{className:"cursor-pointer list-none rounded-md border bg-background px-2 py-1 text-xs",children:"Actions"}),v.jsxs("div",{className:"absolute left-0 mt-1 w-40 rounded-md border border-neutral-200 bg-background shadow-lg z-50",children:[v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:re=>{re.currentTarget.closest("details")?.removeAttribute("open"),Ae(se)},children:"Edit"}),v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:re=>{re.currentTarget.closest("details")?.removeAttribute("open"),Ce(se,!(xe[se.id]?.isVisible??!0))},children:xe[se.id]?.isVisible??!0?"Hide":"Show"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:re=>{re.currentTarget.closest("details")?.removeAttribute("open"),te(se.id)},children:"Remove"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:re=>{re.preventDefault(),re.stopPropagation(),w(bD(se))},children:"Share"})]})]})})]},se.id))}),d?rn.createPortal(v.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:se=>{se.target===se.currentTarget&&yt()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:v.jsxs("div",{className:"bg-background",onMouseDown:se=>se.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[v.jsx("h2",{className:"mb-3 text-base font-semibold",children:m?"Edit contract":"Add contract"}),v.jsxs("form",{className:"space-y-4",onSubmit:vt,children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Name"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:_,onChange:se=>C(se.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Address or ENS"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:A,onChange:se=>{const re=se.target.value.trim(),Ee=ae.test(re),je=q.test(re);(re===""||Ee||je)&&I(se.target.value)}})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Chain"}),v.jsx("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:T,onChange:se=>O(Number(se.target.value)),children:Object.entries(Y).map(([se,re])=>v.jsx("option",{value:se,children:re},se))})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"ABI (JSON)"}),v.jsx("textarea",{className:"w-full rounded-md border px-2 py-1 text-sm",rows:6,value:F,onChange:se=>{const re=se.target.value;if(re.trim()===""){H(re);return}try{const Ee=JSON.parse(re);typeof Ee=="object"&&Ee!==null&&H(re)}catch{}}})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Tags"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",placeholder:"Type a tag and press Enter or comma",value:k,onChange:se=>$(se.target.value),onKeyDown:se=>{(se.key==="Enter"||se.key===",")&&(se.preventDefault(),it())}}),v.jsx("button",{type:"button",className:"rounded-md border px-2 py-1 text-xs",onClick:it,children:"Add"})]}),P.length>0&&v.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[10px] text-muted",children:P.map(se=>v.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-0.5",onClick:()=>dt(se),title:"Click to remove",children:[v.jsxs("span",{children:["#",se]}),v.jsx("span",{"aria-hidden":!0,children:""})]},se))})]}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:yt,children:"Cancel"}),"",v.jsxs("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",children:["",m?"Save changes":"Create contract",""]})]})]})]})}),document.body):null,V?rn.createPortal(v.jsx("div",{onClick:se=>{se.target===se.currentTarget&&yt()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{onClick:se=>se.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[v.jsx("h2",{className:"text-base font-semibold",children:"Delete contract?"}),v.jsx("p",{className:"mt-2 text-sm text-muted",children:"This will delete the contract and remove it from your address book. This action cannot be undone."}),v.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[v.jsx("button",{className:"rounded-md border px-3 py-1 text-sm",onClick:()=>te(null),children:"Cancel"}),v.jsx("button",{className:"rounded-md bg-primary px-3 py-1 text-sm text-background",onClick:()=>{V&&pe(V),te(null)},children:"Yes, delete contract"})]})]})}),document.body):null,b&&v.jsx(A0,{payload:b,onClose:()=>w(null)})]})}const fy="cointrol:contacts:v1",P3="cointrol:contacts:schemaVersion",md=1,Am=new Set;function _D(t){for(const e of Am)e(t)}function CD(t){return Am.add(t),()=>{Am.delete(t)}}async function AD(){const t=await St(P3);return t||md}async function SD(t){await hn(P3,t)}async function ID(){const t=await AD();t!==md&&(await St(fy),t<md&&await SD(md))}async function S0(){return await ID(),await St(fy)??[]}async function I0(t){await hn(fy,t),_D(t)}async function R3(){return S0()}async function k3(t){const e=Date.now(),n=await S0(),r={id:`contact:${crypto.randomUUID?.()??`${e}:${n.length}`}`,name:t.name,surname:t.surname||void 0,tags:t.tags||void 0,wallets:t.wallets||void 0,createdAt:e,updatedAt:e},o=[...n,r];return await I0(o),await Ug({id:`address:${r.id}`,name:r.name+(r.surname?` ${r.surname}`:""),isContact:!0,isVisible:!0,indexOrder:n.length}),o}async function TD(t,e){const n=await S0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await I0(o),await Hg(`address:${t}`,{name:e.name||n.find(i=>i.id===t)?.name||""}),o}async function ND(t){const n=(await S0()).filter(r=>r.id!==t);return await I0(n),await Vg(`address:${t}`),n}async function OD(){await I0([])}function D3(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await R3();a||(e(u),r(!1))}catch(u){console.error("[Contacts] Failed to load:",u),a||(i(u?.message??"Failed to load contacts"),r(!1))}})();const s=CD(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{contacts:t,loading:n,error:o,addContact:k3,updateContact:TD,deleteContact:ND,clearContacts:OD}}function PD(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="surnameDesc"?n.sort((r,o)=>{const i=r.surname?.toLowerCase()??"";return(o.surname?.toLowerCase()??"").localeCompare(i)}):e==="surnameAsc"?n.sort((r,o)=>{const i=r.surname?.toLowerCase()??"",a=o.surname?.toLowerCase()??"";return i.localeCompare(a)}):e==="createdAsc"&&n.sort((r,o)=>r.createdAt-o.createdAt),n}function RD(t={}){const{contacts:e,loading:n,error:r,addContact:o,updateContact:i,deleteContact:a,clearContacts:s}=D3(),{query:u="",sortMode:f="nameAsc",tags:d=[],tagMode:h="any"}=t;return{contacts:S.useMemo(()=>{let g=e;if(u.trim()){const b=u.trim().toLowerCase();g=g.filter(w=>w.name.toLowerCase().includes(b)||w.surname?.toLowerCase().includes(b))}return d&&d.length>0&&(h=="any"?g=g.filter(b=>b.tags?.some(w=>d.includes(w))):g=g.filter(b=>d.every(w=>b.tags?.includes(w)))),PD(g,f)},[e,u,f,d,h]),loading:n,error:r,addContact:o,updateContact:i,deleteContact:a,clearContacts:s}}function kD(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),[d,h]=S.useState(!1),[m,g]=S.useState(null),[b,w]=S.useState(null),[_,C]=S.useState(""),[A,I]=S.useState(""),[T,O]=S.useState([]),[P,R]=S.useState(""),[k,$]=S.useState([]),[F,H]=S.useState(null),V=/^0x[0-9a-fA-F]{40}$/,te=/^[a-z0-9-]+\.eth$/i,ae={1:"Ethereum",11155111:"Sepolia",31337:"Local"},{address:q,updateAddress:Y}=Gg(),{contacts:J,loading:B,error:U,addContact:ne,deleteContact:L,updateContact:G}=RD({query:t,sortMode:n,tags:o,tagMode:a});function pe({sortMode:re,setSortMode:Ee,tagSearch:je,setTagSearch:lt,setTags:ze,tagMode:pt,setTagSearchMode:wt}){const[Rt,kt]=S.useState(!1),an=S.useRef(null),[pn,ve]=S.useState({top:0,left:0,width:320}),De=()=>kt(!1),Xe=S.useCallback(()=>{if(!an.current)return;const le=an.current.getBoundingClientRect(),Le=8,et=Math.min(360,window.innerWidth-Le*2),Ye=le.bottom+8,Qe=le.right-et,ft=Math.min(Math.max(Le,Qe),window.innerWidth-et-Le);ve({top:Ye,left:ft,width:et})},[]),Q=()=>{const le=!Rt;le&&Xe(),kt(le)};return S.useEffect(()=>{if(!Rt)return;const le=Le=>{Le.key==="Escape"&&De()};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[Rt]),S.useEffect(()=>{if(Rt)return window.addEventListener("resize",Xe),window.addEventListener("scroll",Xe,!0),()=>{window.removeEventListener("resize",Xe),window.removeEventListener("scroll",Xe,!0)}},[Rt,Xe]),v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:an,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:Q,children:"Sort / Filter"}),Rt&&typeof document<"u"&&rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:De,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),v.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:pn.top,left:pn.left,width:pn.width,padding:12},onClick:le=>le.stopPropagation(),children:[v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),v.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:re,onChange:le=>Ee(le.target.value),children:[v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"surnameAsc",children:"Surname (A  Z)"}),v.jsx("option",{value:"surnameDesc",children:"Surname (Z  A)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),v.jsx("div",{className:"my-3 border-t border-border"}),v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:je,onChange:le=>{const Le=le.target.value;lt(Le);const et=Le.split(",").map(Ye=>Ye.trim()).filter(Boolean);ze(et)}}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-muted",children:"Mode"}),v.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:pt,onChange:le=>wt(le.target.value),children:[v.jsx("option",{value:"any",children:"Match any"}),v.jsx("option",{value:"all",children:"Match all"})]}),v.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{lt(""),ze([]),wt("any")},children:"Clear"})]}),v.jsx("div",{className:"mt-3 flex justify-end",children:v.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:De,children:"Done"})})]})]}),document.body)]})}function ye(re,Ee){Y(re.id,{name:re.name,isVisible:Ee,group:re.tags??[]})}const _e=S.useMemo(()=>{const re={};return q.forEach(Ee=>{re[Ee.id]=Ee}),re},[q]);S.useEffect(()=>{function re(Ee){Ee.target.closest("details")||document.querySelectorAll("details[open]").forEach(lt=>{lt.removeAttribute("open")})}return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]),S.useEffect(()=>{if(!d)return;const re=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=re}},[d]);function Ce(){C(""),I(""),O([]),R(""),$([])}function xe(){g(null),Ce(),h(!0)}function Be(re){g(re),C(re.name??""),I(re.surname??""),O(re.tags??[]),R(""),$(re.wallets??[]),h(!0)}function ke(){h(!1),g(null),Ce()}function Ae(){const re=P.trim();if(!re)return;const Ee=re.split(",").map(je=>je.trim()).filter(Boolean);O(je=>{const lt=new Set(je.map(pt=>pt.toLowerCase())),ze=[...je];for(const pt of Ee)lt.has(pt.toLowerCase())||ze.push(pt);return ze}),R("")}function yt(re){O(Ee=>Ee.filter(je=>je!==re))}function it(re,Ee,je){$(lt=>{const ze=[...lt],pt={...ze[re]};if(Ee==="chainId"){const wt=typeof je=="number"?je:Number(je);Number.isFinite(wt)&&(pt.chainId=wt)}else pt.address=String(je);return ze[re]=pt,ze})}function dt(){$(re=>[...re,{chainId:1,address:""}])}function vt(re){$(Ee=>Ee.filter((je,lt)=>lt!==re))}async function se(re){re.preventDefault();const Ee=k.map(ze=>({...ze,address:ze.address.trim()})).filter(ze=>ze.address!=="");for(const ze of Ee)if(!V.test(ze.address)&&!te.test(ze.address)){alert(`Invalid wallet address: ${ze.address}`);return}const je=_.trim();if(!je)return;const lt={name:je,surname:A.trim()||void 0,tags:T.length>0?T:void 0,wallets:k.filter(ze=>ze.address.trim()).filter(ze=>ze.chainId>0)};m?await G(m.id,lt):await ne(lt),ke()}return B?v.jsx("div",{className:"p-4",children:"Loading contacts"}):U?v.jsx("div",{className:"p-4 text-red-600",children:U}):v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Contacts"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:re=>e(re.target.value)}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsx(pe,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s}),"",v.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:xe,children:"+ Add contact"})]})]}),J.length===0?v.jsx("div",{className:"text-sm text-muted",children:"No contacts yet. Add one from the transaction screen or here."}):v.jsx("ul",{className:"space-y-2 overflow-visible",children:J.map(re=>v.jsxs("li",{className:`
    grid gap-x-6 gap-y-2 rounded-lg border px-4 py-3 text-sm
    grid-cols-1
    sm:grid-cols-[80px_80px_1fr_110px] sm:items-start sm:px-8
  `,children:[v.jsx("div",{className:"min-w-0",children:v.jsx("div",{className:"font-medium",children:re.name})}),v.jsx("div",{className:"min-w-0",children:v.jsx("div",{className:"text-xs text-muted",children:re.surname})}),v.jsxs("div",{className:"min-w-0",children:[re.wallets?.length>0&&v.jsx("div",{className:"space-y-1 text-[11px] text-muted",children:re.wallets.map((Ee,je)=>v.jsxs("div",{className:"font-mono break-all",children:[ae[Ee.chainId]??Ee.chainId,": ",Ee.address]},je))}),re.tags&&re.tags?.length>0&&v.jsx("div",{className:"mt-2 flex flex-wrap gap-2 sm:gap-6 text-[11px] text-muted",children:re.tags.map(Ee=>v.jsxs("span",{className:"px-2 py-0.5 sm:px-4",children:["#",Ee]},Ee))})]}),v.jsx("div",{className:"justify-self-start sm:justify-self-end overflow-visible",children:v.jsxs("details",{className:"relative inline-block overflow-visible",children:[v.jsx("summary",{className:"cursor-pointer list-none rounded-md border bg-background px-2 py-1 text-xs",children:"Actions"}),v.jsxs("div",{className:"absolute left-0 mt-1 w-40 rounded-md border border-neutral-200 bg-background shadow-lg z-50",children:[v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:Ee=>{Ee.currentTarget.closest("details")?.removeAttribute("open"),Be(re)},children:"Edit"}),v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:Ee=>{Ee.currentTarget.closest("details")?.removeAttribute("open"),ye(re,!(_e[re.id]?.isVisible??!0))},children:_e[re.id]?.isVisible??!0?"Hide":"Show"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:Ee=>{Ee.currentTarget.closest("details")?.removeAttribute("open"),H(re.id)},children:"Remove"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),w(vD(re))},children:"Share"})]})]})})]},re.id))}),d?rn.createPortal(v.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:re=>{re.target===re.currentTarget&&ke()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:v.jsxs("div",{className:"bg-background",onMouseDown:re=>re.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[v.jsx("h2",{className:"mb-3 text-base font-semibold",children:m?"Edit contact":"Add contact"}),v.jsxs("form",{className:"space-y-4",onSubmit:se,children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Name"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:_,onChange:re=>C(re.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Surname (optional)"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:A,onChange:re=>I(re.target.value)})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Tags"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",placeholder:"Type a tag and press Enter or comma",value:P,onChange:re=>R(re.target.value),onKeyDown:re=>{(re.key==="Enter"||re.key===",")&&(re.preventDefault(),Ae())}}),v.jsx("button",{type:"button",className:"rounded-md border px-2 py-1 text-xs",onClick:Ae,children:"Add"})]}),T.length>0&&v.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[10px] text-muted",children:T.map(re=>v.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-0.5",onClick:()=>yt(re),title:"Click to remove",children:[v.jsxs("span",{children:["#",re]}),v.jsx("span",{"aria-hidden":!0,children:""})]},re))})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Wallets"}),k.length===0&&v.jsx("div",{className:"text-[11px] text-muted",children:"No wallets yet."}),v.jsx("div",{className:"space-y-2",children:k.map((re,Ee)=>v.jsxs("div",{className:"grid gap-2 rounded-md border px-2 py-2",children:[v.jsxs("div",{className:"flex items-center justify-between gap-2",children:[v.jsx("select",{className:"h-8 w-28 rounded-md border px-2 text-xs",value:re.chainId,onChange:je=>it(Ee,"chainId",Number(je.target.value)),children:Object.entries(ae).map(([je,lt])=>v.jsx("option",{value:je,children:lt},je))}),v.jsx("button",{type:"button",className:"shrink-0 whitespace-nowrap text-[11px] text-red-600 underline",onClick:()=>vt(Ee),children:"Remove"})]}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-xs font-mono",placeholder:"0x...",value:re.address,onChange:je=>it(Ee,"address",je.target.value)})]},Ee))}),v.jsx("button",{type:"button",className:"mt-1 rounded-md border px-2 py-1 text-xs",onClick:dt,children:"+ Add wallet"})]}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:ke,children:"Cancel"}),v.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",children:m?"Save changes":"Create contact"})]})]})]})}),document.body):null,F?rn.createPortal(v.jsx("div",{onClick:re=>{re.target===re.currentTarget&&ke()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{onClick:re=>re.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[v.jsx("h2",{className:"text-base font-semibold",children:"Delete contact?"}),v.jsx("p",{className:"mt-2 text-sm text-muted",children:"This will delete the contact and remove it from your address book. This action cannot be undone."}),v.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[v.jsx("button",{className:"rounded-md border px-3 py-2 text-sm",onClick:()=>H(null),children:"Cancel"}),v.jsx("button",{className:"rounded-md bg-primary px-3 py-2 text-sm text-background",onClick:()=>{F&&L(F),H(null)},children:"Yes, delete contact"})]})]})}),document.body):null,b&&v.jsx(A0,{payload:b,onClose:()=>w(null)})]})}const dy="cointrol:coins:v1",M3="cointrol:coins:schemaVersion",gd=1,Js=[{id:"builtin:eth-sepolia",name:"Ether Sepolia",symbol:"ETH",decimals:18,chainId:11155111,address:"0x0",type:"NATIVE",tags:[],createdAt:0,updatedAt:0},{id:"builtin:eth-mainnet",name:"Ether",symbol:"ETH",decimals:18,chainId:1,address:"0x0",type:"NATIVE",tags:[],createdAt:0,updatedAt:0}],Sm=new Set;function DD(t){const e=[...Js,...t];for(const n of Sm)n(e)}function MD(t){return Sm.add(t),()=>{Sm.delete(t)}}async function BD(){const t=await St(M3);return t||gd}async function LD(t){await hn(M3,t)}async function FD(){const t=await BD();t!==gd&&(await St(dy),t<gd&&await LD(gd))}async function T0(){return await FD(),await St(dy)??[]}async function N0(t){await hn(dy,t),DD(t)}async function O0(){const t=await T0();return[...Js,...t]}async function B3(t){const e=Date.now(),n=await T0(),r={id:`coin:${crypto.randomUUID?.()??`${e}:${n.length}`}`,tags:t.tags||void 0,name:t.name,decimals:t.decimals,chainId:t.chainId,address:t.address,symbol:t.symbol,type:t.type,createdAt:e,updatedAt:e},o=[...n,r];return await N0(o),o}async function jD(t,e){if(Js.some(i=>i.id===t))return O0();const n=await T0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await N0(o),[...Js,...o]}async function zD(t){if(Js.some(r=>r.id===t))return O0();const n=(await T0()).filter(r=>r.id!==t);return await N0(n),[...Js,...n]}async function $D(){await N0([])}function UD(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await O0();a||(e(u),r(!1))}catch(u){console.error("[Coins] Failed to load:",u),a||(i(u?.message??"Failed to load coins"),r(!1))}})();const s=MD(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{coins:t,loading:n,error:o,addCoin:B3,updateCoin:jD,deleteCoin:zD,clearCoins:$D}}function HD(t,e="createdAsc"){const n=[...t];return e==="nameAsc"?n.sort((r,o)=>r.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase())):e==="nameDesc"?n.sort((r,o)=>o.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase())):e==="createdAsc"?n.sort((r,o)=>r.createdAt-o.createdAt):e==="createdDesc"?n.sort((r,o)=>o.createdAt-r.createdAt):e==="chainIdAsc"?n.sort((r,o)=>r.chainId-o.chainId):e==="chainIdDesc"?n.sort((r,o)=>o.chainId-r.chainId):e==="symbolAsc"?n.sort((r,o)=>r.symbol.toLocaleLowerCase().localeCompare(o.symbol.toLocaleLowerCase())):e==="symbolDesc"&&n.sort((r,o)=>o.symbol.toLocaleLowerCase().localeCompare(r.symbol.toLocaleLowerCase())),n}function hy(t={}){const{coins:e,loading:n,error:r,addCoin:o,updateCoin:i,deleteCoin:a,clearCoins:s}=UD(),{query:u="",sortMode:f="nameAsc",tags:d=[],tagMode:h="any",chainId:m=0,standard:g=""}=t;return{coins:S.useMemo(()=>{let w=e;if(u.trim()){const _=u.trim().toLowerCase();w=w.filter(C=>C.name.toLowerCase().includes(_)||C.address.toLowerCase().includes(_)||C.symbol.toLowerCase().includes(_))}return g&&(w=w.filter(_=>_.type===g)),m!=0&&(w=w.filter(_=>_.chainId===m)),d&&d.length>0&&(h=="any"?w=w.filter(_=>_.tags?.some(C=>d.includes(C))):w=w.filter(_=>d.every(C=>_.tags?.includes(C)))),HD(w,f)},[e,u,f,d,h,g,m]),loading:n,error:r,addCoin:o,updateCoin:i,deleteCoin:a,clearCoins:s}}const py="cointrol:folios:v1",L3="cointrol:folios:schemaVersion",yd=1,Im=new Set;function VD(t){for(const e of Im)e(t)}function GD(t){return Im.add(t),()=>{Im.delete(t)}}async function WD(){const t=await St(L3);return t||yd}async function ZD(t){await hn(L3,t)}async function XD(){const t=await WD();t!==yd&&(await St(py),t<yd&&await ZD(yd))}async function P0(){return await XD(),await St(py)??[]}async function R0(t){await hn(py,t),VD(t)}async function qD(){return P0()}async function KD(t){const e=Date.now(),n=await P0(),r={id:`folio:${crypto.randomUUID?.()??`${e}:${n.length}`}`,chainId:t.chainId,name:t.name,address:t.address,paymaster:t.paymaster,type:t.type,bundler:t.bundler,wallet:t.wallet||void 0,createdAt:e,updatedAt:e},o=[...n,r];return await R0(o),o}async function YD(t,e){const n=await P0(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await R0(o),o}async function JD(t){const n=(await P0()).filter(r=>r.id!==t);return await R0(n),n}async function QD(){await R0([])}function my(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await qD();a||(e(u),r(!1))}catch(u){console.error("[Folios] Failed to load:",u),a||(i(u?.message??"Failed to load Folios"),r(!1))}})();const s=GD(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{folios:t,loading:n,error:o,addFolio:KD,updateFolio:YD,deleteFolio:JD,clearFolios:QD}}const gy="cointrol:domains:v1",F3="cointrol:domains:schemaVersion",vd=1,j3=[{name:"ETHEREUM SEPOLIA",chainId:11155111,entryPoint:"0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",paymaster:"0x55E6773E922a5bcb716ac5205ED8005BF543bfE3",bundler:"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",rpcUrl:"https://ethereum-sepolia-rpc.publicnode.com",transactionUrl:"https://sepolia.etherscan.io/tx/",createdAt:0,updatedAt:0}],Tm=new Set;function eM(t){const e=[...t,...j3];for(const n of Tm)n(e)}function tM(t){return Tm.add(t),()=>{Tm.delete(t)}}async function nM(){const t=await St(F3);return t||vd}async function rM(t){await hn(F3,t)}async function oM(){const t=await nM();t!==vd&&(await St(gy),t<vd&&await rM(vd))}async function k0(){return await oM(),await St(gy)??[]}async function D0(t){await hn(gy,t),eM(t)}async function iM(){return[...await k0(),...j3]}async function aM(t){const e=Date.now(),n=await k0(),r={chainId:t.chainId,name:t.name,entryPoint:t.entryPoint,paymaster:t.paymaster,bundler:t.bundler,rpcUrl:t.rpcUrl,transactionUrl:t.transactionUrl,createdAt:e,updatedAt:e},o=[...n,r];return await D0(o),o}async function sM(t,e){const n=await k0(),r=Date.now(),o=n.map(i=>i.name===t?{...i,...e,updatedAt:r}:i);return await D0(o),o}async function cM(t){const n=(await k0()).filter(r=>r.name!==t);return await D0(n),n}async function uM(){await D0([])}function yy(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await iM();a||(e(u),r(!1))}catch(u){console.error("[Domains] Failed to load:",u),a||(i(u?.message??"Failed to load domains"),r(!1))}})();const s=tM(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{domains:t,loading:n,error:o,addDomain:aM,updateDomain:sM,deleteDomain:cM,clearDomain:uM}}const lM="1.1.0";let br=class Nm extends Error{constructor(e,n={}){const r=n.cause instanceof Nm?n.cause.details:n.cause?.message?n.cause.message:n.details,o=n.cause instanceof Nm&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${lM}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.shortMessage=e}};function _i(t,e){return t.exec(e)?.groups}const z3=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$3=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,U3=/^\(.+?\).*?$/,vb=/^tuple(?<array>(\[(\d*)\])*)$/;function Om(t){let e=t.type;if(vb.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let o=0;o<n;o++){const i=t.components[o];e+=Om(i),o<n-1&&(e+=", ")}const r=_i(vb,t.type);return e+=`)${r?.array??""}`,Om({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Ns(t){let e="";const n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=Om(o),r!==n-1&&(e+=", ")}return e}function jd(t){return t.type==="function"?`function ${t.name}(${Ns(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Ns(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Ns(t.inputs)})`:t.type==="error"?`error ${t.name}(${Ns(t.inputs)})`:t.type==="constructor"?`constructor(${Ns(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const H3=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function fM(t){return H3.test(t)}function dM(t){return _i(H3,t)}const V3=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function hM(t){return V3.test(t)}function pM(t){return _i(V3,t)}const G3=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function mM(t){return G3.test(t)}function gM(t){return _i(G3,t)}const W3=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function M0(t){return W3.test(t)}function yM(t){return _i(W3,t)}const Z3=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function vM(t){return Z3.test(t)}function bM(t){return _i(Z3,t)}const X3=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function xM(t){return X3.test(t)}function wM(t){return _i(X3,t)}const EM=/^receive\(\) external payable$/;function _M(t){return EM.test(t)}const bb=new Set(["memory","indexed","storage","calldata"]),CM=new Set(["indexed"]),Pm=new Set(["calldata","memory","storage"]);class AM extends br{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class SM extends br{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class IM extends br{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class TM extends br{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class NM extends br{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class OM extends br{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class PM extends br{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class RM extends br{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class kM extends br{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class yc extends br{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class DM extends br{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class MM extends br{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class BM extends br{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class LM extends br{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function FM(t,e,n){let r="";if(n)for(const o of Object.entries(n)){if(!o)continue;let i="";for(const a of o[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${o[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Ap=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Rm(t,e={}){if(mM(t))return jM(t,e);if(hM(t))return zM(t,e);if(fM(t))return $M(t,e);if(vM(t))return UM(t,e);if(xM(t))return HM(t);if(_M(t))return{type:"receive",stateMutability:"payable"};throw new DM({signature:t})}function jM(t,e={}){const n=gM(t);if(!n)throw new yc({signature:t,type:"function"});const r=Tr(n.parameters),o=[],i=r.length;for(let s=0;s<i;s++)o.push(yi(r[s],{modifiers:Pm,structs:e,type:"function"}));const a=[];if(n.returns){const s=Tr(n.returns),u=s.length;for(let f=0;f<u;f++)a.push(yi(s[f],{modifiers:Pm,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:o,outputs:a}}function zM(t,e={}){const n=pM(t);if(!n)throw new yc({signature:t,type:"event"});const r=Tr(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(yi(r[a],{modifiers:CM,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:o}}function $M(t,e={}){const n=dM(t);if(!n)throw new yc({signature:t,type:"error"});const r=Tr(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(yi(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:o}}function UM(t,e={}){const n=bM(t);if(!n)throw new yc({signature:t,type:"constructor"});const r=Tr(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(yi(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:o}}function HM(t){const e=wM(t);if(!e)throw new yc({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const VM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,GM=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,WM=/^u?int$/;function yi(t,e){const n=FM(t,e?.type,e?.structs);if(Ap.has(n))return Ap.get(n);const r=U3.test(t),o=_i(r?GM:VM,t);if(!o)throw new NM({param:t});if(o.name&&XM(o.name))throw new OM({param:t,name:o.name});const i=o.name?{name:o.name}:{},a=o.modifier==="indexed"?{indexed:!0}:{},s=e?.structs??{};let u,f={};if(r){u="tuple";const h=Tr(o.type),m=[],g=h.length;for(let b=0;b<g;b++)m.push(yi(h[b],{structs:s}));f={components:m}}else if(o.type in s)u="tuple",f={components:s[o.type]};else if(WM.test(o.type))u=`${o.type}256`;else if(o.type==="address payable")u="address";else if(u=o.type,e?.type!=="struct"&&!q3(u))throw new IM({type:u});if(o.modifier){if(!e?.modifiers?.has?.(o.modifier))throw new PM({param:t,type:e?.type,modifier:o.modifier});if(Pm.has(o.modifier)&&!qM(u,!!o.array))throw new RM({param:t,type:e?.type,modifier:o.modifier})}const d={type:`${u}${o.array??""}`,...i,...a,...f};return Ap.set(n,d),d}function Tr(t,e=[],n="",r=0){const o=t.trim().length;for(let i=0;i<o;i++){const a=t[i],s=t.slice(i+1);switch(a){case",":return r===0?Tr(s,[...e,n.trim()]):Tr(s,e,`${n}${a}`,r);case"(":return Tr(s,e,`${n}${a}`,r+1);case")":return Tr(s,e,`${n}${a}`,r-1);default:return Tr(s,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new LM({current:n,depth:r});return e.push(n.trim()),e}function q3(t){return t==="address"||t==="bool"||t==="function"||t==="string"||z3.test(t)||$3.test(t)}const ZM=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function XM(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||z3.test(t)||$3.test(t)||ZM.test(t)}function qM(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function vy(t){const e={},n=t.length;for(let a=0;a<n;a++){const s=t[a];if(!M0(s))continue;const u=yM(s);if(!u)throw new yc({signature:s,type:"struct"});const f=u.properties.split(";"),d=[],h=f.length;for(let m=0;m<h;m++){const b=f[m].trim();if(!b)continue;const w=yi(b,{type:"struct"});d.push(w)}if(!d.length)throw new MM({signature:s});e[u.name]=d}const r={},o=Object.entries(e),i=o.length;for(let a=0;a<i;a++){const[s,u]=o[a];r[s]=K3(u,e)}return r}const KM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function K3(t,e,n=new Set){const r=[],o=t.length;for(let i=0;i<o;i++){const a=t[i];if(U3.test(a.type))r.push(a);else{const u=_i(KM,a.type);if(!u?.type)throw new kM({abiParameter:a});const{array:f,type:d}=u;if(d in e){if(n.has(d))throw new BM({type:d});r.push({...a,type:`tuple${f??""}`,components:K3(e[d]??[],e,new Set([...n,d]))})}else if(q3(d))r.push(a);else throw new SM({type:d})}}return r}function Y3(t){const e=vy(t),n=[],r=t.length;for(let o=0;o<r;o++){const i=t[o];M0(i)||n.push(Rm(i,e))}return n}function xb(t){let e;if(typeof t=="string")e=Rm(t);else{const n=vy(t),r=t.length;for(let o=0;o<r;o++){const i=t[o];if(!M0(i)){e=Rm(i,n);break}}}if(!e)throw new AM({signature:t});return e}function zd(t){const e=[];if(typeof t=="string"){const n=Tr(t),r=n.length;for(let o=0;o<r;o++)e.push(yi(n[o],{modifiers:bb}))}else{const n=vy(t),r=t.length;for(let o=0;o<r;o++){const i=t[o];if(M0(i))continue;const a=Tr(i),s=a.length;for(let u=0;u<s;u++)e.push(yi(a[u],{modifiers:bb,structs:n}))}}if(e.length===0)throw new TM({params:t});return e}function $e(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const o=t[n];return typeof o=="function"?o:i=>e(t,i)}function yo(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new uB(t.type);return`${t.name}(${B0(t.inputs,{includeName:e})})`}function B0(t,{includeName:e=!1}={}){return t?t.map(n=>YM(n,{includeName:e})).join(e?", ":","):""}function YM(t,{includeName:e}){return t.type.startsWith("tuple")?`(${B0(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function zo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function on(t){return zo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const J3="2.40.2";let Sp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${J3}`},fe=class km extends Error{constructor(e,n={}){const r=n.cause instanceof km?n.cause.details:n.cause?.message?n.cause.message:n.details,o=n.cause instanceof km&&n.cause.docsPath||n.docsPath,i=Sp.getDocsUrl?.({...n,docsPath:o}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Sp.version?[`Version: ${Sp.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=J3}walk(e){return Q3(this,e)}};function Q3(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Q3(t.cause,e):e?null:t}class JM extends fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class wb extends fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class e4 extends fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${B0(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class pl extends fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class QM extends fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class eB extends fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${on(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class tB extends fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class nB extends fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Eb extends fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class t4 extends fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class rB extends fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class n4 extends fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class _b extends fe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Qs extends fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class r4 extends fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class oB extends fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class iB extends fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${yo(e.abiItem)}\`, and`,`\`${n.type}\` in \`${yo(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let aB=class extends fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Ou extends fe{constructor({abiItem:e,data:n,params:r,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${B0(r,{includeName:!0})})`,`Data:   ${n} (${o} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=o}}class L0 extends fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${yo(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class sB extends fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class cB extends fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let o4=class extends fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class uB extends fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class lB extends fe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let i4=class extends fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},a4=class extends fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Cb extends fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Qa(t,{dir:e,size:n=32}={}){return typeof t=="string"?Mo(t,{dir:e,size:n}):fB(t,{dir:e,size:n})}function Mo(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new a4({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function fB(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new a4({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const i=e==="right";r[i?o:n-o-1]=t[i?o:t.length-o-1]}return r}let s4=class extends fe{constructor({max:e,min:n,signed:r,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},dB=class extends fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class hB extends fe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let pB=class extends fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function za(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let o=0;o<n.length-1&&n[e==="left"?o:n.length-o-1].toString()==="0";o++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Eo(t,{size:e}){if(on(t)>e)throw new pB({givenSize:on(t),maxSize:e})}function $o(t,e={}){const{signed:n}=e;e.size&&Eo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const o=(t.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function mB(t,e={}){let n=t;if(e.size&&(Eo(n,{size:e.size}),n=za(n)),za(n)==="0x00")return!1;if(za(n)==="0x01")return!0;throw new hB(n)}function vi(t,e={}){return Number($o(t,e))}const gB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xr(t,e={}){return typeof t=="number"||typeof t=="bigint"?We(t,e):typeof t=="string"?ca(t,e):typeof t=="boolean"?c4(t,e):Vt(t,e)}function c4(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Eo(n,{size:e.size}),Qa(n,{size:e.size})):n}function Vt(t,e={}){let n="";for(let o=0;o<t.length;o++)n+=gB[t[o]];const r=`0x${n}`;return typeof e.size=="number"?(Eo(r,{size:e.size}),Qa(r,{dir:"right",size:e.size})):r}function We(t,e={}){const{signed:n,size:r}=e,o=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<a){const u=typeof t=="bigint"?"n":"";throw new s4({max:i?`${i}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const s=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?Qa(s,{size:r}):s}const yB=new TextEncoder;function ca(t,e={}){const n=yB.encode(t);return Vt(n,e)}const vB=new TextEncoder;function vc(t,e={}){return typeof t=="number"||typeof t=="bigint"?xB(t,e):typeof t=="boolean"?bB(t,e):zo(t)?vo(t,e):$a(t,e)}function bB(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Eo(n,{size:e.size}),Qa(n,{size:e.size})):n}const ni={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ab(t){if(t>=ni.zero&&t<=ni.nine)return t-ni.zero;if(t>=ni.A&&t<=ni.F)return t-(ni.A-10);if(t>=ni.a&&t<=ni.f)return t-(ni.a-10)}function vo(t,e={}){let n=t;e.size&&(Eo(n,{size:e.size}),n=Qa(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let a=0,s=0;a<o;a++){const u=Ab(r.charCodeAt(s++)),f=Ab(r.charCodeAt(s++));if(u===void 0||f===void 0)throw new fe(`Invalid byte sequence ("${r[s-2]}${r[s-1]}" in "${r}").`);i[a]=u*16+f}return i}function xB(t,e){const n=We(t,e);return vo(n)}function $a(t,e={}){const n=vB.encode(t);return typeof e.size=="number"?(Eo(n,{size:e.size}),Qa(n,{dir:"right",size:e.size})):n}const Kf=BigInt(2**32-1),Sb=BigInt(32);function wB(t,e=!1){return e?{h:Number(t&Kf),l:Number(t>>Sb&Kf)}:{h:Number(t>>Sb&Kf)|0,l:Number(t&Kf)|0}}function EB(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:s}=wB(t[i],e);[r[i],o[i]]=[a,s]}return[r,o]}const _B=(t,e,n)=>t<<n|e>>>32-n,CB=(t,e,n)=>e<<n|t>>>32-n,AB=(t,e,n)=>e<<n-32|t>>>64-n,SB=(t,e,n)=>t<<n-32|e>>>64-n,Ss=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function IB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Pu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ga(t,...e){if(!IB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function TB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pu(t.outputLen),Pu(t.blockLen)}function ec(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function u4(t,e){Ga(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function NB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function tc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ip(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function No(t,e){return t<<32-e|t>>>e}const OB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function PB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function RB(t){for(let e=0;e<t.length;e++)t[e]=PB(t[e]);return t}const Ib=OB?t=>t:RB;function kB(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function F0(t){return typeof t=="string"&&(t=kB(t)),Ga(t),t}function DB(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ga(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class by{}function l4(t){const e=r=>t().update(F0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function MB(t=32){if(Ss&&typeof Ss.getRandomValues=="function")return Ss.getRandomValues(new Uint8Array(t));if(Ss&&typeof Ss.randomBytes=="function")return Uint8Array.from(Ss.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const BB=BigInt(0),cu=BigInt(1),LB=BigInt(2),FB=BigInt(7),jB=BigInt(256),zB=BigInt(113),f4=[],d4=[],h4=[];for(let t=0,e=cu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],f4.push(2*(5*r+n)),d4.push((t+1)*(t+2)/2%64);let o=BB;for(let i=0;i<7;i++)e=(e<<cu^(e>>FB)*zB)%jB,e&LB&&(o^=cu<<(cu<<BigInt(i))-cu);h4.push(o)}const p4=EB(h4,!0),$B=p4[0],UB=p4[1],Tb=(t,e,n)=>n>32?AB(t,e,n):_B(t,e,n),Nb=(t,e,n)=>n>32?SB(t,e,n):CB(t,e,n);function HB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,u=(a+2)%10,f=n[u],d=n[u+1],h=Tb(f,d,1)^n[s],m=Nb(f,d,1)^n[s+1];for(let g=0;g<50;g+=10)t[a+g]^=h,t[a+g+1]^=m}let o=t[2],i=t[3];for(let a=0;a<24;a++){const s=d4[a],u=Tb(o,i,s),f=Nb(o,i,s),d=f4[a];o=t[d],i=t[d+1],t[d]=u,t[d+1]=f}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)n[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=$B[r],t[1]^=UB[r]}tc(n)}class xy extends by{constructor(e,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,Pu(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=NB(this.state)}clone(){return this._cloneInto()}keccak(){Ib(this.state32),HB(this.state32,this.rounds),Ib(this.state32),this.posOut=0,this.pos=0}update(e){ec(this),e=F0(e),Ga(e);const{blockLen:n,state:r}=this,o=e.length;for(let i=0;i<o;){const a=Math.min(n-this.pos,o-i);for(let s=0;s<a;s++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){ec(this,!1),Ga(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(u4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,tc(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:a}=this;return e||(e=new xy(n,r,o,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}}const VB=(t,e,n)=>l4(()=>new xy(e,t,n)),m4=VB(1,136,256/8);function Wt(t,e){const n=e||"hex",r=m4(zo(t,{strict:!1})?vc(t):t);return n==="bytes"?r:Xr(r)}const GB=t=>Wt(vc(t));function WB(t){return GB(t)}function ZB(t){let e=!0,n="",r=0,o="",i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function",""].includes(o))o="";else if(o+=s,s===")"){i=!0;break}continue}if(s===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}o+=s,n+=s}}if(!i)throw new fe("Unable to normalize signature.");return o}const XB=t=>{const e=typeof t=="string"?t:jd(t);return ZB(e)};function g4(t){return WB(XB(t))}const j0=g4;let ua=class extends fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},z0=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Tp=new z0(8192);function $0(t,e){if(Tp.has(`${t}.${e}`))return Tp.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Wt($a(n),"bytes"),o=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&o[a]&&(o[a]=o[a].toUpperCase()),(r[a>>1]&15)>=8&&o[a+1]&&(o[a+1]=o[a+1].toUpperCase());const i=`0x${o.join("")}`;return Tp.set(`${t}.${e}`,i),i}function y4(t,e){if(!qr(t,{strict:!1}))throw new ua({address:t});return $0(t,e)}const qB=/^0x[a-fA-F0-9]{40}$/,Np=new z0(8192);function qr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Np.has(r))return Np.get(r);const o=qB.test(t)?t.toLowerCase()===t?!0:n?$0(t)===t:!0:!1;return Np.set(r,o),o}function Uo(t){return typeof t[0]=="string"?bi(t):KB(t)}function KB(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}function bi(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function nc(t,e,n,{strict:r}={}){return zo(t,{strict:!1})?YB(t,e,n,{strict:r}):x4(t,e,n,{strict:r})}function v4(t,e){if(typeof e=="number"&&e>0&&e>on(t)-1)throw new i4({offset:e,position:"start",size:on(t)})}function b4(t,e,n){if(typeof e=="number"&&typeof n=="number"&&on(t)!==n-e)throw new i4({offset:n,position:"end",size:on(t)})}function x4(t,e,n,{strict:r}={}){v4(t,e);const o=t.slice(e,n);return r&&b4(o,e,n),o}function YB(t,e,n,{strict:r}={}){v4(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&b4(o,e,n),o}const JB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,w4=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ci(t,e){if(t.length!==e.length)throw new tB({expectedLength:t.length,givenLength:e.length});const n=QB({params:t,values:e}),r=Ey(n);return r.length===0?"0x":r}function QB({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(wy({param:t[r],value:e[r]}));return n}function wy({param:t,value:e}){const n=_y(t.type);if(n){const[r,o]=n;return tL(e,{length:r,param:{...t,type:o}})}if(t.type==="tuple")return aL(e,{param:t});if(t.type==="address")return eL(e);if(t.type==="bool")return rL(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,o="256"]=w4.exec(t.type)??[];return oL(e,{signed:r,size:Number(o)})}if(t.type.startsWith("bytes"))return nL(e,{param:t});if(t.type==="string")return iL(e);throw new sB(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ey(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?e+=32:e+=on(s)}const n=[],r=[];let o=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?(n.push(We(e+o,{size:32})),r.push(s),o+=on(s)):n.push(s)}return Uo([...n,...r])}function eL(t){if(!qr(t))throw new ua({address:t});return{dynamic:!1,encoded:Mo(t.toLowerCase())}}function tL(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new o4(t);if(!r&&t.length!==e)throw new QM({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let o=!1;const i=[];for(let a=0;a<t.length;a++){const s=wy({param:n,value:t[a]});s.dynamic&&(o=!0),i.push(s)}if(r||o){const a=Ey(i);if(r){const s=We(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Uo([s,a]):s}}if(o)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Uo(i.map(({encoded:a})=>a))}}function nL(t,{param:e}){const[,n]=e.type.split("bytes"),r=on(t);if(!n){let o=t;return r%32!==0&&(o=Mo(o,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Uo([Mo(We(r,{size:32})),o])}}if(r!==Number.parseInt(n,10))throw new eB({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Mo(t,{dir:"right"})}}function rL(t){if(typeof t!="boolean")throw new fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mo(c4(t))}}function oL(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,o=e?-r-1n:0n;if(t>r||t<o)throw new s4({max:r.toString(),min:o.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:We(t,{size:32,signed:e})}}function iL(t){const e=ca(t),n=Math.ceil(on(e)/32),r=[];for(let o=0;o<n;o++)r.push(Mo(nc(e,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Uo([Mo(We(on(e),{size:32})),...r])}}function aL(t,{param:e}){let n=!1;const r=[];for(let o=0;o<e.components.length;o++){const i=e.components[o],a=Array.isArray(t)?o:i.name,s=wy({param:i,value:t[a]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ey(r):Uo(r.map(({encoded:o})=>o))}}function _y(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const ml=t=>nc(g4(t),0,4);function es(t){const{abi:e,args:n=[],name:r}=t,o=zo(r,{strict:!1}),i=e.filter(s=>o?s.type==="function"?ml(s)===r:s.type==="event"?j0(s)===r:!1:"name"in s&&s.name===r);if(i.length===0)return;if(i.length===1)return i[0];let a;for(const s of i){if(!("inputs"in s))continue;if(!n||n.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==n.length)continue;if(n.every((f,d)=>{const h="inputs"in s&&s.inputs[d];return h?Dm(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=E4(s.inputs,a.inputs,n);if(f)throw new iB({abiItem:s,type:f[0]},{abiItem:a,type:f[1]})}a=s}}return a||i[0]}function Dm(t,e){const n=typeof t,r=e.type;switch(r){case"address":return qr(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>Dm(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(o=>Dm(o,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function E4(t,e,n){for(const r in t){const o=t[r],i=e[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return E4(o.components,i.components,n[r]);const a=[o.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?qr(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?qr(n[r],{strict:!1}):!1)return a}}const Ob="/docs/contract/encodeEventTopics";function gl(t){const{abi:e,eventName:n,args:r}=t;let o=e[0];if(n){const u=es({abi:e,name:n});if(!u)throw new _b(n,{docsPath:Ob});o=u}if(o.type!=="event")throw new _b(void 0,{docsPath:Ob});const i=yo(o),a=j0(i);let s=[];if(r&&"inputs"in o){const u=o.inputs?.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?u?.map(d=>r[d.name])??[]:[];f.length>0&&(s=u?.map((d,h)=>Array.isArray(f[h])?f[h].map((m,g)=>Pb({param:d,value:f[h][g]})):typeof f[h]<"u"&&f[h]!==null?Pb({param:d,value:f[h]}):null)??[])}return[a,...s]}function Pb({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Wt(vc(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new lB(t.type);return Ci([t],[e])}function U0(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:o,status:i,transport:a})=>{i==="success"&&e===r&&(n[o]=a.request)}),(r=>n[r]||t.request)}async function _4(t,e){const{address:n,abi:r,args:o,eventName:i,fromBlock:a,strict:s,toBlock:u}=e,f=U0(t,{method:"eth_newFilter"}),d=i?gl({abi:r,args:o,eventName:i}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?We(a):a,toBlock:typeof u=="bigint"?We(u):u,topics:d}]});return{abi:r,args:o,eventName:i,id:h,request:f(h),strict:!!s,type:"event"}}function Nr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Rb="/docs/contract/encodeFunctionData";function sL(t){const{abi:e,args:n,functionName:r}=t;let o=e[0];if(r){const i=es({abi:e,args:n,name:r});if(!i)throw new Qs(r,{docsPath:Rb});o=i}if(o.type!=="function")throw new Qs(void 0,{docsPath:Rb});return{abi:[o],functionName:ml(yo(o))}}function Or(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:sL(t),o=n[0],i=r,a="inputs"in o&&o.inputs?Ci(o.inputs,e??[]):void 0;return bi([i,a??"0x"])}const cL={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},C4={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},uL={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let kb=class extends fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},A4=class extends fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},lL=class extends fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const fL={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new lL({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new A4({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new kb({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new kb({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Cy(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(fL);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function dL(t,e={}){typeof e.size<"u"&&Eo(t,{size:e.size});const n=Vt(t,e);return $o(n,e)}function hL(t,e={}){let n=t;if(typeof e.size<"u"&&(Eo(n,{size:e.size}),n=za(n)),n.length>1||n[0]>1)throw new dB(n);return!!n[0]}function pi(t,e={}){typeof e.size<"u"&&Eo(t,{size:e.size});const n=Vt(t,e);return vi(n,e)}function pL(t,e={}){let n=t;return typeof e.size<"u"&&(Eo(n,{size:e.size}),n=za(n,{dir:"right"})),new TextDecoder().decode(n)}function yl(t,e){const n=typeof e=="string"?vo(e):e,r=Cy(n);if(on(n)===0&&t.length>0)throw new pl;if(on(e)&&on(e)<32)throw new e4({data:typeof e=="string"?e:Vt(e),params:t,size:on(e)});let o=0;const i=[];for(let a=0;a<t.length;++a){const s=t[a];r.setPosition(o);const[u,f]=Us(r,s,{staticPosition:0});o+=f,i.push(u)}return i}function Us(t,e,{staticPosition:n}){const r=_y(e.type);if(r){const[o,i]=r;return gL(t,{...e,type:i},{length:o,staticPosition:n})}if(e.type==="tuple")return xL(t,e,{staticPosition:n});if(e.type==="address")return mL(t);if(e.type==="bool")return yL(t);if(e.type.startsWith("bytes"))return vL(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return bL(t,e);if(e.type==="string")return wL(t,{staticPosition:n});throw new cB(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Db=32,Mm=32;function mL(t){const e=t.readBytes(32);return[$0(Vt(x4(e,-20))),32]}function gL(t,e,{length:n,staticPosition:r}){if(!n){const a=pi(t.readBytes(Mm)),s=r+a,u=s+Db;t.setPosition(s);const f=pi(t.readBytes(Db)),d=Ru(e);let h=0;const m=[];for(let g=0;g<f;++g){t.setPosition(u+(d?g*32:h));const[b,w]=Us(t,e,{staticPosition:u});h+=w,m.push(b)}return t.setPosition(r+32),[m,32]}if(Ru(e)){const a=pi(t.readBytes(Mm)),s=r+a,u=[];for(let f=0;f<n;++f){t.setPosition(s+f*32);const[d]=Us(t,e,{staticPosition:s});u.push(d)}return t.setPosition(r+32),[u,32]}let o=0;const i=[];for(let a=0;a<n;++a){const[s,u]=Us(t,e,{staticPosition:r+o});o+=u,i.push(s)}return[i,o]}function yL(t){return[hL(t.readBytes(32),{size:32}),32]}function vL(t,e,{staticPosition:n}){const[r,o]=e.type.split("bytes");if(!o){const a=pi(t.readBytes(32));t.setPosition(n+a);const s=pi(t.readBytes(32));if(s===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(s);return t.setPosition(n+32),[Vt(u),32]}return[Vt(t.readBytes(Number.parseInt(o,10),32)),32]}function bL(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),o=t.readBytes(32);return[r>48?dL(o,{signed:n}):pi(o,{signed:n}),32]}function xL(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),o=r?[]:{};let i=0;if(Ru(e)){const a=pi(t.readBytes(Mm)),s=n+a;for(let u=0;u<e.components.length;++u){const f=e.components[u];t.setPosition(s+i);const[d,h]=Us(t,f,{staticPosition:s});i+=h,o[r?u:f?.name]=d}return t.setPosition(n+32),[o,32]}for(let a=0;a<e.components.length;++a){const s=e.components[a],[u,f]=Us(t,s,{staticPosition:n});o[r?a:s?.name]=u,i+=f}return[o,i]}function wL(t,{staticPosition:e}){const n=pi(t.readBytes(32)),r=e+n;t.setPosition(r);const o=pi(t.readBytes(32));if(o===0)return t.setPosition(e+32),["",32];const i=t.readBytes(o,32),a=pL(za(i));return t.setPosition(e+32),[a,32]}function Ru(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Ru);const n=_y(t.type);return!!(n&&Ru({...t,type:n[1]}))}function EL(t){const{abi:e,data:n}=t,r=nc(n,0,4);if(r==="0x")throw new pl;const i=[...e||[],C4,uL].find(a=>a.type==="error"&&r===ml(yo(a)));if(!i)throw new t4(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?yl(i.inputs,nc(n,4)):void 0,errorName:i.name}}const zn=(t,e,n)=>JSON.stringify(t,(r,o)=>typeof o=="bigint"?o.toString():o,n);function S4({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((o,i)=>`${r&&o.name?`${o.name}: `:""}${typeof e[i]=="object"?zn(e[i]):e[i]}`).join(", ")})`}const _L={gwei:9,wei:18},CL={ether:-9,wei:9};function I4(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[o,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${o||"0"}${i?`.${i}`:""}`}function Ay(t,e="wei"){return I4(t,_L[e])}function gr(t,e="wei"){return I4(t,CL[e])}class AL extends fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class SL extends fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Mb(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function IL(t){return t.reduce((e,{address:n,...r})=>{let o=`${e}    ${n}:
`;return r.nonce&&(o+=`      nonce: ${r.nonce}
`),r.balance&&(o+=`      balance: ${r.balance}
`),r.code&&(o+=`      code: ${r.code}
`),r.state&&(o+=`      state:
`,o+=Mb(r.state)),r.stateDiff&&(o+=`      stateDiff:
`,o+=Mb(r.stateDiff)),o},`  State Override:
`).slice(0,-1)}function vl(t){const e=Object.entries(t).map(([r,o])=>o===void 0||o===!1?null:[r,o]).filter(Boolean),n=e.reduce((r,[o])=>Math.max(r,o.length),0);return e.map(([r,o])=>`  ${`${r}:`.padEnd(n+1)}  ${o}`).join(`
`)}class TL extends fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",vl(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class NL extends fe{constructor(e,{account:n,docsPath:r,chain:o,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:m}){const g=vl({chain:o&&`${o?.name} (id: ${o?.id})`,from:n?.address,to:h,value:typeof m<"u"&&`${Ay(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof s<"u"&&`${gr(s)} gwei`,maxFeePerGas:typeof u<"u"&&`${gr(u)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${gr(f)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class T4 extends fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:o,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(a=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),o&&(a=`Transaction with hash "${o}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class N4 extends fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class OL extends fe{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class PL extends fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const RL=t=>t,Sy=t=>t;class O4 extends fe{constructor(e,{account:n,docsPath:r,chain:o,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:m,stateOverride:g}){const b=n?Nr(n):void 0;let w=vl({from:b?.address,to:h,value:typeof m<"u"&&`${Ay(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof s<"u"&&`${gr(s)} gwei`,maxFeePerGas:typeof u<"u"&&`${gr(u)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${gr(f)} gwei`,nonce:d});g&&(w+=`
${IL(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class P4 extends fe{constructor(e,{abi:n,args:r,contractAddress:o,docsPath:i,functionName:a,sender:s}){const u=es({abi:n,args:r,name:a}),f=u?S4({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=u?yo(u,{includeName:!0}):void 0,h=vl({address:o&&RL(o),function:d,args:f&&f!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${f}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=o,this.functionName=a,this.sender=s}}class Bm extends fe{constructor({abi:e,data:n,functionName:r,message:o}){let i,a,s,u;if(n&&n!=="0x")try{a=EL({abi:e,data:n});const{abiItem:d,errorName:h,args:m}=a;if(h==="Error")u=m[0];else if(h==="Panic"){const[g]=m;u=cL[g]}else{const g=d?yo(d,{includeName:!0}):void 0,b=d&&m?S4({abiItem:d,args:m,includeFunctionName:!1,includeName:!1}):void 0;s=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(d){i=d}else o&&(u=o);let f;i instanceof t4&&(f=i.signature,s=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(u&&u!=="execution reverted"||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,u||f].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:s,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=f}}class kL extends fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class DL extends fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class H0 extends fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class xu extends fe{constructor({body:e,cause:n,details:r,headers:o,status:i,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Sy(a)}`,e&&`Request body: ${zn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=o,this.status=i,this.url=a}}class Iy extends fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Sy(r)}`,`Request body: ${zn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Bb extends fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Sy(n)}`,`Request body: ${zn(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const ML=-1;class xr extends fe{constructor(e,{code:n,docsPath:r,metaMessages:o,name:i,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:o||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Iy?e.code:n??ML}}class kr extends xr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class ku extends xr{constructor(e){super(e,{code:ku.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ku,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Du extends xr{constructor(e){super(e,{code:Du.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Du,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Mu extends xr{constructor(e,{method:n}={}){super(e,{code:Mu.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Mu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bu extends xr{constructor(e){super(e,{code:Bu.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wa extends xr{constructor(e){super(e,{code:Wa.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class la extends xr{constructor(e){super(e,{code:la.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(la,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lu extends xr{constructor(e){super(e,{code:Lu.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Fu extends xr{constructor(e){super(e,{code:Fu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Fu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ju extends xr{constructor(e){super(e,{code:ju.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ma extends xr{constructor(e,{method:n}={}){super(e,{code:Ma.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class rc extends xr{constructor(e){super(e,{code:rc.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(rc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class zu extends xr{constructor(e){super(e,{code:zu.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Hs extends kr{constructor(e){super(e,{code:Hs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Hs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class $u extends kr{constructor(e){super(e,{code:$u.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty($u,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Uu extends kr{constructor(e,{method:n}={}){super(e,{code:Uu.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Hu extends kr{constructor(e){super(e,{code:Hu.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vu extends kr{constructor(e){super(e,{code:Vu.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Gu extends kr{constructor(e){super(e,{code:Gu.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Gu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Wu extends kr{constructor(e){super(e,{code:Wu.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Wu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Zu extends kr{constructor(e){super(e,{code:Zu.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Xu extends kr{constructor(e){super(e,{code:Xu.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class qu extends kr{constructor(e){super(e,{code:qu.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Ku extends kr{constructor(e){super(e,{code:Ku.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Ku,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Yu extends kr{constructor(e){super(e,{code:Yu.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Yu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ju extends kr{constructor(e){super(e,{code:Ju.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class BL extends xr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const LL=3;function oc(t,{abi:e,address:n,args:r,docsPath:o,functionName:i,sender:a}){const s=t instanceof H0?t:t instanceof fe?t.walk(b=>"data"in b)||t.walk():{},{code:u,data:f,details:d,message:h,shortMessage:m}=s,g=t instanceof pl?new kL({functionName:i}):[LL,Wa.code].includes(u)&&(f||d||h||m)||u===la.code&&d==="execution reverted"&&f?new Bm({abi:e,data:typeof f=="object"?f.data:f,functionName:i,message:s instanceof Iy?d:m??h}):t;return new P4(g,{abi:e,args:r,contractAddress:n,docsPath:o,functionName:i,sender:a})}function FL(t){const e=Wt(`0x${t.substring(4)}`).substring(26);return $0(`0x${e}`)}const jL="modulepreload",zL=function(t){return"/ReactJSApp/"+t},Lb={},R4=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");o=u(n.map(f=>{if(f=zL(f),f in Lb)return;Lb[f]=!0;const d=f.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":jL,d||(m.as="script"),m.crossOrigin="",m.href=f,s&&m.setAttribute("nonce",s),document.head.appendChild(m),d)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return o.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})};async function $L({hash:t,signature:e}){const n=zo(t)?t:Xr(t),{secp256k1:r}=await R4(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>m$);return{secp256k1:a}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:d,v:h,yParity:m}=e,g=Number(m??h),b=Fb(g);return new r.Signature($o(f),$o(d)).addRecoveryBit(b)}const a=zo(e)?e:Xr(e);if(on(a)!==65)throw new Error("invalid signature length");const s=vi(`0x${a.slice(130)}`),u=Fb(s);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Fb(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function k4({hash:t,signature:e}){return FL(await $L({hash:t,signature:e}))}function UL(t,e="hex"){const n=D4(t),r=Cy(new Uint8Array(n.length));return n.encode(r),e==="hex"?Vt(r.bytes):r.bytes}function D4(t){return Array.isArray(t)?HL(t.map(e=>D4(e))):VL(t)}function HL(t){const e=t.reduce((o,i)=>o+i.length,0),n=M4(e);return{length:e<=55?1+e:1+n+e,encode(o){e<=55?o.pushByte(192+e):(o.pushByte(247+n),n===1?o.pushUint8(e):n===2?o.pushUint16(e):n===3?o.pushUint24(e):o.pushUint32(e));for(const{encode:i}of t)i(o)}}}function VL(t){const e=typeof t=="string"?vo(t):t,n=M4(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(o){e.length===1&&e[0]<128?o.pushBytes(e):e.length<=55?(o.pushByte(128+e.length),o.pushBytes(e)):(o.pushByte(183+n),n===1?o.pushUint8(e.length):n===2?o.pushUint16(e.length):n===3?o.pushUint24(e.length):o.pushUint32(e.length),o.pushBytes(e))}}}function M4(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new fe("Length is too large.")}function GL(t){const{chainId:e,nonce:n,to:r}=t,o=t.contractAddress??t.address,i=Wt(bi(["0x05",UL([e?We(e):"0x",o,n?We(n):"0x"])]));return r==="bytes"?vo(i):i}async function B4(t){const{authorization:e,signature:n}=t;return k4({hash:GL(e),signature:n??e})}class WL extends fe{constructor(e,{account:n,docsPath:r,chain:o,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:m}){const g=vl({from:n?.address,to:h,value:typeof m<"u"&&`${Ay(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof s<"u"&&`${gr(s)} gwei`,maxFeePerGas:typeof u<"u"&&`${gr(u)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${gr(f)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ks extends fe{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ks,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ks,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class $d extends fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${gr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty($d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Lm extends fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${gr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Lm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Fm extends fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Fm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class jm extends fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(jm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zm extends fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(zm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class $m extends fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty($m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Um extends fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Um,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Hm extends fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Hm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Vm extends fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Vm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ud extends fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${gr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${gr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ud,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class bl extends fe{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function V0(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof fe?t.walk(o=>o?.code===ks.code):t;return r instanceof fe?new ks({cause:t,message:r.details}):ks.nodeMessage.test(n)?new ks({cause:t,message:t.details}):$d.nodeMessage.test(n)?new $d({cause:t,maxFeePerGas:e?.maxFeePerGas}):Lm.nodeMessage.test(n)?new Lm({cause:t,maxFeePerGas:e?.maxFeePerGas}):Fm.nodeMessage.test(n)?new Fm({cause:t,nonce:e?.nonce}):jm.nodeMessage.test(n)?new jm({cause:t,nonce:e?.nonce}):zm.nodeMessage.test(n)?new zm({cause:t,nonce:e?.nonce}):$m.nodeMessage.test(n)?new $m({cause:t}):Um.nodeMessage.test(n)?new Um({cause:t,gas:e?.gas}):Hm.nodeMessage.test(n)?new Hm({cause:t,gas:e?.gas}):Vm.nodeMessage.test(n)?new Vm({cause:t}):Ud.nodeMessage.test(n)?new Ud({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new bl({cause:t})}function ZL(t,{docsPath:e,...n}){const r=(()=>{const o=V0(t,n);return o instanceof bl?t:o})();return new WL(r,{docsPath:e,...n})}function G0(t,{format:e}){if(!e)return{};const n={};function r(i){const a=Object.keys(i);for(const s of a)s in t&&(n[s]=t[s]),i[s]&&typeof i[s]=="object"&&!Array.isArray(i[s])&&r(i[s])}const o=e(t||{});return r(o),n}const XL={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function xl(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=qL(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Vt(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=We(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=We(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=We(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=We(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=We(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=We(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=XL[t.type]),typeof t.value<"u"&&(n.value=We(t.value)),n}function qL(t){return t.map(e=>({address:e.address,r:e.r?We(BigInt(e.r)):e.r,s:e.s?We(BigInt(e.s)):e.s,chainId:We(e.chainId),nonce:We(e.nonce),...typeof e.yParity<"u"?{yParity:We(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:We(e.v)}:{}}))}function jb(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new Cb({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Cb({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function KL(t){const{balance:e,nonce:n,state:r,stateDiff:o,code:i}=t,a={};if(i!==void 0&&(a.code=i),e!==void 0&&(a.balance=We(e)),n!==void 0&&(a.nonce=We(n)),r!==void 0&&(a.state=jb(r)),o!==void 0){if(a.state)throw new SL;a.stateDiff=jb(o)}return a}function Ty(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!qr(n,{strict:!1}))throw new ua({address:n});if(e[n])throw new AL({address:n});e[n]=KL(r)}return e}const YL=2n**256n-1n;function bc(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:o}=t,i=e?Nr(e):void 0;if(i&&!qr(i.address))throw new ua({address:i.address});if(o&&!qr(o))throw new ua({address:o});if(n&&n>YL)throw new $d({maxFeePerGas:n});if(r&&n&&r>n)throw new Ud({maxFeePerGas:n,maxPriorityFeePerGas:r})}class L4 extends fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ny extends fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class JL extends fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${gr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class F4 extends fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const j4={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Oy(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?vi(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?vi(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?j4[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=QL(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function QL(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function z4(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Oy(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function fo(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:o}={}){const i=o??!1,a=n!==void 0?We(n):void 0;let s=null;if(e?s=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):s=await t.request({method:"eth_getBlockByNumber",params:[a||r,i]},{dedupe:!!a}),!s)throw new F4({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||z4)(s,"getBlock")}async function Py(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function eF(t,e){return $4(t,e)}async function $4(t,e){const{block:n,chain:r=t.chain,request:o}=e||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const s=n||await $e(t,fo,"getBlock")({}),u=await i({block:s,client:t,request:o});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return $o(a)}catch{const[i,a]=await Promise.all([n?Promise.resolve(n):$e(t,fo,"getBlock")({}),$e(t,Py,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Ny;const s=a-i.baseFeePerGas;return s<0n?0n:s}}async function tF(t,e){return Gm(t,e)}async function Gm(t,e){const{block:n,chain:r=t.chain,request:o,type:i="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:o}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new L4;const u=10**(a.toString().split(".")[1]?.length??0),f=m=>m*BigInt(Math.ceil(a*u))/BigInt(u),d=n||await $e(t,fo,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:f,request:o,type:i});if(m!==null)return m}if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Ny;const m=typeof o?.maxPriorityFeePerGas=="bigint"?o.maxPriorityFeePerGas:await $4(t,{block:d,chain:r,request:o}),g=f(d.baseFeePerGas);return{maxFeePerGas:o?.maxFeePerGas??g+m,maxPriorityFeePerGas:m}}return{gasPrice:o?.gasPrice??f(await $e(t,Py,"getGasPrice")({}))}}async function U4(t,{address:e,blockTag:n="latest",blockNumber:r}){const o=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?We(r):n]},{dedupe:!!r});return vi(o)}function H4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>vo(i)):t.blobs,o=[];for(const i of r)o.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?o:o.map(i=>Vt(i))}function V4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>vo(a)):t.blobs,o=typeof t.commitments[0]=="string"?t.commitments.map(a=>vo(a)):t.commitments,i=[];for(let a=0;a<r.length;a++){const s=r[a],u=o[a];i.push(Uint8Array.from(e.computeBlobKzgProof(s,u)))}return n==="bytes"?i:i.map(a=>Vt(a))}function nF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),a=Number(n>>o&i),s=Number(n&i),u=r?4:0,f=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+f,s,r)}function rF(t,e,n){return t&e^~t&n}function oF(t,e,n){return t&e^t&n^e&n}class iF extends by{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=Ip(this.buffer)}update(e){ec(this),e=F0(e),Ga(e);const{view:n,buffer:r,blockLen:o}=this,i=e.length;for(let a=0;a<i;){const s=Math.min(o-this.pos,i-a);if(s===o){const u=Ip(e);for(;o<=i-a;a+=o)this.process(u,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ec(this),u4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:a}=this;n[a++]=128,tc(this.buffer.subarray(a)),this.padOffset>o-a&&(this.process(r,0),a=0);for(let h=a;h<o;h++)n[h]=0;nF(r,o-8,BigInt(this.length*8),i),this.process(r,0);const s=Ip(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)s.setUint32(4*h,d[h],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=o,e.pos=s,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Wi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),aF=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zi=new Uint32Array(64);class sF extends iF{constructor(e=32){super(64,e,8,!1),this.A=Wi[0]|0,this.B=Wi[1]|0,this.C=Wi[2]|0,this.D=Wi[3]|0,this.E=Wi[4]|0,this.F=Wi[5]|0,this.G=Wi[6]|0,this.H=Wi[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:a,G:s,H:u}=this;return[e,n,r,o,i,a,s,u]}set(e,n,r,o,i,a,s,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=s|0,this.H=u|0}process(e,n){for(let h=0;h<16;h++,n+=4)Zi[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=Zi[h-15],g=Zi[h-2],b=No(m,7)^No(m,18)^m>>>3,w=No(g,17)^No(g,19)^g>>>10;Zi[h]=w+Zi[h-7]+b+Zi[h-16]|0}let{A:r,B:o,C:i,D:a,E:s,F:u,G:f,H:d}=this;for(let h=0;h<64;h++){const m=No(s,6)^No(s,11)^No(s,25),g=d+m+rF(s,u,f)+aF[h]+Zi[h]|0,w=(No(r,2)^No(r,13)^No(r,22))+oF(r,o,i)|0;d=f,f=u,u=s,s=a+g|0,a=i,i=o,o=r,r=g+w|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,o,i,a,s,u,f,d)}roundClean(){tc(Zi)}destroy(){this.set(0,0,0,0,0,0,0,0),tc(this.buffer)}}const G4=l4(()=>new sF),cF=G4;function uF(t,e){return cF(zo(t,{strict:!1})?vc(t):t)}function lF(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),o=uF(e);return o.set([n],0),r==="bytes"?o:Vt(o)}function fF(t){const{commitments:e,version:n}=t,r=t.to,o=[];for(const i of e)o.push(lF({commitment:i,to:r,version:n}));return o}const zb=6,W4=32,Ry=4096,Z4=W4*Ry,$b=Z4*zb-1-1*Ry*zb;class dF extends fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class hF extends fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function pF(t){const e=typeof t.data=="string"?vo(t.data):t.data,n=on(e);if(!n)throw new hF;if(n>$b)throw new dF({maxSize:$b,size:n});const r=[];let o=!0,i=0;for(;o;){const a=Cy(new Uint8Array(Z4));let s=0;for(;s<Ry;){const u=e.slice(i,i+(W4-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}s++,i+=31}r.push(a)}return r.map(a=>Vt(a.bytes))}function mF(t){const{data:e,kzg:n,to:r}=t,o=t.blobs??pF({data:e}),i=t.commitments??H4({blobs:o,kzg:n,to:r}),a=t.proofs??V4({blobs:o,commitments:i,kzg:n,to:r}),s=[];for(let u=0;u<o.length;u++)s.push({blob:o[u],commitment:i[u],proof:a[u]});return s}function gF(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new TL({transaction:t})}function yF(t,{docsPath:e,...n}){const r=(()=>{const o=V0(t,n);return o instanceof bl?t:o})();return new NL(r,{docsPath:e,...n})}async function ky(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return vi(e)}async function X4(t,e){const{account:n=t.account,accessList:r,authorizationList:o,chain:i=t.chain,blobVersionedHashes:a,blobs:s,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:b,nonceManager:w,to:_,type:C,value:A,...I}=e,T=await(async()=>{if(!n||!w)return b;const k=Nr(n),$=i?i.id:await $e(t,ky,"getChainId")({});return await w.consume({address:k.address,chainId:$,client:t})})();bc(e);const O=i?.formatters?.transactionRequest?.format,R=(O||xl)({...G0(I,{format:O}),account:n?Nr(n):void 0,accessList:r,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:T,to:_,type:C,value:A},"fillTransaction");try{const k=await t.request({method:"eth_fillTransaction",params:[R]}),F=(i?.formatters?.transaction?.format||Oy)(k.tx);delete F.blockHash,delete F.blockNumber,delete F.r,delete F.s,delete F.transactionIndex,delete F.v,delete F.yParity,F.data=F.input,F.gas&&(F.gas=e.gas??F.gas),F.gasPrice&&(F.gasPrice=e.gasPrice??F.gasPrice),F.maxFeePerBlobGas&&(F.maxFeePerBlobGas=e.maxFeePerBlobGas??F.maxFeePerBlobGas),F.maxFeePerGas&&(F.maxFeePerGas=e.maxFeePerGas??F.maxFeePerGas),F.maxPriorityFeePerGas&&(F.maxPriorityFeePerGas=e.maxPriorityFeePerGas??F.maxPriorityFeePerGas),F.nonce&&(F.nonce=e.nonce??F.nonce);const H=await(async()=>{if(typeof i?.fees?.baseFeeMultiplier=="function"){const q=await $e(t,fo,"getBlock")({});return i.fees.baseFeeMultiplier({block:q,client:t,request:e})}return i?.fees?.baseFeeMultiplier??1.2})();if(H<1)throw new L4;const te=10**(H.toString().split(".")[1]?.length??0),ae=q=>q*BigInt(Math.ceil(H*te))/BigInt(te);return F.maxFeePerGas&&!e.maxFeePerGas&&(F.maxFeePerGas=ae(F.maxFeePerGas)),F.gasPrice&&!e.gasPrice&&(F.gasPrice=ae(F.gasPrice)),{raw:k.raw,transaction:{from:R.from,...F}}}catch(k){throw yF(k,{...e,chain:t.chain})}}const vF=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ub=new Map,Op=new z0(128);async function q4(t,e){const r=Op.get(t.uid)!==!1&&["fees","gas"].some(I=>e.parameters?.includes(I))?await $e(t,X4,"fillTransaction")(e).then(I=>{const{chainId:T,from:O,gas:P,gasPrice:R,nonce:k,maxFeePerBlobGas:$,maxFeePerGas:F,maxPriorityFeePerGas:H,type:V}=I.transaction;return Op.set(t.uid,!0),{...e,chainId:T,from:O,gas:P,gasPrice:R,nonce:k,maxFeePerBlobGas:$,maxFeePerGas:F,maxPriorityFeePerGas:H,type:V}}).catch(I=>{const T=I;return(T.cause.name==="MethodNotFoundRpcError"||T.cause.name==="MethodNotSupportedRpcError")&&Op.set(t.uid,!1),e}):e,{account:o=t.account,blobs:i,chain:a,gas:s,kzg:u,nonce:f,nonceManager:d,parameters:h=vF,type:m}=r,g=o&&Nr(o),b={...r,...g?{from:g?.address}:{}};let w;async function _(){return w||(w=await $e(t,fo,"getBlock")({blockTag:"latest"}),w)}let C;async function A(){return C||(a?a.id:typeof b.chainId<"u"?b.chainId:(C=await $e(t,ky,"getChainId")({}),C))}if(h.includes("nonce")&&typeof f>"u"&&g)if(d){const I=await A();b.nonce=await d.consume({address:g.address,chainId:I,client:t})}else b.nonce=await $e(t,U4,"getTransactionCount")({address:g.address,blockTag:"pending"});if((h.includes("blobVersionedHashes")||h.includes("sidecars"))&&i&&u){const I=H4({blobs:i,kzg:u});if(h.includes("blobVersionedHashes")){const T=fF({commitments:I,to:"hex"});b.blobVersionedHashes=T}if(h.includes("sidecars")){const T=V4({blobs:i,commitments:I,kzg:u}),O=mF({blobs:i,commitments:I,proofs:T,to:"hex"});b.sidecars=O}}if(h.includes("chainId")&&(b.chainId=await A()),(h.includes("fees")||h.includes("type"))&&typeof m>"u")try{b.type=gF(b)}catch{let I=Ub.get(t.uid);typeof I>"u"&&(I=typeof(await _())?.baseFeePerGas=="bigint",Ub.set(t.uid,I)),b.type=I?"eip1559":"legacy"}if(h.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const I=await _(),{maxFeePerGas:T,maxPriorityFeePerGas:O}=await Gm(t,{block:I,chain:a,request:b});if(typeof b.maxPriorityFeePerGas>"u"&&b.maxFeePerGas&&b.maxFeePerGas<O)throw new JL({maxPriorityFeePerGas:O});b.maxPriorityFeePerGas=O,b.maxFeePerGas=T}}else{if(typeof b.maxFeePerGas<"u"||typeof b.maxPriorityFeePerGas<"u")throw new Ny;if(typeof b.gasPrice>"u"){const I=await _(),{gasPrice:T}=await Gm(t,{block:I,chain:a,request:b,type:"legacy"});b.gasPrice=T}}return h.includes("gas")&&typeof s>"u"&&(b.gas=await $e(t,Dy,"estimateGas")({...b,account:g,prepare:g?.type==="local"?[]:["blobVersionedHashes"]})),bc(b),delete b.parameters,b}async function Dy(t,e){const{account:n=t.account,prepare:r=!0}=e,o=n?Nr(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(o?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:a,authorizationList:s,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:h,data:m,gas:g,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:_,maxPriorityFeePerGas:C,nonce:A,value:I,stateOverride:T,...O}=r?await q4(t,{...e,parameters:i}):e,R=(typeof d=="bigint"?We(d):void 0)||h,k=Ty(T),$=await(async()=>{if(O.to)return O.to;if(s&&s.length>0)return await B4({authorization:s[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`")})})();bc(e);const F=t.chain?.formatters?.transactionRequest?.format,V=(F||xl)({...G0(O,{format:F}),account:o,accessList:a,authorizationList:s,blobs:u,blobVersionedHashes:f,data:m,gas:g,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:_,maxPriorityFeePerGas:C,nonce:A,to:$,value:I},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:k?[V,R??t.experimental_blockTag??"latest",k]:R?[V,R]:[V]}))}catch(a){throw ZL(a,{...e,account:o,chain:t.chain})}}async function bF(t,e){const{abi:n,address:r,args:o,functionName:i,dataSuffix:a,...s}=e,u=Or({abi:n,args:o,functionName:i});try{return await $e(t,Dy,"estimateGas")({data:`${u}${a?a.replace("0x",""):""}`,to:r,...s})}catch(f){const d=s.account?Nr(s.account):void 0;throw oc(f,{abi:n,address:r,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:d?.address})}}function W0(t,e){if(!qr(t,{strict:!1}))throw new ua({address:t});if(!qr(e,{strict:!1}))throw new ua({address:e});return t.toLowerCase()===e.toLowerCase()}const Hb="/docs/contract/decodeEventLog";function My(t){const{abi:e,data:n,strict:r,topics:o}=t,i=r??!0,[a,...s]=o;if(!a)throw new rB({docsPath:Hb});const u=e.find(w=>w.type==="event"&&a===j0(yo(w)));if(!(u&&"name"in u)||u.type!=="event")throw new n4(a,{docsPath:Hb});const{name:f,inputs:d}=u,h=d?.some(w=>!("name"in w&&w.name)),m=h?[]:{},g=d.map((w,_)=>[w,_]).filter(([w])=>"indexed"in w&&w.indexed);for(let w=0;w<g.length;w++){const[_,C]=g[w],A=s[w];if(!A)throw new L0({abiItem:u,param:_});m[h?C:_.name||C]=xF({param:_,value:A})}const b=d.filter(w=>!("indexed"in w&&w.indexed));if(b.length>0){if(n&&n!=="0x")try{const w=yl(b,n);if(w)if(h)for(let _=0;_<d.length;_++)m[_]=m[_]??w.shift();else for(let _=0;_<b.length;_++)m[b[_].name]=w[_]}catch(w){if(i)throw w instanceof e4||w instanceof A4?new Ou({abiItem:u,data:n,params:b,size:on(n)}):w}else if(i)throw new Ou({abiItem:u,data:"0x",params:b,size:0})}return{eventName:f,args:Object.values(m).length>0?m:void 0}}function xF({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(yl([t],e)||[])[0]}function By(t){const{abi:e,args:n,logs:r,strict:o=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{try{const s=e.find(f=>f.type==="event"&&a.topics[0]===j0(f));if(!s)return null;const u=My({...a,abi:[s],strict:o});return i&&!i.includes(u.eventName)||!wF({args:u.args,inputs:s.inputs,matchArgs:n})?null:{...u,...a}}catch(s){let u,f;if(s instanceof n4)return null;if(s instanceof Ou||s instanceof L0){if(o)return null;u=s.abiItem.name,f=s.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...a,args:f?[]:{},eventName:u}}}).filter(Boolean)}function wF(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function o(i,a,s){try{return i.type==="address"?W0(a,s):i.type==="string"||i.type==="bytes"?Wt(vc(a))===s:a===s}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,a)=>{if(i==null)return!0;const s=n[a];return s?(Array.isArray(i)?i:[i]).some(f=>o(s,f,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,a])=>{if(a==null)return!0;const s=n.find(f=>f.name===i);return s?(Array.isArray(a)?a:[a]).some(f=>o(s,f,e[i])):!1}):!1}function xi(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Ly(t,{address:e,blockHash:n,fromBlock:r,toBlock:o,event:i,events:a,args:s,strict:u}={}){const f=u??!1,d=a??(i?[i]:void 0);let h=[];d&&(h=[d.flatMap(w=>gl({abi:[w],eventName:w.name,args:a?void 0:s}))],i&&(h=h[0]));let m;n?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof r=="bigint"?We(r):r,toBlock:typeof o=="bigint"?We(o):o}]});const g=m.map(b=>xi(b));return d?By({abi:d,args:s,logs:g,strict:f}):g}async function K4(t,e){const{abi:n,address:r,args:o,blockHash:i,eventName:a,fromBlock:s,toBlock:u,strict:f}=e,d=a?es({abi:n,name:a}):void 0,h=d?void 0:n.filter(m=>m.type==="event");return $e(t,Ly,"getLogs")({address:r,args:o,blockHash:i,event:d,events:h,fromBlock:s,toBlock:u,strict:f})}const Pp="/docs/contract/decodeFunctionResult";function ts(t){const{abi:e,args:n,functionName:r,data:o}=t;let i=e[0];if(r){const s=es({abi:e,args:n,name:r});if(!s)throw new Qs(r,{docsPath:Pp});i=s}if(i.type!=="function")throw new Qs(void 0,{docsPath:Pp});if(!i.outputs)throw new r4(i.name,{docsPath:Pp});const a=yl(i.outputs,o);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Fy=BigInt(0),Wm=BigInt(1);function wl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function jy(t){if(!wl(t))throw new Error("Uint8Array expected")}function Qu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Yf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Y4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Fy:BigInt("0x"+t)}const J4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",EF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function el(t){if(jy(t),J4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=EF[t[n]];return e}const ri={_0:48,_9:57,A:65,F:70,a:97,f:102};function Vb(t){if(t>=ri._0&&t<=ri._9)return t-ri._0;if(t>=ri.A&&t<=ri.F)return t-(ri.A-10);if(t>=ri.a&&t<=ri.f)return t-(ri.a-10)}function Hd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(J4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const a=Vb(t.charCodeAt(i)),s=Vb(t.charCodeAt(i+1));if(a===void 0||s===void 0){const u=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[o]=a*16+s}return r}function Ua(t){return Y4(el(t))}function Q4(t){return jy(t),Y4(el(Uint8Array.from(t).reverse()))}function El(t,e){return Hd(t.toString(16).padStart(e*2,"0"))}function eE(t,e){return El(t,e).reverse()}function Ur(t,e,n){let r;if(typeof e=="string")try{r=Hd(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(wl(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function Vd(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];jy(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}const Rp=t=>typeof t=="bigint"&&Fy<=t;function zy(t,e,n){return Rp(t)&&Rp(e)&&Rp(n)&&e<=t&&t<n}function Vs(t,e,n,r){if(!zy(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function _F(t){let e;for(e=0;t>Fy;t>>=Wm,e+=1);return e}const Z0=t=>(Wm<<BigInt(t))-Wm,kp=t=>new Uint8Array(t),Gb=t=>Uint8Array.from(t);function CF(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=kp(t),o=kp(t),i=0;const a=()=>{r.fill(1),o.fill(0),i=0},s=(...h)=>n(o,r,...h),u=(h=kp(0))=>{o=s(Gb([0]),h),r=s(),h.length!==0&&(o=s(Gb([1]),h),r=s())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=s();const g=r.slice();m.push(g),h+=r.length}return Vd(...m)};return(h,m)=>{a(),u(h);let g;for(;!(g=m(f()));)u();return a(),g}}const AF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||wl(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function X0(t,e,n={}){const r=(o,i,a)=>{const s=AF[i];if(typeof s!="function")throw new Error("invalid validator function");const u=t[o];if(!(a&&u===void 0)&&!s(u,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+u)};for(const[o,i]of Object.entries(e))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return t}function Wb(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}const SF="0.1.1";function IF(){return SF}class ut extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof ut){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),o=n.cause instanceof ut&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${o??""}`,s=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||o?["",r?`Details: ${r}`:void 0,o?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${IF()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=o,this.shortMessage=e}walk(e){return tE(this,e)}}function tE(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?tE(t.cause,e):e?null:t}function _l(t,e){if(Ds(t)>e)throw new VF({givenSize:Ds(t),maxSize:e})}const oi={zero:48,nine:57,A:65,F:70,a:97,f:102};function Zb(t){if(t>=oi.zero&&t<=oi.nine)return t-oi.zero;if(t>=oi.A&&t<=oi.F)return t-(oi.A-10);if(t>=oi.a&&t<=oi.f)return t-(oi.a-10)}function TF(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new GF({size:t.length,targetSize:r,type:"Bytes"});const o=new Uint8Array(r);for(let i=0;i<r;i++){const a=n==="right";o[a?i:r-i-1]=t[a?i:t.length-i-1]}return o}function nE(t,e={}){const{dir:n="left"}=e;let r=t,o=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)o++;return r=n==="left"?r.slice(o):r.slice(0,r.length-o),r}function q0(t,e){if(Pr(t)>e)throw new YF({givenSize:Pr(t),maxSize:e})}function NF(t,e){if(typeof e=="number"&&e>0&&e>Pr(t)-1)throw new fE({offset:e,position:"start",size:Pr(t)})}function OF(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Pr(t)!==n-e)throw new fE({offset:n,position:"end",size:Pr(t)})}function rE(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const o=t.replace("0x","");if(o.length>r*2)throw new JF({size:Math.ceil(o.length/2),targetSize:r,type:"Hex"});return`0x${o[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const PF="#__bigint";function oE(t,e,n){return JSON.stringify(t,(r,o)=>typeof o=="bigint"?o.toString()+PF:o,n)}const RF=new TextDecoder,kF=new TextEncoder;function DF(t){return t instanceof Uint8Array?t:typeof t=="string"?iE(t):MF(t)}function MF(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function iE(t,e={}){const{size:n}=e;let r=t;n&&(q0(t,n),r=Xa(t,n));let o=r.slice(2);o.length%2&&(o=`0${o}`);const i=o.length/2,a=new Uint8Array(i);for(let s=0,u=0;s<i;s++){const f=Zb(o.charCodeAt(u++)),d=Zb(o.charCodeAt(u++));if(f===void 0||d===void 0)throw new ut(`Invalid byte sequence ("${o[u-2]}${o[u-1]}" in "${o}").`);a[s]=f*16+d}return a}function BF(t,e={}){const{size:n}=e,r=kF.encode(t);return typeof n=="number"?(_l(r,n),LF(r,n)):r}function LF(t,e){return TF(t,{dir:"right",size:e})}function Ds(t){return t.length}function FF(t,e,n,r={}){const{strict:o}=r;return t.slice(e,n)}function jF(t,e={}){const{size:n}=e;typeof n<"u"&&_l(t,n);const r=xo(t,e);return cE(r,e)}function zF(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(_l(r,n),r=aE(r)),r.length>1||r[0]>1)throw new HF(r);return!!r[0]}function mi(t,e={}){const{size:n}=e;typeof n<"u"&&_l(t,n);const r=xo(t,e);return uE(r,e)}function $F(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(_l(r,n),r=UF(r)),RF.decode(r)}function aE(t){return nE(t,{dir:"left"})}function UF(t){return nE(t,{dir:"right"})}class HF extends ut{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let VF=class extends ut{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},GF=class extends ut{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const WF=new TextEncoder,ZF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function XF(t,e={}){const{strict:n=!1}=e;if(!t)throw new Xb(t);if(typeof t!="string")throw new Xb(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new qb(t);if(!t.startsWith("0x"))throw new qb(t)}function bo(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function qF(t){return t instanceof Uint8Array?xo(t):Array.isArray(t)?xo(new Uint8Array(t)):t}function sE(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(q0(n,e.size),Za(n,e.size)):n}function xo(t,e={}){let n="";for(let o=0;o<t.length;o++)n+=ZF[t[o]];const r=`0x${n}`;return typeof e.size=="number"?(q0(r,e.size),Xa(r,e.size)):r}function nr(t,e={}){const{signed:n,size:r}=e,o=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<a){const f=typeof t=="bigint"?"n":"";throw new lE({max:i?`${i}${f}`:void 0,min:`${a}${f}`,signed:n,size:r,value:`${t}${f}`})}const u=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?Za(u,r):u}function $y(t,e={}){return xo(WF.encode(t),e)}function Za(t,e){return rE(t,{dir:"left",size:e})}function Xa(t,e){return rE(t,{dir:"right",size:e})}function Bo(t,e,n,r={}){const{strict:o}=r;NF(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return o&&OF(i,e,n),i}function Pr(t){return Math.ceil((t.length-2)/2)}function cE(t,e={}){const{signed:n}=e;e.size&&q0(t,e.size);const r=BigInt(t);if(!n)return r;const o=(t.length-2)/2,i=(1n<<BigInt(o)*8n)-1n,a=i>>1n;return r<=a?r:r-i-1n}function uE(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:cE(t,e))}function KF(t,e={}){const{strict:n=!1}=e;try{return XF(t,{strict:n}),!0}catch{return!1}}class lE extends ut{constructor({max:e,min:n,signed:r,size:o,value:i}){super(`Number \`${i}\` is not in safe${o?` ${o*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Xb extends ut{constructor(e){super(`Value \`${typeof e=="object"?oE(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class qb extends ut{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class YF extends ut{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class fE extends ut{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class JF extends ut{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function QF(t){return{address:t.address,amount:nr(t.amount),index:nr(t.index),validatorIndex:nr(t.validatorIndex)}}function dE(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:nr(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:nr(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:nr(t.gasLimit)},...typeof t.number=="bigint"&&{number:nr(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:nr(t.prevRandao)},...typeof t.time=="bigint"&&{time:nr(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(QF)}}}const Gd=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Zm=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],hE=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],pE=[...hE,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],ej=[...hE,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Kb=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Yb=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],mE=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Jb=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],bd=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],tj="0x82ad56cb",gE="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",nj="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",rj="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Uy="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Xm extends fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class yE extends fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Dp="/docs/contract/encodeDeployData";function Hy(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const o=e.find(a=>"type"in a&&a.type==="constructor");if(!o)throw new JM({docsPath:Dp});if(!("inputs"in o))throw new wb({docsPath:Dp});if(!o.inputs||o.inputs.length===0)throw new wb({docsPath:Dp});const i=Ci(o.inputs,n);return bi([r,i])}function xc({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new Xm({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Xm({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function vE(t,{docsPath:e,...n}){const r=(()=>{const o=V0(t,n);return o instanceof bl?t:o})();return new O4(r,{docsPath:e,...n})}function bE(){let t=()=>{},e=()=>{};return{promise:new Promise((r,o)=>{t=r,e=o}),resolve:t,reject:e}}const Mp=new Map;function xE({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:o}){const i=async()=>{const d=u();a();const h=d.map(({args:m})=>m);h.length!==0&&t(h).then(m=>{o&&Array.isArray(m)&&m.sort(o);for(let g=0;g<d.length;g++){const{resolve:b}=d[g];b?.([m[g],m])}}).catch(m=>{for(let g=0;g<d.length;g++){const{reject:b}=d[g];b?.(m)}})},a=()=>Mp.delete(e),s=()=>u().map(({args:d})=>d),u=()=>Mp.get(e)||[],f=d=>Mp.set(e,[...u(),d]);return{flush:a,async schedule(d){const{promise:h,resolve:m,reject:g}=bE();return n?.([...s(),d])&&i(),u().length>0?(f({args:d,resolve:m,reject:g}),h):(f({args:d,resolve:m,reject:g}),setTimeout(i,r),h)}}}async function K0(t,e){const{account:n=t.account,authorizationList:r,batch:o=!!t.batch?.multicall,blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",accessList:s,blobs:u,blockOverrides:f,code:d,data:h,factory:m,factoryData:g,gas:b,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:A,nonce:I,to:T,value:O,stateOverride:P,...R}=e,k=n?Nr(n):void 0;if(d&&(m||g))throw new fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&T)throw new fe("Cannot provide both `code` & `to` as parameters.");const $=d&&h,F=m&&g&&T&&h,H=$||F,V=$?wE({code:d,data:h}):F?aj({data:h,factory:m,factoryData:g,to:T}):h;try{bc(e);const ae=(typeof i=="bigint"?We(i):void 0)||a,q=f?dE(f):void 0,Y=Ty(P),J=t.chain?.formatters?.transactionRequest?.format,U=(J||xl)({...G0(R,{format:J}),accessList:s,account:k,authorizationList:r,blobs:u,data:V,gas:b,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:A,nonce:I,to:H?void 0:T,value:O},"call");if(o&&oj({request:U})&&!Y&&!q)try{return await ij(t,{...U,blockNumber:i,blockTag:a})}catch(G){if(!(G instanceof yE)&&!(G instanceof Xm))throw G}const ne=(()=>{const G=[U,ae];return Y&&q?[...G,Y,q]:Y?[...G,Y]:q?[...G,{},q]:G})(),L=await t.request({method:"eth_call",params:ne});return L==="0x"?{data:void 0}:{data:L}}catch(te){const ae=sj(te),{offchainLookup:q,offchainLookupSignature:Y}=await R4(async()=>{const{offchainLookup:J,offchainLookupSignature:B}=await import("./ccip-DMxRFpAx.js");return{offchainLookup:J,offchainLookupSignature:B}},[]);if(t.ccipRead!==!1&&ae?.slice(0,10)===Y&&T)return{data:await q(t,{data:ae,to:T})};throw H&&ae?.slice(0,10)==="0x101bb98d"?new DL({factory:m}):vE(te,{...e,account:k,chain:t.chain})}}function oj({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(tj)||!n||Object.values(r).filter(o=>typeof o<"u").length>0)}async function ij(t,e){const{batchSize:n=1024,deployless:r=!1,wait:o=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",data:s,to:u}=e,f=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return xc({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new yE})(),h=(typeof i=="bigint"?We(i):void 0)||a,{schedule:m}=xE({id:`${t.uid}.${h}`,wait:o,shouldSplitBatch(w){return w.reduce((C,{data:A})=>C+(A.length-2),0)>n*2},fn:async w=>{const _=w.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),C=Or({abi:Gd,args:[_],functionName:"aggregate3"}),A=await t.request({method:"eth_call",params:[{...f===null?{data:wE({code:Uy,data:C})}:{to:f,data:C}},h]});return ts({abi:Gd,args:[_],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:g,success:b}]=await m({data:s,to:u});if(!b)throw new H0({data:g});return g==="0x"?{data:void 0}:{data:g}}function wE(t){const{code:e,data:n}=t;return Hy({abi:Y3(["constructor(bytes, bytes)"]),bytecode:gE,args:[e,n]})}function aj(t){const{data:e,factory:n,factoryData:r,to:o}=t;return Hy({abi:Y3(["constructor(address, bytes, address, bytes)"]),bytecode:nj,args:[o,e,n,r]})}function sj(t){if(!(t instanceof fe))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function wo(t,e){const{abi:n,address:r,args:o,functionName:i,...a}=e,s=Or({abi:n,args:o,functionName:i});try{const{data:u}=await $e(t,K0,"call")({...a,data:s,to:r});return ts({abi:n,args:o,functionName:i,data:u||"0x"})}catch(u){throw oc(u,{abi:n,address:r,args:o,docsPath:"/docs/contract/readContract",functionName:i})}}async function cj(t,e){const{abi:n,address:r,args:o,dataSuffix:i,functionName:a,...s}=e,u=s.account?Nr(s.account):t.account,f=Or({abi:n,args:o,functionName:a});try{const{data:d}=await $e(t,K0,"call")({batch:!1,data:`${f}${i?i.replace("0x",""):""}`,to:r,...s,account:u}),h=ts({abi:n,args:o,functionName:a,data:d||"0x"}),m=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:h,request:{abi:m,address:r,args:o,dataSuffix:i,functionName:a,...s,account:u}}}catch(d){throw oc(d,{abi:n,address:r,args:o,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u?.address})}}const Bp=new Map,Qb=new Map;let uj=0;function fa(t,e,n){const r=++uj,o=()=>Bp.get(t)||[],i=()=>{const d=o();Bp.set(t,d.filter(h=>h.id!==r))},a=()=>{const d=o();if(!d.some(m=>m.id===r))return;const h=Qb.get(t);if(d.length===1&&h){const m=h();m instanceof Promise&&m.catch(()=>{})}i()},s=o();if(Bp.set(t,[...s,{id:r,fns:e}]),s&&s.length>0)return a;const u={};for(const d in e)u[d]=((...h)=>{const m=o();if(m.length!==0)for(const g of m)g.fns[d]?.(...h)});const f=n(u);return typeof f=="function"&&Qb.set(t,f),a}async function qm(t){return new Promise(e=>setTimeout(e,t))}function Cl(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let o=!0;const i=()=>o=!1;return(async()=>{let s;e&&(s=await t({unpoll:i}));const u=await n?.(s)??r;await qm(u);const f=async()=>{o&&(await t({unpoll:i}),await qm(r),f())};f()})(),i}const lj=new Map,fj=new Map;function dj(t){const e=(o,i)=>({clear:()=>i.delete(o),get:()=>i.get(o),set:a=>i.set(o,a)}),n=e(t,lj),r=e(t,fj);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function hj(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=dj(e),o=r.response.get();if(o&&n>0&&Date.now()-o.created.getTime()<n)return o.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const pj=t=>`blockNumber.${t}`;async function Al(t,{cacheTime:e=t.cacheTime}={}){const n=await hj(()=>t.request({method:"eth_blockNumber"}),{cacheKey:pj(t.uid),cacheTime:e});return BigInt(n)}async function Y0(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const o=r.map(i=>xi(i));return!("abi"in e)||!e.abi?o:By({abi:e.abi,logs:o,strict:n})}async function J0(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function mj(t,e){const{abi:n,address:r,args:o,batch:i=!0,eventName:a,fromBlock:s,onError:u,onLogs:f,poll:d,pollingInterval:h=t.pollingInterval,strict:m}=e;return(typeof d<"u"?d:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const _=m??!1,C=zn(["watchContractEvent",r,o,i,t.uid,a,h,_,s]);return fa(C,{onLogs:f,onError:u},A=>{let I;s!==void 0&&(I=s-1n);let T,O=!1;const P=Cl(async()=>{if(!O){try{T=await $e(t,_4,"createContractEventFilter")({abi:n,address:r,args:o,eventName:a,strict:_,fromBlock:s})}catch{}O=!0;return}try{let R;if(T)R=await $e(t,Y0,"getFilterChanges")({filter:T});else{const k=await $e(t,Al,"getBlockNumber")({});I&&I<k?R=await $e(t,K4,"getContractEvents")({abi:n,address:r,args:o,eventName:a,fromBlock:I+1n,toBlock:k,strict:_}):R=[],I=k}if(R.length===0)return;if(i)A.onLogs(R);else for(const k of R)A.onLogs([k])}catch(R){T&&R instanceof la&&(O=!1),A.onError?.(R)}},{emitOnBegin:!0,interval:h});return async()=>{T&&await $e(t,J0,"uninstallFilter")({filter:T}),P()}})})():(()=>{const _=m??!1,C=zn(["watchContractEvent",r,o,i,t.uid,a,h,_]);let A=!0,I=()=>A=!1;return fa(C,{onLogs:f,onError:u},T=>((async()=>{try{const O=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return k?k.value:t.transport}return t.transport})(),P=a?gl({abi:n,eventName:a,args:o}):[],{unsubscribe:R}=await O.subscribe({params:["logs",{address:r,topics:P}],onData(k){if(!A)return;const $=k.result;try{const{eventName:F,args:H}=My({abi:n,data:$.data,topics:$.topics,strict:m}),V=xi($,{args:H,eventName:F});T.onLogs([V])}catch(F){let H,V;if(F instanceof Ou||F instanceof L0){if(m)return;H=F.abiItem.name,V=F.abiItem.inputs?.some(ae=>!("name"in ae&&ae.name))}const te=xi($,{args:V?[]:{},eventName:H});T.onLogs([te])}},onError(k){T.onError?.(k)}});I=R,A||I()}catch(O){u?.(O)}})(),()=>I()))})()}async function gj(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}function Km(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((o,i)=>{const a=async({count:s=0}={})=>{const u=async({error:f})=>{const d=typeof e=="function"?e({count:s,error:f}):e;d&&await qm(d),a({count:s+1})};try{const f=await t();o(f)}catch(f){if(s<n&&await r({count:s,error:f}))return u({error:f});i(f)}};a()})}const yj={"0x0":"reverted","0x1":"success"};function EE(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>xi(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?vi(t.transactionIndex):null,status:t.status?yj[t.status]:null,type:t.type?j4[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const Ym=256;let Jf=Ym,Qf;function _E(t=11){if(!Qf||Jf+t>Ym*2){Qf="",Jf=0;for(let e=0;e<Ym;e++)Qf+=(256+Math.random()*256|0).toString(16).substring(1)}return Qf.substring(Jf,Jf+++t)}function vj(t){const{batch:e,chain:n,ccipRead:r,key:o="base",name:i="Base Client",type:a="base"}=t,s=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=t.pollingInterval??f,h=t.cacheTime??d,m=t.account?Nr(t.account):void 0,{config:g,request:b,value:w}=t.transport({account:m,chain:n,pollingInterval:d}),_={...g,...w},C={account:m,batch:e,cacheTime:h,ccipRead:r,chain:n,key:o,name:i,pollingInterval:d,request:b,transport:_,type:a,uid:_E(),...s?{experimental_blockTag:s}:{}};function A(I){return T=>{const O=T(I);for(const R in C)delete O[R];const P={...I,...O};return Object.assign(P,{extend:A(P)})}}return Object.assign(C,{extend:A(C)})}function Vy(t){if(!(t instanceof fe))return!1;const e=t.walk(n=>n instanceof Bm);return e instanceof Bm?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function bj(t){const{abi:e,data:n}=t,r=nc(n,0,4),o=e.find(i=>i.type==="function"&&r===ml(yo(i)));if(!o)throw new oB(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:o.name,args:"inputs"in o&&o.inputs&&o.inputs.length>0?yl(o.inputs,nc(n,4)):void 0}}const Lp="/docs/contract/encodeErrorResult";function ex(t){const{abi:e,errorName:n,args:r}=t;let o=e[0];if(n){const u=es({abi:e,args:r,name:n});if(!u)throw new Eb(n,{docsPath:Lp});o=u}if(o.type!=="error")throw new Eb(void 0,{docsPath:Lp});const i=yo(o),a=ml(i);let s="0x";if(r&&r.length>0){if(!o.inputs)throw new nB(o.name,{docsPath:Lp});s=Ci(o.inputs,r)}return bi([a,s])}const Fp="/docs/contract/encodeFunctionResult";function xj(t){const{abi:e,functionName:n,result:r}=t;let o=e[0];if(n){const a=es({abi:e,name:n});if(!a)throw new Qs(n,{docsPath:Fp});o=a}if(o.type!=="function")throw new Qs(void 0,{docsPath:Fp});if(!o.outputs)throw new r4(o.name,{docsPath:Fp});const i=(()=>{if(o.outputs.length===0)return[];if(o.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new o4(r)})();return Ci(o.outputs,i)}const Q0="x-batch-gateway:true";async function wj(t){const{data:e,ccipRequest:n}=t,{args:[r]}=bj({abi:Zm,data:e}),o=[],i=[];return await Promise.all(r.map(async(a,s)=>{try{i[s]=a.urls.includes(Q0)?await wj({data:a.data,ccipRequest:n}):await n(a),o[s]=!1}catch(u){o[s]=!0,i[s]=Ej(u)}})),xj({abi:Zm,functionName:"query",result:[o,i]})}function Ej(t){return t.name==="HttpRequestError"&&t.status?ex({abi:Zm,errorName:"HttpError",args:[t.status,t.shortMessage]}):ex({abi:[C4],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function CE(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return zo(e)?e:null}function Jm(t){let e=new Uint8Array(32).fill(0);if(!t)return Vt(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const o=CE(n[r]),i=o?vc(o):Wt($a(n[r]),"bytes");e=Wt(Uo([e,i]),"bytes")}return Vt(e)}function _j(t){return`[${t.slice(2)}]`}function Cj(t){const e=new Uint8Array(32).fill(0);return t?CE(t)||Wt($a(t)):Vt(e)}function Gy(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array($a(e).byteLength+2);let r=0;const o=e.split(".");for(let i=0;i<o.length;i++){let a=$a(o[i]);a.byteLength>255&&(a=$a(_j(Cj(o[i])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Aj(t,e){const{blockNumber:n,blockTag:r,coinType:o,name:i,gatewayUrls:a,strict:s}=e,{chain:u}=t,f=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return xc({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),d=u?.ensTlds;if(d&&!d.some(m=>i.endsWith(m)))return null;const h=o!=null?[Jm(i),BigInt(o)]:[Jm(i)];try{const m=Or({abi:Yb,functionName:"addr",args:h}),g={address:f,abi:pE,functionName:"resolveWithGateways",args:[Xr(Gy(i)),m,a??[Q0]],blockNumber:n,blockTag:r},w=await $e(t,wo,"readContract")(g);if(w[0]==="0x")return null;const _=ts({abi:Yb,args:h,functionName:"addr",data:w[0]});return _==="0x"||za(_)==="0x00"?null:_}catch(m){if(s)throw m;if(Vy(m))return null;throw m}}class Sj extends fe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class uu extends fe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Wy extends fe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Ij extends fe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Tj=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Nj=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Oj=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Pj=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Rj(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function tx(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function AE({uri:t,gatewayUrls:e}){const n=Oj.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=tx(e?.ipfs,"https://ipfs.io"),o=tx(e?.arweave,"https://arweave.net"),i=t.match(Tj),{protocol:a,subpath:s,target:u,subtarget:f=""}=i?.groups||{},d=a==="ipns:/"||s==="ipns/",h=a==="ipfs:/"||s==="ipfs/"||Nj.test(t);if(t.startsWith("http")&&!d&&!h){let g=t;return e?.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((d||h)&&u)return{uri:`${r}/${d?"ipns":"ipfs"}/${u}${f}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&u)return{uri:`${o}/${u}${f||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(Pj,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new Wy({uri:t})}function SE(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Sj({data:t});return t.image||t.image_url||t.image_data}async function kj({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(o=>o.json());return await Zy({gatewayUrls:t,uri:SE(n)})}catch{throw new Wy({uri:e})}}async function Zy({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=AE({uri:e,gatewayUrls:t});if(r||await Rj(n))return n;throw new Wy({uri:e})}function Dj(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,o]=e.split("/"),[i,a]=n.split(":"),[s,u]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new uu({reason:"Only EIP-155 supported"});if(!a)throw new uu({reason:"Chain ID not found"});if(!u)throw new uu({reason:"Contract address not found"});if(!o)throw new uu({reason:"Token ID not found"});if(!s)throw new uu({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:s.toLowerCase(),contractAddress:u,tokenID:o}}async function Mj(t,{nft:e}){if(e.namespace==="erc721")return wo(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return wo(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Ij({namespace:e.namespace})}async function Bj(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?Lj(t,{gatewayUrls:e,record:n}):Zy({uri:n,gatewayUrls:e})}async function Lj(t,{gatewayUrls:e,record:n}){const r=Dj(n),o=await Mj(t,{nft:r}),{uri:i,isOnChain:a,isEncoded:s}=AE({uri:o,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const f=s?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(f);return Zy({uri:SE(d),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),kj({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,u)})}async function IE(t,e){const{blockNumber:n,blockTag:r,key:o,name:i,gatewayUrls:a,strict:s}=e,{chain:u}=t,f=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return xc({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),d=u?.ensTlds;if(d&&!d.some(h=>i.endsWith(h)))return null;try{const h={address:f,abi:pE,args:[Xr(Gy(i)),Or({abi:Kb,functionName:"text",args:[Jm(i),o]}),a??[Q0]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},g=await $e(t,wo,"readContract")(h);if(g[0]==="0x")return null;const b=ts({abi:Kb,functionName:"text",data:g[0]});return b===""?null:b}catch(h){if(s)throw h;if(Vy(h))return null;throw h}}async function Fj(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:o,gatewayUrls:i,strict:a,universalResolverAddress:s}){const u=await $e(t,IE,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:o,universalResolverAddress:s,gatewayUrls:i,strict:a});if(!u)return null;try{return await Bj(t,{record:u,gatewayUrls:r})}catch{return null}}async function jj(t,e){const{address:n,blockNumber:r,blockTag:o,coinType:i=60n,gatewayUrls:a,strict:s}=e,{chain:u}=t,f=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return xc({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const d={address:f,abi:ej,args:[n,i,a??[Q0]],functionName:"reverseWithGateways",blockNumber:r,blockTag:o},h=$e(t,wo,"readContract"),[m]=await h(d);return m||null}catch(d){if(s)throw d;if(Vy(d))return null;throw d}}async function zj(t,e){const{blockNumber:n,blockTag:r,name:o}=e,{chain:i}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return xc({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),s=i?.ensTlds;if(s&&!s.some(f=>o.endsWith(f)))throw new Error(`${o} is not a valid ENS TLD (${s?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[u]=await $e(t,wo,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Xr(Gy(o))],blockNumber:n,blockTag:r});return u}async function TE(t,e){const{account:n=t.account,blockNumber:r,blockTag:o="latest",blobs:i,data:a,gas:s,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,to:m,value:g,...b}=e,w=n?Nr(n):void 0;try{bc(e);const C=(typeof r=="bigint"?We(r):void 0)||o,A=t.chain?.formatters?.transactionRequest?.format,T=(A||xl)({...G0(b,{format:A}),account:w,blobs:i,data:a,gas:s,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,to:m,value:g},"createAccessList"),O=await t.request({method:"eth_createAccessList",params:[T,C]});return{accessList:O.accessList,gasUsed:BigInt(O.gasUsed)}}catch(_){throw vE(_,{...e,account:w,chain:t.chain})}}async function $j(t){const e=U0(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function NE(t,{address:e,args:n,event:r,events:o,fromBlock:i,strict:a,toBlock:s}={}){const u=o??(r?[r]:void 0),f=U0(t,{method:"eth_newFilter"});let d=[];u&&(d=[u.flatMap(g=>gl({abi:[g],eventName:g.name,args:n}))],r&&(d=d[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?We(i):i,toBlock:typeof s=="bigint"?We(s):s,...d.length?{topics:d}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:i,id:h,request:f(h),strict:!!a,toBlock:s,type:"event"}}async function OE(t){const e=U0(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function Uj(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const o=typeof n=="bigint"?We(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,o||r]});return BigInt(i)}async function Hj(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Vj(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const o=n!==void 0?We(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[o||r]},{dedupe:!!o}),vi(i)}async function Qm(t,{address:e,blockNumber:n,blockTag:r="latest"}){const o=n!==void 0?We(n):void 0,i=await t.request({method:"eth_getCode",params:[e,o||r]},{dedupe:!!o});if(i!=="0x")return i}class Gj extends fe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Wj(t,e){const{address:n,factory:r,factoryData:o}=e;try{const[i,a,s,u,f,d,h]=await $e(t,wo,"readContract")({abi:Zj,address:n,functionName:"eip712Domain",factory:r,factoryData:o});return{domain:{name:a,version:s,chainId:Number(u),verifyingContract:f,salt:d},extensions:h,fields:i}}catch(i){const a=i;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new Gj({address:n}):a}}const Zj=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Xj(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function qj(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:o}){const i=typeof n=="bigint"?We(n):void 0,a=await t.request({method:"eth_feeHistory",params:[We(e),i||r,o]},{dedupe:!!i});return Xj(a)}async function Kj(t,{filter:e}){const n=e.strict??!1,o=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>xi(i));return e.abi?By({abi:e.abi,logs:o,strict:n}):o}async function Yj({address:t,authorization:e,signature:n}){return W0(y4(t),await B4({authorization:e,signature:n}))}const ed=new z0(8192);function Jj(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ed.get(n))return ed.get(n);const r=t().finally(()=>ed.delete(n));return ed.set(n,r),r}function Qj(t,e={}){return async(n,r={})=>{const{dedupe:o=!1,methods:i,retryDelay:a=150,retryCount:s=3,uid:u}={...e,...r},{method:f}=n;if(i?.exclude?.includes(f))throw new Ma(new Error("method not supported"),{method:f});if(i?.include&&!i.include.includes(f))throw new Ma(new Error("method not supported"),{method:f});const d=o?ca(`${u}.${zn(n)}`):void 0;return Jj(()=>Km(async()=>{try{return await t(n)}catch(h){const m=h;switch(m.code){case ku.code:throw new ku(m);case Du.code:throw new Du(m);case Mu.code:throw new Mu(m,{method:n.method});case Bu.code:throw new Bu(m);case Wa.code:throw new Wa(m);case la.code:throw new la(m);case Lu.code:throw new Lu(m);case Fu.code:throw new Fu(m);case ju.code:throw new ju(m);case Ma.code:throw new Ma(m,{method:n.method});case rc.code:throw new rc(m);case zu.code:throw new zu(m);case Hs.code:throw new Hs(m);case $u.code:throw new $u(m);case Uu.code:throw new Uu(m);case Hu.code:throw new Hu(m);case Vu.code:throw new Vu(m);case Gu.code:throw new Gu(m);case Wu.code:throw new Wu(m);case Zu.code:throw new Zu(m);case Xu.code:throw new Xu(m);case qu.code:throw new qu(m);case Ku.code:throw new Ku(m);case Yu.code:throw new Yu(m);case Ju.code:throw new Ju(m);case 5e3:throw new Hs(m);default:throw h instanceof fe?h:new BL(m)}}},{delay:({count:h,error:m})=>{if(m&&m instanceof xu){const g=m?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<h)*a},retryCount:s,shouldRetry:({error:h})=>ez(h)}),{enabled:o,id:d})}}function ez(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===rc.code||t.code===Wa.code:t instanceof xu&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function tz(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((o,i)=>{(async()=>{let a;try{const s=new AbortController;n>0&&(a=setTimeout(()=>{r&&s.abort()},n)),o(await t({signal:s?.signal||null}))}catch(s){s?.name==="AbortError"&&i(e),i(s)}finally{clearTimeout(a)}})()})}function nz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const nx=nz();function rz(t,e={}){return{async request(n){const{body:r,fetchFn:o=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:a=e.onResponse,timeout:s=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:f,method:d,signal:h}=u;try{const m=await tz(async({signal:b})=>{const w={...u,body:Array.isArray(r)?zn(r.map(I=>({jsonrpc:"2.0",id:I.id??nx.take(),...I}))):zn({jsonrpc:"2.0",id:r.id??nx.take(),...r}),headers:{"Content-Type":"application/json",...f},method:d||"POST",signal:h||(s>0?b:null)},_=new Request(t,w),C=await i?.(_,w)??{...w,url:t};return await o(C.url??t,C)},{errorInstance:new Bb({body:r,url:t}),timeout:s,signal:!0});a&&await a(m);let g;if(m.headers.get("Content-Type")?.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(b){if(m.ok)throw b;g={error:g}}}if(!m.ok)throw new xu({body:r,details:zn(g.error)||m.statusText,headers:m.headers,status:m.status,url:t});return g}catch(m){throw m instanceof xu||m instanceof Bb?m:new xu({body:r,cause:m,url:t})}}}}const oz=`Ethereum Signed Message:
`;function iz(t){const e=typeof t=="string"?ca(t):typeof t.raw=="string"?t.raw:Vt(t.raw),n=ca(`${oz}${on(e)}`);return Uo([n,e])}function PE(t,e){return Wt(iz(t),e)}class az extends fe{constructor({domain:e}){super(`Invalid domain "${zn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class sz extends fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cz extends fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function uz(t){const{domain:e,message:n,primaryType:r,types:o}=t,i=(a,s)=>{for(const u of a){const{name:f,type:d}=u,h=s[f],m=d.match(w4);if(m&&(typeof h=="number"||typeof h=="bigint")){const[w,_,C]=m;We(h,{signed:_==="int",size:Number.parseInt(C,10)/8})}if(d==="address"&&typeof h=="string"&&!qr(h))throw new ua({address:h});const g=d.match(JB);if(g){const[w,_]=g;if(_&&on(h)!==Number.parseInt(_,10))throw new aB({expectedSize:Number.parseInt(_,10),givenSize:on(h)})}const b=o[d];b&&(fz(d),i(b,h))}};if(o.EIP712Domain&&e){if(typeof e!="object")throw new az({domain:e});i(o.EIP712Domain,e)}if(r!=="EIP712Domain")if(o[r])i(o[r],n);else throw new sz({primaryType:r,types:o})}function lz({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function fz(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new cz({type:t})}function RE(t){const{domain:e={},message:n,primaryType:r}=t,o={EIP712Domain:lz({domain:e}),...t.types};uz({domain:e,message:n,primaryType:r,types:o});const i=["0x1901"];return e&&i.push(dz({domain:e,types:o})),r!=="EIP712Domain"&&i.push(kE({data:n,primaryType:r,types:o})),Wt(Uo(i))}function dz({domain:t,types:e}){return kE({data:t,primaryType:"EIP712Domain",types:e})}function kE({data:t,primaryType:e,types:n}){const r=DE({data:t,primaryType:e,types:n});return Wt(r)}function DE({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],o=[hz({primaryType:e,types:n})];for(const i of n[e]){const[a,s]=BE({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(a),o.push(s)}return Ci(r,o)}function hz({primaryType:t,types:e}){const n=Xr(pz({primaryType:t,types:e}));return Wt(n)}function pz({primaryType:t,types:e}){let n="";const r=ME({primaryType:t,types:e});r.delete(t);const o=[t,...Array.from(r).sort()];for(const i of o)n+=`${i}(${e[i].map(({name:a,type:s})=>`${s} ${a}`).join(",")})`;return n}function ME({primaryType:t,types:e},n=new Set){const o=t.match(/^\w*/u)?.[0];if(n.has(o)||e[o]===void 0)return n;n.add(o);for(const i of e[o])ME({primaryType:i.type,types:e},n);return n}function BE({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Wt(DE({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},Wt(r)];if(n==="string")return[{type:"bytes32"},Wt(Xr(r))];if(n.lastIndexOf("]")===n.length-1){const o=n.slice(0,n.lastIndexOf("[")),i=r.map(a=>BE({name:e,type:o,types:t,value:a}));return[{type:"bytes32"},Wt(Ci(i.map(([a])=>a),i.map(([,a])=>a)))]}return[{type:n},r]}class mz extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const gz={checksum:new mz(8192)},jp=gz.checksum;function LE(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=m4(DF(t));return n==="Bytes"?r:xo(r)}const yz=/^0x[a-fA-F0-9]{40}$/;function e1(t,e={}){const{strict:n=!0}=e;if(!yz.test(t))throw new rx({address:t,cause:new vz});if(n){if(t.toLowerCase()===t)return;if(FE(t)!==t)throw new rx({address:t,cause:new bz})}}function FE(t){if(jp.has(t))return jp.get(t);e1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=LE(BF(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const o=`0x${r.join("")}`;return jp.set(t,o),o}function eg(t,e={}){const{strict:n=!0}=e??{};try{return e1(t,{strict:n}),!0}catch{return!1}}class rx extends ut{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class vz extends ut{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class bz extends ut{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const xz=/^(.*)\[([0-9]*)\]$/,wz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jE=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ox=2n**256n-1n;function Gs(t,e,n){const{checksumAddress:r,staticPosition:o}=n,i=Ky(e.type);if(i){const[a,s]=i;return _z(t,{...e,type:s},{checksumAddress:r,length:a,staticPosition:o})}if(e.type==="tuple")return Iz(t,e,{checksumAddress:r,staticPosition:o});if(e.type==="address")return Ez(t,{checksum:r});if(e.type==="bool")return Cz(t);if(e.type.startsWith("bytes"))return Az(t,e,{staticPosition:o});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Sz(t,e);if(e.type==="string")return Tz(t,{staticPosition:o});throw new Jy(e.type)}const ix=32,tg=32;function Ez(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(i=>n?FE(i):i)(xo(FF(r,-20))),32]}function _z(t,e,n){const{checksumAddress:r,length:o,staticPosition:i}=n;if(!o){const u=mi(t.readBytes(tg)),f=i+u,d=f+ix;t.setPosition(f);const h=mi(t.readBytes(ix)),m=tl(e);let g=0;const b=[];for(let w=0;w<h;++w){t.setPosition(d+(m?w*32:g));const[_,C]=Gs(t,e,{checksumAddress:r,staticPosition:d});g+=C,b.push(_)}return t.setPosition(i+32),[b,32]}if(tl(e)){const u=mi(t.readBytes(tg)),f=i+u,d=[];for(let h=0;h<o;++h){t.setPosition(f+h*32);const[m]=Gs(t,e,{checksumAddress:r,staticPosition:f});d.push(m)}return t.setPosition(i+32),[d,32]}let a=0;const s=[];for(let u=0;u<o;++u){const[f,d]=Gs(t,e,{checksumAddress:r,staticPosition:i+a});a+=d,s.push(f)}return[s,a]}function Cz(t){return[zF(t.readBytes(32),{size:32}),32]}function Az(t,e,{staticPosition:n}){const[r,o]=e.type.split("bytes");if(!o){const a=mi(t.readBytes(32));t.setPosition(n+a);const s=mi(t.readBytes(32));if(s===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(s);return t.setPosition(n+32),[xo(u),32]}return[xo(t.readBytes(Number.parseInt(o,10),32)),32]}function Sz(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),o=t.readBytes(32);return[r>48?jF(o,{signed:n}):mi(o,{signed:n}),32]}function Iz(t,e,n){const{checksumAddress:r,staticPosition:o}=n,i=e.components.length===0||e.components.some(({name:u})=>!u),a=i?[]:{};let s=0;if(tl(e)){const u=mi(t.readBytes(tg)),f=o+u;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(f+s);const[m,g]=Gs(t,h,{checksumAddress:r,staticPosition:f});s+=g,a[i?d:h?.name]=m}return t.setPosition(o+32),[a,32]}for(let u=0;u<e.components.length;++u){const f=e.components[u],[d,h]=Gs(t,f,{checksumAddress:r,staticPosition:o});a[i?u:f?.name]=d,s+=h}return[a,s]}function Tz(t,{staticPosition:e}){const n=mi(t.readBytes(32)),r=e+n;t.setPosition(r);const o=mi(t.readBytes(32));if(o===0)return t.setPosition(e+32),["",32];const i=t.readBytes(o,32),a=$F(aE(i));return t.setPosition(e+32),[a,32]}function Nz({checksumAddress:t,parameters:e,values:n}){const r=[];for(let o=0;o<e.length;o++)r.push(Xy({checksumAddress:t,parameter:e[o],value:n[o]}));return r}function Xy({checksumAddress:t=!1,parameter:e,value:n}){const r=e,o=Ky(r.type);if(o){const[i,a]=o;return Pz(n,{checksumAddress:t,length:i,parameter:{...r,type:a}})}if(r.type==="tuple")return Bz(n,{checksumAddress:t,parameter:r});if(r.type==="address")return Oz(n,{checksum:t});if(r.type==="bool")return kz(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,a="256"]=jE.exec(r.type)??[];return Dz(n,{signed:i,size:Number(a)})}if(r.type.startsWith("bytes"))return Rz(n,{type:r.type});if(r.type==="string")return Mz(n);throw new Jy(r.type)}function qy(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?e+=32:e+=Pr(s)}const n=[],r=[];let o=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:s}=t[i];a?(n.push(nr(e+o,{size:32})),r.push(s),o+=Pr(s)):n.push(s)}return bo(...n,...r)}function Oz(t,e){const{checksum:n=!1}=e;return e1(t,{strict:n}),{dynamic:!1,encoded:Za(t.toLowerCase())}}function Pz(t,e){const{checksumAddress:n,length:r,parameter:o}=e,i=r===null;if(!Array.isArray(t))throw new Gz(t);if(!i&&t.length!==r)throw new Vz({expectedLength:r,givenLength:t.length,type:`${o.type}[${r}]`});let a=!1;const s=[];for(let u=0;u<t.length;u++){const f=Xy({checksumAddress:n,parameter:o,value:t[u]});f.dynamic&&(a=!0),s.push(f)}if(i||a){const u=qy(s);if(i){const f=nr(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?bo(f,u):f}}if(a)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:bo(...s.map(({encoded:u})=>u))}}function Rz(t,{type:e}){const[,n]=e.split("bytes"),r=Pr(t);if(!n){let o=t;return r%32!==0&&(o=Xa(o,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:bo(Za(nr(r,{size:32})),o)}}if(r!==Number.parseInt(n,10))throw new $E({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Xa(t)}}function kz(t){if(typeof t!="boolean")throw new ut(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Za(sE(t))}}function Dz(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,o=e?-r-1n:0n;if(t>r||t<o)throw new lE({max:r.toString(),min:o.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:nr(t,{size:32,signed:e})}}function Mz(t){const e=$y(t),n=Math.ceil(Pr(e)/32),r=[];for(let o=0;o<n;o++)r.push(Xa(Bo(e,o*32,(o+1)*32)));return{dynamic:!0,encoded:bo(Xa(nr(Pr(e),{size:32})),...r)}}function Bz(t,e){const{checksumAddress:n,parameter:r}=e;let o=!1;const i=[];for(let a=0;a<r.components.length;a++){const s=r.components[a],u=Array.isArray(t)?a:s.name,f=Xy({checksumAddress:n,parameter:s,value:t[u]});i.push(f),f.dynamic&&(o=!0)}return{dynamic:o,encoded:o?qy(i):bo(...i.map(({encoded:a})=>a))}}function Ky(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function tl(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(tl);const n=Ky(t.type);return!!(n&&tl({...t,type:n[1]}))}const Lz={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new zz({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new jz({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new ax({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new ax({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Fz(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Lz);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class ax extends ut{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class jz extends ut{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class zz extends ut{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function $z(t,e,n={}){const{as:r="Array",checksumAddress:o=!1}=n,i=typeof e=="string"?iE(e):e,a=Fz(i);if(Ds(i)===0&&t.length>0)throw new Hz;if(Ds(i)&&Ds(i)<32)throw new Uz({data:typeof e=="string"?e:xo(e),parameters:t,size:Ds(i)});let s=0;const u=r==="Array"?[]:{};for(let f=0;f<t.length;++f){const d=t[f];a.setPosition(s);const[h,m]=Gs(a,d,{checksumAddress:o,staticPosition:0});s+=m,r==="Array"?u.push(h):u[d.name??f]=h}return u}function Yy(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new UE({expectedLength:t.length,givenLength:e.length});const o=Nz({checksumAddress:r,parameters:t,values:e}),i=qy(o);return i.length===0?"0x":i}function ng(t,e){if(t.length!==e.length)throw new UE({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=e[r];n.push(ng.encode(o,i))}return bo(...n)}(function(t){function e(n,r,o=!1){if(n==="address"){const u=r;return e1(u),Za(u.toLowerCase(),o?32:0)}if(n==="string")return $y(r);if(n==="bytes")return r;if(n==="bool")return Za(sE(r),o?32:1);const i=n.match(jE);if(i){const[u,f,d="256"]=i,h=Number.parseInt(d,10)/8;return nr(r,{size:o?32:h,signed:f==="int"})}const a=n.match(wz);if(a){const[u,f]=a;if(Number.parseInt(f,10)!==(r.length-2)/2)throw new $E({expectedSize:Number.parseInt(f,10),value:r});return Xa(r,o?32:0)}const s=n.match(xz);if(s&&Array.isArray(r)){const[u,f]=s,d=[];for(let h=0;h<r.length;h++)d.push(e(f,r[h],!0));return d.length===0?"0x":bo(...d)}throw new Jy(n)}t.encode=e})(ng||(ng={}));function zE(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?zd(t):t}class Uz extends ut{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ns(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Hz extends ut{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Vz extends ut{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class $E extends ut{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Pr(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class UE extends ut{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Gz extends ut{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Jy extends ut{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class HE extends by{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,TB(e);const r=F0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),tc(i)}update(e){return ec(this),this.iHash.update(e),this}digestInto(e){ec(this),Ga(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:a,outputLen:s}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const VE=(t,e,n)=>new HE(t,e).update(n).digest();VE.create=(t,e)=>new HE(t,e);const mr=BigInt(0),rr=BigInt(1),Ba=BigInt(2),Wz=BigInt(3),GE=BigInt(4),WE=BigInt(5),ZE=BigInt(8);function hr(t,e){const n=t%e;return n>=mr?n:e+n}function zr(t,e,n){let r=t;for(;e-- >mr;)r*=r,r%=n;return r}function rg(t,e){if(t===mr)throw new Error("invert: expected non-zero number");if(e<=mr)throw new Error("invert: expected positive modulus, got "+e);let n=hr(t,e),r=e,o=mr,i=rr;for(;n!==mr;){const s=r/n,u=r%n,f=o-i*s;r=n,n=u,o=i,i=f}if(r!==rr)throw new Error("invert: does not exist");return hr(o,e)}function XE(t,e){const n=(t.ORDER+rr)/GE,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Zz(t,e){const n=(t.ORDER-WE)/ZE,r=t.mul(e,Ba),o=t.pow(r,n),i=t.mul(e,o),a=t.mul(t.mul(i,Ba),o),s=t.mul(i,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function Xz(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-rr,n=0;for(;e%Ba===mr;)e/=Ba,n++;let r=Ba;const o=Qy(t);for(;sx(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return XE;let i=o.pow(r,e);const a=(e+rr)/Ba;return function(u,f){if(u.is0(f))return f;if(sx(u,f)!==1)throw new Error("Cannot find square root");let d=n,h=u.mul(u.ONE,i),m=u.pow(f,e),g=u.pow(f,a);for(;!u.eql(m,u.ONE);){if(u.is0(m))return u.ZERO;let b=1,w=u.sqr(m);for(;!u.eql(w,u.ONE);)if(b++,w=u.sqr(w),b===d)throw new Error("Cannot find square root");const _=rr<<BigInt(d-b-1),C=u.pow(h,_);d=b,h=u.sqr(C),m=u.mul(m,h),g=u.mul(g,C)}return g}}function qz(t){return t%GE===Wz?XE:t%ZE===WE?Zz:Xz(t)}const Kz=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yz(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Kz.reduce((r,o)=>(r[o]="function",r),e);return X0(t,n)}function Jz(t,e,n){if(n<mr)throw new Error("invalid exponent, negatives unsupported");if(n===mr)return t.ONE;if(n===rr)return e;let r=t.ONE,o=e;for(;n>mr;)n&rr&&(r=t.mul(r,o)),o=t.sqr(o),n>>=rr;return r}function qE(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((a,s,u)=>t.is0(s)?a:(r[u]=a,t.mul(a,s)),t.ONE),i=t.inv(o);return e.reduceRight((a,s,u)=>t.is0(s)?a:(r[u]=t.mul(a,r[u]),t.mul(a,s)),i),r}function sx(t,e){const n=(t.ORDER-rr)/Ba,r=t.pow(e,n),o=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!o&&!i&&!a)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function KE(t,e){e!==void 0&&Pu(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Qy(t,e,n=!1,r={}){if(t<=mr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:i}=KE(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const s=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Z0(o),ZERO:mr,ONE:rr,create:u=>hr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return mr<=u&&u<t},is0:u=>u===mr,isOdd:u=>(u&rr)===rr,neg:u=>hr(-u,t),eql:(u,f)=>u===f,sqr:u=>hr(u*u,t),add:(u,f)=>hr(u+f,t),sub:(u,f)=>hr(u-f,t),mul:(u,f)=>hr(u*f,t),pow:(u,f)=>Jz(s,u,f),div:(u,f)=>hr(u*rg(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>rg(u,t),sqrt:r.sqrt||(u=>(a||(a=qz(t)),a(s,u))),toBytes:u=>n?eE(u,i):El(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return n?Q4(u):Ua(u)},invertBatch:u=>qE(s,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(s)}function YE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function JE(t){const e=YE(t);return e+Math.ceil(e/2)}function Qz(t,e,n=!1){const r=t.length,o=YE(e),i=JE(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?Q4(t):Ua(t),s=hr(a,e-rr)+rr;return n?eE(s,o):El(s,o)}const cx=BigInt(0),og=BigInt(1);function zp(t,e){const n=e.negate();return t?n:e}function QE(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $p(t,e){QE(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,i=Z0(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:a}}function ux(t,e,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:a}=n;let s=Number(t&o),u=t>>a;s>r&&(s-=i,u+=og);const f=e*r,d=f+Math.abs(s)-1,h=s===0,m=s<0,g=e%2!==0;return{nextN:u,offset:d,isZero:h,isNeg:m,isNegF:g,offsetF:f}}function e$(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function t$(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Up=new WeakMap,e_=new WeakMap;function Hp(t){return e_.get(t)||1}function n$(t,e){return{constTimeNegate:zp,hasPrecomputes(n){return Hp(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>cx;)r&og&&(o=o.add(i)),i=i.double(),r>>=og;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=$p(r,e),a=[];let s=n,u=s;for(let f=0;f<o;f++){u=s,a.push(u);for(let d=1;d<i;d++)u=u.add(s),a.push(u);s=u.double()}return a},wNAF(n,r,o){let i=t.ZERO,a=t.BASE;const s=$p(n,e);for(let u=0;u<s.windows;u++){const{nextN:f,offset:d,isZero:h,isNeg:m,isNegF:g,offsetF:b}=ux(o,u,s);o=f,h?a=a.add(zp(g,r[b])):i=i.add(zp(m,r[d]))}return{p:i,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const a=$p(n,e);for(let s=0;s<a.windows&&o!==cx;s++){const{nextN:u,offset:f,isZero:d,isNeg:h}=ux(o,s,a);if(o=u,!d){const m=r[f];i=i.add(h?m.negate():m)}}return i},getPrecomputes(n,r,o){let i=Up.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Up.set(r,o(i))),i},wNAFCached(n,r,o){const i=Hp(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const a=Hp(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,i)},setWindowSize(n,r){QE(r,e),e_.set(n,r),Up.delete(n)}}}function r$(t,e,n,r){e$(n,t),t$(r,e);const o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,s=_F(BigInt(o));let u=1;s>12?u=s-3:s>4?u=s-2:s>0&&(u=2);const f=Z0(u),d=new Array(Number(f)+1).fill(a),h=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=h;g>=0;g-=u){d.fill(a);for(let w=0;w<i;w++){const _=r[w],C=Number(_>>BigInt(g)&f);d[C]=d[C].add(n[w])}let b=a;for(let w=d.length-1,_=a;w>0;w--)_=_.add(d[w]),b=b.add(_);if(m=m.add(b),g!==0)for(let w=0;w<u;w++)m=m.double()}return m}function t_(t){return Yz(t.Fp),X0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KE(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function lx(t){t.lowS!==void 0&&Qu("lowS",t.lowS),t.prehash!==void 0&&Qu("prehash",t.prehash)}function o$(t){const e=t_(t);X0(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class i$ extends Error{constructor(e=""){super(e)}}const ii={Err:i$,_tlv:{encode:(t,e)=>{const{Err:n}=ii;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=Yf(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Yf(o.length/2|128):"";return Yf(t)+i+o+e},decode(t,e){const{Err:n}=ii;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let a=0;if(!i)a=o;else{const u=o&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+u);if(f.length!==u)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of f)a=a<<8|d;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const s=e.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=ii;if(t<ai)throw new e("integer: negative integers are not allowed");let n=Yf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ii;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ua(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ii,o=Ur("signature",t),{v:i,l:a}=r.decode(48,o);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:s,l:u}=r.decode(2,i),{v:f,l:d}=r.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=ii,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}};function Vp(t,e){return el(El(t,e))}const ai=BigInt(0),Pn=BigInt(1);BigInt(2);const Gp=BigInt(3),a$=BigInt(4);function s$(t){const e=o$(t),{Fp:n}=e,r=Qy(e.n,e.nBitLength),o=e.toBytes||((I,T,O)=>{const P=T.toAffine();return Vd(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=e.fromBytes||(I=>{const T=I.subarray(1),O=n.fromBytes(T.subarray(0,n.BYTES)),P=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:O,y:P}});function a(I){const{a:T,b:O}=e,P=n.sqr(I),R=n.mul(P,I);return n.add(n.add(R,n.mul(I,T)),O)}function s(I,T){const O=n.sqr(T),P=a(I);return n.eql(O,P)}if(!s(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,Gp),a$),f=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,f)))throw new Error("bad curve params: a or b");function d(I){return zy(I,Pn,e.n)}function h(I){const{allowedPrivateKeyLengths:T,nByteLength:O,wrapPrivateKey:P,n:R}=e;if(T&&typeof I!="bigint"){if(wl(I)&&(I=el(I)),typeof I!="string"||!T.includes(I.length))throw new Error("invalid private key");I=I.padStart(O*2,"0")}let k;try{k=typeof I=="bigint"?I:Ua(Ur("private key",I,O))}catch{throw new Error("invalid private key, expected hex or "+O+" bytes, got "+typeof I)}return P&&(k=hr(k,R)),Vs("private key",k,Pn,R),k}function m(I){if(!(I instanceof w))throw new Error("ProjectivePoint expected")}const g=Wb((I,T)=>{const{px:O,py:P,pz:R}=I;if(n.eql(R,n.ONE))return{x:O,y:P};const k=I.is0();T==null&&(T=k?n.ONE:n.inv(R));const $=n.mul(O,T),F=n.mul(P,T),H=n.mul(R,T);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:$,y:F}}),b=Wb(I=>{if(I.is0()){if(e.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:T,y:O}=I.toAffine();if(!n.isValid(T)||!n.isValid(O))throw new Error("bad point: x or y not FE");if(!s(T,O))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(T,O,P){if(T==null||!n.isValid(T))throw new Error("x required");if(O==null||!n.isValid(O)||n.is0(O))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=T,this.py=O,this.pz=P,Object.freeze(this)}static fromAffine(T){const{x:O,y:P}=T||{};if(!T||!n.isValid(O)||!n.isValid(P))throw new Error("invalid affine point");if(T instanceof w)throw new Error("projective point not allowed");const R=k=>n.eql(k,n.ZERO);return R(O)&&R(P)?w.ZERO:new w(O,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const O=qE(n,T.map(P=>P.pz));return T.map((P,R)=>P.toAffine(O[R])).map(w.fromAffine)}static fromHex(T){const O=w.fromAffine(i(Ur("pointHex",T)));return O.assertValidity(),O}static fromPrivateKey(T){return w.BASE.multiply(h(T))}static msm(T,O){return r$(w,r,T,O)}_setWindowSize(T){A.setWindowSize(this,T)}assertValidity(){b(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){m(T);const{px:O,py:P,pz:R}=this,{px:k,py:$,pz:F}=T,H=n.eql(n.mul(O,F),n.mul(k,R)),V=n.eql(n.mul(P,F),n.mul($,R));return H&&V}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:O}=e,P=n.mul(O,Gp),{px:R,py:k,pz:$}=this;let F=n.ZERO,H=n.ZERO,V=n.ZERO,te=n.mul(R,R),ae=n.mul(k,k),q=n.mul($,$),Y=n.mul(R,k);return Y=n.add(Y,Y),V=n.mul(R,$),V=n.add(V,V),F=n.mul(T,V),H=n.mul(P,q),H=n.add(F,H),F=n.sub(ae,H),H=n.add(ae,H),H=n.mul(F,H),F=n.mul(Y,F),V=n.mul(P,V),q=n.mul(T,q),Y=n.sub(te,q),Y=n.mul(T,Y),Y=n.add(Y,V),V=n.add(te,te),te=n.add(V,te),te=n.add(te,q),te=n.mul(te,Y),H=n.add(H,te),q=n.mul(k,$),q=n.add(q,q),te=n.mul(q,Y),F=n.sub(F,te),V=n.mul(q,ae),V=n.add(V,V),V=n.add(V,V),new w(F,H,V)}add(T){m(T);const{px:O,py:P,pz:R}=this,{px:k,py:$,pz:F}=T;let H=n.ZERO,V=n.ZERO,te=n.ZERO;const ae=e.a,q=n.mul(e.b,Gp);let Y=n.mul(O,k),J=n.mul(P,$),B=n.mul(R,F),U=n.add(O,P),ne=n.add(k,$);U=n.mul(U,ne),ne=n.add(Y,J),U=n.sub(U,ne),ne=n.add(O,R);let L=n.add(k,F);return ne=n.mul(ne,L),L=n.add(Y,B),ne=n.sub(ne,L),L=n.add(P,R),H=n.add($,F),L=n.mul(L,H),H=n.add(J,B),L=n.sub(L,H),te=n.mul(ae,ne),H=n.mul(q,B),te=n.add(H,te),H=n.sub(J,te),te=n.add(J,te),V=n.mul(H,te),J=n.add(Y,Y),J=n.add(J,Y),B=n.mul(ae,B),ne=n.mul(q,ne),J=n.add(J,B),B=n.sub(Y,B),B=n.mul(ae,B),ne=n.add(ne,B),Y=n.mul(J,ne),V=n.add(V,Y),Y=n.mul(L,ne),H=n.mul(U,H),H=n.sub(H,Y),Y=n.mul(U,J),te=n.mul(L,te),te=n.add(te,Y),new w(H,V,te)}subtract(T){return this.add(T.negate())}is0(){return this.equals(w.ZERO)}wNAF(T){return A.wNAFCached(this,T,w.normalizeZ)}multiplyUnsafe(T){const{endo:O,n:P}=e;Vs("scalar",T,ai,P);const R=w.ZERO;if(T===ai)return R;if(this.is0()||T===Pn)return this;if(!O||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,T,w.normalizeZ);let{k1neg:k,k1:$,k2neg:F,k2:H}=O.splitScalar(T),V=R,te=R,ae=this;for(;$>ai||H>ai;)$&Pn&&(V=V.add(ae)),H&Pn&&(te=te.add(ae)),ae=ae.double(),$>>=Pn,H>>=Pn;return k&&(V=V.negate()),F&&(te=te.negate()),te=new w(n.mul(te.px,O.beta),te.py,te.pz),V.add(te)}multiply(T){const{endo:O,n:P}=e;Vs("scalar",T,Pn,P);let R,k;if(O){const{k1neg:$,k1:F,k2neg:H,k2:V}=O.splitScalar(T);let{p:te,f:ae}=this.wNAF(F),{p:q,f:Y}=this.wNAF(V);te=A.constTimeNegate($,te),q=A.constTimeNegate(H,q),q=new w(n.mul(q.px,O.beta),q.py,q.pz),R=te.add(q),k=ae.add(Y)}else{const{p:$,f:F}=this.wNAF(T);R=$,k=F}return w.normalizeZ([R,k])[0]}multiplyAndAddUnsafe(T,O,P){const R=w.BASE,k=(F,H)=>H===ai||H===Pn||!F.equals(R)?F.multiplyUnsafe(H):F.multiply(H),$=k(this,O).add(k(T,P));return $.is0()?void 0:$}toAffine(T){return g(this,T)}isTorsionFree(){const{h:T,isTorsionFree:O}=e;if(T===Pn)return!0;if(O)return O(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:O}=e;return T===Pn?this:O?O(w,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return Qu("isCompressed",T),this.assertValidity(),o(w,this,T)}toHex(T=!0){return Qu("isCompressed",T),el(this.toRawBytes(T))}}w.BASE=new w(e.Gx,e.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:_,nBitLength:C}=e,A=n$(w,_?Math.ceil(C/2):C);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:d}}function c$(t){const e=t_(t);return X0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function u$(t){const e=c$(t),{Fp:n,n:r,nByteLength:o,nBitLength:i}=e,a=n.BYTES+1,s=2*n.BYTES+1;function u(q){return hr(q,r)}function f(q){return rg(q,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:m,isWithinCurveOrder:g}=s$({...e,toBytes(q,Y,J){const B=Y.toAffine(),U=n.toBytes(B.x),ne=Vd;return Qu("isCompressed",J),J?ne(Uint8Array.from([Y.hasEvenY()?2:3]),U):ne(Uint8Array.from([4]),U,n.toBytes(B.y))},fromBytes(q){const Y=q.length,J=q[0],B=q.subarray(1);if(Y===a&&(J===2||J===3)){const U=Ua(B);if(!zy(U,Pn,n.ORDER))throw new Error("Point is not on curve");const ne=m(U);let L;try{L=n.sqrt(ne)}catch(ye){const _e=ye instanceof Error?": "+ye.message:"";throw new Error("Point is not on curve"+_e)}const G=(L&Pn)===Pn;return(J&1)===1!==G&&(L=n.neg(L)),{x:U,y:L}}else if(Y===s&&J===4){const U=n.fromBytes(B.subarray(0,n.BYTES)),ne=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:U,y:ne}}else{const U=a,ne=s;throw new Error("invalid Point, expected length of "+U+", or uncompressed "+ne+", got "+Y)}}});function b(q){const Y=r>>Pn;return q>Y}function w(q){return b(q)?u(-q):q}const _=(q,Y,J)=>Ua(q.slice(Y,J));class C{constructor(Y,J,B){Vs("r",Y,Pn,r),Vs("s",J,Pn,r),this.r=Y,this.s=J,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(Y){const J=o;return Y=Ur("compactSignature",Y,J*2),new C(_(Y,0,J),_(Y,J,2*J))}static fromDER(Y){const{r:J,s:B}=ii.toSig(Ur("DER",Y));return new C(J,B)}assertValidity(){}addRecoveryBit(Y){return new C(this.r,this.s,Y)}recoverPublicKey(Y){const{r:J,s:B,recovery:U}=this,ne=R(Ur("msgHash",Y));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const L=U===2||U===3?J+e.n:J;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(U&1)===0?"02":"03",pe=d.fromHex(G+Vp(L,n.BYTES)),ye=f(L),_e=u(-ne*ye),Ce=u(B*ye),xe=d.BASE.multiplyAndAddUnsafe(pe,_e,Ce);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Hd(this.toDERHex())}toDERHex(){return ii.hexFromSig(this)}toCompactRawBytes(){return Hd(this.toCompactHex())}toCompactHex(){const Y=o;return Vp(this.r,Y)+Vp(this.s,Y)}}const A={isValidPrivateKey(q){try{return h(q),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const q=JE(e.n);return Qz(e.randomBytes(q),e.n)},precompute(q=8,Y=d.BASE){return Y._setWindowSize(q),Y.multiply(BigInt(3)),Y}};function I(q,Y=!0){return d.fromPrivateKey(q).toRawBytes(Y)}function T(q){if(typeof q=="bigint")return!1;if(q instanceof d)return!0;const J=Ur("key",q).length,B=n.BYTES,U=B+1,ne=2*B+1;if(!(e.allowedPrivateKeyLengths||o===U))return J===U||J===ne}function O(q,Y,J=!0){if(T(q)===!0)throw new Error("first arg must be private key");if(T(Y)===!1)throw new Error("second arg must be public key");return d.fromHex(Y).multiply(h(q)).toRawBytes(J)}const P=e.bits2int||function(q){if(q.length>8192)throw new Error("input is too large");const Y=Ua(q),J=q.length*8-i;return J>0?Y>>BigInt(J):Y},R=e.bits2int_modN||function(q){return u(P(q))},k=Z0(i);function $(q){return Vs("num < 2^"+i,q,ai,k),El(q,o)}function F(q,Y,J=H){if(["recovered","canonical"].some(ke=>ke in J))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:U}=e;let{lowS:ne,prehash:L,extraEntropy:G}=J;ne==null&&(ne=!0),q=Ur("msgHash",q),lx(J),L&&(q=Ur("prehashed msgHash",B(q)));const pe=R(q),ye=h(Y),_e=[$(ye),$(pe)];if(G!=null&&G!==!1){const ke=G===!0?U(n.BYTES):G;_e.push(Ur("extraEntropy",ke))}const Ce=Vd(..._e),xe=pe;function Be(ke){const Ae=P(ke);if(!g(Ae))return;const yt=f(Ae),it=d.BASE.multiply(Ae).toAffine(),dt=u(it.x);if(dt===ai)return;const vt=u(yt*u(xe+dt*ye));if(vt===ai)return;let se=(it.x===dt?0:2)|Number(it.y&Pn),re=vt;return ne&&b(vt)&&(re=w(vt),se^=1),new C(dt,re,se)}return{seed:Ce,k2sig:Be}}const H={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function te(q,Y,J=H){const{seed:B,k2sig:U}=F(q,Y,J),ne=e;return CF(ne.hash.outputLen,ne.nByteLength,ne.hmac)(B,U)}d.BASE._setWindowSize(8);function ae(q,Y,J,B=V){const U=q;Y=Ur("msgHash",Y),J=Ur("publicKey",J);const{lowS:ne,prehash:L,format:G}=B;if(lx(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const pe=typeof U=="string"||wl(U),ye=!pe&&!G&&typeof U=="object"&&U!==null&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!pe&&!ye)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let _e,Ce;try{if(ye&&(_e=new C(U.r,U.s)),pe){try{G!=="compact"&&(_e=C.fromDER(U))}catch(se){if(!(se instanceof ii.Err))throw se}!_e&&G!=="der"&&(_e=C.fromCompact(U))}Ce=d.fromHex(J)}catch{return!1}if(!_e||ne&&_e.hasHighS())return!1;L&&(Y=e.hash(Y));const{r:xe,s:Be}=_e,ke=R(Y),Ae=f(Be),yt=u(ke*Ae),it=u(xe*Ae),dt=d.BASE.multiplyAndAddUnsafe(Ce,yt,it)?.toAffine();return dt?u(dt.x)===xe:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:O,sign:te,verify:ae,ProjectivePoint:d,Signature:C,utils:A}}function l$(t){return{hash:t,hmac:(e,...n)=>VE(t,e,DB(...n)),randomBytes:MB}}function f$(t,e){const n=r=>u$({...t,...l$(r)});return{...n(e),create:n}}const n_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d$=BigInt(0),h$=BigInt(1),ig=BigInt(2),dx=(t,e)=>(t+e/ig)/e;function p$(t){const e=n_,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),u=BigInt(88),f=t*t*t%e,d=f*f*t%e,h=zr(d,n,e)*d%e,m=zr(h,n,e)*d%e,g=zr(m,ig,e)*f%e,b=zr(g,o,e)*g%e,w=zr(b,i,e)*b%e,_=zr(w,s,e)*w%e,C=zr(_,u,e)*_%e,A=zr(C,s,e)*w%e,I=zr(A,n,e)*d%e,T=zr(I,a,e)*b%e,O=zr(T,r,e)*f%e,P=zr(O,ig,e);if(!ag.eql(ag.sqr(P),t))throw new Error("Cannot find square root");return P}const ag=Qy(n_,void 0,void 0,{sqrt:p$}),r_=f$({a:d$,b:BigInt(7),Fp:ag,n:fx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=fx,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-h$*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),s=dx(i*t,e),u=dx(-r*t,e);let f=hr(t-s*n-u*o,e),d=hr(-s*r-u*i,e);const h=f>a,m=d>a;if(h&&(f=e-f),m&&(d=e-d),f>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:f,k2neg:m,k2:d}}}},G4),m$=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:r_},Symbol.toStringTag,{value:"Module"}));function o_(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new Wp({signature:t});if(typeof t.s>"u")throw new Wp({signature:t});if(n&&typeof t.yParity>"u")throw new Wp({signature:t});if(t.r<0n||t.r>ox)throw new E$({value:t.r});if(t.s<0n||t.s>ox)throw new _$({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new tv({value:t.yParity})}function g$(t){return i_(xo(t))}function i_(t){if(t.length!==130&&t.length!==132)throw new w$({signature:t});const e=BigInt(Bo(t,0,32)),n=BigInt(Bo(t,32,64)),r=(()=>{const o=+`0x${t.slice(130)}`;if(!Number.isNaN(o))try{return ev(o)}catch{throw new tv({value:o})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function y$(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return v$(t)}function v$(t){const e=typeof t=="string"?i_(t):t instanceof Uint8Array?g$(t):typeof t.r=="string"?x$(t):t.v?b$(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return o_(e),e}function b$(t){return{r:t.r,s:t.s,yParity:ev(t.v)}}function x$(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ev(n)),typeof r!="number")throw new tv({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function ev(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new C$({value:t})}class w$ extends ut{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Pr(qF(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Wp extends ut{constructor({signature:e}){super(`Signature \`${oE(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class E$ extends ut{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class _$ extends ut{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class tv extends ut{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class C$ extends ut{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function A$(t,e={}){return typeof t.chainId=="string"?S$(t):{...t,...e.signature}}function S$(t){const{address:e,chainId:n,nonce:r}=t,o=y$(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...o}}const I$="0x8010801080108010801080108010801080108010801080108010801080108010",T$=zE("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function a_(t){if(typeof t=="string"){if(Bo(t,-32)!==I$)throw new P$(t)}else o_(t.authorization)}function N$(t){a_(t);const e=uE(Bo(t,-64,-32)),n=Bo(t,-e-64,-64),r=Bo(t,0,-e-64),[o,i,a]=$z(T$,n);return{authorization:A$({address:o.delegation,chainId:Number(o.chainId),nonce:o.nonce,yParity:o.yParity,r:o.r,s:o.s}),signature:r,...a&&a!=="0x"?{data:a,to:i}:{}}}function O$(t){try{return a_(t),!0}catch{return!1}}let P$=class extends ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function R$(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function k$(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?vi(t.nonce):void 0,storageProof:t.storageProof?R$(t.storageProof):void 0}}async function D$(t,{address:e,blockNumber:n,blockTag:r,storageKeys:o}){const i=r??"latest",a=n!==void 0?We(n):void 0,s=await t.request({method:"eth_getProof",params:[e,o,a||i]});return k$(s)}async function M$(t,{address:e,blockNumber:n,blockTag:r="latest",slot:o}){const i=n!==void 0?We(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,o,i||r]})}async function nv(t,{blockHash:e,blockNumber:n,blockTag:r,hash:o,index:i,sender:a,nonce:s}){const u=r||"latest",f=n!==void 0?We(n):void 0;let d=null;if(o?d=await t.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,We(i)]},{dedupe:!0}):typeof i=="number"?d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[f||u,We(i)]},{dedupe:!!f}):a&&typeof s=="number"&&(d=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,We(s)]},{dedupe:!0})),!d)throw new T4({blockHash:e,blockNumber:n,blockTag:u,hash:o,index:i});return(t.chain?.formatters?.transaction?.format||Oy)(d,"getTransaction")}async function B$(t,{hash:e,transactionReceipt:n}){const[r,o]=await Promise.all([$e(t,Al,"getBlockNumber")({}),e?$e(t,nv,"getTransaction")({hash:e}):void 0]),i=n?.blockNumber||o?.blockNumber;return i?r-i+1n:0n}async function xd(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new N4({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||EE)(n,"getTransactionReceipt")}async function L$(t,e){const{account:n,authorizationList:r,allowFailure:o=!0,blockNumber:i,blockOverrides:a,blockTag:s,stateOverride:u}=e,f=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},m=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return xc({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),g=[[]];let b=0,w=0;for(let A=0;A<f.length;A++){const{abi:I,address:T,args:O,functionName:P}=f[A];try{const R=Or({abi:I,args:O,functionName:P});w+=(R.length-2)/2,d>0&&w>d&&g[b].length>0&&(b++,w=(R.length-2)/2,g[b]=[]),g[b]=[...g[b],{allowFailure:!0,callData:R,target:T}]}catch(R){const k=oc(R,{abi:I,address:T,args:O,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!o)throw k;g[b]=[...g[b],{allowFailure:!0,callData:"0x",target:T}]}}const _=await Promise.allSettled(g.map(A=>$e(t,wo,"readContract")({...m===null?{code:Uy}:{address:m},abi:Gd,account:n,args:[A],authorizationList:r,blockNumber:i,blockOverrides:a,blockTag:s,functionName:"aggregate3",stateOverride:u}))),C=[];for(let A=0;A<_.length;A++){const I=_[A];if(I.status==="rejected"){if(!o)throw I.reason;for(let O=0;O<g[A].length;O++)C.push({status:"failure",error:I.reason,result:void 0});continue}const T=I.value;for(let O=0;O<T.length;O++){const{returnData:P,success:R}=T[O],{callData:k}=g[A][O],{abi:$,address:F,functionName:H,args:V}=f[C.length];try{if(k==="0x")throw new pl;if(!R)throw new H0({data:P});const te=ts({abi:$,args:V,data:P,functionName:H});C.push(o?{result:te,status:"success"}:te)}catch(te){const ae=oc(te,{abi:$,address:F,args:V,docsPath:"/docs/contract/multicall",functionName:H});if(!o)throw ae;C.push({error:ae,result:void 0,status:"failure"})}}}if(C.length!==f.length)throw new fe("multicall results mismatch");return C}async function sg(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:o,returnFullTransactions:i,traceTransfers:a,validation:s}=e;try{const u=[];for(const m of o){const g=m.blockOverrides?dE(m.blockOverrides):void 0,b=m.calls.map(_=>{const C=_,A=C.account?Nr(C.account):void 0,I=C.abi?Or(C):C.data,T={...C,account:A,data:C.dataSuffix?Uo([I||"0x",C.dataSuffix]):I,from:C.from??A?.address};return bc(T),xl(T)}),w=m.stateOverrides?Ty(m.stateOverrides):void 0;u.push({blockOverrides:g,calls:b,stateOverrides:w})}const d=(typeof n=="bigint"?We(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:i,traceTransfers:a,validation:s},d]})).map((m,g)=>({...z4(m),calls:m.calls.map((b,w)=>{const{abi:_,args:C,functionName:A,to:I}=o[g].calls[w],T=b.error?.data??b.returnData,O=BigInt(b.gasUsed),P=b.logs?.map(F=>xi(F)),R=b.status==="0x1"?"success":"failure",k=_&&R==="success"&&T!=="0x"?ts({abi:_,data:T,functionName:A}):null,$=(()=>{if(R==="success")return;let F;if(b.error?.data==="0x"?F=new pl:b.error&&(F=new H0(b.error)),!!F)return oc(F,{abi:_??[],address:I??"0x",args:C,functionName:A??"<unknown>"})})();return{data:T,gasUsed:O,logs:P,status:R,...R==="success"?{result:k}:{error:$}}})}))}catch(u){const f=u,d=V0(f,{});throw d instanceof bl?f:d}}function cg(t){let e=!0,n="",r=0,o="",i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function","error",""].includes(o))o="";else if(o+=s,s===")"){i=!0;break}continue}if(s===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}o+=s,n+=s}}if(!i)throw new ut("Unable to normalize signature.");return o}function ug(t,e){const n=typeof t,r=e.type;switch(r){case"address":return eg(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>ug(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(o=>ug(o,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function s_(t,e,n){for(const r in t){const o=t[r],i=e[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return s_(o.components,i.components,n[r]);const a=[o.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?eg(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?eg(n[r],{strict:!1}):!1)return a}}function c_(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?xb(t):t;return{...r,...n?{hash:Ms(r)}:{}}}function t1(t,e,n){const{args:r=[],prepare:o=!0}=n??{},i=KF(e,{strict:!1}),a=t.filter(f=>i?f.type==="function"||f.type==="error"?u_(f)===Bo(e,0,4):f.type==="event"?Ms(f)===e:!1:"name"in f&&f.name===e);if(a.length===0)throw new Wd({name:e});if(a.length===1)return{...a[0],...o?{hash:Ms(a[0])}:{}};let s;for(const f of a){if(!("inputs"in f))continue;if(!r||r.length===0){if(!f.inputs||f.inputs.length===0)return{...f,...o?{hash:Ms(f)}:{}};continue}if(!f.inputs||f.inputs.length===0||f.inputs.length!==r.length)continue;if(r.every((h,m)=>{const g="inputs"in f&&f.inputs[m];return g?ug(h,g):!1})){if(s&&"inputs"in s&&s.inputs){const h=s_(f.inputs,s.inputs,r);if(h)throw new j$({abiItem:f,type:h[0]},{abiItem:s,type:h[1]})}s=f}}const u=(()=>{if(s)return s;const[f,...d]=a;return{...f,overloads:d}})();if(!u)throw new Wd({name:e});return{...u,...o?{hash:Ms(u)}:{}}}function u_(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return t1(n,r)}return t[0]})();return Bo(Ms(e),0,4)}function F$(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,o]=t;return t1(r,o)}return t[0]})(),n=typeof e=="string"?e:jd(e);return cg(n)}function Ms(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return t1(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:LE($y(F$(e)))}class j$ extends ut{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${cg(jd(e.abiItem))}\`, and`,`\`${n.type}\` in \`${cg(jd(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Wd extends ut{constructor({name:e,data:n,type:r="item"}){const o=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${o} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function z$(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[i,a]=t;return[U$(i),a]}return t})(),{bytecode:r,args:o}=n;return bo(r,e.inputs?.length&&o?.length?Yy(e.inputs,o):"0x")}function $$(t){return c_(t)}function U$(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Wd({name:"constructor"});return e}function H$(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[f,d,h]=t;return[hx(f,d,{args:h}),h]}const[s,u]=t;return[s,u]})(),{overloads:r}=e,o=r?hx([e,...r],e.name,{args:n}):e,i=V$(o),a=n.length>0?Yy(o.inputs,n):void 0;return a?bo(i,a):i}function Is(t,e={}){return c_(t,e)}function hx(t,e,n){const r=t1(t,e,n);if(r.type!=="function")throw new Wd({name:e,type:"function"});return r}function V$(t){return u_(t)}const G$="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Oo="0x0000000000000000000000000000000000000000",W$="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Z$(t,e){const{blockNumber:n,blockTag:r,calls:o,stateOverrides:i,traceAssetChanges:a,traceTransfers:s,validation:u}=e,f=e.account?Nr(e.account):void 0;if(a&&!f)throw new fe("`account` is required when `traceAssetChanges` is true");const d=f?z$($$("constructor(bytes, bytes)"),{bytecode:gE,args:[W$,H$(Is("function getBalance(address)"),[f.address])]}):void 0,h=a?await Promise.all(e.calls.map(async B=>{if(!B.data&&!B.abi)return;const{accessList:U}=await TE(t,{account:f.address,...B,data:B.abi?Or(B):B.data});return U.map(({address:ne,storageKeys:L})=>L.length>0?ne:null)})).then(B=>B.flat().filter(Boolean)):[],m=await sg(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:d}],stateOverrides:i},{calls:h.map((B,U)=>({abi:[Is("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:B,from:Oo,nonce:U})),stateOverrides:[{address:Oo,nonce:0}]}]:[],{calls:[...o,{}].map(B=>({...B,from:f?.address})),stateOverrides:i},...a?[{calls:[{data:d}]},{calls:h.map((B,U)=>({abi:[Is("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:B,from:Oo,nonce:U})),stateOverrides:[{address:Oo,nonce:0}]},{calls:h.map((B,U)=>({to:B,abi:[Is("function decimals() returns (uint256)")],functionName:"decimals",from:Oo,nonce:U})),stateOverrides:[{address:Oo,nonce:0}]},{calls:h.map((B,U)=>({to:B,abi:[Is("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Oo,nonce:U})),stateOverrides:[{address:Oo,nonce:0}]},{calls:h.map((B,U)=>({to:B,abi:[Is("function symbol() returns (string)")],functionName:"symbol",from:Oo,nonce:U})),stateOverrides:[{address:Oo,nonce:0}]}]:[]],traceTransfers:s,validation:u}),g=a?m[2]:m[0],[b,w,,_,C,A,I,T]=a?m:[],{calls:O,...P}=g,R=O.slice(0,-1)??[],k=b?.calls??[],$=w?.calls??[],F=[...k,...$].map(B=>B.status==="success"?$o(B.data):null),H=_?.calls??[],V=C?.calls??[],te=[...H,...V].map(B=>B.status==="success"?$o(B.data):null),ae=(A?.calls??[]).map(B=>B.status==="success"?B.result:null),q=(T?.calls??[]).map(B=>B.status==="success"?B.result:null),Y=(I?.calls??[]).map(B=>B.status==="success"?B.result:null),J=[];for(const[B,U]of te.entries()){const ne=F[B];if(typeof U!="bigint"||typeof ne!="bigint")continue;const L=ae[B-1],G=q[B-1],pe=Y[B-1],ye=B===0?{address:G$,decimals:18,symbol:"ETH"}:{address:h[B-1],decimals:pe||L?Number(L??1):void 0,symbol:G??void 0};J.some(_e=>_e.token.address===ye.address)||J.push({token:ye,value:{pre:ne,post:U,diff:U-ne}})}return{assetChanges:J,block:P,results:R}}const l_="0x6492649264926492649264926492649264926492649264926492649264926492";function X$(t){if(Bo(t,-32)!==l_)throw new Y$(t)}function q$(t){const{data:e,signature:n,to:r}=t;return bo(Yy(zE("address, bytes, bytes"),[r,e,n]),l_)}function K$(t){try{return X$(t),!0}catch{return!1}}class Y$ extends ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function J$({r:t,s:e,to:n="hex",v:r,yParity:o}){const i=(()=>{if(o===0||o===1)return o;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new r_.Signature($o(t),$o(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?a:vo(a)}async function n1(t,e){const{address:n,hash:r,erc6492VerifierAddress:o=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:i=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,a=(()=>{const s=e.signature;return zo(s)?s:typeof s=="object"&&"r"in s&&"s"in s?J$(s):Vt(s)})();try{return O$(a)?await Q$(t,{...e,multicallAddress:i,signature:a}):await eU(t,{...e,verifierAddress:o,signature:a})}catch(s){try{if(W0(y4(n),await k4({hash:r,signature:a})))return!0}catch{}if(s instanceof qa)return!1;throw s}}async function Q$(t,e){const{address:n,blockNumber:r,blockTag:o,hash:i,multicallAddress:a}=e,{authorization:s,data:u,signature:f,to:d}=N$(e.signature);if(await Qm(t,{address:n,blockNumber:r,blockTag:o})===bi(["0xef0100",s.address]))return await tU(t,{address:n,blockNumber:r,blockTag:o,hash:i,signature:f});const m={address:s.address,chainId:Number(s.chainId),nonce:Number(s.nonce),r:We(s.r,{size:32}),s:We(s.s,{size:32}),yParity:s.yParity};if(!await Yj({address:n,authorization:m}))throw new qa;const b=await $e(t,wo,"readContract")({...a?{address:a}:{code:Uy},authorizationList:[m],abi:Gd,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:d??n,callData:u}]:[],{allowFailure:!0,target:n,callData:Or({abi:mE,functionName:"isValidSignature",args:[i,f]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new qa}async function eU(t,e){const{address:n,factory:r,factoryData:o,hash:i,signature:a,verifierAddress:s,...u}=e,f=await(async()=>!r&&!o||K$(a)?a:q$({data:o,signature:a,to:r}))(),d=s?{to:s,data:Or({abi:Jb,functionName:"isValidSig",args:[n,i,f]}),...u}:{data:Hy({abi:Jb,args:[n,i,f],bytecode:rj}),...u},{data:h}=await $e(t,K0,"call")(d).catch(m=>{throw m instanceof O4?new qa:m});if(mB(h??"0x0"))return!0;throw new qa}async function tU(t,e){const{address:n,blockNumber:r,blockTag:o,hash:i,signature:a}=e;if((await $e(t,wo,"readContract")({address:n,abi:mE,args:[i,a],blockNumber:r,blockTag:o,functionName:"isValidSignature"}).catch(u=>{throw u instanceof P4?new qa:u})).startsWith("0x1626ba7e"))return!0;throw new qa}class qa extends Error{}async function nU(t,{address:e,message:n,factory:r,factoryData:o,signature:i,...a}){const s=PE(n);return $e(t,n1,"verifyHash")({address:e,factory:r,factoryData:o,hash:s,signature:i,...a})}async function rU(t,e){const{address:n,factory:r,factoryData:o,signature:i,message:a,primaryType:s,types:u,domain:f,...d}=e,h=RE({message:a,primaryType:s,types:u,domain:f});return $e(t,n1,"verifyHash")({address:n,factory:r,factoryData:o,hash:h,signature:i,...d})}function f_(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:o,poll:i,pollingInterval:a=t.pollingInterval}){const s=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let u;return s?(()=>{const h=zn(["watchBlockNumber",t.uid,e,n,a]);return fa(h,{onBlockNumber:r,onError:o},m=>Cl(async()=>{try{const g=await $e(t,Al,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(g===u)return;if(g-u>1&&n)for(let b=u+1n;b<g;b++)m.onBlockNumber(b,u),u=b}(u===void 0||g>u)&&(m.onBlockNumber(g,u),u=g)}catch(g){m.onError?.(g)}},{emitOnBegin:e,interval:a}))})():(()=>{const h=zn(["watchBlockNumber",t.uid,e,n]);return fa(h,{onBlockNumber:r,onError:o},m=>{let g=!0,b=()=>g=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:_}=await w.subscribe({params:["newHeads"],onData(C){if(!g)return;const A=$o(C.result?.number);m.onBlockNumber(A,u),u=A},onError(C){m.onError?.(C)}});b=_,g||b()}catch(w){o?.(w)}})(),()=>b()})})()}async function oU(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:o,onReplaced:i,retryCount:a=6,retryDelay:s=({count:O})=>~~(1<<O)*200,timeout:u=18e4}=e,f=zn(["waitForTransactionReceipt",t.uid,o]),d=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let h,m,g,b=!1,w,_;const{promise:C,resolve:A,reject:I}=bE(),T=u?setTimeout(()=>{_?.(),w?.(),I(new PL({hash:o}))},u):void 0;return w=fa(f,{onReplaced:i,resolve:A,reject:I},async O=>{if(g=await $e(t,xd,"getTransactionReceipt")({hash:o}).catch(()=>{}),g&&r<=1){clearTimeout(T),O.resolve(g),w?.();return}_=$e(t,f_,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(P){const R=$=>{clearTimeout(T),_?.(),$(),w?.()};let k=P;if(!b)try{if(g){if(r>1&&(!g.blockNumber||k-g.blockNumber+1n<r))return;R(()=>O.resolve(g));return}if(n&&!h&&(b=!0,await Km(async()=>{h=await $e(t,nv,"getTransaction")({hash:o}),h.blockNumber&&(k=h.blockNumber)},{delay:s,retryCount:a}),b=!1),g=await $e(t,xd,"getTransactionReceipt")({hash:o}),r>1&&(!g.blockNumber||k-g.blockNumber+1n<r))return;R(()=>O.resolve(g))}catch($){if($ instanceof T4||$ instanceof N4){if(!h){b=!1;return}try{m=h,b=!0;const F=await Km(()=>$e(t,fo,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:s,retryCount:a,shouldRetry:({error:te})=>te instanceof F4});b=!1;const H=F.transactions.find(({from:te,nonce:ae})=>te===m.from&&ae===m.nonce);if(!H||(g=await $e(t,xd,"getTransactionReceipt")({hash:H.hash}),r>1&&(!g.blockNumber||k-g.blockNumber+1n<r)))return;let V="replaced";H.to===m.to&&H.value===m.value&&H.input===m.input?V="repriced":H.from===H.to&&H.value===0n&&(V="cancelled"),R(()=>{O.onReplaced?.({reason:V,replacedTransaction:m,transaction:H,transactionReceipt:g}),O.resolve(g)})}catch(F){R(()=>O.reject(F))}}else R(()=>O.reject($))}}})}),C}function iU(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:o,onError:i,includeTransactions:a,poll:s,pollingInterval:u=t.pollingInterval}){const f=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=a??!1;let h;return f?(()=>{const b=zn(["watchBlocks",t.uid,e,n,r,d,u]);return fa(b,{onBlock:o,onError:i},w=>Cl(async()=>{try{const _=await $e(t,fo,"getBlock")({blockTag:e,includeTransactions:d});if(_.number!==null&&h?.number!=null){if(_.number===h.number)return;if(_.number-h.number>1&&n)for(let C=h?.number+1n;C<_.number;C++){const A=await $e(t,fo,"getBlock")({blockNumber:C,includeTransactions:d});w.onBlock(A,h),h=A}}(h?.number==null||e==="pending"&&_?.number==null||_.number!==null&&_.number>h.number)&&(w.onBlock(_,h),h=_)}catch(_){w.onError?.(_)}},{emitOnBegin:r,interval:u}))})():(()=>{let b=!0,w=!0,_=()=>b=!1;return(async()=>{try{r&&$e(t,fo,"getBlock")({blockTag:e,includeTransactions:d}).then(I=>{b&&w&&(o(I,void 0),w=!1)}).catch(i);const C=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return I?I.value:t.transport}return t.transport})(),{unsubscribe:A}=await C.subscribe({params:["newHeads"],async onData(I){if(!b)return;const T=await $e(t,fo,"getBlock")({blockNumber:I.result?.number,includeTransactions:d}).catch(()=>{});b&&(o(T,h),w=!1,h=T)},onError(I){i?.(I)}});_=A,b||_()}catch(C){i?.(C)}})(),()=>_()})()}function aU(t,{address:e,args:n,batch:r=!0,event:o,events:i,fromBlock:a,onError:s,onLogs:u,poll:f,pollingInterval:d=t.pollingInterval,strict:h}){const m=typeof f<"u"?f:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),g=h??!1;return m?(()=>{const _=zn(["watchEvent",e,n,r,t.uid,o,d,a]);return fa(_,{onLogs:u,onError:s},C=>{let A;a!==void 0&&(A=a-1n);let I,T=!1;const O=Cl(async()=>{if(!T){try{I=await $e(t,NE,"createEventFilter")({address:e,args:n,event:o,events:i,strict:g,fromBlock:a})}catch{}T=!0;return}try{let P;if(I)P=await $e(t,Y0,"getFilterChanges")({filter:I});else{const R=await $e(t,Al,"getBlockNumber")({});A&&A!==R?P=await $e(t,Ly,"getLogs")({address:e,args:n,event:o,events:i,fromBlock:A+1n,toBlock:R}):P=[],A=R}if(P.length===0)return;if(r)C.onLogs(P);else for(const R of P)C.onLogs([R])}catch(P){I&&P instanceof la&&(T=!1),C.onError?.(P)}},{emitOnBegin:!0,interval:d});return async()=>{I&&await $e(t,J0,"uninstallFilter")({filter:I}),O()}})})():(()=>{let _=!0,C=()=>_=!1;return(async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(R=>R.config.type==="webSocket"||R.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),I=i??(o?[o]:void 0);let T=[];I&&(T=[I.flatMap(R=>gl({abi:[R],eventName:R.name,args:n}))],o&&(T=T[0]));const{unsubscribe:O}=await A.subscribe({params:["logs",{address:e,topics:T}],onData(P){if(!_)return;const R=P.result;try{const{eventName:k,args:$}=My({abi:I??[],data:R.data,topics:R.topics,strict:g}),F=xi(R,{args:$,eventName:k});u([F])}catch(k){let $,F;if(k instanceof Ou||k instanceof L0){if(h)return;$=k.abiItem.name,F=k.abiItem.inputs?.some(V=>!("name"in V&&V.name))}const H=xi(R,{args:F?[]:{},eventName:$});u([H])}},onError(P){s?.(P)}});C=O,_||C()}catch(A){s?.(A)}})(),()=>C()})()}function sU(t,{batch:e=!0,onError:n,onTransactions:r,poll:o,pollingInterval:i=t.pollingInterval}){return(typeof o<"u"?o:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const f=zn(["watchPendingTransactions",t.uid,e,i]);return fa(f,{onTransactions:r,onError:n},d=>{let h;const m=Cl(async()=>{try{if(!h)try{h=await $e(t,OE,"createPendingTransactionFilter")({});return}catch(b){throw m(),b}const g=await $e(t,Y0,"getFilterChanges")({filter:h});if(g.length===0)return;if(e)d.onTransactions(g);else for(const b of g)d.onTransactions([b])}catch(g){d.onError?.(g)}},{emitOnBegin:!0,interval:i});return async()=>{h&&await $e(t,J0,"uninstallFilter")({filter:h}),m()}})})():(()=>{let f=!0,d=()=>f=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!f)return;const g=m.result;r([g])},onError(m){n?.(m)}});d=h,f||d()}catch(h){n?.(h)}})(),()=>d()})()}function cU(t){const{scheme:e,statement:n,...r}=t.match(uU)?.groups??{},{chainId:o,expirationTime:i,issuedAt:a,notBefore:s,requestId:u,...f}=t.match(lU)?.groups??{},d=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...f,...o?{chainId:Number(o)}:{},...i?{expirationTime:new Date(i)}:{},...a?{issuedAt:new Date(a)}:{},...s?{notBefore:new Date(s)}:{},...u?{requestId:u}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const uU=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,lU=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function fU(t){const{address:e,domain:n,message:r,nonce:o,scheme:i,time:a=new Date}=t;if(n&&r.domain!==n||o&&r.nonce!==o||i&&r.scheme!==i||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!qr(r.address,{strict:!1})||e&&!W0(r.address,e))return!1}catch{return!1}return!0}async function dU(t,e){const{address:n,domain:r,message:o,nonce:i,scheme:a,signature:s,time:u=new Date,...f}=e,d=cU(o);if(!d.address||!fU({address:n,domain:r,message:d,nonce:i,scheme:a,time:u}))return!1;const m=PE(o);return n1(t,{address:d.address,hash:m,signature:s,...f})}async function hU(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const o=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,We(r)]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||EE)(o);if(a.status==="reverted"&&n)throw new OL({receipt:a});return a}function pU(t){return{call:e=>K0(t,e),createAccessList:e=>TE(t,e),createBlockFilter:()=>$j(t),createContractEventFilter:e=>_4(t,e),createEventFilter:e=>NE(t,e),createPendingTransactionFilter:()=>OE(t),estimateContractGas:e=>bF(t,e),estimateGas:e=>Dy(t,e),getBalance:e=>Uj(t,e),getBlobBaseFee:()=>Hj(t),getBlock:e=>fo(t,e),getBlockNumber:e=>Al(t,e),getBlockTransactionCount:e=>Vj(t,e),getBytecode:e=>Qm(t,e),getChainId:()=>ky(t),getCode:e=>Qm(t,e),getContractEvents:e=>K4(t,e),getEip712Domain:e=>Wj(t,e),getEnsAddress:e=>Aj(t,e),getEnsAvatar:e=>Fj(t,e),getEnsName:e=>jj(t,e),getEnsResolver:e=>zj(t,e),getEnsText:e=>IE(t,e),getFeeHistory:e=>qj(t,e),estimateFeesPerGas:e=>tF(t,e),getFilterChanges:e=>Y0(t,e),getFilterLogs:e=>Kj(t,e),getGasPrice:()=>Py(t),getLogs:e=>Ly(t,e),getProof:e=>D$(t,e),estimateMaxPriorityFeePerGas:e=>eF(t,e),fillTransaction:e=>X4(t,e),getStorageAt:e=>M$(t,e),getTransaction:e=>nv(t,e),getTransactionConfirmations:e=>B$(t,e),getTransactionCount:e=>U4(t,e),getTransactionReceipt:e=>xd(t,e),multicall:e=>L$(t,e),prepareTransactionRequest:e=>q4(t,e),readContract:e=>wo(t,e),sendRawTransaction:e=>gj(t,e),sendRawTransactionSync:e=>hU(t,e),simulate:e=>sg(t,e),simulateBlocks:e=>sg(t,e),simulateCalls:e=>Z$(t,e),simulateContract:e=>cj(t,e),verifyHash:e=>n1(t,e),verifyMessage:e=>nU(t,e),verifySiweMessage:e=>dU(t,e),verifyTypedData:e=>rU(t,e),uninstallFilter:e=>J0(t,e),waitForTransactionReceipt:e=>oU(t,e),watchBlocks:e=>iU(t,e),watchBlockNumber:e=>f_(t,e),watchContractEvent:e=>mj(t,e),watchEvent:e=>aU(t,e),watchPendingTransactions:e=>sU(t,e)}}function r1(t){const{key:e="public",name:n="Public Client"}=t;return vj({...t,key:e,name:n,type:"publicClient"}).extend(pU)}function mU({key:t,methods:e,name:n,request:r,retryCount:o=3,retryDelay:i=150,timeout:a,type:s},u){const f=_E();return{config:{key:t,methods:e,name:n,request:r,retryCount:o,retryDelay:i,timeout:a,type:s},request:Qj(r,{methods:e,retryCount:o,retryDelay:i,uid:f}),value:u}}class gU extends fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function o1(t,e={}){const{batch:n,fetchFn:r,fetchOptions:o,key:i="http",methods:a,name:s="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:f,retryDelay:d,raw:h}=e;return({chain:m,retryCount:g,timeout:b})=>{const{batchSize:w=1e3,wait:_=0}=typeof n=="object"?n:{},C=e.retryCount??g,A=b??e.timeout??1e4,I=t||m?.rpcUrls.default.http[0];if(!I)throw new gU;const T=rz(I,{fetchFn:r,fetchOptions:o,onRequest:u,onResponse:f,timeout:A});return mU({key:i,methods:a,name:s,async request({method:O,params:P}){const R={method:O,params:P},{schedule:k}=xE({id:I,wait:_,shouldSplitBatch(V){return V.length>w},fn:V=>T.request({body:V}),sort:(V,te)=>V.id-te.id}),$=async V=>n?k(V):[await T.request({body:V})],[{error:F,result:H}]=await $(R);if(h)return{error:F,result:H};if(F)throw new Iy({body:R,error:F,url:I});return H},retryCount:C,retryDelay:d,timeout:A,type:"http"},{fetchOptions:o,url:I})}}function yU(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState([]),[a,s]=S.useState("any"),[u,f]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(0),[b,w]=S.useState(!1),[_,C]=S.useState(null),[A,I]=S.useState(null),[T,O]=S.useState(""),[P,R]=S.useState(""),[k,$]=S.useState(18),[F,H]=S.useState(""),[V,te]=S.useState(1),[ae,q]=S.useState("ERC20"),[Y,J]=S.useState([]),[B,U]=S.useState(""),[ne,L]=S.useState(null),G=/^0x[0-9a-fA-F]{40}$/,pe=/^[a-z0-9-]+\.eth$/i,ye={1:"Ethereum",11155111:"Sepolia",31337:"Local"},_e=["NATIVE","ERC20","ERC721","ERC1155","ERC3643","ERC7943"],{coins:Ce,loading:xe,error:Be,addCoin:ke,deleteCoin:Ae,updateCoin:yt}=hy({query:t,sortMode:n,tags:o,tagMode:a,standard:d,chainId:m}),{folios:it,updateFolio:dt}=my(),{domains:vt}=yy(),[se,re]=S.useState(!1),[Ee,je]=S.useState(null),[lt,ze]=S.useState(!1);function pt({sortMode:Q,setSortMode:le,tagSearch:Le,setTagSearch:et,setTags:Ye,tagMode:Qe,setTagSearchMode:ft}){const[Dn,Xn]=S.useState(!1),qn=S.useRef(null),[Er,$n]=S.useState({top:0,left:0,width:320}),K=()=>Xn(!1),ge=S.useCallback(()=>{if(!qn.current)return;const we=qn.current.getBoundingClientRect(),Je=8,Ze=Math.min(360,window.innerWidth-Je*2),nt=we.bottom+8,Mt=we.right-Ze,tt=Math.min(Math.max(Je,Mt),window.innerWidth-Ze-Je);$n({top:nt,left:tt,width:Ze})},[]),he=()=>{const we=!Dn;we&&ge(),Xn(we)};return S.useEffect(()=>{if(!Dn)return;const we=Je=>{Je.key==="Escape"&&K()};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[Dn]),S.useEffect(()=>{if(Dn)return window.addEventListener("resize",ge),window.addEventListener("scroll",ge,!0),()=>{window.removeEventListener("resize",ge),window.removeEventListener("scroll",ge,!0)}},[Dn,ge]),v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:qn,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:he,children:"Sort / Filter"}),Dn&&typeof document<"u"&&rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:K,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),v.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:Er.top,left:Er.left,width:Er.width,padding:12},onClick:we=>we.stopPropagation(),children:[v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),v.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:Q,onChange:we=>le(we.target.value),children:[v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"symbolAsc",children:"Symbol (A  Z)"}),v.jsx("option",{value:"symbolDesc",children:"Symbol (Z  A)"}),v.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),v.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),v.jsx("div",{className:"my-3 border-t border-border"}),v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:Le,onChange:we=>{const Je=we.target.value;et(Je);const Ze=Je.split(",").map(nt=>nt.trim()).filter(Boolean);Ye(Ze)}}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-muted",children:"Mode"}),v.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:Qe,onChange:we=>ft(we.target.value),children:[v.jsx("option",{value:"any",children:"Match any"}),v.jsx("option",{value:"all",children:"Match all"})]}),v.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{et(""),Ye([]),ft("any")},children:"Clear"})]}),v.jsx("div",{className:"mt-3 flex justify-end",children:v.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:K,children:"Done"})})]})]}),document.body)]})}S.useEffect(()=>{function Q(le){le.target.closest("details")||document.querySelectorAll("details[open]").forEach(et=>{et.removeAttribute("open")})}return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]),S.useEffect(()=>{if(!b)return;const Q=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Q}},[b]);function wt(){O(""),H(""),J([]),te(1),U(""),R(""),$(18),q("ERC20"),re(!1),je(null),ze(!1)}async function Rt(){const Q=F.trim();if(!Q)return;const le=vt.find(Le=>Le.chainId===V);if(!le){je("No domain found for this chain");return}re(!0),je(null),ze(!1);try{const Le=r1({transport:o1(le.rpcUrl)}),et=Q,[Ye,Qe,ft]=await Promise.all([Le.readContract({address:et,abi:bd,functionName:"name"}).catch(()=>null),Le.readContract({address:et,abi:bd,functionName:"symbol"}).catch(()=>null),Le.readContract({address:et,abi:bd,functionName:"decimals"}).catch(()=>null)]);if(Ye==null&&Qe==null&&ft==null){je("Could not read contract  check address and chain");return}typeof Ye=="string"&&O(Ye),typeof Qe=="string"&&R(Qe),typeof ft=="number"&&$(ft),ze(!0)}catch{je("Lookup failed  check RPC connection")}finally{re(!1)}}function kt(){C(null),wt(),w(!0)}function an(Q){C(Q),O(Q.name??""),H(Q.address??""),te(Q.chainId??1),J(Q.tags??[]),U(""),R(Q.symbol??""),$(Q.decimals??18),q(Q.type??"ERC20"),w(!0)}function pn(){w(!1),C(null),wt()}function ve(){const Q=B.trim();if(!Q)return;const le=Q.split(",").map(Le=>Le.trim()).filter(Boolean);J(Le=>{const et=new Set(Le.map(Qe=>Qe.toLowerCase())),Ye=[...Le];for(const Qe of le)et.has(Qe.toLowerCase())||Ye.push(Qe);return Ye}),U("")}function De(Q){J(le=>le.filter(Le=>Le!==Q))}async function Xe(Q){Q.preventDefault();const le=T.trim();if(!le)return;const Le={name:le,address:F.trim()||void 0,chainId:V||void 0,tags:Y.length>0?Y:void 0,symbol:P.trim()||void 0,decimals:k,type:ae};if(_)await yt(_.id,Le);else{const et=await ke(Le),Ye=et[et.length-1];for(const Qe of it)if(Qe.chainId===Number(V)){const ft=Qe.wallet??[];await dt(Qe.id,{wallet:[...ft,{coin:Ye.id,balance:BigInt(0)}]})}}pn()}return xe?v.jsx("div",{className:"p-4",children:"Loading coins"}):Be?v.jsx("div",{className:"p-4 text-red-600",children:Be}):v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Coins"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:Q=>e(Q.target.value)}),v.jsxs("select",{className:"h-9 w-[140px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:m,onChange:Q=>g(Number(Q.target.value)),children:[v.jsx("option",{value:0,children:"All chains"}),Object.entries(ye).map(([Q,le])=>v.jsx("option",{value:Number(Q),children:le},Q))]}),v.jsxs("select",{className:"h-9 w-[100px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:d,onChange:Q=>h(Q.target.value),children:[v.jsx("option",{value:"",children:"All standards"}),_e.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsx(pt,{sortMode:n,setSortMode:r,tagSearch:u,setTagSearch:f,setTags:i,tagMode:a,setTagSearchMode:s}),"",v.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:kt,children:"+ Add coin"})]})]}),Ce.length===0?v.jsx("div",{className:"text-sm text-muted",children:"No coins yet. Add one from the transaction screen or here."}):v.jsx("ul",{className:"space-y-2 overflow-visible",children:Ce.map(Q=>v.jsxs("li",{className:`
    grid gap-x-6 gap-y-2 rounded-lg border px-4 py-3 text-sm
    grid-cols-1
    sm:grid-cols-[80px_80px_1fr_110px] sm:items-start sm:px-8
  `,children:[v.jsx("div",{className:"min-w-0",children:v.jsx("span",{className:"font-medium",children:Q.name})}),v.jsx("div",{className:"min-w-0",children:v.jsx("div",{className:"text-xs text-muted",children:Q.symbol})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"text-xs text-muted",children:Q.type}),v.jsxs("div",{className:"text-xs text-muted",children:[ye[Q.chainId]??Q.chainId," - ",Q.address]})]}),v.jsx("div",{className:"min-w-0",children:Q.tags&&Q.tags.length>0&&v.jsx("div",{className:"mt-2 flex flex-wrap gap-10 text-[11px] text-muted",children:Q.tags.map(le=>v.jsxs("span",{className:"px-10 py-0.5",children:["#",le]},le))})}),v.jsx("div",{className:"justify-self-start sm:justify-self-end overflow-visible",children:v.jsxs("details",{className:"relative inline-block overflow-visible",children:[v.jsx("summary",{className:"cursor-pointer list-none rounded-md border bg-background px-2 py-1 text-xs",children:"Actions"}),v.jsxs("div",{className:"absolute left-0 mt-1 w-40 rounded-md border border-neutral-200 bg-background shadow-lg z-50",children:[v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:le=>{le.currentTarget.closest("details")?.removeAttribute("open"),an(Q)},children:"Edit"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:le=>{le.currentTarget.closest("details")?.removeAttribute("open"),L(Q.id)},children:"Remove"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:le=>{le.preventDefault(),le.stopPropagation(),I(wD(Q))},children:"Share"})]})]})})]},Q.id))}),b?rn.createPortal(v.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:Q=>{Q.target===Q.currentTarget&&pn()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:v.jsxs("div",{className:"bg-background",onMouseDown:Q=>Q.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[v.jsx("h2",{className:"mb-3 text-base font-semibold",children:_?"Edit coin":"Add coin"}),v.jsxs("form",{className:"space-y-4",onSubmit:Xe,children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Chain"}),v.jsx("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:V,onChange:Q=>{te(Number(Q.target.value)),_||(ze(!1),je(null))},disabled:!!_,children:Object.entries(ye).map(([Q,le])=>v.jsx("option",{value:Q,children:le},Q))})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Standard"}),v.jsx("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:ae,onChange:Q=>q(Q.target.value),disabled:!!_,children:_e.map(Q=>v.jsx("option",{value:Q,children:Q},Q))})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Address"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",value:F,onChange:Q=>{const le=Q.target.value.trim(),Le=G.test(le),et=pe.test(le);(le===""||Le||et)&&(H(Q.target.value),_||(ze(!1),je(null)))},disabled:!!_,required:!0}),!_&&ae!=="NATIVE"&&v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs disabled:opacity-50",onClick:Rt,disabled:se||!F.trim(),children:se?"Looking up":"Lookup"})]}),Ee&&v.jsx("div",{className:"text-xs text-red-600 mt-1",children:Ee})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Name"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm disabled:opacity-60 disabled:bg-muted",value:T,onChange:Q=>O(Q.target.value),readOnly:!_,required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Symbol"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm disabled:opacity-60 disabled:bg-muted",value:P,onChange:Q=>R(Q.target.value),readOnly:!_,required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Decimals"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm disabled:opacity-60 disabled:bg-muted",value:k,onChange:Q=>$(Number(Q.target.value)),readOnly:!_,required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Tags"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{className:"flex-1 rounded-md border px-2 py-1 text-sm",placeholder:"Type a tag and press Enter or comma",value:B,onChange:Q=>U(Q.target.value),onKeyDown:Q=>{(Q.key==="Enter"||Q.key===",")&&(Q.preventDefault(),ve())}}),v.jsx("button",{type:"button",className:"rounded-md border px-2 py-1 text-xs",onClick:ve,children:"Add"})]}),Y.length>0&&v.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[10px] text-muted",children:Y.map(Q=>v.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border px-2 py-0.5",onClick:()=>De(Q),title:"Click to remove",children:[v.jsxs("span",{children:["#",Q]}),v.jsx("span",{"aria-hidden":!0,children:""})]},Q))})]}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:pn,children:"Cancel"}),"",v.jsxs("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",disabled:!_&&!lt&&ae!=="NATIVE",children:["",_?"Save changes":"Create coin",""]})]})]})]})}),document.body):null,ne?rn.createPortal(v.jsx("div",{onClick:Q=>{Q.target===Q.currentTarget&&pn()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{onClick:Q=>Q.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[v.jsx("h2",{className:"text-base font-semibold",children:"Delete coin?"}),v.jsx("p",{className:"mt-2 text-sm text-muted",children:"This will remove the coin from all pages. This action cannot be undone."}),v.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[v.jsx("button",{className:"rounded-md border px-3 py-1 text-sm",onClick:()=>L(null),children:"Cancel"}),v.jsx("button",{className:"rounded-md bg-primary px-3 py-1 text-sm text-background",onClick:async()=>{if(ne){const Q=Ce.find(le=>le.id===ne);if(Q){for(const le of it)if(le.chainId===Q.chainId){const Le=le.wallet??[],et=Le.filter(Ye=>Ye.coin!==Q.id);et.length!==Le.length&&await dt(le.id,{wallet:et})}}Ae(ne)}L(null)},children:"Yes, delete coin"})]})]})}),document.body):null,A&&v.jsx(A0,{payload:A,onClose:()=>I(null)})]})}function so(t,e){const n=(t??"").toLocaleLowerCase(),r=(e??"").toLocaleLowerCase();return n.localeCompare(r)}function Po(t,e){const n=t??0,r=e??0;return n<r?-1:n>r?1:0}function px(t,e,n,r,o,i,a){switch(a){case"nameAsc":return so(t?.name,e?.name);case"nameDesc":return so(e?.name,t?.name);case"createdAsc":return Po(t?.createdAt,e?.createdAt);case"createdDesc":return Po(e?.createdAt,t?.createdAt);case"addressAsc":return so(t?.address,e?.address);case"addressDesc":return so(e?.address,t?.address);case"chainIdAsc":return Po(t?.chainId,e?.chainId);case"chainIdDesc":return Po(e?.chainId,t?.chainId);case"coinSymbolAsc":return so(n?.symbol,r?.symbol);case"coinSymbolDesc":return so(r?.symbol,n?.symbol);case"coinBalanceAsc":{const s=Number(o?.balance??0),u=Number(i?.balance??0),f=n?.decimals??1,d=r?.decimals??1,h=s/f,m=u/d;return Po(h,m)}case"coinBalanceDesc":{const s=Number(o?.balance??0),u=Number(i?.balance??0),f=n?.decimals??1,d=r?.decimals??1,h=s/f,m=u/d;return Po(m,h)}default:return 0}}function vU(t,e,n,r,o){const i=[...t],a=new Map(e.map(u=>[u.id,u])),s=new Map(n.map(u=>[u.id,u]));return i.sort((u,f)=>{const d=a.get(u.folioId),h=a.get(f.folioId),m=s.get(u.coinId),g=s.get(f.coinId),b=d?.wallet?.[u.walletId],w=h?.wallet?.[f.walletId],_=px(d,h,m,g,b,w,r);if(_!==0)return _;const C=px(d,h,m,g,b,w,o);return C!==0?C:so(u.folioId,f.folioId)||u.walletId-f.walletId}),i}function bU(t,e="createdAsc"){const n=[...t];return n.sort((r,o)=>{switch(e){case"nameAsc":return so(r.name,o.name);case"nameDesc":return so(o.name,r.name);case"createdAsc":return Po(r.createdAt,o.createdAt);case"createdDesc":return Po(o.createdAt,r.createdAt);case"addressAsc":return so(r.address,o.address);case"addressDesc":return so(o.address,r.address);case"chainIdAsc":return Po(r.chainId,o.chainId);case"chainIdDesc":return Po(o.chainId,r.chainId);default:return 0}}),n}function d_(t={}){const{folios:e,loading:n,error:r,addFolio:o,updateFolio:i,deleteFolio:a,clearFolios:s}=my(),{query:u="",sortMode:f="createdAsc",chainId:d=0}=t;return{folios:S.useMemo(()=>{let m=e;if(u.trim()){const g=u.trim().toLowerCase();m=m.filter(b=>b.name.toLowerCase().includes(g)||b.address.toLowerCase().includes(g))}return d&&(m=m.filter(g=>g.chainId===d)),bU(m,f)},[e,u,f,d]),loading:n,error:r,addFolio:o,updateFolio:i,deleteFolio:a,clearFolios:s}}const mx=t=>{let e;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(g=>g(e,m))}},o=()=>e,s={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=t(r,o,s);return s},xU=(t=>t?mx(t):mx),wU=t=>t;function EU(t,e=wU){const n=ct.useSyncExternalStore(t.subscribe,ct.useCallback(()=>e(t.getState()),[t,e]),ct.useCallback(()=>e(t.getInitialState()),[t,e]));return ct.useDebugValue(n),n}const gx=t=>{const e=xU(t),n=r=>EU(e,r);return Object.assign(n,e),n},_U=(t=>t?gx(t):gx);function i1(){const t=new Worker(new URL("/ReactJSApp/assets/falcon.worker-D_95rPn5.js",import.meta.url),{type:"module"});let e=0;const n=new Map;t.onmessage=o=>{const{id:i,ok:a,value:s,error:u}=o.data,f=n.get(i);f&&(n.delete(i),a?f.resolve(s):f.reject(new Error(u)))};function r(o){const i=++e;return new Promise((a,s)=>{n.set(i,{resolve:a,reject:s}),t.postMessage({id:i,...o})})}return{init:()=>r({action:"init"}),generateKeypair:o=>r({action:"generateKeypair",level:o}),sign:(o,i,a)=>r({action:"sign",level:o,msg:i,sk:a}),verify:(o,i,a,s)=>r({action:"verify",level:o,msg:i,sig:a,pk:s}),terminate:()=>t.terminate()}}const CU="0x60c060405234801561000f575f5ffd5b50604051613cac380380613cac8339818101604052810190610031919061039d565b8273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508173ffffffffffffffffffffffffffffffffffffffff1660a08173ffffffffffffffffffffffffffffffffffffffff168152505080602090816100a89190610619565b5060a05173ffffffffffffffffffffffffffffffffffffffff16639b0b1f6d60206040518263ffffffff1660e01b81526004016100e59190610779565b61400060405180830381865afa158015610101573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101259190610883565b5f9061020061013592919061013e565b505050506108af565b82610200600f016010900481019282156101ca579160200282015f5b8382111561019a57835183826101000a81548161ffff021916908361ffff160217905550926020019260020160208160010104928301926001030261015a565b80156101c85782816101000a81549061ffff021916905560020160208160010104928301926001030261019a565b505b5090506101d791906101db565b5090565b5b808211156101f2575f815f9055506001016101dc565b5090565b5f604051905090565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61023082610207565b9050919050565b61024081610226565b811461024a575f5ffd5b50565b5f8151905061025b81610237565b92915050565b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6102af82610269565b810181811067ffffffffffffffff821117156102ce576102cd610279565b5b80604052505050565b5f6102e06101f6565b90506102ec82826102a6565b919050565b5f67ffffffffffffffff82111561030b5761030a610279565b5b61031482610269565b9050602081019050919050565b8281835e5f83830152505050565b5f61034161033c846102f1565b6102d7565b90508281526020810184848401111561035d5761035c610265565b5b610368848285610321565b509392505050565b5f82601f83011261038457610383610261565b5b815161039484826020860161032f565b91505092915050565b5f5f5f606084860312156103b4576103b36101ff565b5b5f6103c18682870161024d565b93505060206103d28682870161024d565b925050604084015167ffffffffffffffff8111156103f3576103f2610203565b5b6103ff86828701610370565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061045757607f821691505b60208210810361046a57610469610413565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026104cc7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610491565b6104d68683610491565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61051a610515610510846104ee565b6104f7565b6104ee565b9050919050565b5f819050919050565b61053383610500565b61054761053f82610521565b84845461049d565b825550505050565b5f5f905090565b61055e61054f565b61056981848461052a565b505050565b5b8181101561058c576105815f82610556565b60018101905061056f565b5050565b601f8211156105d1576105a281610470565b6105ab84610482565b810160208510156105ba578190505b6105ce6105c685610482565b83018261056e565b50505b505050565b5f82821c905092915050565b5f6105f15f19846008026105d6565b1980831691505092915050565b5f61060983836105e2565b9150826002028217905092915050565b61062282610409565b67ffffffffffffffff81111561063b5761063a610279565b5b6106458254610440565b610650828285610590565b5f60209050601f831160018114610681575f841561066f578287015190505b61067985826105fe565b8655506106e0565b601f19841661068f86610470565b5f5b828110156106b657848901518255600182019150602085019450602081019050610691565b868310156106d357848901516106cf601f8916826105e2565b8355505b6001600288020188555050505b505050505050565b5f82825260208201905092915050565b5f815461070481610440565b61070e81866106e8565b9450600182165f8114610728576001811461073e57610770565b60ff198316865281151560200286019350610770565b61074785610470565b5f5b8381101561076857815481890152600182019150602081019050610749565b808801955050505b50505092915050565b5f6020820190508181035f83015261079181846106f8565b905092915050565b5f67ffffffffffffffff8211156107b3576107b2610279565b5b602082029050919050565b5f5ffd5b5f61ffff82169050919050565b6107d8816107c2565b81146107e2575f5ffd5b50565b5f815190506107f3816107cf565b92915050565b5f61080b61080684610799565b6102d7565b90508060208402830185811115610825576108246107be565b5b835b8181101561084e578061083a88826107e5565b845260208401935050602081019050610827565b5050509392505050565b5f82601f83011261086c5761086b610261565b5b61020061087a8482856107f9565b91505092915050565b5f6140008284031215610899576108986101ff565b5b5f6108a684828501610858565b91505092915050565b60805160a0516133ce6108de5f395f81816104a2015281816113d2015261159101525f61094601526133ce5ff3fe6080604052600436106100c5575f3560e01c8063acae9fee1161007e578063b479d2d111610058578063b479d2d114610260578063b61d27f61461029c578063c4434c87146102c4578063d087d288146102ec576100c6565b8063acae9fee146101e4578063af86dc171461020e578063b0d691fe14610236576100c6565b806312cc03d9146100c857806319822f7c1461010457806320be26e41461014057806334fcd5be1461016a578063473ece9e1461019257806374e66d10146101bc576100c6565b5b005b3480156100d3575f5ffd5b506100ee60048036038101906100e991906117a4565b610316565b6040516100fb91906117e9565b60405180910390f35b34801561010f575f5ffd5b5061012a6004803603810190610125919061188b565b61046d565b6040516101379190611906565b60405180910390f35b34801561014b575f5ffd5b5061015461049f565b604051610161919061192e565b60405180910390f35b348015610175575f5ffd5b50610190600480360381019061018b91906119a8565b6104c6565b005b34801561019d575f5ffd5b506101a66105f6565b6040516101b39190611aaa565b60405180910390f35b3480156101c7575f5ffd5b506101e260048036038101906101dd9190611c02565b6106fd565b005b3480156101ef575f5ffd5b506101f8610711565b6040516102059190611ca9565b60405180910390f35b348015610219575f5ffd5b50610234600480360381019061022f9190611d89565b6107a1565b005b348015610241575f5ffd5b5061024a610943565b6040516102579190611e50565b60405180910390f35b34801561026b575f5ffd5b50610286600480360381019061028191906117a4565b61096a565b60405161029391906117e9565b60405180910390f35b3480156102a7575f5ffd5b506102c260048036038101906102bd9190611ebe565b610abf565b005b3480156102cf575f5ffd5b506102ea60048036038101906102e59190611f2f565b610b71565b005b3480156102f7575f5ffd5b50610300610e07565b60405161030d9190611906565b60405180910390f35b5f5f60218054905090505f5f90505f5b82811015610462578473ffffffffffffffffffffffffffffffffffffffff166021828154811061035957610358611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff160361045557602181815481106103b7576103b6611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff1615610414576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040b90612010565b60405180910390fd5b60016021828154811061042a57610429611f89565b5b905f5260205f20906002020160010160146101000a81548160ff021916908315150217905550600191505b8080600101915050610326565b508092505050919050565b5f610476610e8e565b6104808484610f05565b905061048f846020013561149c565b6104988261149f565b9392505050565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b6104ce611513565b5f8282905090505f5f90505b818110156105f057368484838181106104f6576104f5611f89565b5b9050602002810190610508919061203a565b90505f61057d825f01602081019061052091906117a4565b83602001358480604001906105359190612061565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f820116905080830192505050505050505a61151d565b9050806105e1576001840361059957610594611534565b6105e0565b826105a35f611547565b6040517f5a1546750000000000000000000000000000000000000000000000000000000081526004016105d79291906120c3565b60405180910390fd5b5b505080806001019150506104da565b50505050565b60605f60218054905090505f8167ffffffffffffffff81111561061c5761061b611ade565b5b60405190808252806020026020018201604052801561064a5781602001602082028036833780820191505090505b5090505f5b828110156106f4576021818154811061066b5761066a611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff168282815181106106ad576106ac611f89565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050808060010191505061064f565b50809250505090565b610705610e8e565b61070e8161157f565b50565b6060602080546107209061211e565b80601f016020809104026020016040519081016040528092919081815260200182805461074c9061211e565b80156107975780601f1061076e57610100808354040283529160200191610797565b820191905f5260205f20905b81548152906001019060200180831161077a57829003601f168201915b5050505050905090565b5f8373ffffffffffffffffffffffffffffffffffffffff1663a6d5fb7284846040518363ffffffff1660e01b81526004016107dd92919061214e565b6020604051808303815f875af11580156107f9573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061081d9190612190565b9050602160405180606001604052808673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff16815260200160011515815250908060018154018082558091505060019003905f5260205f2090600202015f909190919091505f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160010160146101000a81548160ff021916908315150217905550505050505050565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b5f5f60218054905090505f5f90505f5b82811015610ab4578473ffffffffffffffffffffffffffffffffffffffff16602182815481106109ad576109ac611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1603610aa75760218181548110610a0b57610a0a611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff16610a67576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5e90612205565b60405180910390fd5b5f60218281548110610a7c57610a7b611f89565b5b905f5260205f20906002020160010160146101000a81548160ff021916908315150217905550600191505b808060010191505061097a565b508092505050919050565b610ac7610e8e565b5f8473ffffffffffffffffffffffffffffffffffffffff16848484604051610af0929190612251565b5f6040518083038185875af1925050503d805f8114610b2a576040519150601f19603f3d011682016040523d82523d5f602084013e610b2f565b606091505b5050905080610b6a576040517f5b54f59100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5050505050565b610b79610e8e565b5f60218054905090505f8190505f5b82811015610c86578473ffffffffffffffffffffffffffffffffffffffff1660218281548110610bbb57610bba611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1603610c795760218181548110610c1957610c18611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff16610c75576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c6c906122b3565b60405180910390fd5b8091505b8080600101915050610b88565b50818110610cc9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc090612341565b60405180910390fd5b5f60218281548110610cde57610cdd611f89565b5b905f5260205f2090600202015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505f8190505f85604051602001610d24919061238f565b6040516020818303038152906040528051906020012090508173ffffffffffffffffffffffffffffffffffffffff16639726162788836040518363ffffffff1660e01b8152600401610d779291906123b4565b602060405180830381865afa158015610d92573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610db69190612405565b610df5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dec906124a0565b60405180910390fd5b610dfe8661157f565b50505050505050565b5f610e10610943565b73ffffffffffffffffffffffffffffffffffffffff166335567e1a305f6040518363ffffffff1660e01b8152600401610e4a92919061251a565b602060405180830381865afa158015610e65573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e899190612555565b905090565b610e96610943565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f03576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610efa906125ca565b60405180910390fd5b565b5f5f60408460200135901c90507f74e66d10e2c4d40fcb4599cfbd9c3c4edb35c83a9877c1ca869c473178437d057bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916610f6a858060600190610f659190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061100957507fa6d5fb72ff9677437bd914196124cf27031bea68fef447a6418dfae9883dd5767bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916610fe8858060600190610fe39190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061108857507fc4434c873493097eb2a27cffc4260407aa7ff9190f21f3e71715bc60ba97d40a7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166110678580606001906110629190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b1561110a57650ad9140ad91477ffffffffffffffffffffffffffffffffffffffffffffffff168177ffffffffffffffffffffffffffffffffffffffffffffffff1614611109576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161110090612658565b60405180910390fd5b5b7fc4434c873493097eb2a27cffc4260407aa7ff9190f21f3e71715bc60ba97d40a7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191661116285806060019061115d9190612061565b61163c565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916036113cf575f60218054905090505f5f9050365f878060e001906111a59190612061565b91509150365f8980606001906111bb9190612061565b915091505f5f60148686905010156111d5575f91506111f9565b85855f906014926111e89392919061267e565b906111f391906126f9565b60601c91505b6024848490501015611240576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611237906127c7565b60405180910390fd5b83836004906024926112549392919061267e565b8101906112619190612820565b90505f5b888110156113a6578273ffffffffffffffffffffffffffffffffffffffff166021828154811061129857611297611f89565b5b905f5260205f2090600202015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161480156113165750602181815481106112f8576112f7611f89565b5b905f5260205f20906002020160010160149054906101000a900460ff165b801561138f57508173ffffffffffffffffffffffffffffffffffffffff166021828154811061134857611347611f89565b5b905f5260205f2090600202016001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b1561139957600197505b8080600101915050611265565b50866113be5760019950505050505050505050611496565b5f9950505050505050505050611496565b5f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663fcb9b89b8680610100019061141d9190612061565b875f6040518563ffffffff1660e01b815260040161143e9493929190612f3a565b602060405180830381865afa158015611459573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061147d9190612405565b9050801561148f575f92505050611496565b6001925050505b92915050565b50565b5f8114611510575f3373ffffffffffffffffffffffffffffffffffffffff16826040516114cb90612f9c565b5f6040518083038185875af1925050503d805f8114611505576040519150601f19603f3d011682016040523d82523d5f602084013e61150a565b606091505b50509050505b50565b61151b610e8e565b565b5f5f5f845160208601878987f19050949350505050565b6115456115405f611547565b611679565b565b60603d5f83111561155f578281111561155e578290505b5b604051602082018101604052818152815f602083013e8092505050919050565b806020908161158e919061313b565b507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16639b0b1f6d826040518263ffffffff1660e01b81526004016115e89190611ca9565b61400060405180830381865afa158015611604573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061162891906132e3565b5f90610200611638929190611681565b5050565b5f6004838390501015611652575f60e01b611671565b82825f906004926116659392919061267e565b90611670919061333a565b5b905092915050565b805160208201fd5b82610200600f0160109004810192821561170d579160200282015f5b838211156116dd57835183826101000a81548161ffff021916908361ffff160217905550926020019260020160208160010104928301926001030261169d565b801561170b5782816101000a81549061ffff02191690556002016020816001010492830192600103026116dd565b505b50905061171a919061171e565b5090565b5b80821115611735575f815f90555060010161171f565b5090565b5f604051905090565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6117738261174a565b9050919050565b61178381611769565b811461178d575f5ffd5b50565b5f8135905061179e8161177a565b92915050565b5f602082840312156117b9576117b8611742565b5b5f6117c684828501611790565b91505092915050565b5f8115159050919050565b6117e3816117cf565b82525050565b5f6020820190506117fc5f8301846117da565b92915050565b5f5ffd5b5f610120828403121561181c5761181b611802565b5b81905092915050565b5f819050919050565b61183781611825565b8114611841575f5ffd5b50565b5f813590506118528161182e565b92915050565b5f819050919050565b61186a81611858565b8114611874575f5ffd5b50565b5f8135905061188581611861565b92915050565b5f5f5f606084860312156118a2576118a1611742565b5b5f84013567ffffffffffffffff8111156118bf576118be611746565b5b6118cb86828701611806565b93505060206118dc86828701611844565b92505060406118ed86828701611877565b9150509250925092565b61190081611858565b82525050565b5f6020820190506119195f8301846118f7565b92915050565b61192881611769565b82525050565b5f6020820190506119415f83018461191f565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f84011261196857611967611947565b5b8235905067ffffffffffffffff8111156119855761198461194b565b5b6020830191508360208202830111156119a1576119a061194f565b5b9250929050565b5f5f602083850312156119be576119bd611742565b5b5f83013567ffffffffffffffff8111156119db576119da611746565b5b6119e785828601611953565b92509250509250929050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b611a2581611769565b82525050565b5f611a368383611a1c565b60208301905092915050565b5f602082019050919050565b5f611a58826119f3565b611a6281856119fd565b9350611a6d83611a0d565b805f5b83811015611a9d578151611a848882611a2b565b9750611a8f83611a42565b925050600181019050611a70565b5085935050505092915050565b5f6020820190508181035f830152611ac28184611a4e565b905092915050565b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b611b1482611ace565b810181811067ffffffffffffffff82111715611b3357611b32611ade565b5b80604052505050565b5f611b45611739565b9050611b518282611b0b565b919050565b5f67ffffffffffffffff821115611b7057611b6f611ade565b5b611b7982611ace565b9050602081019050919050565b828183375f83830152505050565b5f611ba6611ba184611b56565b611b3c565b905082815260208101848484011115611bc257611bc1611aca565b5b611bcd848285611b86565b509392505050565b5f82601f830112611be957611be8611947565b5b8135611bf9848260208601611b94565b91505092915050565b5f60208284031215611c1757611c16611742565b5b5f82013567ffffffffffffffff811115611c3457611c33611746565b5b611c4084828501611bd5565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f611c7b82611c49565b611c858185611c53565b9350611c95818560208601611c63565b611c9e81611ace565b840191505092915050565b5f6020820190508181035f830152611cc18184611c71565b905092915050565b5f67ffffffffffffffff821115611ce357611ce2611ade565b5b602082029050602081019050919050565b5f611d06611d0184611cc9565b611b3c565b90508083825260208201905060208402830185811115611d2957611d2861194f565b5b835b81811015611d525780611d3e8882611790565b845260208401935050602081019050611d2b565b5050509392505050565b5f82601f830112611d7057611d6f611947565b5b8135611d80848260208601611cf4565b91505092915050565b5f5f5f60608486031215611da057611d9f611742565b5b5f611dad86828701611790565b9350506020611dbe86828701611877565b925050604084013567ffffffffffffffff811115611ddf57611dde611746565b5b611deb86828701611d5c565b9150509250925092565b5f819050919050565b5f611e18611e13611e0e8461174a565b611df5565b61174a565b9050919050565b5f611e2982611dfe565b9050919050565b5f611e3a82611e1f565b9050919050565b611e4a81611e30565b82525050565b5f602082019050611e635f830184611e41565b92915050565b5f5f83601f840112611e7e57611e7d611947565b5b8235905067ffffffffffffffff811115611e9b57611e9a61194b565b5b602083019150836001820283011115611eb757611eb661194f565b5b9250929050565b5f5f5f5f60608587031215611ed657611ed5611742565b5b5f611ee387828801611790565b9450506020611ef487828801611877565b935050604085013567ffffffffffffffff811115611f1557611f14611746565b5b611f2187828801611e69565b925092505092959194509250565b5f5f60408385031215611f4557611f44611742565b5b5f611f5285828601611790565b925050602083013567ffffffffffffffff811115611f7357611f72611746565b5b611f7f85828601611bd5565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f82825260208201905092915050565b7f5265636f76657261626c6520616c726561647920656e61626c656400000000005f82015250565b5f611ffa601b83611fb6565b915061200582611fc6565b602082019050919050565b5f6020820190508181035f83015261202781611fee565b9050919050565b5f5ffd5b5f5ffd5b5f5ffd5b5f823560016060038336030381126120555761205461202e565b5b80830191505092915050565b5f5f8335600160200384360303811261207d5761207c61202e565b5b80840192508235915067ffffffffffffffff82111561209f5761209e612032565b5b6020830192506001820236038313156120bb576120ba612036565b5b509250929050565b5f6040820190506120d65f8301856118f7565b81810360208301526120e88184611c71565b90509392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061213557607f821691505b602082108103612148576121476120f1565b5b50919050565b5f6040820190506121615f8301856118f7565b81810360208301526121738184611a4e565b90509392505050565b5f8151905061218a8161177a565b92915050565b5f602082840312156121a5576121a4611742565b5b5f6121b28482850161217c565b91505092915050565b7f5265636f76657261626c6520616c72656164792064697361626c6564000000005f82015250565b5f6121ef601c83611fb6565b91506121fa826121bb565b602082019050919050565b5f6020820190508181035f83015261221c816121e3565b9050919050565b5f81905092915050565b5f6122388385612223565b9350612245838584611b86565b82840190509392505050565b5f61225d82848661222d565b91508190509392505050565b7f5265636f76657261626c65206973206e6f7420616374697665000000000000005f82015250565b5f61229d601983611fb6565b91506122a882612269565b602082019050919050565b5f6020820190508181035f8301526122ca81612291565b9050919050565b7f43616c6c6572206973206e6f7420616e20616374697665207265636f766572615f8201527f626c650000000000000000000000000000000000000000000000000000000000602082015250565b5f61232b602383611fb6565b9150612336826122d1565b604082019050919050565b5f6020820190508181035f8301526123588161231f565b9050919050565b5f61236982611c49565b6123738185612223565b9350612383818560208601611c63565b80840191505092915050565b5f61239a828461235f565b915081905092915050565b6123ae81611825565b82525050565b5f6040820190506123c75f83018561191f565b6123d460208301846123a5565b9392505050565b6123e4816117cf565b81146123ee575f5ffd5b50565b5f815190506123ff816123db565b92915050565b5f6020828403121561241a57612419611742565b5b5f612427848285016123f1565b91505092915050565b7f5265636f76657261626c6520686173206e6f74206d6574207468726573686f6c5f8201527f6420666f722074686973206b6579000000000000000000000000000000000000602082015250565b5f61248a602e83611fb6565b915061249582612430565b604082019050919050565b5f6020820190508181035f8301526124b78161247e565b9050919050565b5f819050919050565b5f77ffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6125046124ff6124fa846124be565b611df5565b6124c7565b9050919050565b612514816124ea565b82525050565b5f60408201905061252d5f83018561191f565b61253a602083018461250b565b9392505050565b5f8151905061254f81611861565b92915050565b5f6020828403121561256a57612569611742565b5b5f61257784828501612541565b91505092915050565b7f6163636f756e743a206e6f742066726f6d20456e747279506f696e74000000005f82015250565b5f6125b4601c83611fb6565b91506125bf82612580565b602082019050919050565b5f6020820190508181035f8301526125e1816125a8565b9050919050565b7f41646d696e206b657920726571756972656420666f722074686973207472616e5f8201527f73616374696f6e00000000000000000000000000000000000000000000000000602082015250565b5f612642602783611fb6565b915061264d826125e8565b604082019050919050565b5f6020820190508181035f83015261266f81612636565b9050919050565b5f5ffd5b5f5ffd5b5f5f8585111561269157612690612676565b5b838611156126a2576126a161267a565b5b6001850283019150848603905094509492505050565b5f82905092915050565b5f7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b5f82821b905092915050565b5f61270483836126b8565b8261270f81356126c2565b9250601482101561274f5761274a7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000836014036008026126ed565b831692505b505092915050565b7f496e76616c69642063616c6c4461746120666f72207570646174655075626c695f8201527f634b65795669615265636f76657261626c650000000000000000000000000000602082015250565b5f6127b1603283611fb6565b91506127bc82612757565b604082019050919050565b5f6020820190508181035f8301526127de816127a5565b9050919050565b5f6127ef8261174a565b9050919050565b6127ff816127e5565b8114612809575f5ffd5b50565b5f8135905061281a816127f6565b92915050565b5f6020828403121561283557612834611742565b5b5f6128428482850161280c565b91505092915050565b5f6128568385611c53565b9350612863838584611b86565b61286c83611ace565b840190509392505050565b5f6102009050919050565b5f81905092915050565b5f819050919050565b5f61ffff82169050919050565b6128ab81612895565b82525050565b5f815f1c9050919050565b5f61ffff82169050919050565b5f6128db6128d6836128b1565b6128bc565b9050919050565b5f8160101c9050919050565b5f6129006128fb836128e2565b6128bc565b9050919050565b5f8160201c9050919050565b5f61292561292083612907565b6128bc565b9050919050565b5f8160301c9050919050565b5f61294a6129458361292c565b6128bc565b9050919050565b5f8160401c9050919050565b5f61296f61296a83612951565b6128bc565b9050919050565b5f8160501c9050919050565b5f61299461298f83612976565b6128bc565b9050919050565b5f8160601c9050919050565b5f6129b96129b48361299b565b6128bc565b9050919050565b5f8160701c9050919050565b5f6129de6129d9836129c0565b6128bc565b9050919050565b5f8160801c9050919050565b5f612a036129fe836129e5565b6128bc565b9050919050565b5f8160901c9050919050565b5f612a28612a2383612a0a565b6128bc565b9050919050565b5f8160a01c9050919050565b5f612a4d612a4883612a2f565b6128bc565b9050919050565b5f8160b01c9050919050565b5f612a72612a6d83612a54565b6128bc565b9050919050565b5f8160c01c9050919050565b5f612a97612a9283612a79565b6128bc565b9050919050565b5f8160d01c9050919050565b5f612abc612ab783612a9e565b6128bc565b9050919050565b5f8160e01c9050919050565b5f612ae1612adc83612ac3565b6128bc565b9050919050565b5f8160f01c9050919050565b5f612b06612b0183612ae8565b6128bc565b9050919050565b612b1681612877565b612b208184612882565b925082612b2c8361288c565b5f600115612cd8575b83600160100382011015612cd7578154612b5787612b52836128c9565b6128a2565b602087019650612b6f87612b6a836128ee565b6128a2565b602087019650612b8787612b8283612913565b6128a2565b602087019650612b9f87612b9a83612938565b6128a2565b602087019650612bb787612bb28361295d565b6128a2565b602087019650612bcf87612bca83612982565b6128a2565b602087019650612be787612be2836129a7565b6128a2565b602087019650612bff87612bfa836129cc565b6128a2565b602087019650612c1787612c12836129f1565b6128a2565b602087019650612c2f87612c2a83612a16565b6128a2565b602087019650612c4787612c4283612a3b565b6128a2565b602087019650612c5f87612c5a83612a60565b6128a2565b602087019650612c7787612c7283612a85565b6128a2565b602087019650612c8f87612c8a83612aaa565b6128a2565b602087019650612ca787612ca283612acf565b6128a2565b602087019650612cbf87612cba83612af4565b6128a2565b60208701965060018301925050601081019050612b35565b5b5f15612f325781545f15612d0557612cf887612cf3836128c9565b6128a2565b6020870196506001820191505b5f15612d2a57612d1d87612d18836128ee565b6128a2565b6020870196506001820191505b5f15612d4f57612d4287612d3d83612913565b6128a2565b6020870196506001820191505b5f15612d7457612d6787612d6283612938565b6128a2565b6020870196506001820191505b5f15612d9957612d8c87612d878361295d565b6128a2565b6020870196506001820191505b5f15612dbe57612db187612dac83612982565b6128a2565b6020870196506001820191505b5f15612de357612dd687612dd1836129a7565b6128a2565b6020870196506001820191505b5f15612e0857612dfb87612df6836129cc565b6128a2565b6020870196506001820191505b5f15612e2d57612e2087612e1b836129f1565b6128a2565b6020870196506001820191505b5f15612e5257612e4587612e4083612a16565b6128a2565b6020870196506001820191505b5f15612e7757612e6a87612e6583612a3b565b6128a2565b6020870196506001820191505b5f15612e9c57612e8f87612e8a83612a60565b6128a2565b6020870196506001820191505b5f15612ec157612eb487612eaf83612a85565b6128a2565b6020870196506001820191505b5f15612ee657612ed987612ed483612aaa565b6128a2565b6020870196506001820191505b5f15612f0b57612efe87612ef983612acf565b6128a2565b6020870196506001820191505b5f15612f3057612f2387612f1e83612af4565b6128a2565b6020870196506001820191505b505b505050505050565b5f614040820190508181035f830152612f5481868861284b565b9050612f6360208301856123a5565b612f706040830184612b0d565b95945050505050565b50565b5f612f875f83612223565b9150612f9282612f79565b5f82019050919050565b5f612fa682612f7c565b9150819050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f600883026130007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826126ed565b61300a86836126ed565b95508019841693508086168417925050509392505050565b5f61303c61303761303284611858565b611df5565b611858565b9050919050565b5f819050919050565b61305583613022565b61306961306182613043565b848454612fd1565b825550505050565b5f5f905090565b613080613071565b61308b81848461304c565b505050565b5b818110156130ae576130a35f82613078565b600181019050613091565b5050565b601f8211156130f3576130c481612fb0565b6130cd84612fc2565b810160208510156130dc578190505b6130f06130e885612fc2565b830182613090565b50505b505050565b5f82821c905092915050565b5f6131135f19846008026130f8565b1980831691505092915050565b5f61312b8383613104565b9150826002028217905092915050565b61314482611c49565b67ffffffffffffffff81111561315d5761315c611ade565b5b613167825461211e565b6131728282856130b2565b5f60209050601f8311600181146131a3575f8415613191578287015190505b61319b8582613120565b865550613202565b601f1984166131b186612fb0565b5f5b828110156131d8578489015182556001820191506020850194506020810190506131b3565b868310156131f557848901516131f1601f891682613104565b8355505b6001600288020188555050505b505050505050565b5f67ffffffffffffffff82111561322457613223611ade565b5b602082029050919050565b61323881612895565b8114613242575f5ffd5b50565b5f815190506132538161322f565b92915050565b5f61326b6132668461320a565b611b3c565b905080602084028301858111156132855761328461194f565b5b835b818110156132ae578061329a8882613245565b845260208401935050602081019050613287565b5050509392505050565b5f82601f8301126132cc576132cb611947565b5b6102006132da848285613259565b91505092915050565b5f61400082840312156132f9576132f8611742565b5b5f613306848285016132b8565b91505092915050565b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b5f61334583836126b8565b82613350813561330f565b925060048210156133905761338b7fffffffff00000000000000000000000000000000000000000000000000000000836004036008026126ed565b831692505b50509291505056fea2646970667358221220f314b5f1b12cc01285cdc77e2f984252bd3f2275039e52189d6affef8f6d37d564736f6c634300081c0033";function AU(t){const{factory:e,entryPoint:n,falcon:r,publicKeyBytes:o,salt:i}=t,a=Ci(zd("address entryPoint, address falcon, bytes publicKeyBytes"),[n,r,o]),s=bi([CU,a]),u=Wt(s),f=Qa(i,{size:32}),d=bi(["0xff",e,f,u]);return"0x"+Wt(d).slice(26)}const yx="cointrol:wrappingKey:v1",vx="cointrol:wrappingSalt:v2";let Zd=null;async function SU(t){await St(yx)!==void 0&&await Promise.all([su(yx),su(ko(512,"pk")),su(ko(512,"sk")),su(ko(1024,"pk")),su(ko(1024,"sk"))]),Zd=t}function bx(){Zd=null}function ko(t,e){return`cointrol:falcon:${t}:${e}:v1`}async function h_(){if(!Zd)throw new Error("keyStore not initialised  call initKeyStore(uid) first");let t=await St(vx);t||(t=crypto.getRandomValues(new Uint8Array(32)).buffer,await hn(vx,t));const e=await crypto.subtle.importKey("raw",new TextEncoder().encode(Zd),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-256",salt:t,iterations:3e5},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}function xx(t){const e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(t),e}function IU(t){return new Uint8Array(t)}async function wx(t,e){const n=await h_(),r=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,xx(e));return{alg:"falcon",level:t,cipherText:o,iv:xx(r),createdAt:Date.now()}}async function p_(t){const e=await h_(),n=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(t.iv)},e,t.cipherText);return IU(n)}async function m_(t){const e=await St(ko(t,"pk"));return e?p_(e):null}async function g_(t){const e=await St(ko(t,"sk"));return e?p_(e):null}async function Ex(t){const[e,n]=await Promise.all([St(ko(t,"pk")),St(ko(t,"sk"))]);return!!e&&!!n}async function TU(t){const e=i1(),{pk:n,sk:r}=await e.generateKeypair(t),o=await wx(t,n),i=await wx(t,r);return await Promise.all([hn(ko(t,"pk"),o),hn(ko(t,"sk"),i)]),{pk:n,sk:r}}const td=new Map;async function NU(t){const e=td.get(t);if(e)return e;const n=(async()=>{if(await Ex(t))return!0;const{pk:r,sk:o}=await TU(t);return r.length>0&&o.length>0?await Ex(t):!1})().catch(r=>{throw td.delete(t),r});return td.set(t,n),n.finally(()=>{td.delete(t)})}async function OU(t){const e=await g_(t);if(!e)throw new Error(`Falcon-${t} secret key not found`);return e}async function y_(t,e){const n=await m_(e);if(!n)throw new Error("Falcon public key not found");return AU({entryPoint:"0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",factory:"0xf3C6758D283e28d99eda462009D776458C1DdE4a",falcon:"0x6f70f3475c89AFab28A7c607a645A773Ea76dB45",publicKeyBytes:Vt(n),salt:ca(t)})}const PU=[{type:"function",name:"execute",stateMutability:"nonpayable",inputs:[{name:"dest",type:"address"},{name:"value",type:"uint256"},{name:"funcCallData",type:"bytes"}],outputs:[]}],RU=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"},{internalType:"bytes",name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"bytes",name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{internalType:"address",name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"factory",type:"address"},{indexed:!1,internalType:"address",name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"paymaster",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bool",name:"success",type:"bool"},{indexed:!1,internalType:"uint256",name:"actualGasCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint256",name:"deposit",type:"uint256"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparatorV4",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint192",name:"key",type:"uint192"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPackedUserOpTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"contract IAggregator",name:"aggregator",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct IEntryPoint.UserOpsPerAggregator[]",name:"opsPerAggregator",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation[]",name:"ops",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint192",name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"callData",type:"bytes"},{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"paymasterVerificationGasLimit",type:"uint256"},{internalType:"uint256",name:"paymasterPostOpGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"address",name:"paymaster",type:"address"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"}],internalType:"struct EntryPoint.MemoryUserOp",name:"mUserOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"uint256",name:"contextOffset",type:"uint256"},{internalType:"uint256",name:"preOpGas",type:"uint256"}],internalType:"struct EntryPoint.UserOpInfo",name:"opInfo",type:"tuple"},{internalType:"bytes",name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{internalType:"uint256",name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint192",name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"senderCreator",outputs:[{internalType:"contract ISenderCreator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],kU=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],_x=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],DU=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],MU=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function BU(t){if(!t)return null;if(Array.isArray(t))return t;if(typeof t=="string")try{const e=JSON.parse(t);return Array.isArray(e)?e:null}catch{return null}if(typeof t=="object"&&t!==null){const e=t,n=e.abi??e.ABI;if(Array.isArray(n))return n;const r=e.result??e.Result;if(Array.isArray(r))return r;if(typeof r=="string")try{const o=JSON.parse(r);return Array.isArray(o)?o:null}catch{return null}}return null}function LU(t){return t?t.filter(e=>e.type==="function"):[]}function Cx(t,e){const n=t.name?.replace(/^_+/,"");return n&&n.length>0?n:`arg${e}`}const Oa="http://localhost:8080/userop",FU="http://localhost:8081/pmg";async function Ji(t,e){const n=await fetch(t,{headers:{"Content-Type":"application/json"},...e});if(!n.ok){const r=await n.json().catch(()=>null);throw console.error(`[API] ${n.status} ${n.statusText}`,r),new Error(`${n.status} ${n.statusText}`)}return n.json()}const Ax={async submit(t,e){return Ji(`${Oa}/submit`,{method:"POST",body:JSON.stringify({...t,domain:e})})},async updatePublicKey(t,e,n,r,o){return Ji(`${Oa}/updatePublicKey`,{method:"POST",body:JSON.stringify({sender:t,domain:e,oldKey:n,newKey:r,signature:o})})},async getAllDomains(){return Ji(`${Oa}/domain`)},async getDomainDetails(t){return Ji(`${Oa}/domain/${t}`)},async getTxReceipt(t,e){return Ji(`${Oa}/transaction`,{method:"POST",body:JSON.stringify({sender:t,userOphash:e})})},async addPaymaster(t,e,n,r,o){return Ji(`${Oa}/paymaster/add`,{method:"POST",body:JSON.stringify({paymaster:t,domain:e,sender:n,flag:r,signature:o})})},async updatePaymaster(t,e,n,r,o){return Ji(`${Oa}/paymaster/update`,{method:"POST",body:JSON.stringify({paymaster:t,domain:e,sender:n,flag:r,signature:o})})}},jU={async createNewAccount(t,e,n,r,o){return Ji(`${FU}/createfree`,{method:"POST",body:JSON.stringify({sender:t,domain:e,publicKey:n,salt:r,signature:o})})}};function zU(t){return`0x${BigInt(t).toString(16)}`}function $U(){return"0x"}function UU(t=2n,e=4000000000n){return`0x${(t*1000000n<<128n|e).toString(16).padStart(64,"0")}`}function nd(t){if(!/^0x[0-9a-fA-F]+$/.test(t))throw new Error(`Invalid hex bigint: ${t}`);return BigInt(t)}const HU="ERC4337",VU="1",GU="PackedUserOperation(address sender,uint256 nonce,bytes initCode,bytes callData,bytes32 accountGasLimits,uint256 preVerificationGas,bytes32 gasFees,bytes paymasterAndData)",WU=Wt(Xr(GU)),ZU=(t,e,n)=>{const r=Ci(zd("bytes32, address, uint256, bytes32, bytes32, bytes32, uint256, bytes32, bytes32"),[WU,t.sender,typeof t.nonce=="bigint"?t.nonce:nd(t.nonce),Wt(t.initCode),Wt(t.callData),t.accountGasLimits,typeof t.preVerificationGas=="bigint"?t.preVerificationGas:nd(t.preVerificationGas),t.gasFees,Wt(t.paymasterAndData)]);return Wt(r),RE({domain:{name:HU,version:VU,chainId:n,verifyingContract:e},types:{PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"}]},primaryType:"PackedUserOperation",message:{sender:t.sender,nonce:typeof t.nonce=="bigint"?t.nonce:nd(t.nonce),initCode:t.initCode,callData:t.callData,accountGasLimits:t.accountGasLimits,preVerificationGas:typeof t.preVerificationGas=="bigint"?t.preVerificationGas:nd(t.preVerificationGas),gasFees:t.gasFees,paymasterAndData:t.paymasterAndData}})};function XU(t=8500000n,e=200000n){const n=t,r=e;return`0x${(n<<128n|r).toString(16).padStart(64,"0")}`}function qU(t){const e=Mo(Xr(t.validationGasLimit),{size:16}),n=Mo(Xr(t.postOpGasLimit),{size:16}),r=t.extraData??"0x";return bi([t.paymaster,e,n,r])}const Sx=_U((t,e)=>({open:!1,status:{phase:"idle"},close:()=>t({open:!1,status:{phase:"idle"}}),startFlow:async({folio:n,encoded:r,domain:o})=>{t({open:!0,status:{phase:"preparing",message:"Building UserOp"}});const a=await r1({transport:o1(o.rpcUrl)}).readContract({address:o.entryPoint,abi:RU,functionName:"getNonce",args:[n.address,0n]}),s=n.paymaster?.startsWith("0x")?n.paymaster:void 0,u={sender:n.address,nonce:Xr(a),initCode:$U(),callData:r,accountGasLimits:XU(),preVerificationGas:zU(2e5),gasFees:UU(),paymasterAndData:s?qU({paymaster:s,validationGasLimit:100000n,postOpGasLimit:0n,extraData:"0x"}):"0x"},f=ZU(u,o.entryPoint,n.chainId),d=i1(),h=512,m=await g_(h);if(!m)throw new Error("Falcon secret key not available");if(f.length!==66)throw new Error("Invalid userOpHash length");const g=await d.sign(h,vo(f),m),b={...u,signature:Vt(g)};m.fill(0),d.terminate(),t({status:{phase:"preparing",message:"Submitting to bundler"}});try{const w=await Ax.submit(b,o.name);if(!w.success){t({status:{phase:"failed",message:w.result??"Bundler rejected the operation"}});return}t({status:{phase:"submitted",userOpHash:f,message:"Submitted to bundler"}});let _=0;const C=30;for(;_++<C;){await new Promise(A=>setTimeout(A,1500));try{const A=await Ax.getTxReceipt(n.address,f);if(A.success){t({status:{phase:"finalized",userOpHash:f,hash:A.txHash,message:"Included in block"}});return}}catch{}}}catch(w){t({status:{phase:"failed",message:w.message}})}}}));function Zp(t){const e=t.startsWith("0x")?t.slice(2):t;if(e.length%2!==0)throw new Error(`Invalid hex string length: ${t}`);const n=new Uint8Array(e.length/2);for(let r=0;r<n.length;r++)n[r]=parseInt(e.slice(r*2,r*2+2),16);return n}function KU(t){const e=t.reduce((o,i)=>o+i.length,0),n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}function YU(t){const n=new TextEncoder().encode(t.domain),r=Zp(t.sender),o=Zp(t.publicKey),i=Zp(t.salt);return KU([r,n,o,i])}async function JU(){try{if(!await NU(512))throw new Error("Failed to ensure Falcon keypair")}catch(n){throw console.error("[Wallet] ensureFalconKeypair failed",n?.name,n?.message,n),n}const e=await y_("default",512);if(!e)throw new Error("Public key not available after ensureFalconKeypair");return e}async function QU({sender:t,domain:e,salt:n}){const o=await m_(512);if(!o)throw new Error("No Falcon public key available");const i=YU({sender:t,domain:e,publicKey:Vt(o),salt:ca(n)}),a=i1(),s=await OU(512),u=await a.sign(512,i,s);return s.fill(0),a.terminate(),!!(await jU.createNewAccount(t,e,Vt(o),ca(n),Vt(u))).success}function eH(t){return t.type==="NATIVE"||t.address==="0x0"}async function tH(t){const{folios:e,coins:n,domains:r}=t,o=new Map,i=new Map;for(const s of n){const u=i.get(s.chainId)??[];u.push(s),i.set(s.chainId,u)}const a=new Map;for(const s of e){const u=a.get(s.chainId)??[];u.push(s),a.set(s.chainId,u)}for(const[s,u]of a.entries()){const f=r.find(m=>m.chainId===s)?.rpcUrl;if(!f)continue;const d=r1({transport:o1(f)}),h=i.get(s)??[];for(const m of u){const g=m.address;let b;const w=new Set((m.wallet??[]).map(C=>C.coin));if(b=h.filter(C=>w.has(C.id)),b.length===0)continue;const _=[];for(const C of b)try{if(eH(C)){const A=await d.getBalance({address:g});_.push({coin:C.id,balance:A})}else if(C.type==="ERC20"){const A=await d.readContract({address:C.address,abi:bd,functionName:"balanceOf",args:[g]});_.push({coin:C.id,balance:A})}else{const A=(m.wallet??[]).find(I=>I.coin===C.id);A&&_.push(A)}}catch{const A=(m.wallet??[]).find(I=>I.coin===C.id);A&&_.push(A)}o.set(m.id,_)}}return o}const v_="cointrol:profile:displayName:v1",lg=new Set;function nH(t){for(const e of lg)e(t)}function rH(t){return lg.add(t),b_().then(e=>t(e)),()=>lg.delete(t)}async function b_(){return(await St(v_)??"").trim()}async function oH(t){const e=t.trim();await hn(v_,e),nH(e)}function iH(){const[t,e]=S.useState("");S.useEffect(()=>{let r=!0;b_().then(i=>{r&&e((i??"").toString())});const o=rH(i=>{e((i??"").toString())});return()=>{r=!1,o()}},[]);const n=S.useCallback(async r=>{const o=(r??"").trim();await oH(o),e(o)},[]);return{displayName:t,save:n}}function aH({open:t,initialValue:e,onClose:n,onSave:r}){const[o,i]=S.useState(e??""),[a,s]=S.useState(!1);if(S.useEffect(()=>{t&&i(e??"")},[t,e]),!t||typeof document>"u")return null;const u=(o??"").trim(),f=u.length>=2;return rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:n,style:{position:"fixed",inset:0,zIndex:2147483646,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)"}}),v.jsxs("div",{role:"dialog","aria-modal":"true",className:`
    rounded-2xl
    border border-neutral-200
    bg-[#fffdf7]        /* soft ivory */
    text-neutral-900
    shadow-2xl
    backdrop-blur-none
  `,style:{position:"fixed",zIndex:2147483647,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(420px, calc(100vw - 32px))",padding:20},onClick:d=>d.stopPropagation(),children:[v.jsx("div",{className:"text-lg font-semibold",children:"Set display name"}),v.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"Set the name used for profile sharing"}),v.jsx("input",{className:"mt-3 w-full rounded border px-3 py-2",value:o,onChange:d=>i(d.target.value),placeholder:"e.g. Paul Bark",autoFocus:!0}),v.jsx("div",{className:"mt-4 flex justify-end gap-2"}),v.jsx("br",{}),v.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[v.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:n,disabled:a,children:"Cancel"}),"",v.jsxs("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",disabled:!f||a,onClick:async()=>{s(!0);try{await r(u),n()}finally{s(!1)}},children:["",a?"Saving":"Save",""]})]})]})]}),document.body)}const x_="cointrol:auth:uuid:v1",w_="cointrol:auth:termsAccepted:v1";async function rv(){return await St(x_)??null}async function sH(t){await hn(x_,t)}async function cH(){return await St(w_)===!0}async function E_(){await hn(w_,!0)}async function uH(){const[t,e]=await Promise.all([rv(),cH()]);return!t&&!e}function Ix(){const[t,e]=S.useState(""),[n,r]=S.useState("nameAsc"),[o,i]=S.useState("coinBalanceDesc"),[a,s]=S.useState([]),[u,f]=S.useState("any"),[d,h]=S.useState(""),[m,g]=S.useState(11155111),[b,w]=S.useState(!1),[_,C]=S.useState(null),[A,I]=S.useState(null),[T,O]=S.useState(null),[P,R]=S.useState(null),[k,$]=S.useState(""),F={1:"Ethereum",11155111:"Sepolia",31337:"Local"},{coins:H,loading:V,error:te}=hy({query:t,sortMode:"nameAsc",tags:a,tagMode:u,standard:"",chainId:m}),{folios:ae,loading:q,error:Y,addFolio:J,deleteFolio:B,updateFolio:U}=d_({query:t,sortMode:"createdAsc",chainId:m}),{domains:ne,loading:L,error:G}=yy(),{displayName:pe,save:ye}=iH(),[_e,Ce]=S.useState(!1),[xe,Be]=S.useState(null);async function ke(){const ve=(pe??"").trim();if(!ve){Ce(!0);return}const De=xD(ve,ae);Be(De)}const Ae=S.useMemo(()=>{const ve=[];for(const De of ae){const Xe=De.wallet?.length??0;if(Xe>0)for(let Q=0;Q<Xe;Q++)ve.push({folioId:De.id,coinId:De.wallet?.[Q]?.coin??"",walletId:Q});else ve.push({folioId:De.id,coinId:"",walletId:-1})}return ve},[ae,H]);S.useEffect(()=>{function ve(De){De.target.closest("details")||document.querySelectorAll("details[open]").forEach(Q=>{Q.removeAttribute("open")})}return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[]),S.useEffect(()=>{A!=null&&O(ae.find(ve=>ve.id===A)?.name||null)},[A,ae]),S.useEffect(()=>{if(!b)return;const ve=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=ve}},[b]);const yt=S.useMemo(()=>vU(Ae,ae,H,n,o),[Ae,ae,H,n,o]);function it(ve,De){if(De<=0)return ve.toString();const Xe=ve<0n,Q=Xe?-ve:ve,Le=10n**BigInt(De),et=Q/Le;let Qe=(Q%Le).toString().padStart(De,"0");Qe=Qe.replace(/0+$/,"");const ft=et.toString()+(Qe.length>0?"."+Qe:"");return Xe?"-"+ft:ft}const dt=S.useRef(!1),[vt,se]=S.useState(!1),re=S.useRef(!1),Ee=S.useCallback(async()=>{if(!dt.current&&!(q||V||L)&&!(Y||te||G)&&ae.length){dt.current=!0,se(!0);try{const ve=await tH({folios:ae,coins:H,domains:ne});for(const[De,Xe]of ve.entries())await U(De,{wallet:Xe})}finally{dt.current=!1,se(!1)}}},[q,V,L,Y,te,G,ae,H,ne,U]);S.useEffect(()=>{re.current||q||V||L||Y||te||G||ae.length&&(re.current=!0,Ee())},[q,V,L,Y,te,G,ae,Ee]);function je({primarySortMode:ve,setPrimarySortMode:De,secondarySortMode:Xe,setSecondarySortMode:Q,tagSearch:le,setTagSearch:Le,setTags:et,tagMode:Ye,setTagSearchMode:Qe}){const[ft,Dn]=S.useState(!1),Xn=S.useRef(null),[qn,Er]=S.useState({top:0,left:0,width:320}),$n=()=>Dn(!1),K=S.useCallback(()=>{if(!Xn.current)return;const he=Xn.current.getBoundingClientRect(),we=8,Je=Math.min(360,window.innerWidth-we*2),Ze=he.bottom+8,nt=he.right-Je,Mt=Math.min(Math.max(we,nt),window.innerWidth-Je-we);Er({top:Ze,left:Mt,width:Je})},[]),ge=()=>{const he=!ft;he&&K(),Dn(he)};return S.useEffect(()=>{if(!ft)return;const he=we=>{we.key==="Escape"&&$n()};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[ft]),S.useEffect(()=>{if(ft)return window.addEventListener("resize",K),window.addEventListener("scroll",K,!0),()=>{window.removeEventListener("resize",K),window.removeEventListener("scroll",K,!0)}},[ft,K]),v.jsxs(v.Fragment,{children:[v.jsx("button",{ref:Xn,type:"button",className:"h-9 whitespace-nowrap rounded-md border border-border bg-card px-3 text-sm text-foreground",onClick:ge,children:"Sort / Filter"}),ft&&typeof document<"u"&&rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:$n,style:{position:"fixed",inset:0,zIndex:9998,background:"rgba(0,0,0,0.35)"}}),v.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:qn.top,left:qn.left,width:qn.width,padding:12},onClick:he=>he.stopPropagation(),children:[v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),v.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:ve,onChange:he=>De(he.target.value),children:[v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"symbolAsc",children:"Symbol (A  Z)"}),v.jsx("option",{value:"symbolDesc",children:"Symbol (Z  A)"}),v.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),v.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Sort"}),v.jsxs("select",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground",value:Xe,onChange:he=>Q(he.target.value),children:[v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"symbolAsc",children:"Symbol (A  Z)"}),v.jsx("option",{value:"symbolDesc",children:"Symbol (Z  A)"}),v.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),v.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]}),v.jsx("div",{className:"my-3 border-t border-border"}),v.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Filter by tags"}),v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-background px-2 text-sm text-foreground placeholder:text-muted",placeholder:"Comma-separated tags",value:le,onChange:he=>{const we=he.target.value;Le(we);const Je=we.split(",").map(Ze=>Ze.trim()).filter(Boolean);et(Je)}}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-muted",children:"Mode"}),v.jsxs("select",{className:"h-9 flex-1 rounded-md border border-border bg-background px-2 text-sm text-foreground",value:Ye,onChange:he=>Qe(he.target.value),children:[v.jsx("option",{value:"any",children:"Match any"}),v.jsx("option",{value:"all",children:"Match all"})]}),v.jsx("button",{type:"button",className:"h-9 rounded-md border border-border bg-card px-3 text-sm hover:bg-muted",onClick:()=>{Le(""),et([]),Qe("any")},children:"Clear"})]}),v.jsx("div",{className:"mt-3 flex justify-end",children:v.jsx("button",{type:"button",className:"h-9 rounded-md bg-primary px-3 text-sm text-primary-foreground",onClick:$n,children:"Done"})})]})]}),document.body)]})}function lt(){$("")}function ze(){lt(),ae.filter(De=>De.chainId===P.chainId).length===0&&w(!0)}function pt(ve){C(ve),$(ve.name??""),w(!0)}function wt(){w(!1),C(null),kt({status:"idle"}),lt()}const[Rt,kt]=S.useState({status:"idle"}),an=Rt.status==="pending";S.useEffect(()=>{!P&&ne.length&&R(ne[0])},[P,ne]);async function pn(ve){ve.preventDefault();const De=k.trim();if(!De)return;const Xe={name:De};try{if(kt({status:"pending",message:_?"Saving changes":"Submitting account creation"}),_)await U(_.id,Xe);else{const Q=await rv();if(!Q)return kt({status:"error",message:"No user UUID found. Account creation is not possible."});const le=await y_(Q,512);if(!le){kt({status:"error",message:"No sender address available for new account."});return}if(kt({status:"pending",message:"Creating QuantumAccount (waiting for bundler)"}),!await QU({sender:le,domain:P.name,salt:Q})){kt({status:"error",message:"Account creation failed (no wallet returned)."});return}kt({status:"pending",message:"Finalising and saving to your portfolio"});const Ye=H.filter(ft=>ft.chainId===P.chainId).map(ft=>({coin:ft.id,balance:0n})),Qe={address:le,chainId:P.chainId,paymaster:P.paymaster,type:0,bundler:P.bundler,wallet:Ye};await J({...Xe,...Qe})}}catch(Q){const le=typeof Q?.message=="string"?Q.message:"Something went wrong while creating the account.";kt({status:"error",message:le})}finally{wt()}}return q?v.jsx("div",{className:"p-4",children:"Loading coins"}):Y?v.jsx("div",{className:"p-4 text-red-600",children:Y}):v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Portfolio"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("select",{className:"h-9 w-[140px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:m,onChange:ve=>g(Number(ve.target.value)),children:Object.entries(F).map(([ve,De])=>v.jsx("option",{value:ve,children:De},ve))}),v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by name or address",value:t,onChange:ve=>e(ve.target.value)}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsx(je,{primarySortMode:n,setPrimarySortMode:r,secondarySortMode:o,setSecondarySortMode:i,tagSearch:d,setTagSearch:h,setTags:s,tagMode:u,setTagSearchMode:f}),"",v.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:ze,children:"Create account"}),v.jsxs("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm disabled:opacity-50",onClick:Ee,disabled:vt,children:["",vt?"Refreshing":"Refresh balances",""]})]}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsxs("button",{type:"button",className:"rounded border px-3 py-2",onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),w(!1),I(null),O(null),Ce(!0)},children:["",pe?"Edit display name":"Set display name",""]}),v.jsx("button",{type:"button",className:"rounded bg-black px-3 py-2 text-white",onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),ke()},children:"Share profile"})]})]}),v.jsx(aH,{open:_e,initialValue:pe??"",onClose:()=>Ce(!1),onSave:ye}),yt.length===0?v.jsx("div",{className:"text-sm text-muted",children:'No accounts created yet. Click "Create account" to get started.'}):v.jsx("ul",{className:"space-y-2 overflow-visible",children:yt.map(ve=>{const De=ae.find(Qe=>Qe.id===ve.folioId),Xe=H.find(Qe=>Qe.id===ve.coinId),Q=De?.wallet?.[ve.walletId],le=De?.name??ve.folioId,Le=Xe?.symbol??"",et=De&&F[De.chainId]?F[De.chainId]:De?`Chain ${De.chainId}`:"Unknown chain",Ye=Q&&Xe?it(Q.balance,Xe.decimals):"0";return v.jsxs("li",{className:`
    grid gap-x-6 gap-y-2 rounded-lg border px-4 py-3 text-sm
    grid-cols-1
    sm:grid-cols-[80px_80px_1fr_110px] sm:items-start sm:px-8
  `,children:[v.jsx("div",{className:"min-w-0",children:v.jsx("span",{className:"font-medium",children:le})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"text-xs text-muted",children:Le}),v.jsxs("div",{className:"text-xs text-muted",children:["Balance: ",Ye," ",Le]})]}),v.jsx("div",{className:"min-w-0",children:v.jsx("div",{className:"text-xs text-muted",children:et})}),v.jsx("div",{className:"justify-self-start sm:justify-self-end overflow-visible",children:v.jsxs("details",{className:"relative inline-block overflow-visible",children:[v.jsx("summary",{className:"cursor-pointer list-none rounded-md border bg-background px-2 py-1 text-xs",children:"Actions"}),v.jsxs("div",{className:"absolute left-0 mt-1 w-40 rounded-md border border-neutral-200 bg-background shadow-lg z-50",children:[v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs hover:bg-muted",onClick:Qe=>{Qe.currentTarget.closest("details")?.removeAttribute("open"),De&&pt(De)},children:"Edit"}),v.jsx("div",{className:"my-1 border-t"}),v.jsx("button",{className:"block w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-muted",onClick:Qe=>{Qe.currentTarget.closest("details")?.removeAttribute("open"),I(ve.folioId)},children:"Remove"})]})]})})]},`${ve.folioId}-${ve.coinId}-${ve.walletId}`)})}),b?rn.createPortal(v.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:ve=>{ve.target===ve.currentTarget&&wt()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:v.jsxs("div",{className:"bg-background",onMouseDown:ve=>ve.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[v.jsx("h2",{className:"mb-3 text-base font-semibold",children:_?"Change Label":"Create Account"}),v.jsxs("form",{className:"space-y-4",onSubmit:pn,children:[Rt.status!=="idle"&&v.jsxs("div",{className:`rounded-md border px-3 py-2 text-xs ${Rt.status==="error"?"border-red-300":"border-border"}`,children:[Rt.status==="pending"&&v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{children:Rt.message})}),Rt.status==="error"&&v.jsx("div",{className:"text-red-600",children:Rt.message})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium",children:"Name"}),v.jsx("input",{className:"w-full rounded-md border px-2 py-1 text-sm",value:k,onChange:ve=>$(ve.target.value),required:!0,disabled:an})]}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:wt,disabled:an,children:"Cancel"}),"",v.jsxs("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",disabled:an,children:["",an?_?"Saving":"Creating":_?"Save changes":"Create account",""]})]})]})]})}),document.body):null,A&&v.jsx("div",{onClick:ve=>{ve.target===ve.currentTarget&&wt()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.35)",backdropFilter:"blur(6px)",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:16,minHeight:"100dvh",display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsxs("div",{onClick:ve=>ve.stopPropagation(),style:{width:"min(448px, calc(100dvw - 32px))",borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)",background:"#fff",color:"#111",maxHeight:"calc(100dvh - 32px)",overflowY:"auto"},children:[v.jsx("h2",{className:"text-base font-semibold",children:"Delete account?"}),v.jsxs("p",{className:"mt-2 text-sm text-muted",children:["This will remove the entire portfolio account ",v.jsx("strong",{children:T||"unnamed"})," and its balances from your list. This action cannot be undone and you could lose access to your assets. If you just want to remove the coin balance then go to the coin page and delete the coin."]}),v.jsxs("div",{className:"mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",children:[v.jsx("button",{className:"rounded-md border px-3 py-1 text-sm",onClick:()=>{I(null),O(null)},children:"Cancel"}),"",v.jsx("button",{className:"rounded-md bg-primary px-3 py-1 text-sm text-background",onClick:()=>{A&&B(A),I(null),O(null)},children:"Yes, delete account"})]})]})}),xe&&v.jsx(A0,{payload:xe,onClose:()=>Be(null)})]})}function __(){const t=cl();return v.jsxs(m0,{className:"mx-auto w-full max-w-4xl",children:[v.jsxs(g0,{className:"flex flex-row items-center justify-between gap-4",children:[v.jsx(y0,{children:"Terms & Conditions"}),v.jsx("div",{className:"flex gap-2",children:v.jsx(lo,{variant:"outline",onClick:()=>t(-1),children:"Back"})})]}),v.jsx(v0,{className:"prose px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"mx-auto max-w-3xl",children:[v.jsx("p",{children:"[Version 1.0  Last updated: 2026-02-24]"}),v.jsxs("ol",{className:"list-decimal pl-4 space-y-8",children:[v.jsxs("li",{children:[v.jsx("h2",{children:"Introduction"}),v.jsx("p",{children:"These Terms and Conditions (Terms) govern your use of the Cointrol platform, applications, APIs, smart contracts, websites, and related services (collectively, the Services) operated by Cointrol Limited (Cointrol, we, us, or our)."}),v.jsx("p",{children:"By accessing or using the Services, you agree to be bound by these Terms."}),v.jsx("p",{children:"If you do not agree, you must not use the Services"})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Non-Custodial Nature of the Services"}),v.jsx("p",{children:"Cointrol provides non-custodial wallet and transaction infrastructure. We do not:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"hold customer funds,"}),v.jsx("li",{children:"control private keys,"}),v.jsx("li",{children:"initiate transactions on your behalf without cryptographic authorisation,"}),v.jsx("li",{children:"act as trustee, custodian, or fiduciary."})]}),v.jsx("p",{children:"You retain sole control of:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"private keys"}),v.jsx("li",{children:"recovery material"}),v.jsx("li",{children:"transaction approvals"}),v.jsx("li",{children:"digital assets"})]}),v.jsx("p",{children:"You acknowledge that loss of keys or credentials may result in permanent loss of access to assets."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Blockchain Risks and Irreversibility"}),v.jsx("p",{children:"You acknowledge that:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"blockchain transactions are irreversible;"}),v.jsx("li",{children:"confirmations times depend on external networks;"}),v.jsx("li",{children:"smart contracts may behave unexpectedly;"}),v.jsx("li",{children:"congestion, forks, validator failures, or chain reorganisations may occur."})]}),v.jsx("p",{children:"Cointrol does not guarantee:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"transaction finality,"}),v.jsx("li",{children:"confirmation speed,"}),v.jsx("li",{children:"network availability,"}),v.jsx("li",{children:"asset recovery."})]}),v.jsx("p",{children:"use of blockchain technology is at your own risk."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Testnet Disclaimer (where applicable)"}),v.jsx("p",{children:"Where Services operate on test networks:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"assets have no real-world value;"}),v.jsx("li",{children:"data may be reset or deleted;"}),v.jsx("li",{children:"addresses must not be reused on mainnet."})]}),v.jsx("p",{children:"Testnet environments are provided strictly for development and evalutation."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Artificial Intelligence & Cryptography"}),v.jsx("p",{children:"Certain components of the services may utilise:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"artificial intelligence,"}),v.jsx("li",{children:"automated agents,"}),v.jsx("li",{children:"cryptographic systems including post-quantum algorithms."})]}),v.jsx("p",{children:"You acknowledge that::"}),v.jsxs("ul",{children:[v.jsx("li",{children:"AI-generated outputs are probabilistic and may contain errors;"}),v.jsx("li",{children:"cryptographic systems may evolve as standards develop;"}),v.jsx("li",{children:"no cryptographic system is guaranteed to remain secure indefinitely."})]}),v.jsx("p",{children:"Any outputs or recommendations are provided for informational purposes only and must be independently verified."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"No Financial, Legal, or Investment Advice"}),v.jsx("p",{children:"Nothing provided through the Services constitutes:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"financial advice,"}),v.jsx("li",{children:"legal advice,"}),v.jsx("li",{children:"tax advice,"}),v.jsx("li",{children:"investment advice."})]}),v.jsx("p",{children:"Cointrol does not recommend or endorse any digital asset, protocol, or strategy. You are solely responsible for evaluating risks and compliance."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"User Responsibilities"}),v.jsx("p",{children:"You agree to:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"maintain adequate security over credentials and devices;"}),v.jsx("li",{children:"verify all transaction details before approval;"}),v.jsx("li",{children:"comply with applicable laws and regulations;"}),v.jsx("li",{children:"ensure accuracy of submitted data;"}),v.jsx("li",{children:"not misuse or interfere with the services."})]}),v.jsx("p",{children:"You are responsible for all activity authorised through your accounts or keys."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Third-Party Networks and Services"}),v.jsx("p",{children:"The Services rely on third parties including:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"blockchain networks"}),v.jsx("li",{children:"RPC providers"}),v.jsx("li",{children:"could platforms"}),v.jsx("li",{children:"bundlers"}),v.jsx("li",{children:"paymasters"}),v.jsx("li",{children:"identity or analytics services"})]}),v.jsx("p",{children:"Cointrol is not responsible for outages, failures, or acts of these third parties."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Intellectual Property"}),v.jsx("p",{children:"We process personal data in accordance with:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"UK GDPR"}),v.jsx("li",{children:"Data Protection Act 2018"})]}),v.jsx("p",{children:"Our Privacy Policy forms part of these Terms. You acknowledge that blockchain data is inherently public and immutable."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Limitation of Liability"}),v.jsx("p",{children:"To the maximum extent permitted by law, Cointrol shall not be liable for:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"loss of digital assets;"}),v.jsx("li",{children:"blockchain failures;"}),v.jsx("li",{children:"smart contract behaviour;"}),v.jsx("li",{children:"indirect or consequential damages;"}),v.jsx("li",{children:"loss of profits, revenue, or business;"}),v.jsx("li",{children:"regulatory or tax consequences."})]}),v.jsx("p",{children:"Our total aggregate liability shall not exceed the fees paid by you to Cointrol in the twelve (12) months preceding the event giving rise to the claim. If no fees were paid, liability is limited to 100."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"No Warranties"}),v.jsx("p",{children:'The Services are provided "as is" and "as available".'}),v.jsx("p",{children:"We expressly disclaim all warranties, including implied warranties of merchantability, fitness for purpose, and non-infringement."}),v.jsx("p",{children:"We do not warrant uninterrupted or error-free operation."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Indemnity"}),v.jsx("p",{children:"You agree to indemnify Cointrol against claims arising from:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"your misuse of the Services;"}),v.jsx("li",{children:"violation of law;"}),v.jsx("li",{children:"breach of these Terms;"}),v.jsx("li",{children:"content or transactions you initiate."})]})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Suspension and Termination"}),v.jsx("p",{children:"We may suspend or terminate access where required by law or where use presents security, legal, or operational risk."}),v.jsx("p",{children:"You may cease use at any time."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Force Majeure"}),v.jsx("p",{children:"Cointrol is not liable for delays or failures caused by events beyond reasonable control including:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"blockchain outages;"}),v.jsx("li",{children:"cyber incidents;"}),v.jsx("li",{children:"infrastructure failures;"}),v.jsx("li",{children:"regulatory changes;"}),v.jsx("li",{children:"acts of war or government."})]})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Changes to Terms"}),v.jsx("p",{children:"We may update these Terms periodically. Continued use constitutes acceptance."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Governing Law"}),v.jsx("p",{children:"These Tems are governed by the laws of England and Wales. Courts of England and Wales shall have exclusive jurisdiction."})]})]})]})})]})}function C_(){const t=cl();return v.jsxs(m0,{className:"mx-auto w-full max-w-4xl",children:[v.jsxs(g0,{className:"flex flex-row items-center justify-between gap-4",children:[v.jsx(y0,{children:"Privacy Policy"}),v.jsx("div",{className:"flex gap-2",children:v.jsx(lo,{variant:"outline",onClick:()=>t(-1),children:"Back"})})]}),v.jsx(v0,{className:"prose px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"mx-auto max-w-3xl",children:[v.jsx("p",{children:"[Version 1.1  Last updated: 2026-02-19]"}),v.jsxs("ol",{className:"list-decimal pl-4 space-y-8",children:[v.jsxs("li",{children:[v.jsx("h2",{children:"Introduction"}),v.jsxs("p",{children:["Welcome to ",v.jsx("strong",{children:"Cointrol Limited"})," (Cointrol, we, our, us). We are committed to upholding privacy, security, and transparency across all of our platforms  including our QuantumAccount wallet, Paymaster services, Bundler infrastructure, and related websites, APIs, and digital tools (collectively, the Services)."]}),v.jsx("p",{children:"Cointrol Limited is a UK-registered company developing post-quantum, non-custodial wallet infrastructure built on Ethereum ERC-4337 Account Abstraction, using Falcon (fips 206) for quantum-resistant digital signatures."}),v.jsx("p",{children:"We take privacy seriously. This document explains our policy regarding the collection, use, and protection of information when you interact with our Services."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Our Approach to Privacy"}),v.jsx("p",{children:"Cointrol is built on the principle of user sovereignty. Our architecture is designed so that no personal data is collected, stored, or processed by default. Your keys, identities, and transactions remain entirely under your control and are managed locally on your device or via your connected wallet."}),v.jsx("p",{children:"We will only collect or process data if:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"It is legally required (e.g., by financial regulations or compliance obligations), or"}),v.jsx("li",{children:"You have explicitly consented to its collection for a specific purpose (e.g., participation in a token sale, account verification, or support request)."})]}),v.jsx("p",{children:"When data collection is required, we will:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Clearly inform you of what data is being collected and why."}),v.jsx("li",{children:"Request your informed consent before processing."}),v.jsx("li",{children:"Handle data securely and in accordance with applicable privacy laws including the UK GDPR and the Data Protection Act 2018."})]})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Information We May Collect (If Applicable)"}),v.jsx("p",{children:"While our Services are designed to operate without collecting personal data, certain interactions may require limited information. Examples include:"}),v.jsx("h3",{children:"Contact or Support Enquiries"}),v.jsx("ul",{children:v.jsx("li",{children:"Name, email address, message content  to respond to enquiries"})}),v.jsx("h3",{children:"Regulatory Compliance"}),v.jsx("ul",{children:v.jsx("li",{children:"Identity verification documents, proof of address  only if legally required (e.g., AML/KYC)"})}),v.jsx("h3",{children:"Website Analytics (optional, if consented)"}),v.jsx("ul",{children:v.jsx("li",{children:"Anonymous usage metrics  to improve system performance only"})}),v.jsx("h3",{children:"Technical"}),v.jsx("ul",{children:v.jsx("li",{children:"IP address, device information, browser type, application logs  for security monitoring and troubleshooting only"})}),v.jsx("h3",{children:"Blockchain Identifiers"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Wallet addresses, transaction hashes, and network metadata"}),v.jsx("li",{children:"Blockchain data is public and not controlled by Cointrol"})]})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Smart Contract and Blockchain Data"}),v.jsx("p",{children:"All on-chain transactions (including UserOperations, Paymaster deposits, and QuantumAccount deployments) are public by design and stored on the Ethereum blockchain or compatible networks. Such data - wallet addresses, transaction hashes, and smart contract interactions - are immutable and beyond our direct control."}),v.jsx("p",{children:"Public blockchain data is globally replicated and cannot be deleted nor modified."}),v.jsx("p",{children:"Cointrol does not link any blockchain addresses to real-world identities unless required by regulation and supported by user consent."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Cookies and Local Storage"}),v.jsx("p",{children:"Our website may use minimal local storage to maintain functionality (for example, session preferences or authentication tokens). We do not use tracking cookies, third-party advertising scripts, or analytics platforms that profile users. Where optional analytics are used (e.g., self-hosted performance metrics), they will be anonymised and clearly disclosed."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Legal Basis for Processing"}),v.jsx("p",{children:"Where we are legally required to process data, we do so under one or more lawful bases:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Consent - You have clearly agreed to the processing."}),v.jsx("li",{children:"Legal Obligation - There is a requirement to comply with applicable laws (e.g., AML/KYC, taxation, or regulatory reporting)."}),v.jsx("li",{children:"Contract Performance  "}),v.jsx("li",{children:"Legitimate Interests - Security, fraud prevention, service improvement.  "})]})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Data Security"}),v.jsx("p",{children:"Security is central to our mission. We employ post-quantum cryptography (Falcon-512 and Falcon-1024), end-to-end encryption, and strict access controls for any system components that might process user-submitted data."}),v.jsx("p",{children:"When we engage service providers (e.g., cloud hosting, email, or payment gateways), we ensure that they meet or exceed industry security standards and comply with applicable data protection laws."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"How We Use Your Data"}),v.jsx("p",{children:"We use data to:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"operate and secure services"}),v.jsx("li",{children:"provide support"}),v.jsx("li",{children:"comply with legal obligations"}),v.jsx("li",{children:"detect fraud or abuse"}),v.jsx("li",{children:"improve platform functionality"})]}),v.jsx("p",{children:"We do not sell personal data"})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Data Retention"}),v.jsx("p",{children:"We retain information only for as long as necessary to fulfil its intended purpose or to meet legal requirements, operational requirements, or for dispute resolution. Once the purpose expires, data is securely deleted or anonymised in compliance with GDPR retention guidelines."}),v.jsx("p",{children:"Blockchain data cannot be deleted, but we will not associate any personal identifiers with it unless explicitly required by law."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Sharing Information"}),v.jsx("p",{children:"We may share data with:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"infrastructure providers"}),v.jsx("li",{children:"analytics providers"}),v.jsx("li",{children:"professional advisors"}),v.jsx("li",{children:"regulators (where legally required)"})]}),v.jsx("p",{children:"All processors are contractually bound to confidentiality."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Your Rights"}),v.jsx("p",{children:"If you have provided data to us under consent, you retain full rights under the UK GDPR, including the right to:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Access your information"}),v.jsx("li",{children:"Correct inaccuracies"}),v.jsx("li",{children:"Request deletion of your data (off-chain only)"}),v.jsx("li",{children:"Withdraw consent at any time"}),v.jsx("li",{children:"Restriction "}),v.jsx("li",{children:"Objection  "}),v.jsx("li",{children:"Portability  "})]}),v.jsx("p",{children:"Requests can be made by contacting us using the details below."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Security"}),v.jsx("p",{children:"We use technical and organiational safeguards including encryption, access controls, and monitoring.  However, no system is completely secure."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"International Data Transfers"}),v.jsx("p",{children:"If any data is processed outside the United Kingdom, we will ensure that such transfers are made in compliance with applicable data protection laws and appropriate safeguards."}),v.jsx("p",{children:"Where applciable, we use UK adequacy regulations and standard constractual clauses."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Updates to This Policy"}),v.jsx("p",{children:"We may occasionally update this Privacy Policy to reflect changes in regulation or operational practices. All updates will be published on our website with a revised Last Updated date."})]}),v.jsxs("li",{children:[v.jsx("h2",{children:"Contact Information"}),v.jsx("p",{children:"For questions, requests, or concerns regarding this Privacy Policy, please contact us at:"}),v.jsxs("p",{children:["Cointrol Limited",v.jsx("br",{}),"Registered in the United Kingdom",v.jsx("br",{}),"Email: info@cointrol.co.uk",v.jsx("br",{}),"Address: 21 Tressillian Crescent, London, SE4 1QJ (mail enquiries only)"]})]})]})]})})]})}const ov="cointrol:txns:v1",A_="cointrol:txns:schemaVersion",wd=1,fg=new Set;function lH(t){for(const e of fg)e(t)}function fH(t){return fg.add(t),()=>{fg.delete(t)}}async function dH(){const t=await St(A_);return t||wd}async function hH(t){await hn(A_,t)}async function pH(){const t=await dH();t!==wd&&(await St(ov),t<wd&&await hH(wd))}async function a1(){return await pH(),await St(ov)??[]}async function s1(t){await hn(ov,t),lH(t)}async function mH(){return a1()}async function gH(t){const e=Date.now(),n=await a1(),r={id:`txn:${crypto.randomUUID?.()??`${e}:${n.length}`}`,chainId:t.chainId,userOpHash:t.userOpHash,transactionHash:t.transactionHash,addressId:t.addressId,coinId:t.coinId,folioId:t.folioId,walletId:t.walletId,createdAt:e,updatedAt:e},o=[...n,r];return await s1(o),o}async function yH(t,e){const n=await a1(),r=Date.now(),o=n.map(i=>i.id===t?{...i,...e,updatedAt:r}:i);return await s1(o),o}async function vH(t){const n=(await a1()).filter(r=>r.id!==t);return await s1(n),n}async function bH(){await s1([])}function xH(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,i]=S.useState(null);return S.useEffect(()=>{let a=!1;(async()=>{try{const u=await mH();a||(e(u),r(!1))}catch(u){console.error("[Txns] Failed to load:",u),a||(i(u?.message??"Failed to load Txns"),r(!1))}})();const s=fH(u=>{a||e(u)});return()=>{a=!0,s()}},[]),{txns:t,loading:n,error:o,addTxn:gH,updateTxn:yH,deleteTxn:vH,clearTxns:bH}}function rd(t,e){const n=t??0,r=e??0;return n<r?-1:n>r?1:0}function wH(t,e="createdAsc"){const n=[...t];return n.sort((r,o)=>{switch(e){case"createdAsc":return rd(r.createdAt,o.createdAt);case"createdDesc":return rd(o.createdAt,r.createdAt);case"chainIdAsc":return rd(r.chainId,o.chainId);case"chainIdDesc":return rd(o.chainId,r.chainId);default:return 0}}),n}function EH(t={}){const{txns:e,loading:n,error:r,addTxn:o,updateTxn:i,deleteTxn:a,clearTxns:s}=xH(),{query:u="",sortMode:f="createdAsc",chainId:d=0}=t;return{txns:S.useMemo(()=>{let m=e;if(u.trim()){const g=u.trim().toLowerCase();m=m.filter(b=>b.userOpHash.toLowerCase().includes(g)||b.transactionHash.toLowerCase().includes(g))}return d&&(m=m.filter(g=>g.chainId===d)),wH(m,f)},[e,u,f,d]),loading:n,error:r,addTxn:o,updateTxn:i,deleteTxn:a,clearTxns:s}}function _H(t,e){const n=e.trim();if(t==="string"||t==="address")return n;if(t==="bool")return n.toLowerCase()==="true";if(t.startsWith("uint")||t.startsWith("int"))return BigInt(n||"0");if(t.startsWith("bytes")&&!t.endsWith("[]"))return n;if(t.endsWith("[]"))try{return JSON.parse(n||"[]")}catch{throw new Error(`Invalid array JSON for type ${t}`)}return n}function CH(){const[t,e]=S.useState({}),[n,r]=S.useState(""),[o,i]=S.useState("createdDesc"),[a,s]=S.useState(0),[u,f]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(!1),[b,w]=S.useState(!0),[_,C]=S.useState(null),[A,I]=S.useState(null),[T,O]=S.useState(null),[P,R]=S.useState(null),[k,$]=S.useState(null),[F,H]=S.useState(null),[V,te]=S.useState(""),[ae,q]=S.useState({}),[Y,J]=S.useState(null),[B,U]=S.useState(null),[ne,L]=S.useState(!1),G={1:"Ethereum",11155111:"Sepolia",31337:"Local"},{txns:pe,loading:ye,error:_e,addTxn:Ce}=EH({query:n,sortMode:o,chainId:a}),{folios:xe,loading:Be,error:ke}=d_({query:"",sortMode:"createdAsc",chainId:a}),{coins:Ae,loading:yt,error:it}=hy({query:"",sortMode:"nameAsc",standard:"",chainId:a}),{address:dt}=w8({query:"",sortMode:"nameAsc"}),{domains:vt}=yy(),{contracts:se,loading:re,error:Ee}=G8(),{contacts:je}=D3();function lt(K,ge){if(ge<=0)return K.toString();const he=K<0n,we=he?-K:K,Ze=10n**BigInt(ge),nt=we/Ze;let tt=(we%Ze).toString().padStart(ge,"0");tt=tt.replace(/0+$/,"");const jt=nt.toString()+(tt.length>0?"."+tt:"");return he?"-"+jt:jt}function ze(K=0,ge){return ge<=0?BigInt(K):K<0?BigInt(0):BigInt(K*10**ge)}S.useEffect(()=>{function K(ge){ge.target.closest("details")||document.querySelectorAll("details[open]").forEach(we=>{we.removeAttribute("open")})}return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),S.useEffect(()=>{if(!m)return;const K=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=K}},[m]),S.useEffect(()=>{m&&xe.length===1&&!k&&$(xe[0])},[m,xe,k]);function pt(){I(null),O(null),R(null),$(null),te(""),q({}),e({}),J(null),U(null),C(null)}function wt(){pt(),w(!1),f("Use a Smart Contract"),h("Select any contract and then choose a function"),g(!0)}function Rt(){pt(),w(!0),f("Send or Approve Coins"),h("Select any coin and then choose an option."),g(!0)}function kt(){g(!1),pt()}function an(K){return JSON.stringify(K,(ge,he)=>typeof he=="bigint"?he.toString():he,2)}function pn(K){const ge=t[K];if(!ge)return"";if(ge.mode==="manual")return(ge.manual??"").trim();const he=ge.selectedIndex;if(he==null)return"";if(ge.mode==="address"){const we=dt[he];if(!we)return"";if(we.isContact){const Je=je.find(nt=>nt.id===we.id);return Je?.wallets?.length?(Je.wallets.find(nt=>nt.chainId===F?.chainId)?.address??"").trim():""}else return(se.find(Ze=>Ze.id===we.id)?.address??"").trim()}return ge.mode==="coin"?(Ae[he]?.address??"").trim():ge.mode==="folio"?(xe[he]?.address??"").trim():""}function ve(K){t[K]||e(ge=>({...ge,[K]:{mode:"manual",manual:"",selectedIndex:null}}))}async function De(){var K;b?K=T?.id:K=P?.id;const ge=k?.wallet,he=ge?.length;var we=-1;if(A&&he&&he>0)for(let Ze=0;Ze<he;Ze++)ge[Ze].coin==A.id&&(we=Ze);const Je={userOpHash:_?.userOpHash,transactionHash:_?.hash,chainId:k?.chainId,addressId:K,coinId:A?.id,folioId:k?.id,walletId:we};await Ce({...Je}),kt()}const Xe=S.useMemo(()=>{if(b)switch(A?.type){case"ERC20":return _x;case"ERC721":return DU;case"ERC1155":return MU;case"NATIVE":return kU;default:return _x}else return BU(P?.metadata)},[A,b,P]),Q=S.useMemo(()=>{if(A!=null&&k!=null){const ge=k?.wallet,he=ge?.length;var K=0n;if(he&&he>0)for(let we=0;we<he;we++)ge[we].coin===A.id&&(K=ge[we].balance);return lt(K,A.decimals)}else return""},[A,k]),le=S.useMemo(()=>LU(Xe),[Xe]),Le=S.useMemo(()=>le.filter(K=>K.stateMutability?K.stateMutability==="nonpayable"||K.stateMutability==="payable":!K.constant),[le]),et=S.useMemo(()=>le.filter(K=>K.stateMutability?K.stateMutability==="view"||K.stateMutability==="pure":K.constant===!0),[le]);S.useEffect(()=>{!F&&vt.length&&H(vt[0])},[F,vt]),S.useEffect(()=>{te(""),q({}),J(null),U(null)},[Xe]),S.useEffect(()=>{!V&&le.length>0&&(Le.length>0?te(Le[0].name):te(le[0].name),b&&te("transfer"))},[V,le,Le]),S.useEffect(()=>{V&&(q({}),e({}),J(null),U(null))},[V]);const Ye=S.useMemo(()=>le.find(K=>K.name===V),[le,V]);function Qe(K,ge){q(he=>({...he,[K]:ge}))}function ft(){return Ye?Ye.inputs.map((K,ge)=>{const he=Cx(K,ge);if(K.type==="address")return pn(he);if(he==="value"&&b)return ze(Number(ae[he]),A?.decimals??18);const we=ae[he]??"";return _H(K.type,we)}):[]}const{startFlow:Dn}=Sx();async function Xn(){if(U(null),J(null),!Xe){U("No ABI found for selected contract");return}if(!P&&!b){U("No contract selected");return}if(!A&&b){U("No token selected");return}if(!Ye){U("No function selected");return}if(!ne)try{L(!0);const K=b&&A?.type==="NATIVE";let ge=null,he=0n,we="0x";if(K){if(!Ye){U("No function selected");return}const tt=ft(),jt=tt?.[0]?.trim(),mn=tt?.[1];if(!jt||!jt.startsWith("0x")){U("Invalid _to address");return}if(mn==null){U("Invalid _value amount");return}ge=jt,he=BigInt(mn),we="0x"}else{if(!Xe){U("No ABI found");return}if(!Ye){U("No function selected");return}const tt=ft();if(we=Or({abi:Xe,functionName:Ye.name,args:tt}),b){const jt=(A?.address??"").trim();if(!jt.startsWith("0x")){U("Coin has no valid contract address");return}ge=jt,he=0n}else{const jt=(P?.address??"").trim();if(!jt.startsWith("0x")){U("Contract has no valid address");return}ge=jt,he=0n}}if(!ge){U("Could not resolve destination address");return}const Je=Or({abi:PU,functionName:"execute",args:[ge,he,we]});await Dn({folio:k,encoded:Je,domain:F});const Mt=Sx.getState().status;if(C(Mt),Mt.phase==="failed"){U(Mt.message??"Transaction failed");return}De()}catch(K){console.error(K),U(K?.message??"Failed to build calldata")}finally{L(!1)}}async function qn(){if(U(null),J(null),!Xe){U("No ABI found for selected contract");return}if(!P&&!b){U("No contract selected");return}if(!A&&b){U("No token selected");return}if(!Ye){U("No function selected");return}if(!(Ye.stateMutability==="view"||Ye.stateMutability==="pure")){U("Selected function is not read-only");return}if(!ne)try{L(!0);const he=ft(),we=r1({transport:o1(F?.rpcUrl)});var ge;b?ge=A?.address:ge=P?.address;const Je=await we.readContract({address:ge,abi:Xe,functionName:Ye.name,args:he});J(an(Je))}catch(he){console.error(he),U(he?.message??"Failed to read from RPC")}finally{L(!1)}}const Er=Ye&&(Ye.stateMutability==="view"||Ye.stateMutability==="pure"),$n=!!Xe&&le.length>0;return ye?v.jsx("div",{className:"p-4",children:"Loading transactions"}):_e?v.jsx("div",{className:"p-4 text-red-600",children:_e}):v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("h1",{className:"shrink-0 text-2xl leading-tight font-semibold text-foreground",children:"Transactions"}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("input",{className:"h-9 w-full rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted sm:max-w-md",placeholder:"Search by userOpHash or transactionHash",value:n,onChange:K=>r(K.target.value)}),v.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:v.jsx("select",{className:"h-9 w-[100px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:a,onChange:K=>s(Number(K.target.value)),children:Object.entries(G).map(([K,ge])=>v.jsx("option",{value:K,children:ge},K))})}),v.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:v.jsxs("select",{className:"h-9 w-[140px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:o,onChange:K=>i(K.target.value),children:[v.jsx("option",{disabled:!0,children:"Primary sort"}),v.jsx("option",{value:"nameAsc",children:"Name (A  Z)"}),v.jsx("option",{value:"nameDesc",children:"Name (Z  A)"}),v.jsx("option",{value:"coinSymbolAsc",children:"Symbol (A  Z)"}),v.jsx("option",{value:"coinSymbolDesc",children:"Symbol (Z  A)"}),v.jsx("option",{value:"addressAsc",children:"Address (A  Z)"}),v.jsx("option",{value:"addressDesc",children:"Address (Z  A)"}),v.jsx("option",{value:"chainIdAsc",children:"Chain ID (Low  High)"}),v.jsx("option",{value:"chainIdDesc",children:"Chain ID (High  Low)"}),v.jsx("option",{value:"createdDesc",children:"Newest first"}),v.jsx("option",{value:"createdAsc",children:"Oldest first"})]})}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:Rt,children:"Send coins"}),"",v.jsx("button",{className:"h-9 rounded-md border border-border bg-card px-3 text-sm",onClick:wt,children:"Use a smart contract"})]})]}),pe.length===0?v.jsx("div",{className:"text-sm text-muted",children:"No transactions"}):v.jsx("ul",{className:"space-y-2 overflow-visible",children:pe.map(K=>{const ge=xe.find(tt=>tt.id===K.folioId),he=Ae.find(tt=>tt.id===K.coinId),we=dt.find(tt=>tt.id===K.addressId),Je=ge?.name??K.folioId,Ze=he?.symbol??"",nt=ge&&G[ge.chainId]?G[ge.chainId]:ge?`Chain ${ge.chainId}`:"Unknown chain",Mt=we?.name??"";return v.jsxs("li",{className:`
    grid gap-x-6 gap-y-2 rounded-lg border px-4 py-3 text-sm
    grid-cols-1
    sm:grid-cols-[80px_80px_1fr_110px] sm:items-start sm:px-8
  `,children:[v.jsx("div",{className:"min-w-0",children:v.jsxs("span",{className:"font-medium",children:["Sender: ",Je]})}),v.jsx("div",{className:"min-w-0",children:v.jsxs("div",{className:"text-xs text-muted",children:["Coin: ",Ze]})}),v.jsx("div",{className:"min-w-0",children:v.jsxs("div",{className:"text-xs text-muted",children:["Chain: ",nt]})}),v.jsx("div",{className:"min-w-0",children:v.jsxs("div",{className:"text-xs text-muted",children:["Receiver: ",Mt]})}),v.jsx("div",{className:"min-w-0",children:v.jsxs("div",{className:"text-xs text-muted",children:["Transaction: ",K.transactionHash]})}),v.jsx("div",{className:"min-w-0",children:v.jsxs("div",{className:"text-xs text-muted",children:["UserOphash: ",K.userOpHash]})}),v.jsx("div",{className:"justify-self-start sm:justify-self-end overflow-visible",children:v.jsx("button",{className:"underline",onClick:()=>{K.transactionHash&&window.open(`https://sepolia.etherscan.io/tx/${K.transactionHash}`,"_blank","noopener,noreferrer")},children:"View on Etherscan"})})]},K.id)})}),m?rn.createPortal(v.jsx("div",{className:"bg-background/80 backdrop-blur-sm",onClick:K=>{K.target===K.currentTarget&&kt()},style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:v.jsxs("div",{className:"bg-background",onMouseDown:K=>K.stopPropagation(),style:{width:"100%",maxWidth:448,borderRadius:12,padding:16,boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[v.jsx("h2",{className:"mb-3 text-base font-semibold",children:u}),v.jsx("h3",{className:"mb-4 text-xs font-semibold",children:d}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"min-w-0",children:v.jsx("label",{className:"text-xs font-medium",children:"Folio"})}),v.jsxs("select",{className:"w-full rounded-md border px-2 py-1 text-sm",value:k?.id??"",onChange:K=>$(xe.find(ge=>String(ge.id)===K.target.value)??null),children:[v.jsx("option",{value:"",children:Be?"Loading...":"Select folio"}),xe.map(K=>v.jsxs("option",{value:K.id,children:[K.name," (",K.address,")"]},K.id))]}),ke&&v.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",ke]})]}),!b&&v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"min-w-0",children:v.jsx("label",{className:"text-xs font-medium",children:"Contract"})}),v.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:P?.id??"",onChange:K=>R(se.find(ge=>String(ge.id)===K.target.value)??null),children:[v.jsx("option",{value:"",children:re?"Loading...":"Select contract"}),se.map(K=>v.jsxs("option",{value:K.id,children:[K.name," (",K.address,")"]},K.id))]}),Ee&&v.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",Ee]})]}),b&&v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"min-w-0",children:v.jsx("label",{className:"text-xs font-medium",children:"Coin"})}),v.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:A?.id??"",onChange:K=>I(Ae.find(ge=>String(ge.id)===K.target.value)??null),children:[v.jsx("option",{value:"",children:yt?"Loading...":"Select coin"}),Ae.map(K=>v.jsxs("option",{value:K.id,children:[K.name," (",K.symbol,")"]},K.id))]}),it&&v.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",it]})]}),b&&A&&v.jsx("div",{className:"text-xs text-muted space-y-1",children:v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Balance:"})," ",Q," ",A.symbol]})}),$n?v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"min-w-0",children:v.jsx("label",{className:"text-xs font-medium",children:"Function"})}),v.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:V,onChange:K=>{te(K.target.value),q({}),J(null),U(null)},children:[v.jsx("optgroup",{label:"Write (nonpayable/payable)",children:Le.map(K=>v.jsxs("option",{value:K.name,children:[K.name,"(",K.inputs.map(ge=>ge.type).join(","),")"]},`w-${K.name}`))}),v.jsx("optgroup",{label:"Read (view/pure)",children:et.map(K=>v.jsxs("option",{value:K.name,children:[K.name,"(",K.inputs.map(ge=>ge.type).join(","),")"]},`r-${K.name}`))})]})]}):P&&v.jsxs("p",{className:"text-xs text-red-600",children:["No valid ABI found for this contract. Ensure you stored the ABI as either an array or an object with an ",v.jsx("code",{children:"abi"})," field."]}),Ye?.inputs.map((K,ge)=>{const he=Cx(K,ge);if(K.type==="address"){t[he]||ve(he);const we=t[he]??{mode:"manual",manual:"",selectedIndex:null},Je=we.mode==="address"?dt:we.mode==="coin"?Ae:we.mode==="folio"?xe:[];return v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"min-w-0",children:v.jsxs("label",{className:"text-xs font-medium",children:[he," ",v.jsx("span",{className:"text-muted",children:"(address)"})]})}),v.jsx("div",{className:"min-w-0",children:v.jsxs("select",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:we.mode,onChange:Ze=>{const nt=Ze.target.value;e(Mt=>({...Mt,[he]:{mode:nt,manual:"",selectedIndex:null}}))},children:[v.jsx("option",{value:"manual",children:"Manual"}),v.jsx("option",{value:"address",children:"Address"}),v.jsx("option",{value:"coin",children:"Coin"}),v.jsx("option",{value:"folio",children:"Folio"})]})}),v.jsx("div",{className:"min-w-0",children:we.mode==="manual"?v.jsx("input",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:we.manual,onChange:Ze=>{const nt=Ze.target.value;e(Mt=>({...Mt,[he]:{...we,manual:nt}}))},placeholder:"0x"}):v.jsxs("select",{className:"h-9 w-[180px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:we.selectedIndex??"",onChange:Ze=>{const nt=Ze.target.value;e(Mt=>({...Mt,[he]:{...we,selectedIndex:nt===""?null:Number(nt)}}))},children:[v.jsxs("option",{value:"",children:["Select ",we.mode]}),Je.map((Ze,nt)=>v.jsx("option",{value:nt,children:Ze.name},`${he}-${nt}`))]})})]},he)}return v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"min-w-0",children:v.jsxs("label",{className:"text-xs font-medium",children:[he," ",v.jsxs("span",{className:"text-muted",children:["(",K.type,")"]})]})}),v.jsx("div",{className:"min-w-0",children:v.jsx("input",{className:"h-9 w-[110px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:ae[he]??"",onChange:we=>Qe(he,we.target.value),placeholder:K.type.endsWith("[]")?`JSON array for ${K.type}`:K.type==="bool"?"true / false":""})})]},he)}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:kt,children:"Cancel"}),"",Er?v.jsx("button",{type:"button",className:"rounded-md border px-3 py-1 text-xs",onClick:qn,children:"Query"}):v.jsx("button",{type:"button",className:"rounded-md bg-primary px-3 py-1 text-xs font-medium text-background",onClick:Xn,children:"Submit"})]}),Y&&v.jsx("div",{className:"text-xs text-primary border border-primary rounded-md p-2",children:v.jsx("pre",{children:Y})}),B&&v.jsx("div",{className:"text-xs text-red-600 border border-red-200 rounded-md p-2",children:B})]})}),document.body):null]})}const AH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Tx=t=>{const e=SH(t);return e.charAt(0).toUpperCase()+e.slice(1)},S_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),IH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var TH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NH=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...s},u)=>S.createElement("svg",{ref:u,...TH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:S_("lucide",o),...!i&&!IH(s)&&{"aria-hidden":"true"},...s},[...a.map(([f,d])=>S.createElement(f,d)),...Array.isArray(i)?i:[i]]));const iv=(t,e)=>{const n=S.forwardRef(({className:r,...o},i)=>S.createElement(NH,{ref:i,iconNode:e,className:S_(`lucide-${AH(Tx(t))}`,`lucide-${t}`,r),...o}));return n.displayName=Tx(t),n};const OH=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],PH=iv("facebook",OH);const RH=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],kH=iv("github",RH);const DH=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],MH=iv("twitter",DH);function BH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let dg=1;class LH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...o}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dg++,a=this.toasts.find(u=>u.id===i),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:s,title:r}):u):this.addToast({title:r,...o,dismissible:s,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,a;const s=o.then(async f=>{if(a=["resolve",f],ct.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(jH(f)&&!f.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,b=typeof h=="object"&&!ct.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...b})}else if(f instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,b=typeof h=="object"&&!ct.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...b})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(f):n.success,m=typeof n.description=="function"?await n.description(f):n.description,b=typeof h=="object"&&!ct.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,...b})}}).catch(async f=>{if(a=["reject",f],n.error!==void 0){i=!1;const d=typeof n.error=="function"?await n.error(f):n.error,h=typeof n.description=="function"?await n.description(f):n.description,g=typeof d=="object"&&!ct.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,d)=>s.then(()=>a[0]==="reject"?d(a[1]):f(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||dg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hr=new LH,FH=(t,e)=>{const n=e?.id||dg++;return Hr.addToast({title:t,...e,id:n}),n},jH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zH=FH,$H=()=>Hr.toasts,UH=()=>Hr.getActiveToasts(),Nx=Object.assign(zH,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:$H,getToasts:UH});BH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const HH=()=>{};var Ox={};const I_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],a=t[n++],s=t[n++],u=((o&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|a&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,f=u?t[o+2]:0,d=i>>2,h=(i&3)<<4|s>>4;let m=(s&15)<<2|f>>6,g=f&63;u||(g=64,a||(m=64)),r.push(n[d],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],s=o<t.length?n[t.charAt(o)]:0;++o;const f=o<t.length?n[t.charAt(o)]:64;++o;const h=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||s==null||f==null||h==null)throw new GH;const m=i<<2|s>>4;if(r.push(m),f!==64){const g=s<<4&240|f>>2;if(r.push(g),h!==64){const b=f<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WH=function(t){const e=I_(t);return T_.encodeByteArray(e,!0)},N_=function(t){return WH(t).replace(/\./g,"")},O_=function(t){try{return T_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XH=()=>ZH().__FIREBASE_DEFAULTS__,qH=()=>{if(typeof process>"u"||typeof Ox>"u")return;const t=Ox.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&O_(t[1]);return e&&JSON.parse(e)},av=()=>{try{return HH()||XH()||qH()||KH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YH=t=>av()?.emulatorHosts?.[t],P_=()=>av()?.config,R_=t=>av()?.[`_${t}`];class JH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function c1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QH(t){return(await fetch(t,{credentials:"include"})).ok}const wu={};function eV(){const t={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?t.emulator.push(e):t.prod.push(e);return t}function tV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Px=!1;function nV(t,e){if(typeof window>"u"||typeof document>"u"||!c1(window.location.host)||wu[t]===e||wu[t]||Px)return;wu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=eV().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function s(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Px=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=tV(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),C=n("preprendIcon"),A=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;s(I),d(_,w);const T=f();u(A,C),I.append(A,b,_,T),document.body.appendChild(I)}i?(b.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function oV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sV(){const t=or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cV(){try{return typeof indexedDB=="object"}catch{return!1}}function uV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const lV="FirebaseError";class ma extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lV,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],a=i?fV(i,r):"Error",s=`${this.serviceName}: ${a} (${o}).`;return new ma(o,s,r)}}function fV(t,e){return t.replace(dV,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const dV=/\{\$([^}]+)}/g;function hV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],a=e[o];if(Rx(i)&&Rx(a)){if(!ic(i,a))return!1}else if(i!==a)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pV(t,e){const n=new mV(t,e);return n.subscribe.bind(n)}class mV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gV(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Xp),o.error===void 0&&(o.error=Xp),o.complete===void 0&&(o.complete=Xp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}function Ai(t){return t&&t._delegate?t._delegate:t}class ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class yV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bV(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);r===s&&a.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vV(t){return t===ka?void 0:t}function bV(t){return t.instantiationMode==="EAGER"}class xV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const wV={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},EV=Dt.INFO,_V={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},CV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=_V[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=CV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const AV=(t,e)=>e.some(n=>t instanceof n);let kx,Dx;function SV(){return kx||(kx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IV(){return Dx||(Dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,hg=new WeakMap,M_=new WeakMap,qp=new WeakMap,sv=new WeakMap;function TV(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ta(t.result)),o()},a=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&D_.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function NV(t){if(hg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),o()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});hg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OV(t){pg=t(pg)}function PV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return M_.set(r,e.sort?e.sort():[e]),ta(r)}:IV().includes(t)?function(...e){return t.apply(Kp(this),e),ta(D_.get(this))}:function(...e){return ta(t.apply(Kp(this),e))}}function RV(t){return typeof t=="function"?PV(t):(t instanceof IDBTransaction&&NV(t),AV(t,SV())?new Proxy(t,pg):t)}function ta(t){if(t instanceof IDBRequest)return TV(t);if(qp.has(t))return qp.get(t);const e=RV(t);return e!==t&&(qp.set(t,e),sv.set(e,t)),e}const Kp=t=>sv.get(t);function kV(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),s=ta(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ta(a.result),u.oldVersion,u.newVersion,ta(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),s.then(u=>{i&&u.addEventListener("close",()=>i()),o&&u.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),s}const DV=["get","getKey","getAll","getAllKeys","count"],MV=["put","add","delete","clear"],Yp=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=MV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||DV.includes(n)))return;const i=async function(a,...s){const u=this.transaction(a,o?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(s.shift())),(await Promise.all([f[n](...s),o&&u.done]))[0]};return Yp.set(e,i),i}OV(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));class BV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LV(t){return t.getComponent()?.type==="VERSION"}const mg="@firebase/app",Bx="0.14.8";const wi=new k_("@firebase/app"),FV="@firebase/app-compat",jV="@firebase/analytics-compat",zV="@firebase/analytics",$V="@firebase/app-check-compat",UV="@firebase/app-check",HV="@firebase/auth",VV="@firebase/auth-compat",GV="@firebase/database",WV="@firebase/data-connect",ZV="@firebase/database-compat",XV="@firebase/functions",qV="@firebase/functions-compat",KV="@firebase/installations",YV="@firebase/installations-compat",JV="@firebase/messaging",QV="@firebase/messaging-compat",eG="@firebase/performance",tG="@firebase/performance-compat",nG="@firebase/remote-config",rG="@firebase/remote-config-compat",oG="@firebase/storage",iG="@firebase/storage-compat",aG="@firebase/firestore",sG="@firebase/ai",cG="@firebase/firestore-compat",uG="firebase",lG="12.9.0";const gg="[DEFAULT]",fG={[mg]:"fire-core",[FV]:"fire-core-compat",[zV]:"fire-analytics",[jV]:"fire-analytics-compat",[UV]:"fire-app-check",[$V]:"fire-app-check-compat",[HV]:"fire-auth",[VV]:"fire-auth-compat",[GV]:"fire-rtdb",[WV]:"fire-data-connect",[ZV]:"fire-rtdb-compat",[XV]:"fire-fn",[qV]:"fire-fn-compat",[KV]:"fire-iid",[YV]:"fire-iid-compat",[JV]:"fire-fcm",[QV]:"fire-fcm-compat",[eG]:"fire-perf",[tG]:"fire-perf-compat",[nG]:"fire-rc",[rG]:"fire-rc-compat",[oG]:"fire-gcs",[iG]:"fire-gcs-compat",[aG]:"fire-fst",[cG]:"fire-fst-compat",[sG]:"fire-vertex","fire-js":"fire-js",[uG]:"fire-js-all"};const Xd=new Map,dG=new Map,yg=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nl(t){const e=t.name;if(yg.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of Xd.values())Lx(n,t);for(const n of dG.values())Lx(n,t);return!0}function B_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ro(t){return t==null?!1:t.settings!==void 0}const hG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Sl("app","Firebase",hG);class pG{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const Tl=lG;function L_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw na.create("bad-app-name",{appName:String(o)});if(n||(n=P_()),!n)throw na.create("no-options");const i=Xd.get(o);if(i){if(ic(n,i.options)&&ic(r,i.config))return i;throw na.create("duplicate-app",{appName:o})}const a=new xV(o);for(const u of yg.values())a.addComponent(u);const s=new pG(n,r,a);return Xd.set(o,s),s}function mG(t=gg){const e=Xd.get(t);if(!e&&t===gg&&P_())return L_();if(!e)throw na.create("no-app",{appName:t});return e}function Ws(t,e,n){let r=fG[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}nl(new ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const gG="firebase-heartbeat-database",yG=1,rl="firebase-heartbeat-store";let Jp=null;function F_(){return Jp||(Jp=kV(gG,yG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function vG(t){try{const n=(await F_()).transaction(rl),r=await n.objectStore(rl).get(j_(t));return await n.done,r}catch(e){if(e instanceof ma)wi.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}}async function Fx(t,e){try{const r=(await F_()).transaction(rl,"readwrite");await r.objectStore(rl).put(e,j_(t)),await r.done}catch(n){if(n instanceof ma)wi.warn(n.message);else{const r=na.create("idb-set",{originalErrorMessage:n?.message});wi.warn(r.message)}}}function j_(t){return`${t.name}!${t.options.appId}`}const bG=1024,xG=30;class wG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _G(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xG){const o=CG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jx(),{heartbeatsToSend:n,unsentEntries:r}=EG(this._heartbeatsCache.heartbeats),o=N_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return wi.warn(e),""}}}function jx(){return new Date().toISOString().substring(0,10)}function EG(t,e=bG){const n=[];let r=t.slice();for(const o of t){const i=n.find(a=>a.agent===o.agent);if(i){if(i.dates.push(o.date),zx(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _G{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cV()?uV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zx(t){return N_(JSON.stringify({version:2,heartbeats:t})).length}function CG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function AG(t){nl(new ac("platform-logger",e=>new BV(e),"PRIVATE")),nl(new ac("heartbeat",e=>new wG(e),"PRIVATE")),Ws(mg,Bx,t),Ws(mg,Bx,"esm2020"),Ws("fire-js","")}AG("");function z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SG=z_,$_=new Sl("auth","Firebase",z_());const qd=new k_("@firebase/auth");function IG(t,...e){qd.logLevel<=Dt.WARN&&qd.warn(`Auth (${Tl}): ${t}`,...e)}function Ed(t,...e){qd.logLevel<=Dt.ERROR&&qd.error(`Auth (${Tl}): ${t}`,...e)}function Ho(t,...e){throw uv(t,...e)}function mo(t,...e){return uv(t,...e)}function cv(t,e,n){const r={...SG(),[e]:n};return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function Ha(t){return cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TG(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ho(t,"argument-error"),cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $_.create(t,...e)}function Ke(t,e,...n){if(!t)throw uv(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function Ei(t,e){t||fi(e)}function vg(){return typeof self<"u"&&self.location?.href||""}function NG(){return $x()==="http:"||$x()==="https:"}function $x(){return typeof self<"u"&&self.location?.protocol||null}function OG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NG()||iV()||"connection"in navigator)?navigator.onLine:!0}function PG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=rV()||aV()}get(){return OG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lv(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class U_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DG=new Nl(3e4,6e4);function fv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wc(t,e,n,r,o={}){return H_(t,o,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const s=Il({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...i};return oV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&c1(t.emulatorConfig.host)&&(f.credentials="include"),U_.fetch()(await V_(t,t.config.apiHost,n,s),f)})}async function H_(t,e,n){t._canInitEmulator=!1;const r={...RG,...e};try{const o=new BG(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw od(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const s=i.ok?a.errorMessage:a.error.message,[u,f]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw od(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw od(t,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw cv(t,d,f);Ho(t,d)}}catch(o){if(o instanceof ma)throw o;Ho(t,"network-request-failed",{message:String(o)})}}async function MG(t,e,n,r,o={}){const i=await wc(t,e,n,r,o);return"mfaPendingCredential"in i&&Ho(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function V_(t,e,n,r){const o=`${e}${n}?${r}`,i=t,a=i.config.emulator?lv(t.config,o):`${t.config.apiScheme}://${o}`;return kG.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class BG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mo(this.auth,"network-request-failed")),DG.get())})}}function od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=mo(t,e,r);return o.customData._tokenResponse=n,o}async function LG(t,e){return wc(t,"POST","/v1/accounts:delete",e)}async function Kd(t,e){return wc(t,"POST","/v1/accounts:lookup",e)}function Eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FG(t,e=!1){const n=Ai(t),r=await n.getIdToken(e),o=dv(r);Ke(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,a=i?.sign_in_provider;return{claims:o,token:r,authTime:Eu(Qp(o.auth_time)),issuedAtTime:Eu(Qp(o.iat)),expirationTime:Eu(Qp(o.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Qp(t){return Number(t)*1e3}function dv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const o=O_(n);return o?JSON.parse(o):(Ed("Failed to decode base64 JWT payload"),null)}catch(o){return Ed("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ux(t){const e=dv(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ma&&jG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class zG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yd(t){const e=t.auth,n=await t.getIdToken(),r=await ol(t,Kd(e,{idToken:n}));Ke(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const i=o.providerUserInfo?.length?G_(o.providerUserInfo):[],a=UG(t.providerData,i),s=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,f=s?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function $G(t){const e=Ai(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UG(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function G_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HG(t,e){const n=await H_(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,a=await V_(t,o,"/v1/token",`key=${i}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:s,body:r};return t.emulatorConfig&&c1(t.emulatorConfig.host)&&(u.credentials="include"),U_.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VG(t,e){return wc(t,"POST","/v2/accounts:revokeToken",fv(t,e))}class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ux(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=Ux(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await HG(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,a=new Zs;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),o&&(Ke(typeof o=="string","internal-error",{appName:e}),a.accessToken=o),i&&(Ke(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return fi("not implemented")}}function Xi(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ho{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new zG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ol(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FG(this,e)}reload(){return $G(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ho({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ro(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await ol(this,LG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:w}=n;Ke(h&&w,e,"internal-error");const _=Zs.fromJSON(this.name,w);Ke(typeof h=="string",e,"internal-error"),Xi(r,e.name),Xi(o,e.name),Ke(typeof m=="boolean",e,"internal-error"),Ke(typeof g=="boolean",e,"internal-error"),Xi(i,e.name),Xi(a,e.name),Xi(s,e.name),Xi(u,e.name),Xi(f,e.name),Xi(d,e.name);const C=new ho({uid:h,auth:e,email:o,emailVerified:m,displayName:r,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:s,stsTokenManager:_,createdAt:f,lastLoginAt:d});return b&&Array.isArray(b)&&(C.providerData=b.map(A=>({...A}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,n,r=!1){const o=new Zs;o.updateFromServerResponse(n);const i=new ho({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Yd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ke(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?G_(o.providerUserInfo):[],a=!(o.email&&o.passwordHash)&&!i?.length,s=new Zs;s.updateFromIdToken(r);const u=new ho({uid:o.localId,auth:e,stsTokenManager:s,isAnonymous:a}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!i?.length};return Object.assign(u,f),u}}const Hx=new Map;function di(t){Ei(t instanceof Function,"Expected a class definition");let e=Hx.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hx.set(t,e),e)}class W_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W_.type="NONE";const Vx=W_;function _d(t,e,n){return`firebase:${t}:${e}:${n}`}class Xs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=_d(this.userKey,o.apiKey,i),this.fullPersistenceKey=_d("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kd(this.auth,{idToken:e}).catch(()=>{});return n?ho._fromGetAccountInfoResponse(this.auth,n,e):null}return ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xs(di(Vx),e,r);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=o[0]||di(Vx);const a=_d(r,e.config.apiKey,e.name);let s=null;for(const f of n)try{const d=await f._get(a);if(d){let h;if(typeof d=="string"){const m=await Kd(e,{idToken:d}).catch(()=>{});if(!m)break;h=await ho._fromGetAccountInfoResponse(e,m,d)}else h=ho._fromJSON(e,d);f!==i&&(s=h),i=f;break}}catch{}const u=o.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Xs(i,e,r):(i=u[0],s&&await i._set(a,s.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(a)}catch{}})),new Xs(i,e,r))}}function Gx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J_(e))return"Blackberry";if(Q_(e))return"Webos";if(X_(e))return"Safari";if((e.includes("chrome/")||q_(e))&&!e.includes("edge/"))return"Chrome";if(Y_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Z_(t=or()){return/firefox\//i.test(t)}function X_(t=or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q_(t=or()){return/crios\//i.test(t)}function K_(t=or()){return/iemobile/i.test(t)}function Y_(t=or()){return/android/i.test(t)}function J_(t=or()){return/blackberry/i.test(t)}function Q_(t=or()){return/webos/i.test(t)}function hv(t=or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GG(t=or()){return hv(t)&&!!window.navigator?.standalone}function WG(){return sV()&&document.documentMode===10}function eC(t=or()){return hv(t)||Y_(t)||Q_(t)||J_(t)||/windows phone/i.test(t)||K_(t)}function tC(t,e=[]){let n;switch(t){case"Browser":n=Gx(or());break;case"Worker":n=`${Gx(or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${r}`}class ZG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,s)=>{try{const u=e(i);a(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function XG(t,e={}){return wc(t,"GET","/v2/passwordPolicy",fv(t,e))}const qG=6;class KG{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class YG{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wx(this),this.idTokenSubscription=new Wx(this),this.beforeStateQueue=new ZG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kd(this,{idToken:e}),r=await ho._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ro(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,a=r?._redirectEventId,s=await this.tryRedirectSignIn(e);(!i||i===a)&&s?.user&&(r=s.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ro(this.app))return Promise.reject(Ha(this));const n=e?Ai(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ro(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ro(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XG(this),n=new KG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VG(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Xs.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,o);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IG(`Error while retrieving App Check token: ${e.error}`),e?.token}}function u1(t){return Ai(t)}class Wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=pV(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JG(t){pv=t}function QG(t){return pv.loadJS(t)}function eW(){return pv.gapiScript}function tW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function nW(t,e){const n=B_(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(ic(i,e??{}))return o;Ho(o,"already-initialized")}return n.initialize({options:e})}function rW(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oW(t,e,n){const r=u1(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,i=nC(e),{host:a,port:s}=iW(e),u=s===null?"":`:${s}`,f={url:`${i}//${a}${u}/`},d=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(ic(f,r.config.emulator)&&ic(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,c1(a)?(QH(`${i}//${a}${u}`),nV("Auth",!0)):aW()}function nC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iW(t){const e=nC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:Zx(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Zx(a)}}}function Zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class rC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function qs(t,e){return MG(t,"POST","/v1/accounts:signInWithIdp",fv(t,e))}const sW="http://localhost";class Ka extends rC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...i}=n;if(!r||!o)return null;const a=new Ka(r,o);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:sW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ol extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class si extends Ol{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";class ci extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";class ui extends Ol{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";class li extends Ol{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return li.credential(n,r)}catch{return null}}}li.TWITTER_SIGN_IN_METHOD="twitter.com";li.PROVIDER_ID="twitter.com";class sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await ho._fromIdTokenResponse(e,r,o),a=Xx(r);return new sc({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Xx(r);return new sc({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Xx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Jd extends ma{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Jd(e,n,r,o)}}function oC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(t,i,e,r):i})}async function cW(t,e,n=!1){const r=await ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sc._forOperation(t,"link",r)}async function uW(t,e,n=!1){const{auth:r}=t;if(Ro(r.app))return Promise.reject(Ha(r));const o="reauthenticate";try{const i=await ol(t,oC(r,o,e,t),n);Ke(i.idToken,r,"internal-error");const a=dv(i.idToken);Ke(a,r,"internal-error");const{sub:s}=a;return Ke(t.uid===s,r,"user-mismatch"),sc._forOperation(t,o,i)}catch(i){throw i?.code==="auth/user-not-found"&&Ho(r,"user-mismatch"),i}}async function lW(t,e,n=!1){if(Ro(t.app))return Promise.reject(Ha(t));const r="signIn",o=await oC(t,r,e),i=await sc._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function fW(t,e){return Ai(t).setPersistence(e)}function dW(t,e,n,r){return Ai(t).onIdTokenChanged(e,n,r)}function hW(t,e,n){return Ai(t).beforeAuthStateChanged(e,n)}function pW(t,e,n,r){return Ai(t).onAuthStateChanged(e,n,r)}function qx(t){return Ai(t).signOut()}const Qd="__sak";class iC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mW=1e3,gW=10;class aC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);WG()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gW):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aC.type="LOCAL";const sC=aC;class cC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cC.type="SESSION";const uC=cC;function yW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class l1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new l1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,a=this.handlersMap[o];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const s=Array.from(a).map(async f=>f(n.origin,i)),u=await yW(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}l1.receivers=[];function gv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class vW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,a;return new Promise((s,u)=>{const f=gv("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const m=h;if(m.data.eventId===f)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(m.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Lo(){return window}function bW(t){Lo().location.href=t}function lC(){return typeof Lo().WorkerGlobalScope<"u"&&typeof Lo().importScripts=="function"}async function xW(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wW(){return navigator?.serviceWorker?.controller||null}function EW(){return lC()?self:null}const fC="firebaseLocalStorageDb",_W=1,e0="firebaseLocalStorage",dC="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function f1(t,e){return t.transaction([e0],e?"readwrite":"readonly").objectStore(e0)}function CW(){const t=indexedDB.deleteDatabase(fC);return new Pl(t).toPromise()}function xg(){const t=indexedDB.open(fC,_W);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(e0,{keyPath:dC})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(e0)?e(r):(r.close(),await CW(),e(await xg()))})})}async function Kx(t,e,n){const r=f1(t,!0).put({[dC]:e,value:n});return new Pl(r).toPromise()}async function AW(t,e){const n=f1(t,!1).get(e),r=await new Pl(n).toPromise();return r===void 0?null:r.value}function Yx(t,e){const n=f1(t,!0).delete(e);return new Pl(n).toPromise()}const SW=800,IW=3;class hC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=l1._getInstance(EW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xW(),!this.activeServiceWorker)return;this.sender=new vW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await Kx(e,Qd,"1"),await Yx(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=f1(o,!1).getAll();return new Pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hC.type="LOCAL";const TW=hC;new Nl(3e4,6e4);function pC(t,e){return e?di(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class yv extends rC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NW(t){return lW(t.auth,new yv(t),t.bypassAuthState)}function OW(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),uW(n,new yv(t),t.bypassAuthState)}async function PW(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),cW(n,new yv(t),t.bypassAuthState)}class mC{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:a,type:s}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NW;case"linkViaPopup":case"linkViaRedirect":return PW;case"reauthViaPopup":case"reauthViaRedirect":return OW;default:Ho(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RW=new Nl(2e3,1e4);async function kW(t,e,n){if(Ro(t.app))return Promise.reject(mo(t,"operation-not-supported-in-this-environment"));const r=u1(t);TG(t,e,mv);const o=pC(r,n);return new La(r,"signInViaPopup",e,o).executeNotNull()}class La extends mC{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RW.get())};e()}}La.currentPopupAction=null;const DW="pendingRedirect",Cd=new Map;class MW extends mC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await BW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BW(t,e){const n=jW(e),r=FW(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function LW(t,e){Cd.set(t._key(),e)}function FW(t){return di(t._redirectPersistence)}function jW(t){return _d(DW,t.config.apiKey,t.name)}async function zW(t,e,n=!1){if(Ro(t.app))return Promise.reject(Ha(t));const r=u1(t),o=pC(r,e),a=await new MW(r,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const $W=600*1e3;class UW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(mo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$W&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jx(e))}saveEventToCache(e){this.cachedEventUids.add(Jx(e)),this.lastProcessedEventTime=Date.now()}}function Jx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gC(t);default:return!1}}async function VW(t,e={}){return wc(t,"GET","/v1/projects",e)}const GW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WW=/^https?/;async function ZW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VW(t);for(const n of e)try{if(XW(n))return}catch{}Ho(t,"unauthorized-domain")}function XW(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!WW.test(n))return!1;if(GW.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const qW=new Nl(3e4,6e4);function Qx(){const t=Lo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KW(t){return new Promise((e,n)=>{function r(){Qx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qx(),n(mo(t,"network-request-failed"))},timeout:qW.get()})}if(Lo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lo().gapi?.load)r();else{const o=tW("iframefcb");return Lo()[o]=()=>{gapi.load?r():n(mo(t,"network-request-failed"))},QG(`${eW()}?onload=${o}`).catch(i=>n(i))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function YW(t){return Ad=Ad||KW(t),Ad}const JW=new Nl(5e3,15e3),QW="__/auth/iframe",eZ="emulator/auth/iframe",tZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rZ(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,eZ):`https://${t.config.authDomain}/${QW}`,r={apiKey:e.apiKey,appName:t.name,v:Tl},o=nZ.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Il(r).slice(1)}`}async function oZ(t){const e=await YW(t),n=Lo().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:rZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tZ,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const a=mo(t,"network-request-failed"),s=Lo().setTimeout(()=>{i(a)},JW.get());function u(){Lo().clearTimeout(s),o(r)}r.ping(u).then(u,()=>{i(a)})}))}const iZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aZ=500,sZ=600,cZ="_blank",uZ="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lZ(t,e,n,r=aZ,o=sZ){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u={...iZ,width:r.toString(),height:o.toString(),top:i,left:a},f=or().toLowerCase();n&&(s=q_(f)?cZ:n),Z_(f)&&(e=e||uZ,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(GG(f)&&s!=="_self")return fZ(e||"",s),new ew(null);const h=window.open(e||"",s,d);Ke(h,t,"popup-blocked");try{h.focus()}catch{}return new ew(h)}function fZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const dZ="__/auth/handler",hZ="emulator/auth/handler",pZ=encodeURIComponent("fac");async function tw(t,e,n,r,o,i){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tl,eventId:o};if(e instanceof mv){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",hV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Ol){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const u=await t._getAppCheckToken(),f=u?`#${pZ}=${encodeURIComponent(u)}`:"";return`${mZ(t)}?${Il(s).slice(1)}${f}`}function mZ({config:t}){return t.emulator?lv(t,hZ):`https://${t.authDomain}/${dZ}`}const em="webStorageSupport";class gZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uC,this._completeRedirectFn=zW,this._overrideRedirectResult=LW}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await tw(e,n,r,vg(),o);return lZ(e,i,gv())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await tw(e,n,r,vg(),o);return bW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oZ(e),r=new UW(e);return n.register("authEvent",o=>(Ke(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},o=>{const i=o?.[0]?.[em];i!==void 0&&n(!!i),Ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eC()||X_()||hv()}}const yZ=gZ;var nw="@firebase/auth",rw="1.12.0";class vZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xZ(t){nl(new ac("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(t)},f=new YG(r,o,i,u);return rW(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nl(new ac("auth-internal",e=>{const n=u1(e.getProvider("auth").getImmediate());return(r=>new vZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(nw,rw,bZ(t)),Ws(nw,rw,"esm2020")}const wZ=300,EZ=R_("authIdTokenMaxAge")||wZ;let ow=null;const _Z=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EZ)return;const o=n?.token;ow!==o&&(ow=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CZ(t=mG()){const e=B_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nW(t,{popupRedirectResolver:yZ,persistence:[TW,sC,uC]}),r=R_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=_Z(i.toString());hW(n,a,()=>a(n.currentUser)),dW(n,s=>a(s))}}const o=YH("auth");return o&&oW(n,`http://${o}`),n}function AZ(){return document.getElementsByTagName("head")?.[0]??document}JG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=mo("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",AZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xZ("Browser");var SZ="firebase",IZ="12.9.0";Ws(SZ,IZ,"app");const TZ={apiKey:"AIzaSyB05cJcO_YNygEvJwAg5Liu6RO6deN7fyY",authDomain:"cointrol-wallet.firebaseapp.com",projectId:"cointrol-wallet",storageBucket:"cointrol-wallet.firebasestorage.app",messagingSenderId:"321052607641",appId:"1:321052607641:web:93927151042f5b7abda408"},NZ=L_(TZ),Fa=CZ(NZ),OZ=new ci,PZ=new si,RZ=new li,kZ=new ui;async function iw(){const t=await rv();if(t)return t;if(!Fa.currentUser)throw new Error("User not authenticated");const e=await DZ(Fa.currentUser.uid),n=Vt(e);return await sH(n),n}async function DZ(t){const e=new TextEncoder,n=await crypto.subtle.importKey("raw",e.encode(t),"HKDF",!1,["deriveBits"]),r=await crypto.subtle.deriveBits({name:"HKDF",hash:"SHA-256",salt:e.encode("Cointrol QuantumAccount v1"),info:e.encode("Account Generation Salt")},n,256);return new Uint8Array(r)}const MZ=1800*1e3,yC=S.createContext(null);function BZ({children:t}){const[e,n]=S.useState(null),[r,o]=S.useState(null),[i,a]=S.useState(!0);S.useEffect(()=>{let f=!1;fW(Fa,sC).catch(console.error);const d=pW(Fa,async h=>{if(!f){if(console.log("[Auth] state changed:",h?.uid??null),n(h),h){await SU(h.uid);const m=await iw();o(m)}else bx(),o(null);a(!1)}});return()=>{f=!0,d()}},[]),S.useEffect(()=>{if(!e)return;let f;const d=()=>{clearTimeout(f),f=setTimeout(()=>{console.log("[Auth] idle timeout  signing out"),qx(Fa).catch(console.error)},MZ)},h=["mousemove","mousedown","keydown","touchstart","scroll"];return h.forEach(m=>window.addEventListener(m,d,{passive:!0})),d(),()=>{clearTimeout(f),h.forEach(m=>window.removeEventListener(m,d))}},[e]);const s=async()=>{bx(),await qx(Fa),n(null),o(null)},u=async()=>{const f=await iw();return await E_(),o(f),f};return v.jsx(yC.Provider,{value:{firebaseUser:e,uuid:r,loading:i,signOut:s,completeFirstLogin:u},children:t})}function vv(){const t=S.useContext(yC);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}const vC="/ReactJSApp/assets/logo-BZF9Blxe.png";function LZ(){const{firebaseUser:t}=vv(),e=cl(),[n,r]=S.useState(null),[o,i]=S.useState(()=>sessionStorage.getItem("cointrol:terms-pending")==="true"),[a,s]=S.useState(!1);S.useEffect(()=>{uH().then(r)},[]),S.useEffect(()=>{t&&e("/dashboard",{replace:!0})},[t,e]);const u=async d=>{if(!a){s(!0);try{await kW(Fa,d),await E_(),sessionStorage.removeItem("cointrol:terms-pending")}catch(h){const m=h?.code??"";console.error("[Login] signInWithPopup error:",m,h),m!=="auth/popup-closed-by-user"&&m!=="auth/cancelled-popup-request"&&(m==="auth/account-exists-with-different-credential"?Nx.error("An account with this email already exists using a different sign-in method. Please try another provider."):Nx.error(h?.message??"Sign-in failed. Please try again.")),s(!1)}}},f=a||n===!0&&!o;return v.jsx("div",{className:"min-h-[100dvh] bg-background flex items-center justify-center px-4",children:v.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("img",{src:vC,alt:"Cointrol Wallet",style:{height:56,width:"auto"}})}),v.jsxs(m0,{className:"rounded-2xl shadow-sm",children:[v.jsx(g0,{className:"pb-2",children:v.jsx(y0,{className:"text-center text-xl",children:"Sign in to QuantumAccount"})}),v.jsx(v0,{className:"space-y-3 pt-2",children:n===null?v.jsx("div",{className:"text-center text-sm text-muted-foreground py-4",children:"Loading"}):v.jsxs(v.Fragment,{children:[n&&v.jsxs("div",{className:"rounded-xl border border-border bg-muted/40 px-4 py-3 space-y-2",children:[v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Before creating your wallet, please review and accept our"," ",v.jsx(Cu,{to:"/legal/terms",className:"underline underline-offset-2 text-foreground",target:"_blank",rel:"noopener noreferrer",children:"Terms & Conditions"}),"."]}),v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[v.jsx("input",{type:"checkbox",checked:o,onChange:d=>{const h=d.target.checked;sessionStorage.setItem("cointrol:terms-pending",h?"true":"false"),i(h)},className:"mt-0.5 h-4 w-4 rounded border-border accent-foreground cursor-pointer"}),v.jsx("span",{className:"text-sm leading-snug",children:"I have read and agree to the Terms & Conditions"})]})]}),v.jsxs("div",{className:"space-y-4 pt-2",children:[v.jsxs(lo,{className:"w-full gap-2 h-12 text-base",disabled:f,onClick:()=>u(OZ),children:[v.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-white text-[11px] font-bold text-neutral-800 leading-none",children:"G"}),"Continue with Google"]}),v.jsxs(lo,{className:"w-full gap-2 h-12 text-base",variant:"secondary",disabled:f,onClick:()=>u(PZ),children:[v.jsx(PH,{className:"h-5 w-5"}),"Continue with Facebook"]}),v.jsxs(lo,{className:"w-full gap-2 h-12 text-base",variant:"secondary",disabled:f,onClick:()=>u(RZ),children:[v.jsx(MH,{className:"h-5 w-5"}),"Continue with X (Twitter)"]}),v.jsxs(lo,{className:"w-full gap-2 h-12 text-base",variant:"outline",disabled:f,onClick:()=>u(kZ),children:[v.jsx(kH,{className:"h-5 w-5"}),"Continue with GitHub"]})]}),n&&v.jsx("p",{className:"text-center text-xs text-muted-foreground pt-1",children:"First time? A unique wallet identifier will be generated for your device."})]})})]}),v.jsx("p",{className:"text-center text-xs text-muted-foreground",children:v.jsx(Cu,{to:"/legal/privacy",className:"underline underline-offset-2",children:"Privacy Policy"})})]})})}const FZ=S.createContext(null);function jZ({children:t}){const e=S.useRef(null);return e.current||(e.current=i1(),e.current.init().catch(()=>{})),S.useEffect(()=>{const n=e.current;return()=>n.terminate()},[]),v.jsx(FZ.Provider,{value:e.current,children:t})}function zZ(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function $Z(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var UZ=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),HZ=(function(t){UZ(e,t);function e(n,r){var o=this.constructor,i=t.call(this,n,r)||this;return Object.defineProperty(i,"name",{value:o.name,enumerable:!1,configurable:!0}),zZ(i,o.prototype),$Z(i),i}return e})(Error),VZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wr=(function(t){VZ(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(HZ),GZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),un=(function(t){GZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(wr),WZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),He=(function(t){WZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(wr),bC=(function(){function t(e){if(this.binarizer=e,e===null)throw new He("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,o){var i=this.binarizer.getLuminanceSource().crop(e,n,r,o);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),ZZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fn=(function(t){ZZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(wr),XZ=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Lt=(function(){function t(){}return t.arraycopy=function(e,n,r,o,i){for(;i--;)r[o++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),qZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bv=(function(t){qZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(wr),KZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aw=(function(t){KZ(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var o=t.call(this,r)||this;return o.index=n,o.message=r,o}return e.kind="ArrayIndexOutOfBoundsException",e})(bv),YZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,o=e.length;r<o;r++)e[r]=n},t.fillWithin=function(e,n,r,o){t.rangeCheck(e.length,n,r);for(var i=n;i<r;i++)e[i]=o},t.rangeCheck=function(e,n,r){if(n>r)throw new He("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new aw(n);if(r>e)throw new aw(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var o=Array.from({length:e});return o.map(function(i){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var o=Array.from({length:e});return o.map(function(i){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,o=e.length;r<o;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var o=1;try{for(var i=YZ(e),a=i.next();!a.done;a=i.next()){var s=a.value;o=31*o+s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var o=r-n,i=new Int32Array(o);return Lt.arraycopy(e,n,i,0,o),i},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var o=0,i=e.length-1;o<=i;){var a=i+o>>1,s=r(n,e[a]);if(s>0)o=a+1;else if(s<0)i=a-1;else return a}return-o-1},t.numberComparator=function(e,n){return e-n},t})(),st=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),kn=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);Lt.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,o=Math.floor(e/32),i=r[o];i&=~((1<<(e&31))-1);for(var a=r.length;i===0;){if(++o===a)return n;i=r[o]}var s=o*32+st.numberOfTrailingZeros(i);return s>n?n:s},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,o=Math.floor(e/32),i=~r[o];i&=~((1<<(e&31))-1);for(var a=r.length;i===0;){if(++o===a)return n;i=~r[o]}var s=o*32+st.numberOfTrailingZeros(i);return s>n?n:s},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new He;if(n!==e){n--;for(var r=Math.floor(e/32),o=Math.floor(n/32),i=this.bits,a=r;a<=o;a++){var s=a>r?0:e&31,u=a<o?31:n&31,f=(2<<u)-(1<<s);i[a]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new He;if(n===e)return!0;n--;for(var o=Math.floor(e/32),i=Math.floor(n/32),a=this.bits,s=o;s<=i;s++){var u=s>o?0:e&31,f=s<i?31:n&31,d=(2<<f)-(1<<u)&4294967295;if((a[s]&d)!==(r?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new He("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new He("Sizes don't match");for(var n=this.bits,r=0,o=n.length;r<o;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,o){for(var i=0;i<o;i++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;n[r+i]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,o=this.bits,i=0;i<r;i++){var a=o[i];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-i]=a}if(this.size!==r*32){for(var s=r*32-this.size,u=e[0]>>>s,i=1;i<r;i++){var f=e[i];u|=f<<32-s,e[i-1]=u,u=f>>>s}e[r-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Cn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Cn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),wg;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(wg||(wg={}));const Ft=wg;var JZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),be=(function(t){JZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(wr),QZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Tt||(Tt={}));var _n=(function(){function t(e,n,r){for(var o,i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,f=0,d=u.length;f!==d;f++){var h=u[f];t.VALUES_TO_ECI.set(h,this)}try{for(var m=QZ(a),g=m.next();!g.done;g=m.next()){var b=g.value;t.NAME_TO_ECI.set(b,this)}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new be("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new be("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new be("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Tt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Tt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Tt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Tt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Tt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Tt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Tt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Tt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Tt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Tt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Tt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Tt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Tt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Tt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Tt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Tt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Tt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Tt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Tt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Tt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Tt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Tt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Tt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Tt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Tt.Big5,28,"Big5"),t.GB18030=new t(Tt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Tt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),eX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sd=(function(t){eX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(wr),Wr=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof _n?e:_n.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var o="",i=0,a=e.length;i<a;i++){var s=e[i].toString(16);s.length<2&&(s="0"+s),o+="%"+s}return decodeURIComponent(o)}if(r.equals(_n.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Sd("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(_n.UTF8)||e.equals(_n.ISO8859_1)||e.equals(_n.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),o=[],i=0;i<r.length;i++)o.push(r[i].charCodeAt(0));return new Uint8Array(o)},t})(),ht=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return Wr.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(Ft.CHARACTER_SET)!==void 0)return n.get(Ft.CHARACTER_SET).toString();for(var r=e.length,o=!0,i=!0,a=!0,s=0,u=0,f=0,d=0,h=0,m=0,g=0,b=0,w=0,_=0,C=0,A=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<r&&(o||i||a);I++){var T=e[I]&255;a&&(s>0?(T&128)===0?a=!1:s--:(T&128)!==0&&((T&64)===0?a=!1:(s++,(T&32)===0?u++:(s++,(T&16)===0?f++:(s++,(T&8)===0?d++:a=!1))))),o&&(T>127&&T<160?o=!1:T>159&&(T<192||T===215||T===247)&&C++),i&&(h>0?T<64||T===127||T>252?i=!1:h--:T===128||T===160||T>239?i=!1:T>160&&T<224?(m++,b=0,g++,g>w&&(w=g)):T>127?(h++,g=0,b++,b>_&&(_=b)):(g=0,b=0))}return a&&s>0&&(a=!1),i&&h>0&&(i=!1),a&&(A||u+f+d>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||w>=3||_>=3)?t.SHIFT_JIS:o&&i?w===2&&m===2||C*10>=r?t.SHIFT_JIS:t.ISO88591:o?t.ISO88591:i?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=-1;function i(s,u,f,d,h,m){if(s==="%%")return"%";if(n[++o]!==void 0){s=d?parseInt(d.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,b;switch(m){case"s":b=n[o];break;case"c":b=n[o][0];break;case"f":b=parseFloat(n[o]).toFixed(s);break;case"p":b=parseFloat(n[o]).toPrecision(s);break;case"e":b=parseFloat(n[o]).toExponential(s);break;case"x":b=parseInt(n[o]).toString(g||16);break;case"d":b=parseFloat(parseInt(n[o],g||10).toPrecision(s)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(g);for(var w=parseInt(f),_=f&&f[0]+""=="0"?"0":" ";b.length<w;)b=u!==void 0?b+_:_+b;return b}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.getBytes=function(e,n){return Wr.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=_n.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=_n.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=_n.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),ot=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ht.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var o=n;n<n+r;o++)this.append(e[o]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),Vo=(function(){function t(e,n,r,o){if(this.width=e,this.height=n,this.rowSize=r,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new He("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,o=new t(r,n),i=0;i<n;i++)for(var a=e[i],s=0;s<r;s++)a[s]&&o.set(s,i);return o},t.parseFromString=function(e,n,r){if(e===null)throw new He("stringRepresentation cannot be null");for(var o=new Array(e.length),i=0,a=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(i>a){if(s===-1)s=i-a;else if(i-a!==s)throw new He("row lengths do not match");a=i,u++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,o[i]=!0,i++;else if(e.substring(f,f+r.length)===r)f+=r.length,o[i]=!1,i++;else throw new He("illegal character encountered: "+e.substring(f));if(i>a){if(s===-1)s=i-a;else if(i-a!==s)throw new He("row lengths do not match");u++}for(var d=new t(s,u),h=0;h<i;h++)o[h]&&d.set(Math.floor(h%s),Math.floor(h/s));return d},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new He("input matrix dimensions do not match");for(var n=new kn(Math.floor(this.width/32)+1),r=this.rowSize,o=this.bits,i=0,a=this.height;i<a;i++)for(var s=i*r,u=e.getRow(i,n).getBitArray(),f=0;f<r;f++)o[s+f]^=u[f]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,o){if(n<0||e<0)throw new He("Left and top must be nonnegative");if(o<1||r<1)throw new He("Height and width must be at least 1");var i=e+r,a=n+o;if(a>this.height||i>this.width)throw new He("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=n;f<a;f++)for(var d=f*s,h=e;h<i;h++)u[d+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new kn(this.width):n.clear();for(var r=this.rowSize,o=this.bits,i=e*r,a=0;a<r;a++)n.setBulk(a*32,o[i+a]);return n},t.prototype.setRow=function(e,n){Lt.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new kn(e),o=new kn(e),i=0,a=Math.floor((n+1)/2);i<a;i++)r=this.getRow(i,r),o=this.getRow(n-1-i,o),r.reverse(),o.reverse(),this.setRow(i,o),this.setRow(n-1-i,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,o=this.bits,i=e,a=n,s=-1,u=-1,f=0;f<n;f++)for(var d=0;d<r;d++){var h=o[f*r+d];if(h!==0){if(f<a&&(a=f),f>u&&(u=f),d*32<i){for(var m=0;(h<<31-m&4294967295)===0;)m++;d*32+m<i&&(i=d*32+m)}if(d*32+31>s){for(var m=31;!(h>>>m);)m--;d*32+m>s&&(s=d*32+m)}}}return s<i||u<a?null:Int32Array.from([i,a,s-i+1,u-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var o=r/e,i=r%e*32,a=n[r],s=0;(a<<31-s&4294967295)===0;)s++;return i+=s,Int32Array.from([i,o])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var o=Math.floor(r/e),i=Math.floor(r%e)*32,a=n[r],s=31;!(a>>>s);)s--;return i+=s,Int32Array.from([i,o])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Cn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Cn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var o=new ot,i=0,a=this.height;i<a;i++){for(var s=0,u=this.width;s<u;s++)o.append(this.get(s,i)?e:n);o.append(r)}return o.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),tX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oe=(function(t){tX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(wr),nX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),rX=(function(t){nX(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var o=this.getLuminanceSource(),i=o.getWidth();r==null||r.getSize()<i?r=new kn(i):r.clear(),this.initArrays(i);for(var a=o.getRow(n,this.luminances),s=this.buckets,u=0;u<i;u++)s[(a[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(i<3)for(var u=0;u<i;u++)(a[u]&255)<f&&r.set(u);else for(var d=a[0]&255,h=a[1]&255,u=1;u<i-1;u++){var m=a[u+1]&255;(h*4-d-m)/2<f&&r.set(u),d=h,h=m}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),i=new Vo(r,o);this.initArrays(r);for(var a=this.buckets,s=1;s<5;s++)for(var u=Math.floor(o*s/5),f=n.getRow(u,this.luminances),d=Math.floor(r*4/5),h=Math.floor(r/5);h<d;h++){var m=f[h]&255;a[m>>e.LUMINANCE_SHIFT]++}for(var g=e.estimateBlackPoint(a),b=n.getMatrix(),s=0;s<o;s++)for(var w=s*r,h=0;h<r;h++){var m=b[w+h]&255;m<g&&i.set(h,s)}return i},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,o=0;o<e.LUMINANCE_BUCKETS;o++)r[o]=0},e.estimateBlackPoint=function(n){for(var r=n.length,o=0,i=0,a=0,s=0;s<r;s++)n[s]>a&&(i=s,a=n[s]),n[s]>o&&(o=n[s]);for(var u=0,f=0,s=0;s<r;s++){var d=s-i,h=n[s]*d*d;h>f&&(u=s,f=h)}if(i>u){var m=i;i=u,u=m}if(u-i<=r/16)throw new oe;for(var g=u-1,b=-1,s=u-1;s>i;s--){var w=s-i,h=w*w*(u-s)*(o-n[s]);h>b&&(g=s,b=h)}return g<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(XZ),oX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),xC=(function(t){oX(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&o>=e.MINIMUM_DIMENSION){var i=n.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&a++;var s=o>>e.BLOCK_SIZE_POWER;(o&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(i,a,s,r,o),f=new Vo(r,o);e.calculateThresholdForBlock(i,a,s,r,o,u,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,o,i,a,s,u){for(var f=a-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,h=0;h<o;h++){var m=h<<e.BLOCK_SIZE_POWER;m>f&&(m=f);for(var g=e.cap(h,2,o-3),b=0;b<r;b++){var w=b<<e.BLOCK_SIZE_POWER;w>d&&(w=d);for(var _=e.cap(b,2,r-3),C=0,A=-2;A<=2;A++){var I=s[g+A];C+=I[_-2]+I[_-1]+I[_]+I[_+1]+I[_+2]}var T=C/25;e.thresholdBlock(n,w,m,T,i,u)}}},e.cap=function(n,r,o){return n<r?r:n>o?o:n},e.thresholdBlock=function(n,r,o,i,a,s){for(var u=0,f=o*a+r;u<e.BLOCK_SIZE;u++,f+=a)for(var d=0;d<e.BLOCK_SIZE;d++)(n[f+d]&255)<=i&&s.set(r+d,o+u)},e.calculateBlackPoints=function(n,r,o,i,a){for(var s=a-e.BLOCK_SIZE,u=i-e.BLOCK_SIZE,f=new Array(o),d=0;d<o;d++){f[d]=new Int32Array(r);var h=d<<e.BLOCK_SIZE_POWER;h>s&&(h=s);for(var m=0;m<r;m++){var g=m<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var b=0,w=255,_=0,C=0,A=h*i+g;C<e.BLOCK_SIZE;C++,A+=i){for(var I=0;I<e.BLOCK_SIZE;I++){var T=n[A+I]&255;b+=T,T<w&&(w=T),T>_&&(_=T)}if(_-w>e.MIN_DYNAMIC_RANGE)for(C++,A+=i;C<e.BLOCK_SIZE;C++,A+=i)for(var I=0;I<e.BLOCK_SIZE;I++)b+=n[A+I]&255}var O=b>>e.BLOCK_SIZE_POWER*2;if(_-w<=e.MIN_DYNAMIC_RANGE&&(O=w/2,d>0&&m>0)){var P=(f[d-1][m]+2*f[d][m-1]+f[d-1][m-1])/4;w<P&&(O=P)}f[d][m]=O}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(rX),Rl=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,o){throw new Sd("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Sd("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Sd("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new ot,r=0;r<this.height;r++){for(var o=this.getRow(r,e),i=0;i<this.width;i++){var a=o[i]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",n.append(s)}n.append(`
`)}return n.toString()},t})(),iX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),d1=(function(t){iX(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var o=this.delegate.getRow(n,r),i=this.getWidth(),a=0;a<i;a++)o[a]=255-(o[a]&255);return o},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r),i=0;i<r;i++)o[i]=255-(n[i]&255);return o},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,o,i){return new e(this.delegate.crop(n,r,o,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Rl),aX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sX=(function(t){aX(e,t);function e(n,r){r===void 0&&(r=!1);var o=t.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=e.makeBufferFromCanvasImageData(n,r),o}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var o=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(o.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,o,i){i===void 0&&(i=!1);var a=new Uint8ClampedArray(r*o);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var s=0,u=0,f=n.length;s<f;s+=4,u++){var d=void 0,h=n[s+3];if(h===0)d=255;else{var m=n[s],g=n[s+1],b=n[s+2];d=306*m+601*g+117*b+512>>10}a[u]=d}else for(var s=0,u=0,w=n.length;s<w;s+=4,u++){var d=void 0,h=n[s+3];if(h===0)d=255;else{var m=n[s],g=n[s+1],b=n[s+2];d=306*m+601*g+117*b+512>>10}a[u]=255-d}return a},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new He("Requested row is outside the image: "+n);var o=this.getWidth(),i=n*o;return r===null?r=this.buffer.slice(i,i+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(i,i+o))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return t.prototype.crop.call(this,n,r,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),o=r.getContext("2d"),i=n*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),f=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);return r.width=u,r.height=f,o.translate(u/2,f/2),o.rotate(i),o.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new d1(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Rl),cX=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Jn=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{f(r.next(d))}catch(h){a(h)}}function u(d){try{f(r.throw(d))}catch(h){a(h)}}function f(d){d.done?i(d.value):o(d.value).then(s,u)}f((r=r.apply(t,e||[])).next())})},Qn=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},uX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ec=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Jn(this,void 0,void 0,function(){var e,n,r,o,i,a,s,u,f,d,h,m;return Qn(this,function(g){switch(g.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),n=[];try{for(r=uX(e),o=r.next();!o.done;o=r.next())i=o.value,a=i.kind==="video"?"videoinput":i.kind,a==="videoinput"&&(s=i.deviceId||i.id,u=i.label||"Video device "+(n.length+1),f=i.groupId,d={deviceId:s,label:u,kind:a,groupId:f},n.push(d))}catch(b){h={error:b}}finally{try{o&&!o.done&&(m=r.return)&&m.call(r)}finally{if(h)throw h.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return Jn(this,void 0,void 0,function(){var e;return Qn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new cX(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return Jn(this,void 0,void 0,function(){var n;return Qn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(o){return o.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return Jn(this,void 0,void 0,function(){return Qn(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return Jn(this,void 0,void 0,function(){var r,o;return Qn(this,function(i){switch(i.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},o={video:r},[4,this.decodeOnceFromConstraints(o,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return Jn(this,void 0,void 0,function(){var r;return Qn(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return Jn(this,void 0,void 0,function(){var r,o;return Qn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=i.sent(),[4,this.decodeOnce(r)];case 2:return o=i.sent(),[2,o]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return Jn(this,void 0,void 0,function(){return Qn(this,function(o){switch(o.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return Jn(this,void 0,void 0,function(){var o,i;return Qn(this,function(a){switch(a.label){case 0:return e?o={deviceId:{exact:e}}:o={facingMode:"environment"},i={video:o},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return Jn(this,void 0,void 0,function(){var o;return Qn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return o=i.sent(),[4,this.decodeFromStream(o,n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return Jn(this,void 0,void 0,function(){var o;return Qn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return o=i.sent(),[4,this.decodeContinuously(o,r)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return Jn(this,void 0,void 0,function(){var r;return Qn(this,function(o){switch(o.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return o.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,o){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Jn(this,void 0,void 0,function(){return Qn(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new un("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new un("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new un("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new un("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new un("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new un("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new un("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new un("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new un("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new un("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(r,n);return r.src=e,o},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,o){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,o)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Jn(this,void 0,void 0,function(){return Qn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return Jn(this,void 0,void 0,function(){return Qn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var o=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var i=function(a,s){if(o._stopAsyncDecode){s(new oe("Video stream has ended before any code could be detected.")),o._stopAsyncDecode=void 0;return}try{var u=o.decode(e);a(u)}catch(m){var f=n&&m instanceof oe,d=m instanceof fn||m instanceof be,h=d&&r;if(f||h)return setTimeout(i,o._timeBetweenDecodingAttempts,a,s);s(m)}};return new Promise(function(a,s){return i(a,s)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var o=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var i=r.decode(e);n(i,null),setTimeout(o,r.timeBetweenScansMillis)}catch(u){n(null,u);var a=u instanceof fn||u instanceof be,s=u instanceof oe;(a||s)&&setTimeout(o,r._timeBetweenDecodingAttempts)}};o()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),o=new sX(r,n),i=new xC(o);return new bC(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=o+"px",n.width=r,n.height=o,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Zn=(function(){function t(e,n,r,o,i,a){r===void 0&&(r=n==null?0:8*n.length),a===void 0&&(a=Lt.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=o,this.format=i,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=o,this.format=i,this.resultMetadata=null,a==null?this.timestamp=Lt.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);Lt.arraycopy(n,0,r,0,n.length),Lt.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Eg;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Eg||(Eg={}));const Ue=Eg;var _g;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_g||(_g={}));const jn=_g;var h1=(function(){function t(e,n,r,o,i,a){i===void 0&&(i=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=o,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),pu=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new He;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),ra=(function(){function t(e,n){if(n.length===0)throw new He;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var o=1;o<r&&n[o]===0;)o++;o===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-o),Lt.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var o=0,i=n.length;o!==i;o++){var a=n[o];r=pu.addOrSubtract(r,a)}return r}r=n[0];for(var s=n.length,u=this.field,o=1;o<s;o++)r=pu.addOrSubtract(u.multiply(e,r),n[o]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new He("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;Lt.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=pu.addOrSubtract(n[s-a],r[s]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new He("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,a=new Int32Array(r+i-1),s=this.field,u=0;u<r;u++)for(var f=n[u],d=0;d<i;d++)a[u+d]=pu.addOrSubtract(a[u+d],s.multiply(f,o[d]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,o=new Int32Array(n),i=this.coefficients,a=0;a<n;a++)o[a]=r.multiply(i[a],e);return new t(r,o)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new He;if(n===0)return this.field.getZero();for(var r=this.coefficients,o=r.length,i=new Int32Array(o+e),a=this.field,s=0;s<o;s++)i[s]=a.multiply(r[s],n);return new t(a,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new He("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new He("Divide by 0");for(var n=this.field,r=n.getZero(),o=this,i=e.getCoefficient(e.getDegree()),a=n.inverse(i);o.getDegree()>=e.getDegree()&&!o.isZero();){var s=o.getDegree()-e.getDegree(),u=n.multiply(o.getCoefficient(o.getDegree()),a),f=e.multiplyByMonomial(s,u),d=n.buildMonomial(s,u);r=r.addOrSubtract(d),o=o.addOrSubtract(f)}return[r,o]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var o=this.field.log(r);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),lX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wC=(function(t){lX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(wr),fX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pr=(function(t){fX(e,t);function e(n,r,o){var i=t.call(this)||this;i.primitive=n,i.size=r,i.generatorBase=o;for(var a=new Int32Array(r),s=1,u=0;u<r;u++)a[u]=s,s*=2,s>=r&&(s^=n,s&=r-1);i.expTable=a;for(var f=new Int32Array(r),u=0;u<r-1;u++)f[a[u]]=u;return i.logTable=f,i.zero=new ra(i,Int32Array.from([0])),i.one=new ra(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new He;if(r===0)return this.zero;var o=new Int32Array(n+1);return o[0]=r,new ra(this,o)},e.prototype.inverse=function(n){if(n===0)throw new wC;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+st.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(pu),dX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),id=(function(t){dX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(wr),hX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kl=(function(t){hX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(wr),p1=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,o=new ra(r,e),i=new Int32Array(n),a=!0,s=0;s<n;s++){var u=o.evaluateAt(r.exp(s+r.getGeneratorBase()));i[i.length-1-s]=u,u!==0&&(a=!1)}if(!a)for(var f=new ra(r,i),d=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),h=d[0],m=d[1],g=this.findErrorLocations(h),b=this.findErrorMagnitudes(m,g),s=0;s<g.length;s++){var w=e.length-1-r.log(g[s]);if(w<0)throw new id("Bad error location");e[w]=pr.addOrSubtract(e[w],b[s])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var o=e;e=n,n=o}for(var i=this.field,a=e,s=n,u=i.getZero(),f=i.getOne();s.getDegree()>=(r/2|0);){var d=a,h=u;if(a=s,u=f,a.isZero())throw new id("r_{i-1} was zero");s=d;for(var m=i.getZero(),g=a.getCoefficient(a.getDegree()),b=i.inverse(g);s.getDegree()>=a.getDegree()&&!s.isZero();){var w=s.getDegree()-a.getDegree(),_=i.multiply(s.getCoefficient(s.getDegree()),b);m=m.addOrSubtract(i.buildMonomial(w,_)),s=s.addOrSubtract(a.multiplyByMonomial(w,_))}if(f=m.multiply(u).addOrSubtract(h),s.getDegree()>=a.getDegree())throw new kl("Division algorithm failed to reduce polynomial?")}var C=f.getCoefficient(0);if(C===0)throw new id("sigmaTilde(0) was zero");var A=i.inverse(C),I=f.multiplyScalar(A),T=s.multiplyScalar(A);return[I,T]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),o=0,i=this.field,a=1;a<i.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(r[o]=i.inverse(a),o++);if(o!==n)throw new id("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,o=new Int32Array(r),i=this.field,a=0;a<r;a++){for(var s=i.inverse(n[a]),u=1,f=0;f<r;f++)if(a!==f){var d=i.multiply(n[f],s),h=(d&1)===0?d|1:d&-2;u=i.multiply(u,h)}o[a]=i.multiply(e.evaluateAt(s),i.inverse(u)),i.getGeneratorBase()!==0&&(o[a]=i.multiply(o[a],s))}return o},t})(),Ln;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Ln||(Ln={}));var sw=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),o=this.correctBits(r),i=t.convertBoolArrayToByteArray(o),a=t.getEncodedData(o),s=new h1(i,a,null,null);return s.setNumBits(o.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=Ln.UPPER,o=Ln.UPPER,i="",a=0;a<n;)if(o===Ln.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,s===0){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(n-a<8){a=n;break}var f=t.readCode(e,a,8);i+=ht.castAsNonUtf8Char(f),a+=8}o=r}else{var d=o===Ln.DIGIT?4:5;if(n-a<d)break;var f=t.readCode(e,a,d);a+=d;var h=t.getCharacter(o,f);h.startsWith("CTRL_")?(r=o,o=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(r=o)):(i+=h,o=r)}return i},t.getTable=function(e){switch(e){case"L":return Ln.LOWER;case"P":return Ln.PUNCT;case"M":return Ln.MIXED;case"D":return Ln.DIGIT;case"B":return Ln.BINARY;default:return Ln.UPPER}},t.getCharacter=function(e,n){switch(e){case Ln.UPPER:return t.UPPER_TABLE[n];case Ln.LOWER:return t.LOWER_TABLE[n];case Ln.MIXED:return t.MIXED_TABLE[n];case Ln.PUNCT:return t.PUNCT_TABLE[n];case Ln.DIGIT:return t.DIGIT_TABLE[n];default:throw new kl("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=pr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=pr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=pr.AZTEC_DATA_10):(r=12,n=pr.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=e.length/r;if(i<o)throw new be;for(var a=e.length%r,s=new Int32Array(i),u=0;u<i;u++,a+=r)s[u]=t.readCode(e,a,r);try{var f=new p1(n);f.decode(s,i-o)}catch(_){throw new be(_)}for(var d=(1<<r)-1,h=0,u=0;u<o;u++){var m=s[u];if(m===0||m===d)throw new be;(m===1||m===d-1)&&h++}for(var g=new Array(o*r-h),b=0,u=0;u<o;u++){var m=s[u];if(m===1||m===d-1)g.fill(m>1,b,b+r-1),b+=r-1;else for(var w=r-1;w>=0;--w)g[b++]=(m&1<<w)!==0}return g},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),o=(n?11:14)+r*4,i=new Int32Array(o),a=new Array(this.totalBitsInLayer(r,n));if(n)for(var s=0;s<i.length;s++)i[s]=s;else for(var u=o+1+2*st.truncDivision(st.truncDivision(o,2)-1,15),f=o/2,d=st.truncDivision(u,2),s=0;s<f;s++){var h=s+st.truncDivision(s,15);i[f-s-1]=d-h-1,i[f+s]=d+h+1}for(var s=0,m=0;s<r;s++){for(var g=(r-s)*4+(n?9:12),b=s*2,w=o-1-b,_=0;_<g;_++)for(var C=_*2,A=0;A<2;A++)a[m+C+A]=e.get(i[b+A],i[b+_]),a[m+2*g+C+A]=e.get(i[b+_],i[w-A]),a[m+4*g+C+A]=e.get(i[w-A],i[w-_]),a[m+6*g+C+A]=e.get(i[w-_],i[b+A]);m+=g*8}return a},t.readCode=function(e,n,r){for(var o=0,i=n;i<n+r;i++)o<<=1,e[i]&&(o|=1);return o},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),xt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,o){var i=e-r,a=n-o;return Math.sqrt(i*i+a*a)},t.sum=function(e){for(var n=0,r=0,o=e.length;r!==o;r++){var i=e[r];n+=i}return n},t})(),Cg=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Re=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*Cg.floatToIntBits(this.x)+Cg.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]),i,a,s;if(r>=n&&r>=o?(a=e[0],i=e[1],s=e[2]):o>=r&&o>=n?(a=e[1],i=e[0],s=e[2]):(a=e[2],i=e[0],s=e[1]),this.crossProductZ(i,a,s)<0){var u=i;i=s,s=u}e[0]=i,e[1]=a,e[2]=s},t.distance=function(e,n){return xt.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var o=n.x,i=n.y;return(r.x-o)*(e.y-i)-(r.y-i)*(e.x-o)},t})(),xv=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),pX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mX=(function(t){pX(e,t);function e(n,r,o,i,a){var s=t.call(this,n,r)||this;return s.compact=o,s.nbDatablocks=i,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(xv),Ag=(function(){function t(e,n,r,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,o=this.downInit,i=!1,a=!0,s=!1,u=!1,f=!1,d=!1,h=!1,m=this.width,g=this.height;a;){a=!1;for(var b=!0;(b||!u)&&n<m;)b=this.containsBlackPoint(r,o,n,!1),b?(n++,a=!0,u=!0):u||n++;if(n>=m){i=!0;break}for(var w=!0;(w||!f)&&o<g;)w=this.containsBlackPoint(e,n,o,!0),w?(o++,a=!0,f=!0):f||o++;if(o>=g){i=!0;break}for(var _=!0;(_||!d)&&e>=0;)_=this.containsBlackPoint(r,o,e,!1),_?(e--,a=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var C=!0;(C||!h)&&r>=0;)C=this.containsBlackPoint(e,n,r,!0),C?(r--,a=!0,h=!0):h||r--;if(r<0){i=!0;break}a&&(s=!0)}if(!i&&s){for(var A=n-e,I=null,T=1;I===null&&T<A;T++)I=this.getBlackPointOnSegment(e,o-T,e+T,o);if(I==null)throw new oe;for(var O=null,T=1;O===null&&T<A;T++)O=this.getBlackPointOnSegment(e,r+T,e+T,r);if(O==null)throw new oe;for(var P=null,T=1;P===null&&T<A;T++)P=this.getBlackPointOnSegment(n,r+T,n-T,r);if(P==null)throw new oe;for(var R=null,T=1;R===null&&T<A;T++)R=this.getBlackPointOnSegment(n,o-T,n-T,o);if(R==null)throw new oe;return this.centerEdges(R,I,P,O)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,n,r,o){for(var i=xt.round(xt.distance(e,n,r,o)),a=(r-e)/i,s=(o-n)/i,u=this.image,f=0;f<i;f++){var d=xt.round(e+f*a),h=xt.round(n+f*s);if(u.get(d,h))return new Re(d,h)}return null},t.prototype.centerEdges=function(e,n,r,o){var i=e.getX(),a=e.getY(),s=n.getX(),u=n.getY(),f=r.getX(),d=r.getY(),h=o.getX(),m=o.getY(),g=t.CORR;return i<this.width/2?[new Re(h-g,m+g),new Re(s+g,u+g),new Re(f-g,d-g),new Re(i+g,a-g)]:[new Re(h+g,m+g),new Re(s+g,u-g),new Re(f-g,d+g),new Re(i-g,a-g)]},t.prototype.containsBlackPoint=function(e,n,r,o){var i=this.image;if(o){for(var a=e;a<=n;a++)if(i.get(a,r))return!0}else for(var s=e;s<=n;s++)if(i.get(r,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),cw=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),o=e.getHeight(),i=!0,a=0;a<n.length&&i;a+=2){var s=Math.floor(n[a]),u=Math.floor(n[a+1]);if(s<-1||s>r||u<-1||u>o)throw new oe;i=!1,s===-1?(n[a]=0,i=!0):s===r&&(n[a]=r-1,i=!0),u===-1?(n[a+1]=0,i=!0):u===o&&(n[a+1]=o-1,i=!0)}i=!0;for(var a=n.length-2;a>=0&&i;a-=2){var s=Math.floor(n[a]),u=Math.floor(n[a+1]);if(s<-1||s>r||u<-1||u>o)throw new oe;i=!1,s===-1?(n[a]=0,i=!0):s===r&&(n[a]=r-1,i=!0),u===-1?(n[a+1]=0,i=!0):u===o&&(n[a+1]=o-1,i=!0)}},t})(),EC=(function(){function t(e,n,r,o,i,a,s,u,f){this.a11=e,this.a21=n,this.a31=r,this.a12=o,this.a22=i,this.a32=a,this.a13=s,this.a23=u,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,n,r,o,i,a,s,u,f,d,h,m,g,b,w,_){var C=t.quadrilateralToSquare(e,n,r,o,i,a,s,u),A=t.squareToQuadrilateral(f,d,h,m,g,b,w,_);return A.times(C)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,o=this.a12,i=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,d=this.a32,h=this.a33,m=0;m<n;m+=2){var g=e[m],b=e[m+1],w=i*g+u*b+h;e[m]=(r*g+a*b+f)/w,e[m+1]=(o*g+s*b+d)/w}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,o=this.a12,i=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,d=this.a32,h=this.a33,m=e.length,g=0;g<m;g++){var b=e[g],w=n[g],_=i*b+u*w+h;e[g]=(r*b+a*w+f)/_,n[g]=(o*b+s*w+d)/_}},t.squareToQuadrilateral=function(e,n,r,o,i,a,s,u){var f=e-r+i-s,d=n-o+a-u;if(f===0&&d===0)return new t(r-e,i-r,e,o-n,a-o,n,0,0,1);var h=r-i,m=s-i,g=o-a,b=u-a,w=h*b-m*g,_=(f*b-m*d)/w,C=(h*d-f*g)/w;return new t(r-e+_*r,s-e+C*s,e,o-n+_*o,u-n+C*u,n,_,C,1)},t.quadrilateralToSquare=function(e,n,r,o,i,a,s,u){return t.squareToQuadrilateral(e,n,r,o,i,a,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),gX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yX=(function(t){gX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,o,i,a,s,u,f,d,h,m,g,b,w,_,C,A,I,T){var O=EC.quadrilateralToQuadrilateral(i,a,s,u,f,d,h,m,g,b,w,_,C,A,I,T);return this.sampleGridWithTransform(n,r,o,O)},e.prototype.sampleGridWithTransform=function(n,r,o,i){if(r<=0||o<=0)throw new oe;for(var a=new Vo(r,o),s=new Float32Array(2*r),u=0;u<o;u++){for(var f=s.length,d=u+.5,h=0;h<f;h+=2)s[h]=h/2+.5,s[h+1]=d;i.transformPoints(s),cw.checkAndNudgePoints(n,s);try{for(var h=0;h<f;h+=2)n.get(Math.floor(s[h]),Math.floor(s[h+1]))&&a.set(h/2,u)}catch{throw new oe}}return a},e})(cw),wv=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new yX,t})(),fr=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Re(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),vX=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new mX(i,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var o=0,i=0;i<4;i++){var a=r[(this.shift+i)%4];this.compact?(o<<=7,o+=a>>1&127):(o<<=10,o+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(i,a,s){var u=(i>>n-2<<1)+(i&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(var o=0;o<4;o++)if(st.bitCount(r^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new oe},t.prototype.getCorrectedParameterData=function(e,n){var r,o;n?(r=7,o=2):(r=10,o=4);for(var i=r-o,a=new Int32Array(r),s=r-1;s>=0;--s)a[s]=e&15,e>>=4;try{var u=new p1(pr.AZTEC_PARAM);u.decode(a,i)}catch{throw new oe}for(var f=0,s=0;s<o;s++)f=(f<<4)+a[s];return f},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,o=e,i=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(n,a,1,-1),u=this.getFirstDifferent(r,a,1,1),f=this.getFirstDifferent(o,a,-1,1),d=this.getFirstDifferent(i,a,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(s,u,f,d))break}n=s,r=u,o=f,i=d,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var m=new Re(n.getX()+.5,n.getY()-.5),g=new Re(r.getX()+.5,r.getY()+.5),b=new Re(o.getX()-.5,o.getY()+.5),w=new Re(i.getX()-.5,i.getY()-.5);return this.expandSquare([m,g,b,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,o;try{var i=new Ag(this.image).detect();e=i[0],n=i[1],r=i[2],o=i[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new fr(a+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new fr(a+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new fr(a-7,s+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new fr(a-7,s-7),!1,-1,-1).toResultPoint()}var u=xt.round((e.getX()+o.getX()+n.getX()+r.getX())/4),f=xt.round((e.getY()+o.getY()+n.getY()+r.getY())/4);try{var i=new Ag(this.image,15,u,f).detect();e=i[0],n=i[1],r=i[2],o=i[3]}catch{e=this.getFirstDifferent(new fr(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new fr(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new fr(u-7,f+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new fr(u-7,f-7),!1,-1,-1).toResultPoint()}return u=xt.round((e.getX()+o.getX()+n.getX()+r.getX())/4),f=xt.round((e.getY()+o.getY()+n.getY()+r.getY())/4),new fr(u,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,o,i){var a=wv.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,n,r){for(var o=0,i=this.distanceResultPoint(e,n),a=i/r,s=e.getX(),u=e.getY(),f=a*(n.getX()-e.getX())/i,d=a*(n.getY()-e.getY())/i,h=0;h<r;h++)this.image.get(xt.round(s+h*f),xt.round(u+h*d))&&(o|=1<<r-h-1);return o},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,o){var i=3;e=new fr(e.getX()-i,e.getY()+i),n=new fr(n.getX()-i,n.getY()-i),r=new fr(r.getX()+i,r.getY()-i),o=new fr(o.getX()+i,o.getY()+i);var a=this.getColor(o,e);if(a===0)return!1;var s=this.getColor(e,n);return s!==a||(s=this.getColor(n,r),s!==a)?!1:(s=this.getColor(r,o),s===a)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),o=(n.getX()-e.getX())/r,i=(n.getY()-e.getY())/r,a=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(r),h=0;h<d;h++)s+=o,u+=i,this.image.get(xt.round(s),xt.round(u))!==f&&a++;var m=a/r;return m>.1&&m<.9?0:m<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,n,r,o){for(var i=e.getX()+r,a=e.getY()+o;this.isValid(i,a)&&this.image.get(i,a)===n;)i+=r,a+=o;for(i-=r,a-=o;this.isValid(i,a)&&this.image.get(i,a)===n;)i+=r;for(i-=r;this.isValid(i,a)&&this.image.get(i,a)===n;)a+=o;return a-=o,new fr(i,a)},t.prototype.expandSquare=function(e,n,r){var o=r/(2*n),i=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new Re(s+o*i,u+o*a),d=new Re(s-o*i,u-o*a);i=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var h=new Re(s+o*i,u+o*a),m=new Re(s-o*i,u-o*a),g=[f,h,d,m];return g},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=xt.round(e.getX()),r=xt.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return xt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return xt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(st.truncDivision(this.nbLayers-4,8)+1)+15},t})(),t0=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,o=new vX(e.getBlackMatrix()),i=null,a=null;try{var s=o.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(n,i),a=new sw().decode(s)}catch(h){r=h}if(a==null)try{var s=o.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(n,i),a=new sw().decode(s)}catch(h){throw r??h}var u=new Zn(a.getText(),a.getRawBytes(),a.getNumBits(),i,Ue.AZTEC,Lt.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(jn.BYTE_SEGMENTS,f);var d=a.getECLevel();return d!=null&&u.putMetadata(jn.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(Ft.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(o,i,a){r.foundPossibleResultPoint(o)})}},t.prototype.reset=function(){},t})(),bX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){bX(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new t0,n)||this}return e})(Ec);var An=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(Ft.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var o=e.rotateCounterClockwise(),i=this.doDecode(o,n),a=i.getResultMetadata(),s=270;a!==null&&a.get(jn.ORIENTATION)===!0&&(s=s+a.get(jn.ORIENTATION)%360),i.putMetadata(jn.ORIENTATION,s);var u=i.getResultPoints();if(u!==null)for(var f=o.getHeight(),d=0;d<u.length;d++)u[d]=new Re(f-u[d].getY()-1,u[d].getX());return i}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),o=e.getHeight(),i=new kn(r),a=n&&n.get(Ft.TRY_HARDER)===!0,s=Math.max(1,o>>(a?8:5)),u;a?u=o:u=15;for(var f=Math.trunc(o/2),d=0;d<u;d++){var h=Math.trunc((d+1)/2),m=(d&1)===0,g=f+s*(m?h:-h);if(g<0||g>=o)break;try{i=e.getBlackRow(g,i)}catch{continue}for(var b=function(A){if(A===1&&(i.reverse(),n&&n.get(Ft.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;n.forEach(function(P,R){return I.set(R,P)}),I.delete(Ft.NEED_RESULT_POINT_CALLBACK),n=I}try{var T=w.decodeRow(g,i,n);if(A===1){T.putMetadata(jn.ORIENTATION,180);var O=T.getResultPoints();O!==null&&(O[0]=new Re(r-O[0].getX()-1,O[0].getY()),O[1]=new Re(r-O[1].getX()-1,O[1].getY()))}return{value:T}}catch{}},w=this,_=0;_<2;_++){var C=b(_);if(typeof C=="object")return C.value}}throw new oe},t.recordPattern=function(e,n,r){for(var o=r.length,i=0;i<o;i++)r[i]=0;var a=e.getSize();if(n>=a)throw new oe;for(var s=!e.get(n),u=0,f=n;f<a;){if(e.get(f)!==s)r[u]++;else{if(++u===o)break;r[u]=1,s=!s}f++}if(!(u===o||u===o-1&&f===a))throw new oe},t.recordPatternInReverse=function(e,n,r){for(var o=r.length,i=e.get(n);n>0&&o>=0;)e.get(--n)!==i&&(o--,i=!i);if(o>=0)throw new oe;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var o=e.length,i=0,a=0,s=0;s<o;s++)i+=e[s],a+=n[s];if(i<a)return Number.POSITIVE_INFINITY;var u=i/a;r*=u;for(var f=0,d=0;d<o;d++){var h=e[d],m=n[d]*u,g=h>m?h-m:m-h;if(g>r)return Number.POSITIVE_INFINITY;f+=g}return f/i},t})(),xX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),uw=(function(t){xX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),o=n.getNextSet(0),i=0,a=Int32Array.from([0,0,0,0,0,0]),s=o,u=!1,f=6,d=o;d<r;d++)if(n.get(d)!==u)a[i]++;else{if(i===f-1){for(var h=e.MAX_AVG_VARIANCE,m=-1,g=e.CODE_START_A;g<=e.CODE_START_C;g++){var b=An.patternMatchVariance(a,e.CODE_PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,m=g)}if(m>=0&&n.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,m]);s+=a[0]+a[1],a=a.slice(2,a.length),a[i-1]=0,a[i]=0,i--}else i++;a[i]=1,u=!u}throw new oe},e.decodeCode=function(n,r,o){An.recordPattern(n,o,r);for(var i=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);f<i&&(i=f,a=s)}if(a>=0)return a;throw new oe},e.prototype.decodeRow=function(n,r,o){var i=o&&o.get(Ft.ASSUME_GS1)===!0,a=e.findStartPattern(r),s=a[2],u=0,f=new Uint8Array(20);f[u++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new be}for(var h=!1,m=!1,g="",b=a[0],w=a[1],_=Int32Array.from([0,0,0,0,0,0]),C=0,A=0,I=s,T=0,O=!0,P=!1,R=!1;!h;){var k=m;switch(m=!1,C=A,A=e.decodeCode(r,_,w),f[u++]=A,A!==e.CODE_STOP&&(O=!0),A!==e.CODE_STOP&&(T++,I+=T*A),b=w,w+=_.reduce(function(J,B){return J+B},0),A){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new be}switch(d){case e.CODE_CODE_A:if(A<64)R===P?g+=String.fromCharCode(32+A):g+=String.fromCharCode(32+A+128),R=!1;else if(A<96)R===P?g+=String.fromCharCode(A-64):g+=String.fromCharCode(A+64),R=!1;else switch(A!==e.CODE_STOP&&(O=!1),A){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!P&&R?(P=!0,R=!1):P&&R?(P=!1,R=!1):R=!0;break;case e.CODE_SHIFT:m=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(A<96)R===P?g+=String.fromCharCode(32+A):g+=String.fromCharCode(32+A+128),R=!1;else switch(A!==e.CODE_STOP&&(O=!1),A){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!P&&R?(P=!0,R=!1):P&&R?(P=!1,R=!1):R=!0;break;case e.CODE_SHIFT:m=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(A<100)A<10&&(g+="0"),g+=A;else switch(A!==e.CODE_STOP&&(O=!1),A){case e.CODE_FNC_1:i&&(g.length===0?g+="]C1":g+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}k&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var $=w-b;if(w=r.getNextUnset(w),!r.isRange(w,Math.min(r.getSize(),w+(w-b)/2),!1))throw new oe;if(I-=T*C,I%103!==C)throw new fn;var F=g.length;if(F===0)throw new oe;F>0&&O&&(d===e.CODE_CODE_C?g=g.substring(0,F-2):g=g.substring(0,F-1));for(var H=(a[1]+a[0])/2,V=b+$/2,te=f.length,ae=new Uint8Array(te),q=0;q<te;q++)ae[q]=f[q];var Y=[new Re(H,n),new Re(V,n)];return new Zn(g,ae,0,Y,Ue.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(An),wX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lw=(function(t){wX(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var o=t.call(this)||this;return o.usingCheckDigit=n,o.extendedMode=r,o.decodeRowResult="",o.counters=new Int32Array(9),o}return e.prototype.decodeRow=function(n,r,o){var i,a,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(r,f),h=r.getNextSet(d[1]),m=r.getSize(),g,b;do{e.recordPattern(r,h,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new oe;g=e.patternToChar(w),this.decodeRowResult+=g,b=h;try{for(var _=(i=void 0,tm(f)),C=_.next();!C.done;C=_.next()){var A=C.value;h+=A}}catch(te){i={error:te}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h=r.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var T=tm(f),O=T.next();!O.done;O=T.next()){var A=O.value;I+=A}}catch(te){s={error:te}}finally{try{O&&!O.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}var P=h-b-I;if(h!==m&&P*2<I)throw new oe;if(this.usingCheckDigit){for(var R=this.decodeRowResult.length-1,k=0,$=0;$<R;$++)k+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(R)!==e.ALPHABET_STRING.charAt(k%43))throw new fn;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new oe;var F;this.extendedMode?F=e.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var H=(d[1]+d[0])/2,V=b+I/2;return new Zn(F,null,0,[new Re(H,n),new Re(V,n)],Ue.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var o=n.getSize(),i=n.getNextSet(0),a=0,s=i,u=!1,f=r.length,d=i;d<o;d++)if(n.get(d)!==u)r[a]++;else{if(a===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,u=!u}throw new oe},e.toNarrowWidePattern=function(n){var r,o,i=n.length,a=0,s;do{var u=2147483647;try{for(var f=(r=void 0,tm(n)),d=f.next();!d.done;d=f.next()){var h=d.value;h<u&&h>a&&(u=h)}}catch(w){r={error:w}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}a=u,s=0;for(var m=0,g=0,b=0;b<i;b++){var h=n[b];h>a&&(g|=1<<i-1-b,s++,m+=h)}if(s===3){for(var b=0;b<i&&s>0;b++){var h=n[b];if(h>a&&(s--,h*2>=m))return-1}return g}}while(s>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(n){for(var r=n.length,o="",i=0;i<r;i++){var a=n.charAt(i);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=n.charAt(i+1),u="\0";switch(a){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new be;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new be;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new be;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new be;break}o+=u,i++}else o+=a}return o},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(An),EX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),nm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fw=(function(t){EX(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,o){var i,a,s,u,f=this.findAsteriskPattern(r),d=r.getNextSet(f[1]),h=r.getSize(),m=this.counters;m.fill(0),this.decodeRowResult="";var g,b;do{e.recordPattern(r,d,m);var w=this.toPattern(m);if(w<0)throw new oe;g=this.patternToChar(w),this.decodeRowResult+=g,b=d;try{for(var _=(i=void 0,nm(m)),C=_.next();!C.done;C=_.next()){var A=C.value;d+=A}}catch($){i={error:$}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}d=r.getNextSet(d)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var T=nm(m),O=T.next();!O.done;O=T.next()){var A=O.value;I+=A}}catch($){s={error:$}}finally{try{O&&!O.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}if(d===h||!r.get(d))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var P=this.decodeExtended(this.decodeRowResult),R=(f[1]+f[0])/2,k=b+I/2;return new Zn(P,null,0,[new Re(R,n),new Re(k,n)],Ue.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),o=n.getNextSet(0);this.counters.fill(0);for(var i=this.counters,a=o,s=!1,u=i.length,f=0,d=o;d<r;d++)if(n.get(d)!==s)i[f]++;else{if(f===u-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([a,d]);a+=i[0]+i[1],i.copyWithin(0,2,2+f-1),i[f-1]=0,i[f]=0,f--}else f++;i[f]=1,s=!s}throw new oe},e.prototype.toPattern=function(n){var r,o,i=0;try{for(var a=nm(n),s=a.next();!s.done;s=a.next()){var u=s.value;i+=u}}catch(b){r={error:b}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}for(var f=0,d=n.length,h=0;h<d;h++){var m=Math.round(n[h]*9/i);if(m<1||m>4)return-1;if((h&1)===0)for(var g=0;g<m;g++)f=f<<1|1;else f<<=m}return f},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new oe},e.prototype.decodeExtended=function(n){for(var r=n.length,o="",i=0;i<r;i++){var a=n.charAt(i);if(a>="a"&&a<="d"){if(i>=r-1)throw new be;var s=n.charAt(i+1),u="\0";switch(a){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new be;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new be;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new be;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new be;break}o+=u,i++}else o+=a}return o},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,o){for(var i=1,a=0,s=r-1;s>=0;s--)a+=i*e.ALPHABET_STRING.indexOf(n.charAt(s)),++i>o&&(i=1);if(n.charAt(r)!==e.ALPHABET_STRING[a%47])throw new fn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(An),_X=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),CX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dw=(function(t){_X(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,o){var i,a,s=this.decodeStart(r),u=this.decodeEnd(r),f=new ot;e.decodeMiddle(r,s[1],u[0],f);var d=f.toString(),h=null;o!=null&&(h=o.get(Ft.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var m=d.length,g=!1,b=0;try{for(var w=CX(h),_=w.next();!_.done;_=w.next()){var C=_.value;if(m===C){g=!0;break}C>b&&(b=C)}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}if(!g&&m>b&&(g=!0),!g)throw new be;var A=[new Re(s[1],n),new Re(u[0],n)],I=new Zn(d,null,0,A,Ue.ITF,new Date().getTime());return I},e.decodeMiddle=function(n,r,o,i){var a=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),s.fill(0),u.fill(0);r<o;){An.recordPattern(n,r,a);for(var f=0;f<5;f++){var d=2*f;s[f]=a[d],u[f]=a[d+1]}var h=e.decodeDigit(s);i.append(h.toString()),h=this.decodeDigit(u),i.append(h.toString()),a.forEach(function(m){r+=m})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),o=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o},e.prototype.validateQuietZone=function(n,r){var o=this.narrowLineWidth*10;o=o<r?o:r;for(var i=r-1;o>0&&i>=0&&!n.get(i);i--)o--;if(o!==0)throw new oe},e.skipWhiteSpace=function(n){var r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new oe;return o},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),o=void 0;try{o=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof oe&&(o=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);var i=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-i,o}finally{n.reverse()}},e.findGuardPattern=function(n,r,o){var i=o.length,a=new Int32Array(i),s=n.getSize(),u=!1,f=0,d=r;a.fill(0);for(var h=r;h<s;h++)if(n.get(h)!==u)a[f]++;else{if(f===i-1){if(An.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,h];d+=a[0]+a[1],Lt.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,u=!u}throw new oe},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,o=-1,i=e.PATTERNS.length,a=0;a<i;a++){var s=e.PATTERNS[a],u=An.patternMatchVariance(n,s,e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,o=a):u===r&&(o=-1)}if(o>=0)return o%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(An),AX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cc=(function(t){AX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,o,i=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]),o=e.findGuardPattern(n,i,!1,this.START_END_PATTERN,a);var s=o[0];i=o[1];var u=s-(i-s);u>=0&&(r=n.isRange(u,s,!1))}return o},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var o=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===o},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,o=0,i=r-1;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new be;o+=a}o*=3;for(var i=r-2;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new be;o+=a}return(1e3-o)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,o,i){return this.findGuardPattern(n,r,o,i,new Int32Array(i.length))},e.findGuardPattern=function(n,r,o,i,a){var s=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);for(var u=0,f=r,d=i.length,h=o,m=r;m<s;m++)if(n.get(m)!==h)a[u]++;else{if(u===d-1){if(An.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,m]);f+=a[0]+a[1];for(var g=a.slice(2,a.length),b=0;b<u-1;b++)a[b]=g[b];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,h=!h}throw new oe},e.decodeDigit=function(n,r,o,i){this.recordPattern(n,o,r);for(var a=this.MAX_AVG_VARIANCE,s=-1,u=i.length,f=0;f<u;f++){var d=i[f],h=An.patternMatchVariance(r,d,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=f)}if(s>=0)return s;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(An),SX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IX=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=t.parseExtensionString(a),u=[new Re((r[0]+r[1])/2,e),new Re(i,e)],f=new Zn(a,null,0,u,Ue.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],f=0,d=0;d<5&&u<s;d++){var h=cc.decodeDigit(e,a,u,cc.L_AND_G_PATTERNS);r+=String.fromCharCode(48+h%10);try{for(var m=(o=void 0,SX(a)),g=m.next();!g.done;g=m.next()){var b=g.value;u+=b}}catch(_){o={error:_}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}h>=10&&(f|=1<<4-d),d!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new oe;var w=this.determineCheckDigit(f);if(t.extensionChecksum(r.toString())!==w)throw new oe;return u},t.extensionChecksum=function(e){for(var n=e.length,r=0,o=n-2;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;r*=3;for(var o=n-1;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[jn.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),o=(r/100).toString(),i=r%100,a=i<10?"0"+i:i.toString();return n+o+"."+a},t})(),TX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NX=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=t.parseExtensionString(a),u=[new Re((r[0]+r[1])/2,e),new Re(i,e)],f=new Zn(a,null,0,u,Ue.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],f=0,d=0;d<2&&u<s;d++){var h=cc.decodeDigit(e,a,u,cc.L_AND_G_PATTERNS);r+=String.fromCharCode(48+h%10);try{for(var m=(o=void 0,TX(a)),g=m.next();!g.done;g=m.next()){var b=g.value;u+=b}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}h>=10&&(f|=1<<1-d),d!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new oe;if(parseInt(r.toString())%4!==f)throw new oe;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[jn.ISSUE_NUMBER,parseInt(e)]])},t})(),OX=(function(){function t(){}return t.decodeRow=function(e,n,r){var o=cc.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new IX;return i.decodeRow(e,n,o)}catch{var a=new NX;return a.decodeRow(e,n,o)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),PX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wn=(function(t){PX(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var o=e.L_PATTERNS[r-10],i=new Int32Array(o.length),a=0;a<o.length;a++)i[a]=o[o.length-a-1];e.L_AND_G_PATTERNS[r]=i}return n}return e.prototype.decodeRow=function(n,r,o){var i=e.findStartGuardPattern(r),a=o==null?null:o.get(Ft.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new Re((i[0]+i[1])/2,n);a.foundPossibleResultPoint(s)}var u=this.decodeMiddle(r,i,this.decodeRowStringBuffer),f=u.rowOffset,d=u.resultString;if(a!=null){var h=new Re(f,n);a.foundPossibleResultPoint(h)}var m=e.decodeEnd(r,f);if(a!=null){var g=new Re((m[0]+m[1])/2,n);a.foundPossibleResultPoint(g)}var b=m[1],w=b+(b-m[0]);if(w>=r.getSize()||!r.isRange(b,w,!1))throw new oe;var _=d.toString();if(_.length<8)throw new be;if(!e.checkChecksum(_))throw new fn;var C=(i[1]+i[0])/2,A=(m[1]+m[0])/2,I=this.getBarcodeFormat(),T=[new Re(C,n),new Re(A,n)],O=new Zn(_,null,0,T,I,new Date().getTime()),P=0;try{var R=OX.decodeRow(n,r,m[1]);O.putMetadata(jn.UPC_EAN_EXTENSION,R.getText()),O.putAllMetadata(R.getResultMetadata()),O.addResultPoints(R.getResultPoints()),P=R.getText().length}catch{}var k=o==null?null:o.get(Ft.ALLOWED_EAN_EXTENSIONS);if(k!=null){var $=!1;for(var F in k)if(P.toString()===F){$=!0;break}if(!$)throw new oe}return I===Ue.EAN_13||Ue.UPC_A,O},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var o=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===o},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,o=0,i=r-1;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new be;o+=a}o*=3;for(var i=r-2;i>=0;i-=2){var a=n.charAt(i).charCodeAt(0)-48;if(a<0||a>9)throw new be;o+=a}return(1e3-o)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(cc),RX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),hw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sg=(function(t){RX(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,o){var i,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),h=r[1],m=0,g=0;g<6&&h<d;g++){var b=wn.decodeDigit(n,f,h,wn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);try{for(var w=(i=void 0,hw(f)),_=w.next();!_.done;_=w.next()){var C=_.value;h+=C}}catch(O){i={error:O}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}b>=10&&(m|=1<<5-g)}o=e.determineFirstDigit(o,m);var A=wn.findGuardPattern(n,h,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));h=A[1];for(var g=0;g<6&&h<d;g++){var b=wn.decodeDigit(n,f,h,wn.L_PATTERNS);o+=String.fromCharCode(48+b);try{for(var I=(s=void 0,hw(f)),T=I.next();!T.done;T=I.next()){var C=T.value;h+=C}}catch(R){s={error:R}}finally{try{T&&!T.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}}return{rowOffset:h,resultString:o}},e.prototype.getBarcodeFormat=function(){return Ue.EAN_13},e.determineFirstDigit=function(n,r){for(var o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(wn),kX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mw=(function(t){kX(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,o){var i,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),h=r[1],m=0;m<4&&h<d;m++){var g=wn.decodeDigit(n,f,h,wn.L_PATTERNS);o+=String.fromCharCode(48+g);try{for(var b=(i=void 0,pw(f)),w=b.next();!w.done;w=b.next()){var _=w.value;h+=_}}catch(T){i={error:T}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}}var C=wn.findGuardPattern(n,h,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));h=C[1];for(var m=0;m<4&&h<d;m++){var g=wn.decodeDigit(n,f,h,wn.L_PATTERNS);o+=String.fromCharCode(48+g);try{for(var A=(s=void 0,pw(f)),I=A.next();!I.done;I=A.next()){var _=I.value;h+=_}}catch(P){s={error:P}}finally{try{I&&!I.done&&(u=A.return)&&u.call(A)}finally{if(s)throw s.error}}}return{rowOffset:h,resultString:o}},e.prototype.getBarcodeFormat=function(){return Ue.EAN_8},e})(wn),DX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gw=(function(t){DX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new Sg,n}return e.prototype.getBarcodeFormat=function(){return Ue.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))},e.prototype.decodeMiddle=function(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var o=new Zn(r.substring(1),null,null,n.getResultPoints(),Ue.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(wn),MX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),BX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yw=(function(t){MX(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,o){var i,a,s=this.decodeMiddleCounters.map(function(_){return _});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=n.getSize(),f=r[1],d=0,h=0;h<6&&f<u;h++){var m=e.decodeDigit(n,s,f,e.L_AND_G_PATTERNS);o+=String.fromCharCode(48+m%10);try{for(var g=(i=void 0,BX(s)),b=g.next();!b.done;b=g.next()){var w=b.value;f+=w}}catch(_){i={error:_}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}m>=10&&(d|=1<<5-h)}return e.determineNumSysAndCheckDigit(new ot(o),d),f},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return wn.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var o=0;o<=1;o++)for(var i=0;i<10;i++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][i]){n.insert(0,"0"+o),n.append("0"+i);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ue.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),o=new ot;o.append(n.charAt(0));var i=r[5];switch(i){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(i),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(i);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(wn),LX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rm=(function(t){LX(e,t);function e(n){var r=t.call(this)||this,o=n==null?null:n.get(Ft.POSSIBLE_FORMATS),i=[];return o!=null&&(o.indexOf(Ue.EAN_13)>-1&&i.push(new Sg),o.indexOf(Ue.UPC_A)>-1&&i.push(new gw),o.indexOf(Ue.EAN_8)>-1&&i.push(new mw),o.indexOf(Ue.UPC_E)>-1&&i.push(new yw)),i.length===0&&(i.push(new Sg),i.push(new gw),i.push(new mw),i.push(new yw)),r.readers=i,r}return e.prototype.decodeRow=function(n,r,o){var i,a;try{for(var s=vw(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var d=f.decodeRow(n,r,o),h=d.getBarcodeFormat()===Ue.EAN_13&&d.getText().charAt(0)==="0",m=o==null?null:o.get(Ft.POSSIBLE_FORMATS),g=m==null||m.includes(Ue.UPC_A);if(h&&g){var b=d.getRawBytes(),w=new Zn(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),Ue.UPC_A);return w.putAllMetadata(d.getResultMetadata()),w}return d}catch{}}}catch(_){i={error:_}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}throw new oe},e.prototype.reset=function(){var n,r;try{for(var o=vw(this.readers),i=o.next();!i.done;i=o.next()){var a=i.value;a.reset()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e})(An),FX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jX=(function(t){FX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,o){var i=this.getValidRowData(r);if(!i)throw new oe;var a=this.codaBarDecodeRow(i.row);if(!a)throw new oe;return new Zn(a,null,0,[new Re(i.left,n),new Re(i.right,n)],Ue.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),o=r.indexOf(!0);if(o===-1)return null;var i=r.lastIndexOf(!0);if(i<=o)return null;r=r.slice(o,i+1);for(var a=[],s=r[0],u=1,f=1;f<r.length;f++)r[f]===s?u++:(s=r[f],a.push(u),u=1);return a.push(u),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:o,right:i}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],o=Math.ceil(n.reduce(function(u,f){return(u+f)/2},0));n.length>0;){var i=n.splice(0,8).splice(0,7),a=i.map(function(u){return u<o?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[a])}var s=r.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(An),zX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$X=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Da=(function(t){zX(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var o=0;o<r.length;o++)if(An.patternMatchVariance(n,r[o],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return o;throw new oe},e.count=function(n){return xt.sum(new Int32Array(n))},e.increment=function(n,r){for(var o=0,i=r[0],a=1;a<n.length;a++)r[a]>i&&(i=r[a],o=a);n[o]++},e.decrement=function(n,r){for(var o=0,i=r[0],a=1;a<n.length;a++)r[a]<i&&(i=r[a],o=a);n[o]--},e.isFinderPattern=function(n){var r,o,i=n[0]+n[1],a=i+n[2]+n[3],s=i/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=$X(n),h=d.next();!h.done;h=d.next()){var m=h.value;m>f&&(f=m),m<u&&(u=m)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(An),n0=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),_C=(function(){function t(e,n,r,o,i){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Re(r,i)),this.resultPoints.push(new Re(o,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),UX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bs=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var o,i,a=0;try{for(var s=UX(e),u=s.next();!u.done;u=s.next()){var f=u.value;a+=f}}catch(A){o={error:A}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}for(var d=0,h=0,m=e.length,g=0;g<m-1;g++){var b=void 0;for(b=1,h|=1<<g;b<e[g];b++,h&=~(1<<g)){var w=t.combins(a-b-1,m-g-2);if(r&&h===0&&a-b-(m-g-1)>=m-g-1&&(w-=t.combins(a-b-(m-g),m-g-2)),m-g-1>1){for(var _=0,C=a-b-(m-g-2);C>n;C--)_+=t.combins(a-b-C-1,m-g-3);w-=_*(m-1-g)}else a-b>n&&w--;d+=w}a-=b}return d},t.combins=function(e,n){var r,o;e-n>n?(o=n,r=e-n):(o=e-n,r=n);for(var i=1,a=1,s=e;s>r;s--)i*=s,a<=o&&(i/=a,a++);for(;a<=o;)i/=a,a++;return i},t})(),HX=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,o=new kn(r),i=0,a=e[0],s=a.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!==0&&o.set(i),i++;for(var u=1;u<e.length;++u){for(var f=e[u],d=f.getLeftChar().getValue(),h=11;h>=0;--h)(d&1<<h)!==0&&o.set(i),i++;if(f.getRightChar()!==null)for(var m=f.getRightChar().getValue(),h=11;h>=0;--h)(m&1<<h)!==0&&o.set(i),i++}return o},t})(),Pa=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),Ev=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),VX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ao=(function(t){VX(e,t);function e(n,r){var o=t.call(this,n)||this;return o.value=r,o}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Ev),GX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ra=(function(t){GX(e,t);function e(n,r,o){var i=t.call(this,n)||this;return o?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Ev),WX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ts=(function(t){WX(e,t);function e(n,r,o){var i=t.call(this,n)||this;if(r<0||r>10||o<0||o>10)throw new be;return i.firstDigit=r,i.secondDigit=o,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Ev),ad=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZX=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,o,i,a,s,u,f;if(!e)return null;if(e.length<2)throw new oe;var d=e.substring(0,2);try{for(var h=ad(t.TWO_DIGIT_DATA_LENGTH),m=h.next();!m.done;m=h.next()){var g=m.value;if(g[0]===d)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,g[2],e):t.processFixedAI(2,g[1],e)}}catch(P){n={error:P}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}if(e.length<3)throw new oe;var b=e.substring(0,3);try{for(var w=ad(t.THREE_DIGIT_DATA_LENGTH),_=w.next();!_.done;_=w.next()){var g=_.value;if(g[0]===b)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,g[2],e):t.processFixedAI(3,g[1],e)}}catch(P){o={error:P}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(o)throw o.error}}try{for(var C=ad(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),A=C.next();!A.done;A=C.next()){var g=A.value;if(g[0]===b)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(P){a={error:P}}finally{try{A&&!A.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}if(e.length<4)throw new oe;var I=e.substring(0,4);try{for(var T=ad(t.FOUR_DIGIT_DATA_LENGTH),O=T.next();!O.done;O=T.next()){var g=O.value;if(g[0]===I)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(P){u={error:P}}finally{try{O&&!O.done&&(f=T.return)&&f.call(T)}finally{if(u)throw u.error}}throw new oe},t.processFixedAI=function(e,n,r){if(r.length<e)throw new oe;var o=r.substring(0,e);if(r.length<e+n)throw new oe;var i=r.substring(e,e+n),a=r.substring(e+n),s="("+o+")"+i,u=t.parseFieldsInGeneralPurpose(a);return u==null?s:s+u},t.processVariableAI=function(e,n,r){var o=r.substring(0,e),i;r.length<e+n?i=r.length:i=e+n;var a=r.substring(e,i),s=r.substring(i),u="("+o+")"+a,f=t.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),Id=(function(){function t(e){this.buffer=new ot,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,o=null;do{var i=this.decodeGeneralPurposeField(r,o),a=ZX.parseFieldsInGeneralPurpose(i.getNewString());if(a!=null&&e.append(a),i.isRemaining()?o=""+i.getRemainingValue():o=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Ts(this.information.getSize(),Ts.FNC1,Ts.FNC1):new Ts(this.information.getSize(),n-1,Ts.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),o=(r-8)/11,i=(r-8)%11;return new Ts(e+7,o,i)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var o=0,i=0;i<r;++i)e.get(n+i)&&(o|=1<<r-i-1);return o},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ra(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ra(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var o=r!==this.current.getPosition();if(!o&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new Ra(this.current.getPosition(),this.buffer.toString()):n=new Ra(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Pa(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Ra(this.current.getPosition(),this.buffer.toString());return new Pa(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Pa(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ra(this.current.getPosition(),this.buffer.toString());return new Pa(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Pa(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ra(this.current.getPosition(),this.buffer.toString());return new Pa(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Pa(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ao(e+5,ao.FNC1);if(n>=5&&n<15)return new ao(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new ao(e+7,""+(r+1));if(r>=90&&r<116)return new ao(e+7,""+(r+7));var o=this.extractNumericValueFromBitArray(e,8),i;switch(o){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new be}return new ao(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ao(e+5,ao.FNC1);if(n>=5&&n<15)return new ao(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new ao(e+6,""+(r+33));var o;switch(r){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new kl("Decoding invalid alphanumeric value: "+r)}return new ao(e+6,o)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),CC=(function(){function t(e){this.information=e,this.generalDecoder=new Id(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),XX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),co=(function(t){XX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,o){for(var i=0;i<4;++i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);a/100===0&&n.append("0"),a/10===0&&n.append("0"),n.append(a)}e.appendCheckDigit(n,o)},e.appendCheckDigit=function(n,r){for(var o=0,i=0;i<13;i++){var a=n.charAt(i+r).charCodeAt(0)-48;o+=(i&1)===0?3*a:a}o=10-o%10,o===10&&(o=0),n.append(o)},e.GTIN_SIZE=40,e})(CC),qX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),KX=(function(t){qX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new ot;n.append("(01)");var r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(co),YX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),JX=(function(t){YX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new ot;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(CC),QX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Td=(function(t){QX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,i);for(var a=this.checkWeight(i),s=1e5,u=0;u<5;++u)a/s===0&&n.append("0"),s/=10;n.append(a)},e})(co),eq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),AC=(function(t){eq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Td.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var n=new ot;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+Td.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Td),tq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),nq=(function(t){tq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(AC),rq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oq=(function(t){rq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(AC),iq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aq=(function(t){iq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+co.GTIN_SIZE)throw new oe;var n=new ot;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+co.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+co.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(co),sq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cq=(function(t){sq(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+co.GTIN_SIZE)throw new oe;var n=new ot;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+co.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+co.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+co.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(co),uq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),qi=(function(t){uq(e,t);function e(n,r,o){var i=t.call(this,n)||this;return i.dateCode=o,i.firstAIdigits=r,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var n=new ot;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(o!==38400){n.append("("),n.append(this.dateCode),n.append(")");var i=o%32;o/=32;var a=o%12+1;o/=12;var s=o;s/10===0&&n.append("0"),n.append(s),a/10===0&&n.append("0"),n.append(a),i/10===0&&n.append("0"),n.append(i)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Td);function lq(t){try{if(t.get(1))return new KX(t);if(!t.get(2))return new JX(t);var e=Id.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new nq(t);case 5:return new oq(t)}var n=Id.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new aq(t);case 13:return new cq(t)}var r=Id.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new qi(t,"310","11");case 57:return new qi(t,"320","11");case 58:return new qi(t,"310","13");case 59:return new qi(t,"320","13");case 60:return new qi(t,"310","15");case 61:return new qi(t,"320","15");case 62:return new qi(t,"310","17");case 63:return new qi(t,"320","17")}}catch(o){throw console.log(o),new kl("unknown decoder: "+t)}}var bw=(function(){function t(e,n,r,o){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=o}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),fq=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(o,i){n.forEach(function(a){o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),dq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ki=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hq=(function(t){dq(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var o=!1;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(s){if(s instanceof oe){if(!this.pairs.length)throw new oe;o=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(n,!1),i){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new oe},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(o){console.log(o)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var o,i,a=r;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var u=(o=void 0,Ki(n)),f=u.next();!f.done;f=u.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(m){o={error:m}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(n);h.push(s);try{return this.checkRows(h,a+1)}catch(m){console.log(m)}}}throw new oe},e.isValidSequence=function(n){var r,o;try{for(var i=Ki(e.FINDER_PATTERN_SEQUENCES),a=i.next();!a.done;a=i.next()){var s=a.value;if(!(n.length>s.length)){for(var u=!0,f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!==s[f]){u=!1;break}if(u)return!0}}}catch(d){r={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var o=0,i=!1,a=!1;o<this.rows.length;){var s=this.rows[o];if(s.getRowNumber()>n){a=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),o++}a||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new fq(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var o,i,a,s,u,f;try{for(var d=Ki(r),h=d.next();!h.done;h=d.next()){var m=h.value;if(m.getPairs().length!==n.length){var g=!0;try{for(var b=(a=void 0,Ki(m.getPairs())),w=b.next();!w.done;w=b.next()){var _=w.value,C=!1;try{for(var A=(u=void 0,Ki(n)),I=A.next();!I.done;I=A.next()){var T=I.value;if(bw.equals(_,T)){C=!0;break}}}catch(O){u={error:O}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(u)throw u.error}}C||(g=!1)}}catch(O){a={error:O}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}}}}catch(O){o={error:O}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}},e.isPartialRow=function(n,r){var o,i,a,s,u,f;try{for(var d=Ki(r),h=d.next();!h.done;h=d.next()){var m=h.value,g=!0;try{for(var b=(a=void 0,Ki(n)),w=b.next();!w.done;w=b.next()){var _=w.value,C=!1;try{for(var A=(u=void 0,Ki(m.getPairs())),I=A.next();!I.done;I=A.next()){var T=I.value;if(_.equals(T)){C=!0;break}}}catch(O){u={error:O}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(u)throw u.error}}if(!C){g=!1;break}}}catch(O){a={error:O}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(g)return!0}}catch(O){o={error:O}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=HX.buildBitArray(n),o=lq(r),i=o.parseInformation(),a=n[0].getFinderPattern().getResultPoints(),s=n[n.length-1].getFinderPattern().getResultPoints(),u=[a[0],a[1],s[0],s[1]];return new Zn(i,null,null,u,Ue.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o===null)return!1;for(var i=o.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);i+=u.getLeftChar().getChecksumPortion(),a++;var f=u.getRightChar();f!=null&&(i+=f.getChecksumPortion(),a++)}i%=211;var d=211*(a-4)+i;return d===r.getValue()},e.getNextSecondBar=function(n,r){var o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o},e.prototype.retrieveNextPair=function(n,r,o){var i=r.length%2===0;this.startFromEven&&(i=!i);var a,s=!0,u=-1;do this.findNextPair(n,r,u),a=this.parseFoundFinderPattern(n,o,i),a===null?u=e.getNextSecondBar(n,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(n,a,i,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new oe;var d;try{d=this.decodeDataCharacter(n,a,i,!1)}catch(h){d=null,console.log(h)}return new bw(f,d,a,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,o){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var a=n.getSize(),s;if(o>=0)s=o;else if(this.isEmptyPair(r))s=0;else{var u=r[r.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;s<a&&(d=!n.get(s),!!d);)s++;for(var h=0,m=s,g=s;g<a;g++)if(n.get(g)!==d)i[h]++;else{if(h===3){if(f&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=m,this.startEnd[1]=g;return}f&&e.reverseCounters(i),m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,d=!d}throw new oe},e.reverseCounters=function(n){for(var r=n.length,o=0;o<r/2;++o){var i=n[o];n[o]=n[r-o-1],n[r-o-1]=i}},e.prototype.parseFoundFinderPattern=function(n,r,o){var i,a,s;if(o){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,i=this.startEnd[0]-u,a=u,s=this.startEnd[1]}else a=this.startEnd[0],s=n.getNextUnset(this.startEnd[1]+1),i=s-this.startEnd[1];var f=this.getDecodeFinderCounters();Lt.arraycopy(f,0,f,1,f.length-1),f[0]=i;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new _C(d,[a,s],a,s,r)},e.prototype.decodeDataCharacter=function(n,r,o,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)e.recordPatternInReverse(n,r.getStartEnd()[0],a);else{e.recordPattern(n,r.getStartEnd()[1],a);for(var u=0,f=a.length-1;u<f;u++,f--){var d=a[u];a[u]=a[f],a[f]=d}}var h=17,m=xt.sum(new Int32Array(a))/h,g=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(m-g)/g>.3)throw new oe;for(var b=this.getOddCounts(),w=this.getEvenCounts(),_=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var A=1*a[u]/m,I=A+.5;if(I<1){if(A<.3)throw new oe;I=1}else if(I>8){if(A>8.7)throw new oe;I=8}var T=u/2;(u&1)===0?(b[T]=I,_[T]=A-I):(w[T]=I,C[T]=A-I)}this.adjustOddEvenCounts(h);for(var O=4*r.getValue()+(o?0:2)+(i?0:1)-1,P=0,R=0,u=b.length-1;u>=0;u--){if(e.isNotA1left(r,o,i)){var k=e.WEIGHTS[O][2*u];R+=b[u]*k}P+=b[u]}for(var $=0,u=w.length-1;u>=0;u--)if(e.isNotA1left(r,o,i)){var k=e.WEIGHTS[O][2*u+1];$+=w[u]*k}var F=R+$;if((P&1)!==0||P>13||P<4)throw new oe;var H=(13-P)/2,V=e.SYMBOL_WIDEST[H],te=9-V,ae=Bs.getRSSvalue(b,V,!0),q=Bs.getRSSvalue(w,te,!1),Y=e.EVEN_TOTAL_SUBSET[H],J=e.GSUM[H],B=ae*Y+q+J;return new n0(B,F)},e.isNotA1left=function(n,r,o){return!(n.getValue()===0&&r&&o)},e.prototype.adjustOddEvenCounts=function(n){var r=xt.sum(new Int32Array(this.getOddCounts())),o=xt.sum(new Int32Array(this.getEvenCounts())),i=!1,a=!1;r>13?a=!0:r<4&&(i=!0);var s=!1,u=!1;o>13?u=!0:o<4&&(s=!0);var f=r+o-n,d=(r&1)===1,h=(o&1)===0;if(f===1)if(d){if(h)throw new oe;a=!0}else{if(!h)throw new oe;u=!0}else if(f===-1)if(d){if(h)throw new oe;i=!0}else{if(!h)throw new oe;s=!0}else if(f===0){if(d){if(!h)throw new oe;r<o?(i=!0,u=!0):(a=!0,s=!0)}else if(h)throw new oe}else throw new oe;if(i){if(a)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Da),pq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mq=(function(t){pq(e,t);function e(n,r,o){var i=t.call(this,n,r)||this;return i.count=0,i.finderPattern=o,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(n0),gq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),om=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xw=(function(t){gq(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,o){var i,a,s,u,f=this.decodePair(r,!1,n,o);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var d=this.decodePair(r,!0,n,o);e.addOrTally(this.possibleRightPairs,d),r.reverse();try{for(var h=om(this.possibleLeftPairs),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.getCount()>1)try{for(var b=(s=void 0,om(this.possibleRightPairs)),w=b.next();!w.done;w=b.next()){var _=w.value;if(_.getCount()>1&&e.checkChecksum(g,_))return e.constructResult(g,_)}}catch(C){s={error:C}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}}}catch(C){i={error:C}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}throw new oe},e.addOrTally=function(n,r){var o,i;if(r!=null){var a=!1;try{for(var s=om(n),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===r.getValue()){f.incrementCount(),a=!0;break}}}catch(d){o={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}a||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var o=4537077*n.getValue()+r.getValue(),i=new String(o).toString(),a=new ot,s=13-i.length;s>0;s--)a.append("0");a.append(i);for(var u=0,s=0;s<13;s++){var f=a.charAt(s).charCodeAt(0)-48;u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),a.append(u.toString());var d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Zn(a.toString(),null,0,[d[0],d[1],h[0],h[1]],Ue.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,o===i},e.prototype.decodePair=function(n,r,o,i){try{var a=this.findFinderPattern(n,r),s=this.parseFoundFinderPattern(n,o,r,a),u=i==null?null:i.get(Ft.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(a[0]+a[1])/2;r&&(f=n.getSize()-1-f),u.foundPossibleResultPoint(new Re(f,o))}var d=this.decodeDataCharacter(n,s,!0),h=this.decodeDataCharacter(n,s,!1);return new mq(1597*d.getValue()+h.getValue(),d.getChecksumPortion()+4*h.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,o){for(var i=this.getDataCharacterCounters(),a=0;a<i.length;a++)i[a]=0;if(o)An.recordPatternInReverse(n,r.getStartEnd()[0],i);else{An.recordPattern(n,r.getStartEnd()[1]+1,i);for(var s=0,u=i.length-1;s<u;s++,u--){var f=i[s];i[s]=i[u],i[u]=f}}for(var d=o?16:15,h=xt.sum(new Int32Array(i))/d,m=this.getOddCounts(),g=this.getEvenCounts(),b=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var _=i[s]/h,C=Math.floor(_+.5);C<1?C=1:C>8&&(C=8);var A=Math.floor(s/2);(s&1)===0?(m[A]=C,b[A]=_-C):(g[A]=C,w[A]=_-C)}this.adjustOddEvenCounts(o,d);for(var I=0,T=0,s=m.length-1;s>=0;s--)T*=9,T+=m[s],I+=m[s];for(var O=0,P=0,s=g.length-1;s>=0;s--)O*=9,O+=g[s],P+=g[s];var R=T+3*O;if(o){if((I&1)!==0||I>12||I<4)throw new oe;var k=(12-I)/2,$=e.OUTSIDE_ODD_WIDEST[k],F=9-$,H=Bs.getRSSvalue(m,$,!1),V=Bs.getRSSvalue(g,F,!0),te=e.OUTSIDE_EVEN_TOTAL_SUBSET[k],ae=e.OUTSIDE_GSUM[k];return new n0(H*te+V+ae,R)}else{if((P&1)!==0||P>10||P<4)throw new oe;var k=(10-P)/2,$=e.INSIDE_ODD_WIDEST[k],F=9-$,H=Bs.getRSSvalue(m,$,!0),V=Bs.getRSSvalue(g,F,!1),q=e.INSIDE_ODD_TOTAL_SUBSET[k],ae=e.INSIDE_GSUM[k];return new n0(V*q+H+ae,R)}},e.prototype.findFinderPattern=function(n,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var i=n.getSize(),a=!1,s=0;s<i&&(a=!n.get(s),r!==a);)s++;for(var u=0,f=s,d=s;d<i;d++)if(n.get(d)!==a)o[u]++;else{if(u===3){if(Da.isFinderPattern(o))return[f,d];f+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,u--}else u++;o[u]=1,a=!a}throw new oe},e.prototype.parseFoundFinderPattern=function(n,r,o,i){for(var a=n.get(i[0]),s=i[0]-1;s>=0&&a!==n.get(s);)s--;s++;var u=i[0]-s,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);Lt.arraycopy(f,0,d,1,f.length-1),d[0]=u;var h=this.parseFinderValue(d,e.FINDER_PATTERNS),m=s,g=i[1];return o&&(m=n.getSize()-1-m,g=n.getSize()-1-g),new _C(h,[s,i[1]],m,g,r)},e.prototype.adjustOddEvenCounts=function(n,r){var o=xt.sum(new Int32Array(this.getOddCounts())),i=xt.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,u=!1,f=!1;n?(o>12?s=!0:o<4&&(a=!0),i>12?f=!0:i<4&&(u=!0)):(o>11?s=!0:o<5&&(a=!0),i>10?f=!0:i<4&&(u=!0));var d=o+i-r,h=(o&1)===(n?1:0),m=(i&1)===1;if(d===1)if(h){if(m)throw new oe;s=!0}else{if(!m)throw new oe;f=!0}else if(d===-1)if(h){if(m)throw new oe;a=!0}else{if(!m)throw new oe;u=!0}else if(d===0){if(h){if(!m)throw new oe;o<i?(a=!0,f=!0):(s=!0,u=!0)}else if(m)throw new oe}else throw new oe;if(a){if(s)throw new oe;Da.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Da.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new oe;Da.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Da.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Da),yq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ls=(function(t){yq(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var o=n?n.get(Ft.POSSIBLE_FORMATS):null,i=n&&n.get(Ft.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=n&&n.get(Ft.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return o&&((o.includes(Ue.EAN_13)||o.includes(Ue.UPC_A)||o.includes(Ue.EAN_8)||o.includes(Ue.UPC_E))&&r.readers.push(new rm(n)),o.includes(Ue.CODE_39)&&r.readers.push(new lw(i,a)),o.includes(Ue.CODE_93)&&r.readers.push(new fw),o.includes(Ue.CODE_128)&&r.readers.push(new uw),o.includes(Ue.ITF)&&r.readers.push(new dw),o.includes(Ue.CODABAR)&&r.readers.push(new jX),o.includes(Ue.RSS_14)&&r.readers.push(new xw),o.includes(Ue.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new hq))),r.readers.length===0&&(r.readers.push(new rm(n)),r.readers.push(new lw),r.readers.push(new fw),r.readers.push(new rm(n)),r.readers.push(new uw),r.readers.push(new dw),r.readers.push(new xw)),r}return e.prototype.decodeRow=function(n,r,o){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,r,o)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(An),vq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){vq(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new Ls(r),n,r)||this}return e})(Ec);var ww=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Et=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),bq=(function(){function t(e,n,r,o,i,a){var s,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=i,this.ecBlocks=a;var f=0,d=a.getECCodewords(),h=a.getECBlocks();try{for(var m=ww(h),g=m.next();!g.done;g=m.next()){var b=g.value;f+=b.getCount()*(b.getDataCodewords()+d)}}catch(w){s={error:w}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,o;if((e&1)!==0||(n&1)!==0)throw new be;try{for(var i=ww(t.VERSIONS),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new be},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new At(5,new Et(1,3))),new t(2,12,12,10,10,new At(7,new Et(1,5))),new t(3,14,14,12,12,new At(10,new Et(1,8))),new t(4,16,16,14,14,new At(12,new Et(1,12))),new t(5,18,18,16,16,new At(14,new Et(1,18))),new t(6,20,20,18,18,new At(18,new Et(1,22))),new t(7,22,22,20,20,new At(20,new Et(1,30))),new t(8,24,24,22,22,new At(24,new Et(1,36))),new t(9,26,26,24,24,new At(28,new Et(1,44))),new t(10,32,32,14,14,new At(36,new Et(1,62))),new t(11,36,36,16,16,new At(42,new Et(1,86))),new t(12,40,40,18,18,new At(48,new Et(1,114))),new t(13,44,44,20,20,new At(56,new Et(1,144))),new t(14,48,48,22,22,new At(68,new Et(1,174))),new t(15,52,52,24,24,new At(42,new Et(2,102))),new t(16,64,64,14,14,new At(56,new Et(2,140))),new t(17,72,72,16,16,new At(36,new Et(4,92))),new t(18,80,80,18,18,new At(48,new Et(4,114))),new t(19,88,88,20,20,new At(56,new Et(4,144))),new t(20,96,96,22,22,new At(68,new Et(4,174))),new t(21,104,104,24,24,new At(56,new Et(6,136))),new t(22,120,120,18,18,new At(68,new Et(6,175))),new t(23,132,132,20,20,new At(62,new Et(8,163))),new t(24,144,144,22,22,new At(62,new Et(8,156),new Et(2,155))),new t(25,8,18,6,16,new At(7,new Et(1,5))),new t(26,8,32,6,14,new At(11,new Et(1,10))),new t(27,12,26,10,24,new At(14,new Et(1,16))),new t(28,12,36,10,16,new At(18,new Et(1,22))),new t(29,16,36,14,16,new At(24,new Et(1,32))),new t(30,16,48,14,22,new At(28,new Et(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),xq=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new be;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Vo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return bq.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,o=0,i=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,d=!1;do if(r===i&&o===0&&!s)e[n++]=this.readCorner1(i,a)&255,r-=2,o+=2,s=!0;else if(r===i-2&&o===0&&(a&3)!==0&&!u)e[n++]=this.readCorner2(i,a)&255,r-=2,o+=2,u=!0;else if(r===i+4&&o===2&&(a&7)===0&&!f)e[n++]=this.readCorner3(i,a)&255,r-=2,o+=2,f=!0;else if(r===i-2&&o===0&&(a&7)===4&&!d)e[n++]=this.readCorner4(i,a)&255,r-=2,o+=2,d=!0;else{do r<i&&o>=0&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,i,a)&255),r-=2,o+=2;while(r>=0&&o<a);r+=1,o+=3;do r>=0&&o<a&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,i,a)&255),r+=2,o-=2;while(r<i&&o>=0);r+=3,o+=1}while(r<i||o<a);if(n!==this.version.getTotalCodewords())throw new be;return e},t.prototype.readModule=function(e,n,r,o){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,o){var i=0;return this.readModule(e-2,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e-2,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n,r,o)&&(i|=1),i<<=1,this.readModule(e,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e,n,r,o)&&(i|=1),i},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new He("Dimension of bitMatrix must match the version size");for(var o=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),a=n/o|0,s=r/i|0,u=a*o,f=s*i,d=new Vo(f,u),h=0;h<a;++h)for(var m=h*o,g=0;g<s;++g)for(var b=g*i,w=0;w<o;++w)for(var _=h*(o+2)+1+w,C=m+w,A=0;A<i;++A){var I=g*(i+2)+1+A;if(e.get(I,_)){var T=b+A;d.set(T,C)}}return d},t})(),Ew=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wq=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,o,i,a,s=n.getECBlocks(),u=0,f=s.getECBlocks();try{for(var d=Ew(f),h=d.next();!h.done;h=d.next()){var m=h.value;u+=m.getCount()}}catch(ae){r={error:ae}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var g=new Array(u),b=0;try{for(var w=Ew(f),_=w.next();!_.done;_=w.next())for(var m=_.value,C=0;C<m.getCount();C++){var A=m.getDataCodewords(),I=s.getECCodewords()+A;g[b++]=new t(A,new Uint8Array(I))}}catch(ae){i={error:ae}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}for(var T=g[0].codewords.length,O=T-s.getECCodewords(),P=O-1,R=0,C=0;C<P;C++)for(var k=0;k<b;k++)g[k].codewords[C]=e[R++];for(var $=n.getVersionNumber()===24,F=$?8:b,k=0;k<F;k++)g[k].codewords[O-1]=e[R++];for(var H=g[0].codewords.length,C=O;C<H;C++)for(var k=0;k<b;k++){var V=$?(k+8)%b:k,te=$&&V>7?C-1:C;g[V].codewords[te]=e[R++]}if(R!==e.length)throw new He;return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),SC=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new He(""+e);var n=0,r=this.bitOffset,o=this.byteOffset,i=this.bytes;if(r>0){var a=8-r,s=e<a?e:a,u=a-s,f=255>>8-s<<u;n=(i[o]&f)>>u,e-=s,r+=s,r===8&&(r=0,o++)}if(e>0){for(;e>=8;)n=n<<8|i[o]&255,o++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;n=n<<e|(i[o]&f)>>u,r+=e}}return this.bitOffset=r,this.byteOffset=o,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),bn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(bn||(bn={}));var Eq=(function(){function t(){}return t.decode=function(e){var n=new SC(e),r=new ot,o=new ot,i=new Array,a=bn.ASCII_ENCODE;do if(a===bn.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,o);else{switch(a){case bn.C40_ENCODE:this.decodeC40Segment(n,r);break;case bn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case bn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case bn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case bn.BASE256_ENCODE:this.decodeBase256Segment(n,r,i);break;default:throw new be}a=bn.ASCII_ENCODE}while(a!==bn.PAD_ENCODE&&n.available()>0);return o.length()>0&&r.append(o.toString()),new h1(e,r.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,n,r){var o=!1;do{var i=e.readBits(8);if(i===0)throw new be;if(i<=128)return o&&(i+=128),n.append(String.fromCharCode(i-1)),bn.ASCII_ENCODE;if(i===129)return bn.PAD_ENCODE;if(i<=229){var a=i-130;a<10&&n.append("0"),n.append(""+a)}else switch(i){case 230:return bn.C40_ENCODE;case 231:return bn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return bn.ANSIX12_ENCODE;case 239:return bn.TEXT_ENCODE;case 240:return bn.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new be;break}}while(e.available()>0);return bn.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,o=[],i=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(var s=0;s<3;s++){var u=o[s];switch(i){case 0:if(u<3)i=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new be;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append("");break;case 30:r=!0;break;default:throw new be}i=0;break;case 3:r?(n.append(String.fromCharCode(u+224)),r=!1):n.append(String.fromCharCode(u+96)),i=0;break;default:throw new be}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,o=[],i=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(var s=0;s<3;s++){var u=o[s];switch(i){case 0:if(u<3)i=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new be;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append("");break;case 30:r=!0;break;default:throw new be}i=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),i=0}else throw new be;break;default:throw new be}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),r);for(var i=0;i<3;i++){var a=r[i];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new be;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var o=(e<<8)+n-1,i=Math.floor(o/1600);r[0]=i,o-=i*1600,i=Math.floor(o/40),r[1]=i,r[2]=o-i*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var o=e.readBits(6);if(o===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(o&32)===0&&(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var o=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),o++),a;if(i===0?a=e.available()/8|0:i<250?a=i:a=250*(i-249)+this.unrandomize255State(e.readBits(8),o++),a<0)throw new be;for(var s=new Uint8Array(a),u=0;u<a;u++){if(e.available()<8)throw new be;s[u]=this.unrandomize255State(e.readBits(8),o++)}r.push(s);try{n.append(Wr.decode(s,ht.ISO88591))}catch(f){throw new kl("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,o=e-r;return o>=0?o:o+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),_q=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cq=(function(){function t(){this.rsDecoder=new p1(pr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,o=new xq(e),i=o.getVersion(),a=o.readCodewords(),s=wq.getDataBlocks(a,i),u=0;try{for(var f=_q(s),d=f.next();!d.done;d=f.next()){var h=d.value;u+=h.getNumDataCodewords()}}catch(I){n={error:I}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}for(var m=new Uint8Array(u),g=s.length,b=0;b<g;b++){var w=s[b],_=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(_,C);for(var A=0;A<C;A++)m[A*g+b]=_[A]}return Eq.decode(m)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new fn}for(var o=0;o<n;o++)e[o]=r[o]},t})(),Aq=(function(){function t(e){this.image=e,this.rectangleDetector=new Ag(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new oe;n=this.shiftToModuleCenter(n);var r=n[0],o=n[1],i=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(i,a)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=t.sampleGrid(this.image,r,o,i,a,s,u);return new xv(f,[r,o,i,a])},t.shiftPoint=function(e,n,r){var o=(n.getX()-e.getX())/(r+1),i=(n.getY()-e.getY())/(r+1);return new Re(e.getX()+o,e.getY()+i)},t.moveAway=function(e,n,r){var o=e.getX(),i=e.getY();return o<n?o-=1:o+=1,i<r?i-=1:i+=1,new Re(o,i)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],o=e[3],i=e[2],a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,o),u=this.transitionsBetween(o,i),f=this.transitionsBetween(i,n),d=a,h=[i,n,r,o];return d>s&&(d=s,h[0]=n,h[1]=r,h[2]=o,h[3]=i),d>u&&(d=u,h[0]=r,h[1]=o,h[2]=i,h[3]=n),d>f&&(h[0]=o,h[1]=i,h[2]=n,h[3]=r),h},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i),s=t.shiftPoint(r,o,(a+1)*4),u=t.shiftPoint(o,r,(a+1)*4),f=this.transitionsBetween(s,n),d=this.transitionsBetween(u,i);return f<d?(e[0]=n,e[1]=r,e[2]=o,e[3]=i):(e[0]=r,e[1]=o,e[2]=i,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),u=t.shiftPoint(n,r,(s+1)*4),f=t.shiftPoint(o,r,(a+1)*4);a=this.transitionsBetween(u,i),s=this.transitionsBetween(f,i);var d=new Re(i.getX()+(o.getX()-r.getX())/(a+1),i.getY()+(o.getY()-r.getY())/(a+1)),h=new Re(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));if(!this.isValid(d))return this.isValid(h)?h:null;if(!this.isValid(h))return d;var m=this.transitionsBetween(u,d)+this.transitionsBetween(f,d),g=this.transitionsBetween(u,h)+this.transitionsBetween(f,h);return m>g?d:h},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(o,i)+1,u=t.shiftPoint(n,r,s*4),f=t.shiftPoint(o,r,a*4);a=this.transitionsBetween(u,i)+1,s=this.transitionsBetween(f,i)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var d=(n.getX()+r.getX()+o.getX()+i.getX())/4,h=(n.getY()+r.getY()+o.getY()+i.getY())/4;n=t.moveAway(n,d,h),r=t.moveAway(r,d,h),o=t.moveAway(o,d,h),i=t.moveAway(i,d,h);var m,g;return u=t.shiftPoint(n,r,s*4),u=t.shiftPoint(u,i,a*4),m=t.shiftPoint(r,n,s*4),m=t.shiftPoint(m,o,a*4),f=t.shiftPoint(o,i,s*4),f=t.shiftPoint(f,r,a*4),g=t.shiftPoint(i,o,s*4),g=t.shiftPoint(g,n,a*4),[u,m,f,g]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,o,i,a,s){var u=wv.getInstance();return u.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),o=Math.trunc(e.getY()),i=Math.trunc(n.getX()),a=Math.trunc(n.getY()),s=Math.abs(a-o)>Math.abs(i-r);if(s){var u=r;r=o,o=u,u=i,i=a,a=u}for(var f=Math.abs(i-r),d=Math.abs(a-o),h=-f/2,m=o<a?1:-1,g=r<i?1:-1,b=0,w=this.image.get(s?o:r,s?r:o),_=r,C=o;_!==i;_+=g){var A=this.image.get(s?C:_,s?_:C);if(A!==w&&(b++,w=A),h+=d,h>0){if(C===a)break;C+=m,h-=f}}return b},t})(),r0=(function(){function t(){this.decoder=new Cq}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,o;if(n!=null&&n.has(Ft.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(i),o=t.NO_POINTS}else{var a=new Aq(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),o=a.getPoints()}var s=r.getRawBytes(),u=new Zn(r.getText(),s,8*s.length,o,Ue.DATA_MATRIX,Lt.currentTimeMillis()),f=r.getByteSegments();f!=null&&u.putMetadata(jn.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!=null&&u.putMetadata(jn.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new oe;var o=this.moduleSize(n,e),i=n[1],a=r[1],s=n[0],u=r[0],f=(u-s+1)/o,d=(a-i+1)/o;if(f<=0||d<=0)throw new oe;var h=o/2;i+=h,s+=h;for(var m=new Vo(f,d),g=0;g<d;g++)for(var b=i+g*o,w=0;w<f;w++)e.get(s+w*o,b)&&m.set(w,g);return m},t.moduleSize=function(e,n){for(var r=n.getWidth(),o=e[0],i=e[1];o<r&&n.get(o,i);)o++;if(o===r)throw new oe;var a=o-e[0];if(a===0)throw new oe;return a},t.NO_POINTS=[],t})(),Sq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){Sq(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new r0,n)||this}return e})(Ec);var Fs;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Fs||(Fs={}));var Iq=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new un(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new He;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Fs.L,"L",1),t.M=new t(Fs.M,"M",0),t.Q=new t(Fs.Q,"Q",3),t.H=new t(Fs.H,"H",2),t})(),Tq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IC=(function(){function t(e){this.errorCorrectionLevel=Iq.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return st.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,o,i=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=Tq(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,d=f[0];if(d===e||d===n)return new t(f[1]);var h=t.numBitsDiffering(e,d);h<i&&(a=f[1],i=h),e!==n&&(h=t.numBitsDiffering(n,d),h<i&&(a=f[1],i=h))}}catch(m){r={error:m}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),Nq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,o=this.ecBlocks;try{for(var i=Nq(o),a=i.next();!a.done;a=i.next()){var s=a.value;r+=s.getCount()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),D=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),Oq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Va=(function(){function t(e,n){for(var r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;var s=0,u=i[0].getECCodewordsPerBlock(),f=i[0].getECBlocks();try{for(var d=Oq(f),h=d.next();!h.done;h=d.next()){var m=h.value;s+=m.getCount()*(m.getDataCodewords()+u)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new be;try{return this.getVersionForNumber((e-17)/4)}catch{throw new be}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new He;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,o=0;o<t.VERSION_DECODE_INFO.length;o++){var i=t.VERSION_DECODE_INFO[o];if(i===e)return t.getVersionForNumber(o+7);var a=IC.numBitsDiffering(e,i);a<n&&(r=o+7,n=a)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new Vo(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,o=0;o<r;o++)for(var i=this.alignmentPatternCenters[o]-2,a=0;a<r;a++)o===0&&(a===0||a===r-1)||o===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,i,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Z(7,new D(1,19)),new Z(10,new D(1,16)),new Z(13,new D(1,13)),new Z(17,new D(1,9))),new t(2,Int32Array.from([6,18]),new Z(10,new D(1,34)),new Z(16,new D(1,28)),new Z(22,new D(1,22)),new Z(28,new D(1,16))),new t(3,Int32Array.from([6,22]),new Z(15,new D(1,55)),new Z(26,new D(1,44)),new Z(18,new D(2,17)),new Z(22,new D(2,13))),new t(4,Int32Array.from([6,26]),new Z(20,new D(1,80)),new Z(18,new D(2,32)),new Z(26,new D(2,24)),new Z(16,new D(4,9))),new t(5,Int32Array.from([6,30]),new Z(26,new D(1,108)),new Z(24,new D(2,43)),new Z(18,new D(2,15),new D(2,16)),new Z(22,new D(2,11),new D(2,12))),new t(6,Int32Array.from([6,34]),new Z(18,new D(2,68)),new Z(16,new D(4,27)),new Z(24,new D(4,19)),new Z(28,new D(4,15))),new t(7,Int32Array.from([6,22,38]),new Z(20,new D(2,78)),new Z(18,new D(4,31)),new Z(18,new D(2,14),new D(4,15)),new Z(26,new D(4,13),new D(1,14))),new t(8,Int32Array.from([6,24,42]),new Z(24,new D(2,97)),new Z(22,new D(2,38),new D(2,39)),new Z(22,new D(4,18),new D(2,19)),new Z(26,new D(4,14),new D(2,15))),new t(9,Int32Array.from([6,26,46]),new Z(30,new D(2,116)),new Z(22,new D(3,36),new D(2,37)),new Z(20,new D(4,16),new D(4,17)),new Z(24,new D(4,12),new D(4,13))),new t(10,Int32Array.from([6,28,50]),new Z(18,new D(2,68),new D(2,69)),new Z(26,new D(4,43),new D(1,44)),new Z(24,new D(6,19),new D(2,20)),new Z(28,new D(6,15),new D(2,16))),new t(11,Int32Array.from([6,30,54]),new Z(20,new D(4,81)),new Z(30,new D(1,50),new D(4,51)),new Z(28,new D(4,22),new D(4,23)),new Z(24,new D(3,12),new D(8,13))),new t(12,Int32Array.from([6,32,58]),new Z(24,new D(2,92),new D(2,93)),new Z(22,new D(6,36),new D(2,37)),new Z(26,new D(4,20),new D(6,21)),new Z(28,new D(7,14),new D(4,15))),new t(13,Int32Array.from([6,34,62]),new Z(26,new D(4,107)),new Z(22,new D(8,37),new D(1,38)),new Z(24,new D(8,20),new D(4,21)),new Z(22,new D(12,11),new D(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Z(30,new D(3,115),new D(1,116)),new Z(24,new D(4,40),new D(5,41)),new Z(20,new D(11,16),new D(5,17)),new Z(24,new D(11,12),new D(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Z(22,new D(5,87),new D(1,88)),new Z(24,new D(5,41),new D(5,42)),new Z(30,new D(5,24),new D(7,25)),new Z(24,new D(11,12),new D(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Z(24,new D(5,98),new D(1,99)),new Z(28,new D(7,45),new D(3,46)),new Z(24,new D(15,19),new D(2,20)),new Z(30,new D(3,15),new D(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Z(28,new D(1,107),new D(5,108)),new Z(28,new D(10,46),new D(1,47)),new Z(28,new D(1,22),new D(15,23)),new Z(28,new D(2,14),new D(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Z(30,new D(5,120),new D(1,121)),new Z(26,new D(9,43),new D(4,44)),new Z(28,new D(17,22),new D(1,23)),new Z(28,new D(2,14),new D(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Z(28,new D(3,113),new D(4,114)),new Z(26,new D(3,44),new D(11,45)),new Z(26,new D(17,21),new D(4,22)),new Z(26,new D(9,13),new D(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Z(28,new D(3,107),new D(5,108)),new Z(26,new D(3,41),new D(13,42)),new Z(30,new D(15,24),new D(5,25)),new Z(28,new D(15,15),new D(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Z(28,new D(4,116),new D(4,117)),new Z(26,new D(17,42)),new Z(28,new D(17,22),new D(6,23)),new Z(30,new D(19,16),new D(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Z(28,new D(2,111),new D(7,112)),new Z(28,new D(17,46)),new Z(30,new D(7,24),new D(16,25)),new Z(24,new D(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Z(30,new D(4,121),new D(5,122)),new Z(28,new D(4,47),new D(14,48)),new Z(30,new D(11,24),new D(14,25)),new Z(30,new D(16,15),new D(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Z(30,new D(6,117),new D(4,118)),new Z(28,new D(6,45),new D(14,46)),new Z(30,new D(11,24),new D(16,25)),new Z(30,new D(30,16),new D(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Z(26,new D(8,106),new D(4,107)),new Z(28,new D(8,47),new D(13,48)),new Z(30,new D(7,24),new D(22,25)),new Z(30,new D(22,15),new D(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Z(28,new D(10,114),new D(2,115)),new Z(28,new D(19,46),new D(4,47)),new Z(28,new D(28,22),new D(6,23)),new Z(30,new D(33,16),new D(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Z(30,new D(8,122),new D(4,123)),new Z(28,new D(22,45),new D(3,46)),new Z(30,new D(8,23),new D(26,24)),new Z(30,new D(12,15),new D(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new D(3,117),new D(10,118)),new Z(28,new D(3,45),new D(23,46)),new Z(30,new D(4,24),new D(31,25)),new Z(30,new D(11,15),new D(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new D(7,116),new D(7,117)),new Z(28,new D(21,45),new D(7,46)),new Z(30,new D(1,23),new D(37,24)),new Z(30,new D(19,15),new D(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new D(5,115),new D(10,116)),new Z(28,new D(19,47),new D(10,48)),new Z(30,new D(15,24),new D(25,25)),new Z(30,new D(23,15),new D(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new D(13,115),new D(3,116)),new Z(28,new D(2,46),new D(29,47)),new Z(30,new D(42,24),new D(1,25)),new Z(30,new D(23,15),new D(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new D(17,115)),new Z(28,new D(10,46),new D(23,47)),new Z(30,new D(10,24),new D(35,25)),new Z(30,new D(19,15),new D(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new D(17,115),new D(1,116)),new Z(28,new D(14,46),new D(21,47)),new Z(30,new D(29,24),new D(19,25)),new Z(30,new D(11,15),new D(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new D(13,115),new D(6,116)),new Z(28,new D(14,46),new D(23,47)),new Z(30,new D(44,24),new D(7,25)),new Z(30,new D(59,16),new D(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new D(12,121),new D(7,122)),new Z(28,new D(12,47),new D(26,48)),new Z(30,new D(39,24),new D(14,25)),new Z(30,new D(22,15),new D(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new D(6,121),new D(14,122)),new Z(28,new D(6,47),new D(34,48)),new Z(30,new D(46,24),new D(10,25)),new Z(30,new D(2,15),new D(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new D(17,122),new D(4,123)),new Z(28,new D(29,46),new D(14,47)),new Z(30,new D(49,24),new D(10,25)),new Z(30,new D(24,15),new D(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new D(4,122),new D(18,123)),new Z(28,new D(13,46),new D(32,47)),new Z(30,new D(48,24),new D(14,25)),new Z(30,new D(42,15),new D(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new D(20,117),new D(4,118)),new Z(28,new D(40,47),new D(7,48)),new Z(30,new D(43,24),new D(22,25)),new Z(30,new D(10,15),new D(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new D(19,118),new D(6,119)),new Z(28,new D(18,47),new D(31,48)),new Z(30,new D(34,24),new D(34,25)),new Z(30,new D(20,15),new D(61,16)))],t})(),Nn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Nn||(Nn={}));var _w=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var o=0;o<n;o++)this.isMasked(r,o)&&e.flip(o,r)},t.values=new Map([[Nn.DATA_MASK_000,new t(Nn.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[Nn.DATA_MASK_001,new t(Nn.DATA_MASK_001,function(e,n){return(e&1)===0})],[Nn.DATA_MASK_010,new t(Nn.DATA_MASK_010,function(e,n){return n%3===0})],[Nn.DATA_MASK_011,new t(Nn.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[Nn.DATA_MASK_100,new t(Nn.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[Nn.DATA_MASK_101,new t(Nn.DATA_MASK_101,function(e,n){return e*n%6===0})],[Nn.DATA_MASK_110,new t(Nn.DATA_MASK_110,function(e,n){return e*n%6<3})],[Nn.DATA_MASK_111,new t(Nn.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),Pq=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new be;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var o=this.bitMatrix.getHeight(),i=0,a=o-7,r=o-1;r>=a;r--)i=this.copyBit(8,r,i);for(var n=o-8;n<o;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=IC.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new be},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Va.getVersionForNumber(n);for(var r=0,o=e-11,i=5;i>=0;i--)for(var a=e-9;a>=o;a--)r=this.copyBit(a,i,r);var s=Va.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(var a=5;a>=0;a--)for(var i=e-9;i>=o;i--)r=this.copyBit(a,i,r);if(s=Va.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new be},t.prototype.copyBit=function(e,n,r){var o=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return o?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=_w.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o);for(var i=n.buildFunctionPattern(),a=!0,s=new Uint8Array(n.getTotalCodewords()),u=0,f=0,d=0,h=o-1;h>0;h-=2){h===6&&h--;for(var m=0;m<o;m++)for(var g=a?o-1-m:m,b=0;b<2;b++)i.get(h-b,g)||(d++,f<<=1,this.bitMatrix.get(h-b,g)&&(f|=1),d===8&&(s[u++]=f,d=0,f=0));a=!a}if(u!==n.getTotalCodewords())throw new be;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=_w.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var o=n+1,i=e.getHeight();o<i;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))},t})(),Cw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rq=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var o,i,a,s;if(e.length!==n.getTotalCodewords())throw new He;var u=n.getECBlocksForLevel(r),f=0,d=u.getECBlocks();try{for(var h=Cw(d),m=h.next();!m.done;m=h.next()){var g=m.value;f+=g.getCount()}}catch(te){o={error:te}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}var b=new Array(f),w=0;try{for(var _=Cw(d),C=_.next();!C.done;C=_.next())for(var g=C.value,A=0;A<g.getCount();A++){var I=g.getDataCodewords(),T=u.getECCodewordsPerBlock()+I;b[w++]=new t(I,new Uint8Array(T))}}catch(te){a={error:te}}finally{try{C&&!C.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}for(var O=b[0].codewords.length,P=b.length-1;P>=0;){var R=b[P].codewords.length;if(R===O)break;P--}P++;for(var k=O-u.getECCodewordsPerBlock(),$=0,A=0;A<k;A++)for(var F=0;F<w;F++)b[F].codewords[A]=e[$++];for(var F=P;F<w;F++)b[F].codewords[k]=e[$++];for(var H=b[0].codewords.length,A=k;A<H;A++)for(var F=0;F<w;F++){var V=F<P?A:A+1;b[F].codewords[V]=e[$++]}return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),$r;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})($r||($r={}));var Ht=(function(){function t(e,n,r,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,t.FOR_BITS.set(o,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new He;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t($r.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t($r.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t($r.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t($r.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t($r.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t($r.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t($r.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t($r.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t($r.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t($r.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),kq=(function(){function t(){}return t.decode=function(e,n,r,o){var i=new SC(e),a=new ot,s=new Array,u=-1,f=-1;try{var d=null,h=!1,m=void 0;do{if(i.available()<4)m=Ht.TERMINATOR;else{var g=i.readBits(4);m=Ht.forBits(g)}switch(m){case Ht.TERMINATOR:break;case Ht.FNC1_FIRST_POSITION:case Ht.FNC1_SECOND_POSITION:h=!0;break;case Ht.STRUCTURED_APPEND:if(i.available()<16)throw new be;u=i.readBits(8),f=i.readBits(8);break;case Ht.ECI:var b=t.parseECIValue(i);if(d=_n.getCharacterSetECIByValue(b),d===null)throw new be;break;case Ht.HANZI:var w=i.readBits(4),_=i.readBits(m.getCharacterCountBits(n));w===t.GB2312_SUBSET&&t.decodeHanziSegment(i,a,_);break;default:var C=i.readBits(m.getCharacterCountBits(n));switch(m){case Ht.NUMERIC:t.decodeNumericSegment(i,a,C);break;case Ht.ALPHANUMERIC:t.decodeAlphanumericSegment(i,a,C,h);break;case Ht.BYTE:t.decodeByteSegment(i,a,C,d,s,o);break;case Ht.KANJI:t.decodeKanjiSegment(i,a,C);break;default:throw new be}break}}while(m!==Ht.TERMINATOR)}catch{throw new be}return new h1(e,a.toString(),s.length===0?null:s,r===null?null:r.toString(),u,f)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new be;for(var o=new Uint8Array(2*r),i=0;r>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,o[i]=s>>8&255,o[i+1]=s&255,i+=2,r--}try{n.append(Wr.decode(o,ht.GB2312))}catch(u){throw new be(u)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new be;for(var o=new Uint8Array(2*r),i=0;r>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,o[i]=s>>8,o[i+1]=s,i+=2,r--}try{n.append(Wr.decode(o,ht.SHIFT_JIS))}catch(u){throw new be(u)}},t.decodeByteSegment=function(e,n,r,o,i,a){if(8*r>e.available())throw new be;for(var s=new Uint8Array(r),u=0;u<r;u++)s[u]=e.readBits(8);var f;o===null?f=ht.guessEncoding(s,a):f=o.getName();try{n.append(Wr.decode(s,f))}catch(d){throw new be(d)}i.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new be;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,o){for(var i=n.length();r>1;){if(e.available()<11)throw new be;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new be;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(o)for(var s=i;s<n.length();s++)n.charAt(s)==="%"&&(s<n.length()-1&&n.charAt(s+1)==="%"?n.deleteCharAt(s+1):n.setCharAt(s,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new be;var o=e.readBits(10);if(o>=1e3)throw new be;n.append(t.toAlphaNumericChar(Math.floor(o/100))),n.append(t.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(t.toAlphaNumericChar(o%10)),r-=3}if(r===2){if(e.available()<7)throw new be;var i=e.readBits(7);if(i>=100)throw new be;n.append(t.toAlphaNumericChar(Math.floor(i/10))),n.append(t.toAlphaNumericChar(i%10))}else if(r===1){if(e.available()<4)throw new be;var a=e.readBits(4);if(a>=10)throw new be;n.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var o=e.readBits(16);return(n&31)<<16&4294967295|o}throw new be},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),TC=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),Aw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dq=(function(){function t(){this.rsDecoder=new p1(pr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(Vo.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new Pq(e),o=null;try{return this.decodeBitMatrixParser(r,n)}catch(a){o=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,n);return i.setOther(new TC(!0)),i}catch(a){throw o!==null?o:a}},t.prototype.decodeBitMatrixParser=function(e,n){var r,o,i,a,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=Rq.getDataBlocks(f,s,u),h=0;try{for(var m=Aw(d),g=m.next();!g.done;g=m.next()){var b=g.value;h+=b.getNumDataCodewords()}}catch(P){r={error:P}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}var w=new Uint8Array(h),_=0;try{for(var C=Aw(d),A=C.next();!A.done;A=C.next()){var b=A.value,I=b.getCodewords(),T=b.getNumDataCodewords();this.correctErrors(I,T);for(var O=0;O<T;O++)w[_++]=I[O]}}catch(P){i={error:P}}finally{try{A&&!A.done&&(a=C.return)&&a.call(C)}finally{if(i)throw i.error}}return kq.decode(w,s,u,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new fn}for(var o=0;o<n;o++)e[o]=r[o]},t})(),Mq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Bq=(function(t){Mq(e,t);function e(n,r,o){var i=t.call(this,n,r)||this;return i.estimatedModuleSize=o,i}return e.prototype.aboutEquals=function(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,o){var i=(this.getX()+r)/2,a=(this.getY()+n)/2,s=(this.estimatedModuleSize+o)/2;return new e(i,a,s)},e})(Re),Lq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fq=(function(){function t(e,n,r,o,i,a,s){this.image=e,this.startX=n,this.startY=r,this.width=o,this.height=i,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,o=e+r,i=this.startY+n/2,a=new Int32Array(3),s=this.image,u=0;u<n;u++){var f=i+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var d=e;d<o&&!s.get(d,f);)d++;for(var h=0;d<o;){if(s.get(d,f))if(h===1)a[1]++;else if(h===2){if(this.foundPatternCross(a)){var m=this.handlePossibleCenter(a,f,d);if(m!==null)return m}a[0]=a[2],a[1]=1,a[2]=0,h=1}else a[++h]++;else h===1&&h++,a[h]++;d++}if(this.foundPatternCross(a)){var m=this.handlePossibleCenter(a,f,o);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,o=0;o<3;o++)if(Math.abs(n-e[o])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,o){var i=this.image,a=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&i.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!i.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===a||s[1]>r)return NaN;for(;u<a&&!i.get(n,u)&&s[2]<=r;)s[2]++,u++;if(s[2]>r)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-o)>=2*o?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var o,i,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,s,2*e[1],a);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=Lq(this.possibleCenters),h=d.next();!h.done;h=d.next()){var m=h.value;if(m.aboutEquals(f,u,s))return m.combineEstimate(u,s,f)}}catch(b){o={error:b}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}var g=new Bq(s,u,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null},t})(),jq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zq=(function(t){jq(e,t);function e(n,r,o,i){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=o,a.count=i,i===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,o){var i=this.count+1,a=(this.count*this.getX()+r)/i,s=(this.count*this.getY()+n)/i,u=(this.count*this.estimatedModuleSize+o)/i;return new e(a,s,u,i)},e})(Re),$q=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),lu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uq=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(Ft.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ft.PURE_BARCODE)!==void 0,o=this.image,i=o.getHeight(),a=o.getWidth(),s=Math.floor(3*i/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var u=!1,f=new Int32Array(5),d=s-1;d<i&&!u;d+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var h=0,m=0;m<a;m++)if(o.get(m,d))(h&1)===1&&h++,f[h]++;else if((h&1)===0)if(h===4)if(t.foundPatternCross(f)){var g=this.handlePossibleCenter(f,d,m,r);if(g===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>f[2]&&(d+=b-f[2]-s,m=a-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,h=3;continue}h=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,h=3;else f[++h]++;else f[h]++;if(t.foundPatternCross(f)){var g=this.handlePossibleCenter(f,d,a,r);g===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Re.orderBestPatterns(w),new $q(w)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var o=e[r];if(o===0)return!1;n+=o}if(n<7)return!1;var i=n/7,a=i/2;return Math.abs(i-e[0])<a&&Math.abs(i-e[1])<a&&Math.abs(3*i-e[2])<3*a&&Math.abs(i-e[3])<a&&Math.abs(i-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,o){for(var i=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)i[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&i[1]<=r;)i[1]++,a++;if(e<a||n<a||i[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&i[0]<=r;)i[0]++,a++;if(i[0]>r)return!1;var u=s.getHeight(),f=s.getWidth();for(a=1;e+a<u&&n+a<f&&s.get(n+a,e+a);)i[2]++,a++;if(e+a>=u||n+a>=f)return!1;for(;e+a<u&&n+a<f&&!s.get(n+a,e+a)&&i[3]<r;)i[3]++,a++;if(e+a>=u||n+a>=f||i[3]>=r)return!1;for(;e+a<u&&n+a<f&&s.get(n+a,e+a)&&i[4]<r;)i[4]++,a++;if(i[4]>=r)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-o)<2*o&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,n,r,o){for(var i=this.image,a=i.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&i.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(n,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!i.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&i.get(n,u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-o)>=2*o?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,o){for(var i=this.image,a=i.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&i.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(u,n);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!i.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&i.get(u,n)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-o)>=o?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,o){var i=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],i);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],i),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],i)))){for(var u=i/7,f=!1,d=this.possibleCenters,h=0,m=d.length;h<m;h++){var g=d[h];if(g.aboutEquals(u,s,a)){d[h]=g.combineEstimate(s,a,u),f=!0;break}}if(!f){var b=new zq(a,s,u);d.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var o=null;try{for(var i=lu(this.possibleCenters),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM)if(o==null)o=s;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-s.getX())-Math.abs(o.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,o,i=0,a=0,s=this.possibleCenters.length;try{for(var u=lu(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;d.getCount()>=t.CENTER_QUORUM&&(i++,a+=d.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(i<3)return!1;var h=a/s,m=0;try{for(var g=lu(this.possibleCenters),b=g.next();!b.done;b=g.next()){var d=b.value;m+=Math.abs(d.getEstimatedModuleSize()-h)}}catch(w){r={error:w}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}return m<=.05*a},t.prototype.selectBestPatterns=function(){var e,n,r,o,i=this.possibleCenters.length;if(i<3)throw new oe;var a=this.possibleCenters,s;if(i>3){var u=0,f=0;try{for(var d=lu(this.possibleCenters),h=d.next();!h.done;h=d.next()){var m=h.value,g=m.getEstimatedModuleSize();u+=g,f+=g*g}}catch(O){e={error:O}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}s=u/i;var b=Math.sqrt(f/i-s*s);a.sort(function(O,P){var R=Math.abs(P.getEstimatedModuleSize()-s),k=Math.abs(O.getEstimatedModuleSize()-s);return R<k?-1:R>k?1:0});for(var w=Math.max(.2*s,b),_=0;_<a.length&&a.length>3;_++){var C=a[_];Math.abs(C.getEstimatedModuleSize()-s)>w&&(a.splice(_,1),_--)}}if(a.length>3){var u=0;try{for(var A=lu(a),I=A.next();!I.done;I=A.next()){var T=I.value;u+=T.getEstimatedModuleSize()}}catch(P){r={error:P}}finally{try{I&&!I.done&&(o=A.return)&&o.call(A)}finally{if(r)throw r.error}}s=u/a.length,a.sort(function(P,R){if(R.getCount()===P.getCount()){var k=Math.abs(R.getEstimatedModuleSize()-s),$=Math.abs(P.getEstimatedModuleSize()-s);return k<$?1:k>$?-1:0}else return R.getCount()-P.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),Hq=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ft.NEED_RESULT_POINT_CALLBACK);var n=new Uq(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),o=e.getBottomLeft(),i=this.calculateModuleSize(n,r,o);if(i<1)throw new oe("No pattern found in proccess finder.");var a=t.computeDimension(n,r,o,i),s=Va.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var d=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),m=1-3/u,g=Math.floor(n.getX()+m*(d-n.getX())),b=Math.floor(n.getY()+m*(h-n.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(i,g,b,w);break}catch(I){if(!(I instanceof oe))throw I}var _=t.createTransform(n,r,o,f,a),C=t.sampleGrid(this.image,_,a),A;return f===null?A=[o,n,r]:A=[o,n,r,f],new xv(C,A)},t.createTransform=function(e,n,r,o,i){var a=i-3.5,s,u,f,d;return o!==null?(s=o.getX(),u=o.getY(),f=a-3,d=f):(s=n.getX()-e.getX()+r.getX(),u=n.getY()-e.getY()+r.getY(),f=a,d=a),EC.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,f,d,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),s,u,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var o=wv.getInstance();return o.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,o){var i=xt.round(Re.distance(e,n)/o),a=xt.round(Re.distance(e,r)/o),s=Math.floor((i+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new oe("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,o){var i=this.sizeOfBlackWhiteBlackRun(e,n,r,o),a=1,s=e-(r-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(n-(o-n)*a);return a=1,u<0?(a=n/(n-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),i+=this.sizeOfBlackWhiteBlackRun(e,n,s,u),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,o){var i=Math.abs(o-n)>Math.abs(r-e);if(i){var a=e;e=n,n=a,a=r,r=o,o=a}for(var s=Math.abs(r-e),u=Math.abs(o-n),f=-s/2,d=e<r?1:-1,h=n<o?1:-1,m=0,g=r+d,b=e,w=n;b!==g;b+=d){var _=i?w:b,C=i?b:w;if(m===1===this.image.get(_,C)){if(m===2)return xt.distance(b,w,e,n);m++}if(f+=u,f>0){if(w===o)break;w+=h,f-=s}}return m===2?xt.distance(r+d,o,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,o){var i=Math.floor(o*e),a=Math.max(0,n-i),s=Math.min(this.image.getWidth()-1,n+i);if(s-a<e*3)throw new oe("Alignment top exceeds estimated module size.");var u=Math.max(0,r-i),f=Math.min(this.image.getHeight()-1,r+i);if(f-u<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var d=new Fq(this.image,a,u,s-a,f-u,e,this.resultPointCallback);return d.find()},t})(),o0=(function(){function t(){this.decoder=new Dq}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,o;if(n!=null&&n.get(Ft.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),o=t.NO_POINTS}else{var a=new Hq(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),o=a.getPoints()}r.getOther()instanceof TC&&r.getOther().applyMirroredCorrection(o);var s=new Zn(r.getText(),r.getRawBytes(),void 0,o,Ue.QR_CODE,void 0),u=r.getByteSegments();u!==null&&s.putMetadata(jn.BYTE_SEGMENTS,u);var f=r.getECLevel();return f!==null&&s.putMetadata(jn.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(s.putMetadata(jn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(jn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new oe;var o=this.moduleSize(n,e),i=n[1],a=r[1],s=n[0],u=r[0];if(s>=u||i>=a)throw new oe;if(a-i!==u-s&&(u=s+(a-i),u>=e.getWidth()))throw new oe;var f=Math.round((u-s+1)/o),d=Math.round((a-i+1)/o);if(f<=0||d<=0)throw new oe;if(d!==f)throw new oe;var h=Math.floor(o/2);i+=h,s+=h;var m=s+Math.floor((f-1)*o)-u;if(m>0){if(m>h)throw new oe;s-=m}var g=i+Math.floor((d-1)*o)-a;if(g>0){if(g>h)throw new oe;i-=g}for(var b=new Vo(f,d),w=0;w<d;w++)for(var _=i+Math.floor(w*o),C=0;C<f;C++)e.get(s+Math.floor(C*o),_)&&b.set(C,w);return b},t.moduleSize=function(e,n){for(var r=n.getHeight(),o=n.getWidth(),i=e[0],a=e[1],s=!0,u=0;i<o&&a<r;){if(s!==n.get(i,a)){if(++u===5)break;s=!s}i++,a++}if(i===o||a===r)throw new oe;return(i-e[0])/7},t.NO_POINTS=new Array,t})(),Vq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return xt.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var o=new Int32Array(e.length),i=0;try{for(var a=Vq(e),s=a.next();!s.done;s=a.next()){var u=s.value;o[i++]=u}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},t.getCodeword=function(e){var n=Cn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),Gq=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),Wq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zq=(function(){function t(){}return t.detectMultiple=function(e,n,r){var o=e.getBlackMatrix(),i=t.detect(r,o);return i.length||(o=o.clone(),o.rotate180(),i=t.detect(r,o)),new Gq(o,i)},t.detect=function(e,n){for(var r,o,i=new Array,a=0,s=0,u=!1;a<n.getHeight();){var f=t.findVertices(n,a,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var d=(r=void 0,Wq(i)),h=d.next();!h.done;h=d.next()){var m=h.value;m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())))}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}a+=t.ROW_STEP;continue}if(u=!0,i.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return i},t.findVertices=function(e,n,r){var o=e.getHeight(),i=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,o,i,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,o,i,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,n,r){for(var o=0;o<r.length;o++)e[r[o]]=n[o]},t.findRowsWithPattern=function(e,n,r,o,i,a){for(var s=new Array(4),u=!1,f=new Int32Array(a.length);o<n;o+=t.ROW_STEP){var d=t.findGuardPattern(e,i,o,r,!1,a,f);if(d!=null){for(;o>0;){var h=t.findGuardPattern(e,i,--o,r,!1,a,f);if(h!=null)d=h;else{o++;break}}s[0]=new Re(d[0],o),s[1]=new Re(d[1],o),u=!0;break}}var m=o+1;if(u){for(var g=0,h=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);m<n;m++){var d=t.findGuardPattern(e,h[0],m,r,!1,a,f);if(d!=null&&Math.abs(h[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-d[1])<t.MAX_PATTERN_DRIFT)h=d,g=0;else{if(g>t.SKIPPED_ROW_COUNT_MAX)break;g++}}m-=g+1,s[2]=new Re(h[0],m),s[3]=new Re(h[1],m)}return m-o<t.BARCODE_MIN_HEIGHT&&Cn.fill(s,null),s},t.findGuardPattern=function(e,n,r,o,i,a,s){Cn.fillWithin(s,0,s.length,0);for(var u=n,f=0;e.get(u,r)&&u>0&&f++<t.MAX_PIXEL_DRIFT;)u--;for(var d=u,h=0,m=a.length,g=i;d<o;d++){var b=e.get(d,r);if(b!==g)s[h]++;else{if(h===m-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,d]);u+=s[0]+s[1],Lt.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,g=!g}}return h===m-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,d-1]):null},t.patternMatchVariance=function(e,n,r){for(var o=e.length,i=0,a=0,s=0;s<o;s++)i+=e[s],a+=n[s];if(i<a)return 1/0;var u=i/a;r*=u;for(var f=0,d=0;d<o;d++){var h=e[d],m=n[d]*u,g=h>m?h-m:m-h;if(g>r)return 1/0;f+=g}return f/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),Xq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ja=(function(){function t(e,n){if(n.length===0)throw new He;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var o=1;o<r&&n[o]===0;)o++;o===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-o),Lt.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var o=0;try{for(var i=Xq(this.coefficients),a=i.next();!a.done;a=i.next()){var s=a.value;o=this.field.add(o,s)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}for(var u=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)u=this.field.add(this.field.multiply(e,u),this.coefficients[d]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new He("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;Lt.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=this.field.add(n[s-a],r[s]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new He("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new He("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,a=new Int32Array(r+i-1),s=0;s<r;s++)for(var u=n[s],f=0;f<i;f++)a[s+f]=this.field.add(a[s+f],this.field.multiply(u,o[f]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new He;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+e),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new t(this.field,o)},t.prototype.toString=function(){for(var e=new ot,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),qq=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new He;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new wC;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),Kq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Yq=(function(t){Kq(e,t);function e(n,r){var o=t.call(this)||this;o.modulus=n,o.expTable=new Int32Array(n),o.logTable=new Int32Array(n);for(var i=1,a=0;a<n;a++)o.expTable[a]=i,i=i*r%n;for(var a=0;a<n-1;a++)o.logTable[o.expTable[a]]=a;return o.zero=new ja(o,new Int32Array([0])),o.one=new ja(o,new Int32Array([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new He;if(r===0)return this.zero;var o=new Int32Array(n+1);return o[0]=r,new ja(this,o)},e.PDF417_GF=new e(gt.NUMBER_OF_CODEWORDS,3),e})(qq),Jq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qq=(function(){function t(){this.field=Yq.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var o,i,a=new ja(this.field,e),s=new Int32Array(n),u=!1,f=n;f>0;f--){var d=a.evaluateAt(this.field.exp(f));s[n-f]=d,d!==0&&(u=!0)}if(!u)return 0;var h=this.field.getOne();if(r!=null)try{for(var m=Jq(r),g=m.next();!g.done;g=m.next()){var b=g.value,w=this.field.exp(e.length-1-b),_=new ja(this.field,new Int32Array([this.field.subtract(0,w),1]));h=h.multiply(_)}}catch(k){o={error:k}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}for(var C=new ja(this.field,s),A=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),C,n),I=A[0],T=A[1],O=this.findErrorLocations(I),P=this.findErrorMagnitudes(T,I,O),f=0;f<O.length;f++){var R=e.length-1-this.field.log(O[f]);if(R<0)throw fn.getChecksumInstance();e[R]=this.field.subtract(e[R],P[f])}return O.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var o=e;e=n,n=o}for(var i=e,a=n,s=this.field.getZero(),u=this.field.getOne();a.getDegree()>=Math.round(r/2);){var f=i,d=s;if(i=a,s=u,i.isZero())throw fn.getChecksumInstance();a=f;for(var h=this.field.getZero(),m=i.getCoefficient(i.getDegree()),g=this.field.inverse(m);a.getDegree()>=i.getDegree()&&!a.isZero();){var b=a.getDegree()-i.getDegree(),w=this.field.multiply(a.getCoefficient(a.getDegree()),g);h=h.add(this.field.buildMonomial(b,w)),a=a.subtract(i.multiplyByMonomial(b,w))}u=h.multiply(s).subtract(d).negative()}var _=u.getCoefficient(0);if(_===0)throw fn.getChecksumInstance();var C=this.field.inverse(_),A=u.multiply(C),I=a.multiply(C);return[A,I]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),o=0,i=1;i<this.field.getSize()&&o<n;i++)e.evaluateAt(i)===0&&(r[o]=this.field.inverse(i),o++);if(o!==n)throw fn.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var o=n.getDegree(),i=new Int32Array(o),a=1;a<=o;a++)i[o-a]=this.field.multiply(a,n.getCoefficient(a));for(var s=new ja(this.field,i),u=r.length,f=new Int32Array(u),a=0;a<u;a++){var d=this.field.inverse(r[a]),h=this.field.subtract(0,e.evaluateAt(d)),m=this.field.inverse(s.evaluateAt(d));f[a]=this.field.multiply(h,m)}return f},t})(),Ig=(function(){function t(e,n,r,o,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,o,i)}return t.prototype.constructor_1=function(e,n,r,o,i){var a=n==null||r==null,s=o==null||i==null;if(a&&s)throw new oe;a?(n=new Re(0,o.getY()),r=new Re(0,i.getY())):s&&(o=new Re(e.getWidth()-1,n.getY()),i=new Re(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=o,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(o.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var o=this.topLeft,i=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var d=new Re(u.getX(),f);r?o=d:a=d}if(n>0){var h=r?this.bottomLeft:this.bottomRight,m=Math.trunc(h.getY()+n);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);var g=new Re(h.getX(),m);r?i=g:s=g}return new t(this.image,o,i,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),eK=(function(){function t(e,n,r,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),_v=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function o(a,s,u,f,d,h){if(a==="%%")return"%";if(n[++r]!==void 0){a=f?parseInt(f.substr(1)):void 0;var m=d?parseInt(d.substr(1)):void 0,g;switch(h){case"s":g=n[r];break;case"c":g=n[r][0];break;case"f":g=parseFloat(n[r]).toFixed(a);break;case"p":g=parseFloat(n[r]).toPrecision(a);break;case"e":g=parseFloat(n[r]).toExponential(a);break;case"x":g=parseInt(n[r]).toString(m||16);break;case"d":g=parseFloat(parseInt(n[r],m||10).toPrecision(a)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(m);for(var b=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";g.length<b;)g=s!==void 0?g+w:w+g;return g}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,o)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),tK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NC=(function(){function t(e){this.boundingBox=new Ig(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(e)-r;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+r,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new _v,o=0;try{for(var i=tK(this.codewords),a=i.next();!a.done;a=i.next()){var s=a.value;if(s==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),nK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rK=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},mu=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,o=new Array,i=function(h,m){var g={getKey:function(){return h},getValue:function(){return m}};g.getValue()>r?(r=g.getValue(),o=[],o.push(g.getKey())):g.getValue()===r&&o.push(g.getKey())};try{for(var a=nK(this.values.entries()),s=a.next();!s.done;s=a.next()){var u=rK(s.value,2),f=u[0],d=u[1];i(f,d)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return gt.toIntArray(o)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),oK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),im=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sw=(function(t){oK(e,t);function e(n,r){var o=t.call(this,n)||this;return o._isLeft=r,o}return e.prototype.setRowNumbers=function(){var n,r;try{for(var o=im(this.getCodewords()),i=o.next();!i.done;i=o.next()){var a=i.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var o=this.getBoundingBox(),i=this._isLeft?o.getTopLeft():o.getTopRight(),a=this._isLeft?o.getBottomLeft():o.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=-1,d=1,h=0,m=s;m<u;m++)if(r[m]!=null){var g=r[m],b=g.getRowNumber()-f;if(b===0)h++;else if(b===1)d=Math.max(d,h),h=1,f=g.getRowNumber();else if(b<0||g.getRowNumber()>=n.getRowCount()||b>m)r[m]=null;else{var w=void 0;d>2?w=(d-2)*b:w=b;for(var _=w>=m,C=1;C<=w&&!_;C++)_=r[m-C]!=null;_?r[m]=null:(f=g.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var n,r,o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);var i=new Int32Array(o.getRowCount());try{for(var a=im(this.getCodewords()),s=a.next();!s.done;s=a.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=i.length)continue;i[f]++}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.getCodewords(),f=-1,d=a;d<s;d++)if(u[d]!=null){var h=u[d];h.setRowNumberAsRowIndicatorColumn();var m=h.getRowNumber()-f;m===0||(m===1?f=h.getRowNumber():h.getRowNumber()>=n.getRowCount()?u[d]=null:f=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,o=this.getCodewords(),i=new mu,a=new mu,s=new mu,u=new mu;try{for(var f=im(o),d=f.next();!d.done;d=f.next()){var h=d.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var m=h.getValue()%30,g=h.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(m*3+1);break;case 1:u.setValue(m/3),s.setValue(m%3);break;case 2:i.setValue(m+1);break}}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(i.getValue().length===0||a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<gt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>gt.MAX_ROWS_IN_BARCODE)return null;var b=new eK(i.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(o,b),b},e.prototype.removeIncorrectCodewords=function(n,r){for(var o=0;o<n.length;o++){var i=n[o];if(n[o]!=null){var a=i.getValue()%30,s=i.getRowNumber();if(s>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:a+1!==r.getColumnCount()&&(n[o]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(NC),iK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aK=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=gt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),o=0;o<r.length;o++)r[o]!=null&&(r[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var o=1;o<=this.barcodeColumnCount;o++){var i=this.detectionResultColumns[o].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var o=n[r].getRowNumber(),i=0,a=this.barcodeColumnCount+1;a>0&&i<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];s!=null&&(i=t.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var o=n[r].getRowNumber(),i=0,a=1;a<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];s!=null&&(i=t.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var o,i;if(this.detectionResultColumns[e-1]!=null){var a=r[n],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[n],f[3]=u[n],n>0&&(f[0]=r[n-1],f[4]=s[n-1],f[5]=u[n-1]),n>1&&(f[8]=r[n-2],f[10]=s[n-2],f[11]=u[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=s[n+1],f[7]=u[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=s[n+2],f[13]=u[n+2]);try{for(var d=iK(f),h=d.next();!h.done;h=d.next()){var m=h.value;if(t.adjustRowNumber(a,m))return}}catch(g){o={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new _v,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}var i=this.detectionResultColumns[o].getCodewords()[r];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()},t})(),sK=(function(){function t(e,n,r,o){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),cK=(function(){function t(){}return t.initialize=function(){for(var e=0;e<gt.SYMBOL_TABLE.length;e++)for(var n=gt.SYMBOL_TABLE[e],r=n&1,o=0;o<gt.BARS_IN_MODULE;o++){for(var i=0;(n&1)===r;)i+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(gt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][gt.BARS_IN_MODULE-o-1]=Math.fround(i/gt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=xt.sum(e),r=new Int32Array(gt.BARS_IN_MODULE),o=0,i=0,a=0;a<gt.MODULES_IN_CODEWORD;a++){var s=n/(2*gt.MODULES_IN_CODEWORD)+a*n/gt.MODULES_IN_CODEWORD;i+e[o]<=s&&(i+=e[o],o++),r[o]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return gt.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var o=0;o<e[r];o++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=xt.sum(e),r=new Array(gt.BARS_IN_MODULE);if(n>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(e[o]/n);var i=Cg.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,f=t.RATIOS_TABLE[s],d=0;d<gt.BARS_IN_MODULE;d++){var h=Math.fround(f[d]-r[d]);if(u+=Math.fround(h*h),u>=i)break}u<i&&(i=u,a=gt.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(gt.SYMBOL_TABLE.length).map(function(e){return new Array(gt.BARS_IN_MODULE)}),t})(),uK=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),Iw=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),lK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fK=(function(t){lK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(wr),dK=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new fK;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new bv;if(r===0)return;for(var o=0;o<r;o++)this.write(e[n+o])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),hK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pK=(function(t){hK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(wr),mK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gK=(function(t){mK(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new He("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,o=r<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new pK;o=st.MAX_VALUE}this.buf=Cn.copyOfUint8Array(this.buf,o)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new bv;this.ensureCapacity(this.count+o),Lt.arraycopy(n,r,this.buf,this.count,o),this.count+=o},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Cn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(dK),Pt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pt||(Pt={}));function OC(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var sd;function ea(t){if(typeof sd>"u"&&(sd=OC()),sd===null)throw new Error("BigInt is not supported!");return sd(t)}function yK(){var t=[];t[0]=ea(1);var e=ea(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var vK=(function(){function t(){}return t.decode=function(e,n){var r=new ot(""),o=_n.ISO8859_1;r.enableDecoding(o);for(var i=1,a=e[i++],s=new uK;i<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(a,e,o,i,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,r);break;case t.ECI_CHARSET:_n.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new be;default:i--,i=t.textCompaction(e,i,r);break}if(i<e.length)a=e[i++];else throw be.getFormatInstance()}if(r.length()===0)throw be.getFormatInstance();var u=new h1(null,r.toString(),null,n);return u.setOther(s),u},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw be.getFormatInstance();for(var o=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)o[i]=e[n];r.setSegmentIndex(st.parseInt(t.decodeBase900toBase10(o,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new ot;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new ot;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new ot;n=t.textCompaction(e,n+1,f),r.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new ot;n=t.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new ot;n=t.numericCompaction(e,n+1,h),r.setSegmentCount(st.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var m=new ot;n=t.numericCompaction(e,n+1,m),r.setTimestamp(Iw.parseLong(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var g=new ot;n=t.numericCompaction(e,n+1,g),r.setChecksum(st.parseInt(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new ot;n=t.numericCompaction(e,n+1,b),r.setFileSize(Iw.parseLong(b.toString()));break;default:throw be.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw be.getFormatInstance()}if(s!==-1){var w=n-s;r.isLastSegment()&&w--,r.setOptionalData(Cn.copyOfRange(e,s,s+w))}return n},t.textCompaction=function(e,n,r){for(var o=new Int32Array((e[0]-n)*2),i=new Int32Array((e[0]-n)*2),a=0,s=!1;n<e[0]&&!s;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)o[a]=u/30,o[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:o[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],i[a]=u,a++;break}}return t.decodeTextCompaction(o,i,a,r),n},t.decodeTextCompaction=function(e,n,r,o){for(var i=Pt.ALPHA,a=Pt.ALPHA,s=0;s<r;){var u=e[s],f="";switch(i){case Pt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.LL:i=Pt.LOWER;break;case t.ML:i=Pt.MIXED;break;case t.PS:a=i,i=Pt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pt.ALPHA;break}break;case Pt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case t.AS:a=i,i=Pt.ALPHA_SHIFT;break;case t.ML:i=Pt.MIXED;break;case t.PS:a=i,i=Pt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pt.ALPHA;break}break;case Pt.MIXED:if(u<t.PL)f=t.MIXED_CHARS[u];else switch(u){case t.PL:i=Pt.PUNCT;break;case 26:f=" ";break;case t.LL:i=Pt.LOWER;break;case t.AL:i=Pt.ALPHA;break;case t.PS:a=i,i=Pt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pt.ALPHA;break}break;case Pt.PUNCT:if(u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=Pt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pt.ALPHA;break}break;case Pt.ALPHA_SHIFT:if(i=a,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pt.ALPHA;break}break;case Pt.PUNCT_SHIFT:if(i=a,u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=Pt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pt.ALPHA;break}break}f!==""&&o.append(f),s++}},t.byteCompaction=function(e,n,r,o,i){var a=new gK,s=0,u=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),h=n[o++];o<n[0]&&!f;)switch(d[s++]=h,u=900*u+h,h=n[o++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,f=!0;break;default:if(s%5===0&&s>0){for(var m=0;m<6;++m)a.write(Number(ea(u)>>ea(8*(5-m))));u=0,s=0}break}o===n[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=h);for(var g=0;g<s;g++)a.write(d[g]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!f;){var b=n[o++];if(b<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+b;else switch(b){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,f=!0;break}if(s%5===0&&s>0){for(var m=0;m<6;++m)a.write(Number(ea(u)>>ea(8*(5-m))));u=0,s=0}}break}return i.append(Wr.decode(a.toByteArray(),r)),o},t.numericCompaction=function(e,n,r){for(var o=0,i=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!i;){var s=e[n++];if(n===e[0]&&(i=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[o]=s,o++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(o%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(r.append(t.decodeBase900toBase10(a,o)),o=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=ea(0),o=0;o<n;o++)r+=t.EXP900[n-o-1]*ea(e[o]);var i=r.toString();if(i.charAt(0)!=="1")throw new be;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=OC()?yK():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),fu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bK=(function(){function t(){}return t.decode=function(e,n,r,o,i,a,s){for(var u=new Ig(e,n,r,o,i),f=null,d=null,h,m=!0;;m=!1){if(n!=null&&(f=t.getRowIndicatorColumn(e,u,n,!0,a,s)),o!=null&&(d=t.getRowIndicatorColumn(e,u,o,!1,a,s)),h=t.merge(f,d),h==null)throw oe.getNotFoundInstance();var g=h.getBoundingBox();if(m&&g!=null&&(g.getMinY()<u.getMinY()||g.getMaxY()>u.getMaxY()))u=g;else break}h.setBoundingBox(u);var b=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,f),h.setDetectionResultColumn(b,d);for(var w=f!=null,_=1;_<=b;_++){var C=w?_:b-_;if(h.getDetectionResultColumn(C)===void 0){var A=void 0;C===0||C===b?A=new Sw(u,C===0):A=new NC(u),h.setDetectionResultColumn(C,A);for(var I=-1,T=I,O=u.getMinY();O<=u.getMaxY();O++){if(I=t.getStartColumn(h,C,O,w),I<0||I>u.getMaxX()){if(T===-1)continue;I=T}var P=t.detectCodeword(e,u.getMinX(),u.getMaxX(),w,I,O,a,s);P!=null&&(A.setCodeword(O,P),T=I,a=Math.min(a,P.getWidth()),s=Math.max(s,P.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var o=Ig.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new aK(r,o)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var o=e.getRowHeights();if(o==null)return null;var i=t.getMax(o),a=0;try{for(var s=fu(o),u=s.next();!u.done;u=s.next()){var f=u.value;if(a+=i-f,f>0)break}}catch(g){n={error:g}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var d=e.getCodewords(),h=0;a>0&&d[h]==null;h++)a--;for(var m=0,h=o.length-1;h>=0&&(m+=i-o[h],!(o[h]>0));h--);for(var h=d.length-1;m>0&&d[h]==null;h--)m--;return e.getBoundingBox().addMissingRows(a,m,e.isLeft())},t.getMax=function(e){var n,r,o=-1;try{for(var i=fu(e),a=i.next();!a.done;a=i.next()){var s=a.value;o=Math.max(o,s)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var o;return n==null||(o=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==o.getColumnCount()&&r.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&r.getRowCount()!==o.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,o,i,a){for(var s=new Sw(n,o),u=0;u<2;u++)for(var f=u===0?1:-1,d=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=f){var m=t.detectCodeword(e,0,e.getWidth(),o,d,h,i,a);m!=null&&(s.setCodeword(h,m),o?d=m.getStartX():d=m.getEndX())}return s},t.adjustCodewordCount=function(e,n){var r=n[0][1],o=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(i<1||i>gt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();r.setValue(i)}else o[0]!==i&&r.setValue(i)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=n[s][u+1].getValue(),d=s*e.getBarcodeColumnCount()+u;f.length===0?r.push(d):f.length===1?o[d]=f[0]:(a.push(d),i.push(f))}for(var h=new Array(i.length),m=0;m<h.length;m++)h[m]=i[m];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,gt.toIntArray(r),gt.toIntArray(a),h)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,o,i){for(var a=new Int32Array(o.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)n[o[u]]=i[u][a[u]];try{return t.decodeCodewords(n,e,r)}catch(d){var f=d instanceof fn;if(!f)throw d}if(a.length===0)throw fn.getChecksumInstance();for(var u=0;u<a.length;u++)if(a[u]<i[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw fn.getChecksumInstance()}throw fn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,o,i,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var u=0;u<a[s].length;u++)a[s][u]=new mu;var f=0;try{for(var d=fu(e.getDetectionResultColumns()),h=d.next();!h.done;h=d.next()){var m=h.value;if(m!=null)try{for(var g=(o=void 0,fu(m.getCodewords())),b=g.next();!b.done;b=g.next()){var w=b.value;if(w!=null){var _=w.getRowNumber();if(_>=0){if(_>=a.length)continue;a[_][f].setValue(w.getValue())}}}}catch(C){o={error:C}}finally{try{b&&!b.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}f++}}catch(C){n={error:C}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return a},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,o){var i,a,s=o?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodeword(r)),u!=null)return o?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(r),u!=null)return o?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),u!=null)return o?u.getEndX():u.getStartX();for(var f=0;t.isValidBarcodeColumn(e,n-s);){n-=s;try{for(var d=(i=void 0,fu(e.getDetectionResultColumn(n).getCodewords())),h=d.next();!h.done;h=d.next()){var m=h.value;if(m!=null)return(o?m.getEndX():m.getStartX())+s*f*(m.getEndX()-m.getStartX())}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}f++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,o,i,a,s,u){i=t.adjustCodewordStartColumn(e,n,r,o,i,a);var f=t.getModuleBitCount(e,n,r,o,i,a);if(f==null)return null;var d,h=xt.sum(f);if(o)d=i+h;else{for(var m=0;m<f.length/2;m++){var g=f[m];f[m]=f[f.length-1-m],f[f.length-1-m]=g}d=i,i=d-h}if(!t.checkCodewordSkew(h,s,u))return null;var b=cK.getDecodedValue(f),w=gt.getCodeword(b);return w===-1?null:new sK(i,d,t.getCodewordBucketNumber(b),w)},t.getModuleBitCount=function(e,n,r,o,i,a){for(var s=i,u=new Int32Array(8),f=0,d=o?1:-1,h=o;(o?s<r:s>=n)&&f<u.length;)e.get(s,a)===h?(u[f]++,s+=d):(f++,h=!h);return f===u.length||s===(o?r:n)&&f===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,o,i,a){for(var s=i,u=o?-1:1,f=0;f<2;f++){for(;(o?s>=n:s<r)&&o===e.get(s,a);){if(Math.abs(i-s)>t.CODEWORD_SKEW_SIZE)return i;s+=u}u=-u,o=!o}return s},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw be.getFormatInstance();var o=1<<n+1,i=t.correctErrors(e,r,o);t.verifyCodewordCount(e,o);var a=vK.decode(e,""+n);return a.setErrorsCorrected(i),a.setErasures(r.length),a},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw fn.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw be.getFormatInstance();var r=e[0];if(r>e.length)throw be.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw be.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,o=n.length-1;!((e&1)!==r&&(r=e&1,o--,o<0));)n[o]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new _v,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var o=0;o<e[r].length;o++){var i=e[r][o];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Qq,t})(),xK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i0=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw oe.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof be||r instanceof fn?oe.getNotFoundInstance():r}},t.decode=function(e,n,r){var o,i,a=new Array,s=Zq.detectMultiple(e,n,r);try{for(var u=xK(s.getPoints()),f=u.next();!f.done;f=u.next()){var d=f.value,h=bK.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),m=new Zn(h.getText(),h.getRawBytes(),void 0,d,Ue.PDF_417);m.putMetadata(jn.ERROR_CORRECTION_LEVEL,h.getECLevel());var g=h.getOther();g!=null&&m.putMetadata(jn.PDF417_EXTRA_METADATA,g),a.push(m)}}catch(b){o={error:b}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return a.map(function(b){return b})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?st.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),wK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Tw=(function(t){wK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(wr),Nw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PC=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(Ft.TRY_HARDER)!==void 0,r=e==null?null:e.get(Ft.POSSIBLE_FORMATS),o=new Array;if(r!=null){var i=r.some(function(a){return a===Ue.UPC_A||a===Ue.UPC_E||a===Ue.EAN_13||a===Ue.EAN_8||a===Ue.CODABAR||a===Ue.CODE_39||a===Ue.CODE_93||a===Ue.CODE_128||a===Ue.ITF||a===Ue.RSS_14||a===Ue.RSS_EXPANDED});i&&!n&&o.push(new Ls(e)),r.includes(Ue.QR_CODE)&&o.push(new o0),r.includes(Ue.DATA_MATRIX)&&o.push(new r0),r.includes(Ue.AZTEC)&&o.push(new t0),r.includes(Ue.PDF_417)&&o.push(new i0),i&&n&&o.push(new Ls(e))}o.length===0&&(n||o.push(new Ls(e)),o.push(new o0),o.push(new r0),o.push(new t0),o.push(new i0),n&&o.push(new Ls(e))),this.readers=o},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=Nw(this.readers),o=r.next();!o.done;o=r.next()){var i=o.value;i.reset()}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new Tw("No readers where selected, nothing can be read.");try{for(var o=Nw(this.readers),i=o.next();!i.done;i=o.next()){var a=i.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof Tw)continue}}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t})(),EK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){EK(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var o=this,i=new PC;return i.setHints(n),o=t.call(this,i,r)||this,o}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Ec);var _K=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){_K(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new i0,n)||this}return e})(Ec);var CK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){CK(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new o0,n)||this}return e})(Ec);var Tg;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Tg||(Tg={}));const cd=Tg;var RC=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ra(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],o=this.field,i=n.length;i<=e;i++){var a=r.multiply(new ra(o,Int32Array.from([1,o.exp(i-1+o.getGeneratorBase())])));n.push(a),r=a}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new He("No error correction bytes");var r=e.length-n;if(r<=0)throw new He("No data bytes provided");var o=this.buildGenerator(n),i=new Int32Array(r);Lt.arraycopy(e,0,i,0,r);var a=new ra(this.field,i);a=a.multiplyByMonomial(n,1);for(var s=a.divide(o)[1],u=s.getCoefficients(),f=n-u.length,d=0;d<f;d++)e[r+d]=0;Lt.arraycopy(u,0,e,r+f,u.length)},t})(),gu=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i-1;a++)for(var s=r[a],u=0;u<o-1;u++){var f=s[u];f===s[u+1]&&f===r[a+1][u]&&f===r[a+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i;a++)for(var s=0;s<o;s++){var u=r[a];s+6<o&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&n++,a+6<i&&r[a][s]===1&&r[a+1][s]===0&&r[a+2][s]===1&&r[a+3][s]===1&&r[a+4][s]===1&&r[a+5][s]===0&&r[a+6][s]===1&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var o=n;o<r;o++)if(e[o]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(var i=r;i<o;i++)if(e[i][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i;a++)for(var s=r[a],u=0;u<o;u++)s[u]===1&&n++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(n*2-f)*10/f);return d*t.N4},t.getDataMaskBit=function(e,n,r){var o,i;switch(e){case 0:o=r+n&1;break;case 1:o=r&1;break;case 2:o=n%3;break;case 3:o=(r+n)%3;break;case 4:o=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:i=r*n,o=(i&1)+i%3;break;case 6:i=r*n,o=(i&1)+i%3&1;break;case 7:i=r*n,o=i%3+(r+n&1)&1;break;default:throw new He("Invalid mask pattern: "+e)}return o===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,o=n?e.getHeight():e.getWidth(),i=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<o;s++){for(var u=0,f=-1,d=0;d<i;d++){var h=n?a[s][d]:a[d][s];h===f?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,f=h)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),AK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SK=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),o=0;o!==n;o++)r[o]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var o=AK(this.bytes),i=o.next();!i.done;i=o.next()){var a=i.value;Cn.fill(a,e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,o=this.height;r<o;++r)for(var i=this.bytes[r],a=n.bytes[r],s=0,u=this.width;s<u;++s)if(i[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new ot,n=0,r=this.height;n<r;++n){for(var o=this.bytes[n],i=0,a=this.width;i<a;++i)switch(o[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),Ng=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new ot;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),IK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ut=(function(t){IK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(wr),Ow=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,o,i){t.clearMatrix(i),t.embedBasicPatterns(r,i),t.embedTypeInfo(n,o,i),t.maybeEmbedVersionInfo(r,i),t.embedDataBits(e,o,i)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var o=new kn;t.makeTypeInfoBits(e,n,o);for(var i=0,a=o.getSize();i<a;++i){var s=o.get(o.getSize()-1-i),u=t.TYPE_INFO_COORDINATES[i],f=u[0],d=u[1];if(r.setBoolean(f,d,s),i<8){var h=r.getWidth()-i-1,m=8;r.setBoolean(h,m,s)}else{var h=8,m=r.getHeight()-7+(i-8);r.setBoolean(h,m,s)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new kn;t.makeVersionInfoBits(e,r);for(var o=17,i=0;i<6;++i)for(var a=0;a<3;++a){var s=r.get(o);o--,n.setBoolean(i,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,i,s)}}},t.embedDataBits=function(e,n,r){for(var o=0,i=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var f=a-u;if(t.isEmpty(r.get(f,s))){var d=void 0;o<e.getSize()?(d=e.get(o),++o):d=!1,n!==255&&gu.getDataMaskBit(n,f,s)&&(d=!d),r.setBoolean(f,s,d)}}s+=i}i=-i,s+=i,a-=2}if(o!==e.getSize())throw new Ut("Not all bits consumed: "+o+"/"+e.getSize())},t.findMSBSet=function(e){return 32-st.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new He("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!Ng.isValidMaskPattern(n))throw new Ut("Invalid mask pattern");var o=e.getBits()<<3|n;r.appendBits(o,5);var i=t.calculateBCHCode(o,t.TYPE_INFO_POLY);r.appendBits(i,10);var a=new kn;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new Ut("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Ut("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ut;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var o=0;o<8;++o){if(!t.isEmpty(r.get(e+o,n)))throw new Ut;r.setNumber(e+o,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var o=0;o<7;++o){if(!t.isEmpty(r.get(e,n+o)))throw new Ut;r.setNumber(e,n+o,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var o=0;o<5;++o)for(var i=t.POSITION_ADJUSTMENT_PATTERN[o],a=0;a<5;++a)r.setNumber(e+a,n+o,i[a])},t.embedPositionDetectionPattern=function(e,n,r){for(var o=0;o<7;++o)for(var i=t.POSITION_DETECTION_PATTERN[o],a=0;a<7;++a)r.setNumber(e+a,n+o,i[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var o=7;t.embedVerticalSeparationPattern(o,0,e),t.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),t.embedVerticalSeparationPattern(o,e.getHeight()-o,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,o=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,a=o.length;i!==a;i++){var s=o[i];if(s>=0)for(var u=0;u!==a;u++){var f=o[u];f>=0&&t.isEmpty(n.get(f,s))&&t.embedPositionAdjustmentPattern(f-2,s-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),TK=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),Pw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return gu.applyMaskPenaltyRule1(e)+gu.applyMaskPenaltyRule2(e)+gu.applyMaskPenaltyRule3(e)+gu.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var o=t.DEFAULT_BYTE_MODE_ENCODING,i=r!==null&&r.get(cd.CHARACTER_SET)!==void 0;i&&(o=r.get(cd.CHARACTER_SET).toString());var a=this.chooseMode(e,o),s=new kn;if(a===Ht.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==o)){var u=_n.getCharacterSetECIByName(o);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(a,s);var f=new kn;this.appendBytes(e,a,f,o);var d;if(r!==null&&r.get(cd.QR_VERSION)!==void 0){var h=Number.parseInt(r.get(cd.QR_VERSION).toString(),10);d=Va.getVersionForNumber(h);var m=this.calculateBitsNeeded(a,s,f,d);if(!this.willFit(m,d,n))throw new Ut("Data too big for requested version")}else d=this.recommendVersion(n,a,s,f);var g=new kn;g.appendBitArray(s);var b=a===Ht.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,d,a,g),g.appendBitArray(f);var w=d.getECBlocksForLevel(n),_=d.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(_,g);var C=this.interleaveWithECBytes(g,d.getTotalCodewords(),_,w.getNumBlocks()),A=new Ng;A.setECLevel(n),A.setMode(a),A.setVersion(d);var I=d.getDimensionForVersion(),T=new SK(I,I),O=this.chooseMaskPattern(C,n,d,T);return A.setMaskPattern(O),Ow.buildMatrix(C,n,d,O,T),A.setMatrix(T),A},t.recommendVersion=function(e,n,r,o){var i=this.calculateBitsNeeded(n,r,o,Va.getVersionForNumber(1)),a=this.chooseVersion(i,e),s=this.calculateBitsNeeded(n,r,o,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,n,r,o){return n.getSize()+e.getCharacterCountBits(o)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),_n.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Ht.KANJI;for(var r=!1,o=!1,i=0,a=e.length;i<a;++i){var s=e.charAt(i);if(t.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)o=!0;else return Ht.BYTE}return o?Ht.ALPHANUMERIC:r?Ht.NUMERIC:Ht.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=Wr.encode(e,_n.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var o=0;o<r;o+=2){var i=n[o]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,o){for(var i=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<Ng.NUM_MASK_PATTERNS;s++){Ow.buildMatrix(e,n,r,s,o);var u=this.calculateMaskPenalty(o);u<i&&(i=u,a=s)}return a},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var o=Va.getVersionForNumber(r);if(t.willFit(e,o,n))return o}throw new Ut("Data too big")},t.willFit=function(e,n,r){var o=n.getTotalCodewords(),i=n.getECBlocksForLevel(r),a=i.getTotalECCodewords(),s=o-a,u=(e+7)/8;return s>=u},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Ut("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var o=0;o<4&&n.getSize()<r;++o)n.appendBit(!1);var i=n.getSize()&7;if(i>0)for(var o=i;o<8;o++)n.appendBit(!1);for(var a=e-n.getSizeInBytes(),o=0;o<a;++o)n.appendBits((o&1)===0?236:17,8);if(n.getSize()!==r)throw new Ut("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,o,i,a){if(o>=r)throw new Ut("Block ID too large");var s=e%r,u=r-s,f=Math.floor(e/r),d=f+1,h=Math.floor(n/r),m=h+1,g=f-h,b=d-m;if(g!==b)throw new Ut("EC bytes mismatch");if(r!==u+s)throw new Ut("RS blocks mismatch");if(e!==(h+g)*u+(m+b)*s)throw new Ut("Total bytes mismatch");o<u?(i[0]=h,a[0]=g):(i[0]=m,a[0]=b)},t.interleaveWithECBytes=function(e,n,r,o){var i,a,s,u;if(e.getSizeInBytes()!==r)throw new Ut("Number of bits and data bytes does not match");for(var f=0,d=0,h=0,m=new Array,g=0;g<o;++g){var b=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,o,g,b,w);var _=b[0],C=new Uint8Array(_);e.toBytes(8*f,C,0,_);var A=t.generateECBytes(C,w[0]);m.push(new TK(C,A)),d=Math.max(d,_),h=Math.max(h,A.length),f+=b[0]}if(r!==f)throw new Ut("Data bytes does not match offset");for(var I=new kn,g=0;g<d;++g)try{for(var T=(i=void 0,Pw(m)),O=T.next();!O.done;O=T.next()){var P=O.value,C=P.getDataBytes();g<C.length&&I.appendBits(C[g],8)}}catch(F){i={error:F}}finally{try{O&&!O.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}for(var g=0;g<h;++g)try{for(var R=(s=void 0,Pw(m)),k=R.next();!k.done;k=R.next()){var P=k.value,A=P.getErrorCorrectionBytes();g<A.length&&I.appendBits(A[g],8)}}catch(F){s={error:F}}finally{try{k&&!k.done&&(u=R.return)&&u.call(R)}finally{if(s)throw s.error}}if(n!==I.getSizeInBytes())throw new Ut("Interleaving error: "+n+" and "+I.getSizeInBytes()+" differ.");return I},t.generateECBytes=function(e,n){for(var r=e.length,o=new Int32Array(r+n),i=0;i<r;i++)o[i]=e[i]&255;new RC(pr.QR_CODE_FIELD_256).encode(o,n);for(var a=new Uint8Array(n),i=0;i<n;i++)a[i]=o[r+i];return a},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,o){var i=r.getCharacterCountBits(n);if(e>=1<<i)throw new Ut(e+" is bigger than "+((1<<i)-1));o.appendBits(e,i)},t.appendBytes=function(e,n,r,o){switch(n){case Ht.NUMERIC:t.appendNumericBytes(e,r);break;case Ht.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Ht.BYTE:t.append8BitBytes(e,r,o);break;case Ht.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Ut("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,o=0;o<r;){var i=t.getDigit(e.charAt(o));if(o+2<r){var a=t.getDigit(e.charAt(o+1)),s=t.getDigit(e.charAt(o+2));n.appendBits(i*100+a*10+s,10),o+=3}else if(o+1<r){var a=t.getDigit(e.charAt(o+1));n.appendBits(i*10+a,7),o+=2}else n.appendBits(i,4),o++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,o=0;o<r;){var i=t.getAlphanumericCode(e.charCodeAt(o));if(i===-1)throw new Ut;if(o+1<r){var a=t.getAlphanumericCode(e.charCodeAt(o+1));if(a===-1)throw new Ut;n.appendBits(i*45+a,11),o+=2}else n.appendBits(i,6),o++}},t.append8BitBytes=function(e,n,r){var o;try{o=Wr.encode(e,r)}catch(u){throw new Ut(u)}for(var i=0,a=o.length;i!==a;i++){var s=o[i];n.appendBits(s,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=Wr.encode(e,_n.SJIS)}catch(h){throw new Ut(h)}for(var o=r.length,i=0;i<o;i+=2){var a=r[i]&255,s=r[i+1]&255,u=a<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Ut("Invalid byte sequence");var d=(f>>8)*192+(f&255);n.appendBits(d,13)}},t.appendECI=function(e,n){n.appendBits(Ht.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=_n.UTF8.getName(),t})();var NK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){NK(e,t);function e(n,r,o,i,a,s,u,f){var d=t.call(this,s,u)||this;if(d.yuvData=n,d.dataWidth=r,d.dataHeight=o,d.left=i,d.top=a,i+s>r||a+u>o)throw new He("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(s,u),d}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new He("Requested row is outside the image: "+n);var o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));var i=(n+this.top)*this.dataWidth+this.left;return Lt.arraycopy(this.yuvData,i,r,0,o),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var o=n*r,i=new Uint8ClampedArray(o),a=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Lt.arraycopy(this.yuvData,a,i,0,o),i;for(var s=0;s<r;s++){var u=s*n;Lt.arraycopy(this.yuvData,a,i,u,n),a+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,i,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),i=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var u=s*n,f=0;f<n;f++){var d=i[a+f*e.THUMBNAIL_SCALE_FACTOR]&255;o[u+f]=4278190080|d*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return o},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var o=this.yuvData,i=0,a=this.top*this.dataWidth+this.left;i<r;i++,a+=this.dataWidth)for(var s=a+n/2,u=a,f=a+n-1;u<s;u++,f--){var d=o[u];o[u]=o[f],o[f]=d}},e.prototype.invert=function(){return new d1(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Rl);var OK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){OK(e,t);function e(n,r,o,i,a,s,u){var f=t.call(this,r,o)||this;if(f.dataWidth=i,f.dataHeight=a,f.left=s,f.top=u,n.BYTES_PER_ELEMENT===4){for(var d=r*o,h=new Uint8ClampedArray(d),m=0;m<d;m++){var g=n[m],b=g>>16&255,w=g>>7&510,_=g&255;h[m]=(b+w+_)/4&255}f.luminances=h}else f.luminances=n;if(i===void 0&&(f.dataWidth=r),a===void 0&&(f.dataHeight=o),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+o>f.dataHeight)throw new He("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new He("Requested row is outside the image: "+n);var o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));var i=(n+this.top)*this.dataWidth+this.left;return Lt.arraycopy(this.luminances,i,r,0,o),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var o=n*r,i=new Uint8ClampedArray(o),a=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Lt.arraycopy(this.luminances,a,i,0,o),i;for(var s=0;s<r;s++){var u=s*n;Lt.arraycopy(this.luminances,a,i,u,n),a+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return new e(this.luminances,o,i,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new d1(this)},e})(Rl);var PK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),RK=(function(t){PK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(_n),kK=(function(){function t(){}return t.ISO_8859_1=_n.ISO8859_1,t})(),Og,DK=301,MK=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=DK);return{LOG:t,ALOG:e}};Og=MK([],[]),Og.LOG;Og.ALOG;var Rw;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Rw||(Rw={}));var kw=129,kC=230,BK=231,LK=235,FK=236,jK=237,zK=238,$K=239,UK=240,am=254,HK=254,Dw="[)>05",Mw="[)>06",Bw="",Nt=0,Fn=1,tr=2,xn=3,On=4,Wn=5,VK=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Nt},t.prototype.encode=function(e){var n=uo.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),o=uo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode())switch(o){case Wn:e.writeCodeword(BK),e.signalEncoderChange(Wn);return;case Fn:e.writeCodeword(kC),e.signalEncoderChange(Fn);return;case xn:e.writeCodeword(zK),e.signalEncoderChange(xn);break;case tr:e.writeCodeword($K),e.signalEncoderChange(tr);break;case On:e.writeCodeword(UK),e.signalEncoderChange(On);break;default:throw new Error("Illegal mode: "+o)}else uo.isExtendedASCII(r)?(e.writeCodeword(LK),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(uo.isDigit(e)&&uo.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),GK=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Wn},t.prototype.encode=function(e){var n=new ot;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var o=uo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Nt);break}}var i=n.length()-1,a=1,s=e.getCodewordCount()+i+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(i<=249)n.setCharAt(0,ht.getCharAt(i));else if(i<=1555)n.setCharAt(0,ht.getCharAt(Math.floor(i/250)+249)),n.insert(1,ht.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var f=0,r=n.length();f<r;f++)e.writeCodeword(this.randomize255State(n.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,o=e+r;return o<=255?o:o-256},t})(),Cv=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Fn},t.prototype.encodeMaximal=function(e){for(var n=new ot,r=0,o=e.pos,i=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,r=this.encodeChar(a,n),n.length()%3===0&&(o=e.pos,i=n.length())}if(i!==n.length()){var s=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u,d=Math.floor(n.length()%3);(d===2&&f!==2||d===1&&(r>3||f!==1))&&(e.pos=o)}n.length()>0&&e.writeCodeword(kC),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new ot;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var o=this.encodeChar(r,n),i=Math.floor(n.length()/3)*2,a=e.getCodewordCount()+i;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var u=new ot;for(n.length()%3===2&&s!==2&&(o=this.backtrackOneCharacter(e,n,u,o));n.length()%3===1&&(o>3||s!==1);)o=this.backtrackOneCharacter(e,n,u,o);break}var f=n.length();if(f%3===0){var d=uo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Nt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,o){var i=n.length(),a=n.toString().substring(0,i-o);n.setLengthToZero(),n.append(a),e.pos--;var s=e.getCurrentChar();return o=this.encodeChar(s,r),e.resetSymbolInfo(),o},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),o=n.length()%3,i=e.getCodewordCount()+r;e.updateSymbolInfo(i);var a=e.getSymbolInfo().getDataCapacity()-i;if(o===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(am)}else if(a===1&&o===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(am),e.pos--}else if(o===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(a>0||e.hasMoreCharacters())&&e.writeCodeword(am)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Nt)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,o=n%256,i=new ot;return i.append(r),i.append(o),i.toString()},t})(),WK=(function(){function t(){}return t.prototype.getEncodingMode=function(){return On},t.prototype.encode=function(e){for(var n=new ot;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var o=n.length();if(o>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var i=n.toString().substring(4);n.setLengthToZero(),n.append(i);var a=uo.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Nt);break}}}n.append(ht.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>o&&(e.updateSymbolInfo(e.getCodewordCount()+1),o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=o&&o<=2)return}if(r>4)throw new Error("Count must not exceed 4");var a=r-1,s=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),f=u&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();o>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}f?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(Nt)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(ht.getCharAt(e-64)):uo.illegalCharacter(ht.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),o=n>=2?e.charAt(1).charCodeAt(0):0,i=n>=3?e.charAt(2).charCodeAt(0):0,a=n>=4?e.charAt(3).charCodeAt(0):0,s=(r<<18)+(o<<12)+(i<<6)+a,u=s>>16&255,f=s>>8&255,d=s&255,h=new ot;return h.append(u),n>=2&&h.append(f),n>=3&&h.append(d),h.toString()},t})(),ZK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),XK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_t=(function(){function t(e,n,r,o,i,a,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=o,this.matrixHeight=i,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=u}return t.lookup=function(e,n,r,o,i){var a,s;n===void 0&&(n=0),r===void 0&&(r=null),o===void 0&&(o=null),i===void 0&&(i=!0);try{for(var u=XK(KK),f=u.next();!f.done;f=u.next()){var d=f.value;if(!(n===1&&d.rectangular)&&!(n===2&&!d.rectangular)&&!(r!=null&&(d.getSymbolWidth()<r.getWidth()||d.getSymbolHeight()<r.getHeight()))&&!(o!=null&&(d.getSymbolWidth()>o.getWidth()||d.getSymbolHeight()>o.getHeight()))&&e<=d.dataCapacity)return d}}catch(h){a={error:h}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),qK=(function(t){ZK(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(_t),KK=[new _t(!1,3,5,8,8,1),new _t(!1,5,7,10,10,1),new _t(!0,5,7,16,6,1),new _t(!1,8,10,12,12,1),new _t(!0,10,11,14,6,2),new _t(!1,12,12,14,14,1),new _t(!0,16,14,24,10,1),new _t(!1,18,14,16,16,1),new _t(!1,22,18,18,18,1),new _t(!0,22,18,16,10,2),new _t(!1,30,20,20,20,1),new _t(!0,32,24,16,14,2),new _t(!1,36,24,22,22,1),new _t(!1,44,28,24,24,1),new _t(!0,49,28,22,14,2),new _t(!1,62,36,14,14,4),new _t(!1,86,42,16,16,4),new _t(!1,114,48,18,18,4),new _t(!1,144,56,20,20,4),new _t(!1,174,68,22,22,4),new _t(!1,204,84,24,24,4,102,42),new _t(!1,280,112,14,14,16,140,56),new _t(!1,368,144,16,16,16,92,36),new _t(!1,456,192,18,18,16,114,48),new _t(!1,576,224,20,20,16,144,56),new _t(!1,696,272,22,22,16,174,68),new _t(!1,816,336,24,24,16,136,56),new _t(!1,1050,408,18,18,36,175,68),new _t(!1,1304,496,20,20,36,163,62),new qK],YK=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(s){return s.charCodeAt(0)}),r=new ot,o=0,i=n.length;o<i;o++){var a=String.fromCharCode(n[o]&255);if(a==="?"&&e.charAt(o)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(a)}this.msg=r.toString(),this.shape=0,this.codewords=new ot,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=_t.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),JK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QK=(function(t){JK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return xn},e.prototype.encode=function(n){for(var r=new ot;n.hasMoreCharacters();){var o=n.getCurrentChar();n.pos++,this.encodeChar(o,r);var i=r.length();if(i%3===0){this.writeNextTriplet(n,r);var a=uo.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){n.signalEncoderChange(Nt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):uo.illegalCharacter(ht.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var o=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),i=r.length();n.pos-=i,(n.getRemainingCharacters()>1||o>1||n.getRemainingCharacters()!==o)&&n.writeCodeword(HK),n.getNewEncoding()<0&&n.signalEncoderChange(Nt)},e})(Cv),eY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tY=(function(t){eY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return tr},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var o=2;return o+=this.encodeChar(n-128,r),o},e})(Cv),uo=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=kw+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,o,i){n===void 0&&(n=0),r===void 0&&(r=null),o===void 0&&(o=null),i===void 0&&(i=!1);var a=new Cv,s=[new VK,a,new tY,new QK,new WK,new GK],u=new YK(e);u.setSymbolShape(n),u.setSizeConstraints(r,o),e.startsWith(Dw)&&e.endsWith(Bw)?(u.writeCodeword(FK),u.setSkipAtEnd(2),u.pos+=Dw.length):e.startsWith(Mw)&&e.endsWith(Bw)&&(u.writeCodeword(jK),u.setSkipAtEnd(2),u.pos+=Mw.length);var f=Nt;for(i&&(a.encodeMaximal(u),f=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[f].encode(u),u.getNewEncoding()>=0&&(f=u.getNewEncoding(),u.resetEncoderSignal());var d=u.getCodewordCount();u.updateSymbolInfo();var h=u.getSymbolInfo().getDataCapacity();d<h&&f!==Nt&&f!==Wn&&f!==On&&u.writeCodeword("");var m=u.getCodewords();for(m.length()<h&&m.append(kw);m.length()<h;)m.append(this.randomize253State(m.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var o=this.lookAheadTestIntern(e,n,r);if(r===xn&&o===xn){for(var i=Math.min(n+3,e.length),a=n;a<i;a++)if(!this.isNativeX12(e.charCodeAt(a)))return Nt}else if(r===On&&o===On){for(var i=Math.min(n+4,e.length),a=n;a<i;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return Nt}return o},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var o;r===Nt?o=[0,1,1,1,1,1.25]:(o=[1,2,2,2,2,2.25],o[r]=0);for(var i=0,a=new Uint8Array(6),s=[];;){if(n+i===e.length){Cn.fill(a,0),Cn.fill(s,0);var u=this.findMinimums(o,s,st.MAX_VALUE,a),f=this.getMinimumCount(a);if(s[Nt]===u)return Nt;if(f===1){if(a[Wn]>0)return Wn;if(a[On]>0)return On;if(a[tr]>0)return tr;if(a[xn]>0)return xn}return Fn}var d=e.charCodeAt(n+i);if(i++,this.isDigit(d)?o[Nt]+=.5:this.isExtendedASCII(d)?(o[Nt]=Math.ceil(o[Nt]),o[Nt]+=2):(o[Nt]=Math.ceil(o[Nt]),o[Nt]++),this.isNativeC40(d)?o[Fn]+=2/3:this.isExtendedASCII(d)?o[Fn]+=8/3:o[Fn]+=4/3,this.isNativeText(d)?o[tr]+=2/3:this.isExtendedASCII(d)?o[tr]+=8/3:o[tr]+=4/3,this.isNativeX12(d)?o[xn]+=2/3:this.isExtendedASCII(d)?o[xn]+=13/3:o[xn]+=10/3,this.isNativeEDIFACT(d)?o[On]+=3/4:this.isExtendedASCII(d)?o[On]+=17/4:o[On]+=13/4,this.isSpecialB256(d)?o[Wn]+=4:o[Wn]++,i>=4){if(Cn.fill(a,0),Cn.fill(s,0),this.findMinimums(o,s,st.MAX_VALUE,a),s[Nt]<this.min(s[Wn],s[Fn],s[tr],s[xn],s[On]))return Nt;if(s[Wn]<s[Nt]||s[Wn]+1<this.min(s[Fn],s[tr],s[xn],s[On]))return Wn;if(s[On]+1<this.min(s[Wn],s[Fn],s[tr],s[xn],s[Nt]))return On;if(s[tr]+1<this.min(s[Wn],s[Fn],s[On],s[xn],s[Nt]))return tr;if(s[xn]+1<this.min(s[Wn],s[Fn],s[On],s[tr],s[Nt]))return xn;if(s[Fn]+1<this.min(s[Nt],s[Wn],s[On],s[tr])){if(s[Fn]<s[xn])return Fn;if(s[Fn]===s[xn]){for(var h=n+i+1;h<e.length;){var m=e.charCodeAt(h);if(this.isX12TermSep(m))return xn;if(!this.isNativeX12(m))break;h++}return Fn}}}}},t.min=function(e,n,r,o,i){var a=Math.min(e,Math.min(n,Math.min(r,o)));return i===void 0?a:Math.min(a,i)},t.findMinimums=function(e,n,r,o){for(var i=0;i<6;i++){var a=n[i]=Math.ceil(e[i]);r>a&&(r=a,Cn.fill(o,0)),r===a&&(o[i]=o[i]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,o=n;o<r&&this.isDigit(e.charCodeAt(o));)o++;return o-n},t.illegalCharacter=function(e){var n=st.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),sm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lw=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Wr.encode(e,this.charset)!=null}catch{return!1}},t})(),nY=(function(){function t(e,n,r){var o,i,a,s,u,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function($){return new Lw(RK.forName($))}),this.encoders=[];var d=[];d.push(new Lw(kK.ISO_8859_1));for(var h=n!=null&&n.name.startsWith("UTF"),m=0;m<e.length;m++){var g=!1;try{for(var b=(o=void 0,sm(d)),w=b.next();!w.done;w=b.next()){var _=w.value,C=e.charAt(m),A=C.charCodeAt(0);if(A===r||_.canEncode(C)){g=!0;break}}}catch($){o={error:$}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}if(!g)try{for(var I=(a=void 0,sm(this.ENCODERS)),T=I.next();!T.done;T=I.next()){var _=T.value;if(_.canEncode(e.charAt(m))){d.push(_),g=!0;break}}}catch($){a={error:$}}finally{try{T&&!T.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}g||(h=!0)}if(d.length===1&&!h)this.encoders=[d[0]];else{this.encoders=[];var O=0;try{for(var P=sm(d),R=P.next();!R.done;R=P.next()){var _=R.value;this.encoders[O++]=_}}catch($){u={error:$}}finally{try{R&&!R.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}}var k=-1;if(n!=null){for(var m=0;m<this.encoders.length;m++)if(this.encoders[m]!=null&&n.name===this.encoders[m].name){k=m;break}}this.priorityEncoderIndex=k}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Wr.encode(ht.getCharAt(e),this.encoders[n].name)},t})(),rY=3,oY=(function(){function t(e,n,r){this.fnc1=r;var o=new nY(e,n,r);if(o.length()===1)for(var i=0;i<this.bytes.length;i++){var a=e.charAt(i).charCodeAt(0);this.bytes[i]=a===r?1e3:a}else this.bytes=this.encodeMinimally(e,o,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new ot,o=e;o<n;o++){if(this.isECI(o))throw new Error("value at "+o+" is not a character but an ECI");r.append(this.charAt(o))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,o,i,a){var s=e.charAt(o).charCodeAt(0),u=0,f=n.length();n.getPriorityEncoderIndex()>=0&&(s===a||n.canEncode(s,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),f=u+1);for(var d=u;d<f;d++)(s===a||n.canEncode(s,d))&&this.addEdge(r,o+1,new Fw(s,n,d,i,a))},t.prototype.encodeMinimally=function(e,n,r){var o=e.length,i=new Fw[o+1][n.length()];this.addEdges(e,n,i,0,null,r);for(var a=1;a<=o;a++){for(var s=0;s<n.length();s++)i[a][s]!=null&&a<o&&this.addEdges(e,n,i,a,i[a][s],r);for(var s=0;s<n.length();s++)i[a-1][s]=null}for(var u=-1,f=st.MAX_VALUE,s=0;s<n.length();s++)if(i[o][s]!=null){var d=i[o][s];d.cachedTotalSize<f&&(f=d.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],m=i[o][u];m!=null;){if(m.isFNC1())h.unshift(1e3);else for(var g=n.encode(m.c,m.encoderIndex),a=g.length-1;a>=0;a--)h.unshift(g[a]&255);var b=m.previous===null?0:m.previous.encoderIndex;b!==m.encoderIndex&&h.unshift(256+n.getECIValue(m.encoderIndex)),m=m.previous}for(var w=[],a=0;a<w.length;a++)w[a]=h[a];return w},t})(),Fw=(function(){function t(e,n,r,o,i){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=o,this.fnc1=i,this.c=e===i?1e3:e;var a=this.isFNC1()?1:n.encode(e,r).length,s=o===null?0:o.encoderIndex;s!==r&&(a+=rY),o!=null&&(a+=o.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),iY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var jw;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(jw||(jw={}));(function(t){iY(e,t);function e(n,r,o,i,a){var s=t.call(this,n,r,o)||this;return s.shape=i,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(oY);var aY=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),zw=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),sY=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),cY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Av=(function(t){cY(e,t);function e(n,r,o){var i=t.call(this,n)||this;return i.value=r,i.bitCount=o,i}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+st.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(sY),uY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),lY=(function(t){uY(e,t);function e(n,r,o){var i=t.call(this,n,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=o,i}return e.prototype.appendTo=function(n,r){for(var o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(Av);function fY(t,e,n){return new lY(t,e,n)}function du(t,e,n){return new Av(t,e,n)}var dY=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oa=0,a0=1,Gr=2,DC=3,Do=4,hY=new Av(null,0,0),cm=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],pY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function mY(t){var e,n;try{for(var r=pY(t),o=r.next();!o.done;o=r.next()){var i=o.value;Cn.fill(i,-1)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[oa][Do]=0,t[a0][Do]=0,t[a0][oa]=28,t[DC][Do]=0,t[Gr][Do]=0,t[Gr][oa]=15,t}var MC=mY(Cn.createInt32Array(6,6)),gY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yY=(function(){function t(e,n,r,o){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=o}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,o=this.token;if(e!==this.mode){var i=cm[this.mode][e];o=du(o,i&65535,i>>16),r+=i>>16}var a=e===Gr?4:5;return o=du(o,n,a),new t(o,e,0,r+a)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,o=this.mode===Gr?4:5;return r=du(r,MC[this.mode][e],o),r=du(r,n,5),new t(r,this.mode,0,this.bitCount+o+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,o=this.bitCount;if(this.mode===Do||this.mode===Gr){var i=cm[r][oa];n=du(n,i&65535,i>>16),o+=i>>16,r=oa}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(n,r,this.binaryShiftByteCount+1,o+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=fY(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(cm[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,o=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())o.unshift(i);var a=new kn;try{for(var s=gY(o),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(a,e)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},t.prototype.toString=function(){return ht.format("%s bits=%d bytes=%d",dY[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(hY,oa,0,0),t})();function vY(t){var e=ht.getCharCode(" "),n=ht.getCharCode("."),r=ht.getCharCode(",");t[oa][e]=1;for(var o=ht.getCharCode("Z"),i=ht.getCharCode("A"),a=i;a<=o;a++)t[oa][a]=a-i+2;t[a0][e]=1;for(var s=ht.getCharCode("z"),u=ht.getCharCode("a"),a=u;a<=s;a++)t[a0][a]=a-u+2;t[Gr][e]=1;for(var f=ht.getCharCode("9"),d=ht.getCharCode("0"),a=d;a<=f;a++)t[Gr][a]=a-d+2;t[Gr][r]=12,t[Gr][n]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],m=0;m<h.length;m++)t[DC][ht.getCharCode(h[m])]=m;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],m=0;m<g.length;m++)ht.getCharCode(g[m])>0&&(t[Do][ht.getCharCode(g[m])]=m);return t}var um=vY(Cn.createInt32Array(5,256)),ud=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bY=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ht.getCharCode(" "),n=ht.getCharCode(`
`),r=zw.singletonList(yY.INITIAL_STATE),o=0;o<this.text.length;o++){var i=void 0,a=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ht.getCharCode("\r"):i=a===n?2:0;break;case ht.getCharCode("."):i=a===e?3:0;break;case ht.getCharCode(","):i=a===e?4:0;break;case ht.getCharCode(":"):i=a===e?5:0;break;default:i=0}i>0?(r=t.updateStateListForPair(r,o,i),o++):r=this.updateStateListForChar(r,o)}var s=zw.min(r,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,o,i=[];try{for(var a=ud(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForChar(u,n,i)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,n,r){for(var o=this.text[n]&255,i=um[e.getMode()][o]>0,a=null,s=0;s<=Do;s++){var u=um[s][o];if(u>0){if(a==null&&(a=e.endBinaryShift(n)),!i||s===e.getMode()||s===Gr){var f=a.latchAndAppend(s,u);r.push(f)}if(!i&&MC[e.getMode()][s]>=0){var d=a.shiftAndAppend(s,u);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||um[e.getMode()][o]===0){var h=e.addBinaryShiftChar(n);r.push(h)}},t.updateStateListForPair=function(e,n,r){var o,i,a=[];try{for(var s=ud(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,n,r,a)}}catch(d){o={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,n,r,o){var i=e.endBinaryShift(n);if(o.push(i.latchAndAppend(Do,r)),e.getMode()!==Do&&o.push(i.shiftAndAppend(Do,r)),r===3||r===4){var a=i.latchAndAppend(Gr,16-r).latchAndAppend(Gr,1);o.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(s)}},t.simplifyStates=function(e){var n,r,o,i,a=[];try{for(var s=ud(e),u=s.next();!u.done;u=s.next()){var f=u.value,d=!0,h=function(_){if(_.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(_)&&(a=a.filter(function(C){return C!==_}))};try{for(var m=(o=void 0,ud(a)),g=m.next();!g.done;g=m.next()){var b=g.value,w=h(b);if(w==="break")break}}catch(_){o={error:_}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}d&&a.push(f)}}catch(_){n={error:_}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},t})(),xY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var o=new bY(e).encode(),i=st.truncDivision(o.getSize()*n,100)+11,a=o.getSize()+i,s,u,f,d,h;if(r!==t.DEFAULT_AZTEC_LAYERS){if(s=r<0,u=Math.abs(r),u>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new He(ht.format("Illegal value %s for layers",r));f=t.totalBitsInLayer(u,s),d=t.WORD_SIZE[u];var m=f-f%d;if(h=t.stuffBits(o,d),h.getSize()+i>m)throw new He("Data to large for user specified layer");if(s&&h.getSize()>d*64)throw new He("Data to large for user specified layer")}else{d=0,h=null;for(var g=0;;g++){if(g>t.MAX_NB_BITS)throw new He("Data too large for an Aztec code");if(s=g<=3,u=s?g+1:g,f=t.totalBitsInLayer(u,s),!(a>f)){(h==null||d!==t.WORD_SIZE[u])&&(d=t.WORD_SIZE[u],h=t.stuffBits(o,d));var m=f-f%d;if(!(s&&h.getSize()>d*64)&&h.getSize()+i<=m)break}}}var b=t.generateCheckWords(h,f,d),w=h.getSize()/d,_=t.generateModeMessage(s,u,w),C=(s?11:14)+u*4,A=new Int32Array(C),I;if(s){I=C;for(var g=0;g<A.length;g++)A[g]=g}else{I=C+1+2*st.truncDivision(st.truncDivision(C,2)-1,15);for(var T=st.truncDivision(C,2),O=st.truncDivision(I,2),g=0;g<T;g++){var P=g+st.truncDivision(g,15);A[T-g-1]=O-P-1,A[T+g]=O+P+1}}for(var R=new Vo(I),g=0,k=0;g<u;g++){for(var $=(u-g)*4+(s?9:12),F=0;F<$;F++)for(var H=F*2,V=0;V<2;V++)b.get(k+H+V)&&R.set(A[g*2+V],A[g*2+F]),b.get(k+$*2+H+V)&&R.set(A[g*2+F],A[C-1-g*2-V]),b.get(k+$*4+H+V)&&R.set(A[C-1-g*2-V],A[C-1-g*2-F]),b.get(k+$*6+H+V)&&R.set(A[C-1-g*2-F],A[g*2+V]);k+=$*8}if(t.drawModeMessage(R,s,I,_),s)t.drawBullsEye(R,st.truncDivision(I,2),5);else{t.drawBullsEye(R,st.truncDivision(I,2),7);for(var g=0,F=0;g<st.truncDivision(C,2)-1;g+=15,F+=16)for(var V=st.truncDivision(I,2)&1;V<I;V+=2)R.set(st.truncDivision(I,2)-F,V),R.set(st.truncDivision(I,2)+F,V),R.set(V,st.truncDivision(I,2)-F),R.set(V,st.truncDivision(I,2)+F)}var te=new aY;return te.setCompact(s),te.setSize(I),te.setLayers(u),te.setCodeWords(w),te.setMatrix(R),te},t.drawBullsEye=function(e,n,r){for(var o=0;o<r;o+=2)for(var i=n-o;i<=n+o;i++)e.set(i,n-o),e.set(i,n+o),e.set(n-o,i),e.set(n+o,i);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var o=new kn;return e?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=t.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=t.generateCheckWords(o,40,4)),o},t.drawModeMessage=function(e,n,r,o){var i=st.truncDivision(r,2);if(n)for(var a=0;a<7;a++){var s=i-3+a;o.get(a)&&e.set(s,i-5),o.get(a+7)&&e.set(i+5,s),o.get(20-a)&&e.set(s,i+5),o.get(27-a)&&e.set(i-5,s)}else for(var a=0;a<10;a++){var s=i-5+a+st.truncDivision(a,5);o.get(a)&&e.set(s,i-7),o.get(a+10)&&e.set(i+7,s),o.get(29-a)&&e.set(s,i+7),o.get(39-a)&&e.set(i-7,s)}},t.generateCheckWords=function(e,n,r){var o,i,a=e.getSize()/r,s=new RC(t.getGF(r)),u=st.truncDivision(n,r),f=t.bitsToWords(e,r,u);s.encode(f,u-a);var d=n%r,h=new kn;h.appendBits(0,d);try{for(var m=xY(Array.from(f)),g=m.next();!g.done;g=m.next()){var b=g.value;h.appendBits(b,r)}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}return h},t.bitsToWords=function(e,n,r){var o=new Int32Array(r),i,a;for(i=0,a=e.getSize()/n;i<a;i++){for(var s=0,u=0;u<n;u++)s|=e.get(i*n+u)?1<<n-u-1:0;o[i]=s}return o},t.getGF=function(e){switch(e){case 4:return pr.AZTEC_PARAM;case 6:return pr.AZTEC_DATA_6;case 8:return pr.AZTEC_DATA_8;case 10:return pr.AZTEC_DATA_10;case 12:return pr.AZTEC_DATA_12;default:throw new He("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new kn,o=e.getSize(),i=(1<<n)-2,a=0;a<o;a+=n){for(var s=0,u=0;u<n;u++)(a+u>=o||e.get(a+u))&&(s|=1<<n-1-u);(s&i)===i?(r.appendBits(s&i,n),a--):(s&i)===0?(r.appendBits(s|1,n),a--):r.appendBits(s,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var wY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),EY=(function(t){wY(e,t);function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return e.makeBufferFromCanvasImageData=function(n){var r;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var o=r.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(o.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,o){for(var i=new Uint8ClampedArray(r*o),a=0,s=0,u=n.length;a<u;a+=4,s++){var f=void 0,d=n[a+3];if(d===0)f=255;else{var h=n[a],m=n[a+1],g=n[a+2];f=306*h+601*m+117*g+512>>10}i[s]=f}return i},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new He("Requested row is outside the image: "+n);var o=this.getWidth(),i=n*o;return r===null?r=this.buffer.slice(i,i+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(i,i+o))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return t.prototype.crop.call(this,n,r,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new d1(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var o=n*e.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(o))*i+Math.abs(Math.sin(o))*a),u=Math.ceil(Math.abs(Math.sin(o))*i+Math.abs(Math.cos(o))*a);r.width=s,r.height=u;var f=r.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(s/2,u/2),f.rotate(o),f.drawImage(this.canvas,i/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Rl);function BC(){return typeof navigator<"u"}function _Y(){return BC()&&!!navigator.mediaDevices}function CY(){return!!(_Y()&&navigator.mediaDevices.enumerateDevices)}var js=function(){return js=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},js.apply(this,arguments)},Qt=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{f(r.next(d))}catch(h){a(h)}}function u(d){try{f(r.throw(d))}catch(h){a(h)}}function f(d){d.done?i(d.value):o(d.value).then(s,u)}f((r=r.apply(t,e||[])).next())})},en=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AY={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},_c=(function(){function t(e,n,r){n===void 0&&(n=new Map),r===void 0&&(r={}),this.reader=e,this.hints=n,this.options=js(js({},AY),r)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ft.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,n){return Qt(this,void 0,void 0,function(){return en(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return r.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var n,r,o=e.getVideoTracks();try{for(var i=lm(o),a=i.next();!a.done;a=i.next()){var s=a.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new un("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new un("element with id '".concat(e,"' must be an ").concat(n," element"));return r},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var n=new EY(e),r=new xC(n);return new bC(r)},t.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new un("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),o=r.width,i=r.height;return n.style.width=o+"px",n.style.height=i+"px",n.width=o,n.height=i,n},t.tryPlayVideo=function(e){return Qt(this,void 0,void 0,function(){var n;return en(this,function(r){switch(r.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return Qt(this,void 0,void 0,function(){var e,n,r,o,i,a,s,u,f,d,h,m;return en(this,function(g){switch(g.label){case 0:if(!BC())throw new Error("Can't enumerate devices, navigator is not present.");if(!CY())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),n=[];try{for(r=lm(e),o=r.next();!o.done;o=r.next())i=o.value,a=i.kind==="video"?"videoinput":i.kind,a==="videoinput"&&(s=i.deviceId||i.id,u=i.label||"Video device ".concat(n.length+1),f=i.groupId,d={deviceId:s,label:u,kind:a,groupId:f},n.push(d))}catch(b){h={error:b}}finally{try{o&&!o.done&&(m=r.return)&&m.call(r)}finally{if(h)throw h.error}}return[2,n]}})})},t.findDeviceById=function(e){return Qt(this,void 0,void 0,function(){var n;return en(this,function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(o){return o.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,n){return Qt(this,void 0,void 0,function(){var r;return en(this,function(o){switch(o.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return r=o.sent(),r?[2,!0]:[2,new Promise(function(i,a){var s=setTimeout(function(){t.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",u))},n),u=function(){t.tryPlayVideo(e).then(function(f){clearTimeout(s),e.removeEventListener("canplay",u),i(f)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,n,r){return r===void 0&&(r=5e3),Qt(this,void 0,void 0,function(){var o;return en(this,function(i){switch(i.label){case 0:return o=t.prepareVideoElement(n),t.addVideoSource(o,e),[4,t.playVideoOnLoadAsync(o,r)];case 1:return i.sent(),[2,o]}})})},t._waitImageLoad=function(e){return new Promise(function(n,r){var o=1e4,i=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",a),r())},o),a=function(){clearTimeout(i),e.removeEventListener("load",a),n()};e.addEventListener("load",a)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new un("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return Qt(this,void 0,void 0,function(){var n;return en(this,function(r){switch(r.label){case 0:if(!e)throw new un("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Qt(this,void 0,void 0,function(){var n;return en(this,function(r){switch(r.label){case 0:if(!e)throw new un("An URL must be provided.");n=t.prepareImageElement(),n.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,r.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return Qt(this,void 0,void 0,function(){var o,i;return en(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(o,n,r)];case 3:return[2,a.sent()];case 4:throw i=a.sent(),t.disposeMediaStream(o),i;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,n,r){return Qt(this,void 0,void 0,function(){var o,i,a,s,u,f,d,h,m,g=this;return en(this,function(b){switch(b.label){case 0:return t.checkCallbackFnOrThrow(r),o=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,n,o)];case 1:return i=b.sent(),a=function(){t.disposeMediaStream(e),t.cleanVideoSource(i)},s=this.scan(i,r,a),u=e.getVideoTracks(),f=js(js({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(w,_){return Qt(this,void 0,void 0,function(){var C,A,I,T,O,P,R;return en(this,function(k){switch(k.label){case 0:C=_?u.filter(_):u,k.label=1;case 1:k.trys.push([1,6,7,8]),A=lm(C),I=A.next(),k.label=2;case 2:return I.done?[3,5]:(T=I.value,[4,T.applyConstraints(w)]);case 3:k.sent(),k.label=4;case 4:return I=A.next(),[3,2];case 5:return[3,8];case 6:return O=k.sent(),P={error:O},[3,8];case 7:try{I&&!I.done&&(R=A.return)&&R.call(A)}finally{if(P)throw P.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(w){return u.find(w).getConstraints()},streamVideoSettingsGet:function(w){return u.find(w).getSettings()},streamVideoCapabilitiesGet:function(w){return u.find(w).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(h=u?.find(function(w){return t.mediaStreamIsTorchCompatibleTrack(w)}),m=function(w){return Qt(g,void 0,void 0,function(){return en(this,function(_){switch(_.label){case 0:return[4,t.mediaStreamSetTorch(h,w)];case 1:return _.sent(),[2]}})})},f.switchTorch=m,f.stop=function(){return Qt(g,void 0,void 0,function(){return en(this,function(w){switch(w.label){case 0:return s.stop(),[4,m(!1)];case 1:return w.sent(),[2]}})})}),[2,f]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return Qt(this,void 0,void 0,function(){var o,i;return en(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),e?o={deviceId:{exact:e}}:o={facingMode:"environment"},i={video:o},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,n){return Qt(this,void 0,void 0,function(){var r,o;return en(this,function(i){switch(i.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new un("A video element must be provided.");return r=t.prepareVideoElement(e),o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,o)];case 1:return i.sent(),[2,this.scan(r,n)]}})})},t.prototype.decodeFromVideoUrl=function(e,n){return Qt(this,void 0,void 0,function(){var r,o,i,a;return en(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new un("An URL must be provided.");return r=t.prepareVideoElement(),r.src=e,o=function(){t.cleanVideoSource(r)},i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,i)];case 1:return s.sent(),a=this.scan(r,n,o),[2,a]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return Qt(this,void 0,void 0,function(){var r;return en(this,function(o){switch(o.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return Qt(this,void 0,void 0,function(){var r,o,i;return en(this,function(a){switch(a.label){case 0:return r=!!n,[4,t.attachStreamToVideo(e,n)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(o)];case 3:return i=a.sent(),[2,i];case 4:return r||t.cleanVideoSource(o),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return Qt(this,void 0,void 0,function(){var r,o;return en(this,function(i){switch(i.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},o={video:r},[4,this.decodeOnceFromConstraints(o,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Qt(this,void 0,void 0,function(){var n,r;return en(this,function(o){switch(o.label){case 0:if(!e)throw new un("A video element must be provided.");return n=t.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,r)];case 1:return o.sent(),[4,this.scanOneResult(n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Qt(this,void 0,void 0,function(){var n,r;return en(this,function(o){switch(o.label){case 0:if(!e)throw new un("An URL must be provided.");n=t.prepareVideoElement(),n.src=e,r=this.decodeOnceFromVideoElement(n),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,r];case 2:return[2,o.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,n,r,o){var i=this;return n===void 0&&(n=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),new Promise(function(a,s){i.scan(e,function(u,f,d){if(u){a(u),d.stop();return}if(f){if(f instanceof oe&&n||f instanceof fn&&r||f instanceof be&&o)return;d.stop(),s(f)}})})},t.prototype.scan=function(e,n,r){var o=this;t.checkCallbackFnOrThrow(n);var i=t.createCaptureCanvas(e),a;try{a=i.getContext("2d",{willReadFrequently:!0})}catch{a=i.getContext("2d")}if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){a=void 0,i=void 0},u=!1,f,d=function(){u=!0,clearTimeout(f),s(),r&&r()},h={stop:d},m=function(){if(!u)try{t.drawImageOnCanvas(a,e);var g=o.decodeFromCanvas(i);n(g,void 0,h),f=setTimeout(m,o.options.delayBetweenScanSuccess)}catch(C){n(void 0,C,h);var b=C instanceof fn,w=C instanceof be,_=C instanceof oe;if(b||w||_){f=setTimeout(m,o.options.delayBetweenScanAttempts);return}s(),r&&r(C)}};return m(),h},t.prototype._decodeOnLoadImage=function(e){return Qt(this,void 0,void 0,function(){var n;return en(this,function(r){switch(r.label){case 0:return n=t.isImageLoaded(e),n?[3,2]:[4,t._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Qt(this,void 0,void 0,function(){var n;return en(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),t.streamTracker.push(n),[2,n]}})})},t.streamTracker=[],t})(),SY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){SY(e,t);function e(n,r){return t.call(this,new t0,n,r)||this}return e})(_c);var IY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){IY(e,t);function e(n,r){return t.call(this,new Ls(n),n,r)||this}return e})(_c);var TY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){TY(e,t);function e(n,r){return t.call(this,new r0,n,r)||this}return e})(_c);var NY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),OY=(function(t){NY(e,t);function e(n,r){var o=this,i=new PC;return i.setHints(n),o=t.call(this,i,n,r)||this,o.reader=i,o}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(Ft.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(_c),PY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){PY(e,t);function e(n,r){return t.call(this,new i0,n,r)||this}return e})(_c);var RY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){RY(e,t);function e(n,r){return t.call(this,new o0,n,r)||this}return e})(_c);function kY({onDecoded:t}){const e=ct.useRef(null);return ct.useEffect(()=>{let n=null,r=!1;const o=new OY;return(async()=>{const i=e.current;i&&(n=await o.decodeFromVideoDevice(void 0,i,(a,s)=>{r||a&&(r=!0,n?.stop(),t(a.getText()))}))})(),()=>{r=!0,n?.stop()}},[t]),v.jsxs("div",{className:"p-4",children:[v.jsx("video",{ref:e,className:"w-full rounded-lg"}),v.jsx("div",{className:"text-xs text-neutral-500 mt-2",children:"Point your camera at a QR code."})]})}function il(t){return t.toLowerCase()}async function DY(t){const e=await R3(),n=t.data.name.trim().toLowerCase(),r=t.data.surname?.trim().toLowerCase()??"",o=e.find(u=>{const f=u.name.trim().toLowerCase(),d=(u.surname??"").trim().toLowerCase();return f===n&&d===r}),i=t.data.wallets??[];if(!o)return await k3({name:t.data.name,surname:(t.t==="contact"?t.data.surname:void 0)??null,wallets:i.length?i:null}),{mode:"created"};const a=[...o.wallets??[],...i],s=new Map;for(const u of a)s.set(`${u.chainId}:${il(u.address)}`,u);return{mode:"matched",existingId:o.id,mergedWallets:[...s.values()]}}async function MY(t){const e=await H8(),n=il(t.data.address),r=e.find(o=>o.chainId===t.data.chainId&&il(o.address)===n);return r?{mode:"matched",existingId:r.id}:(await V8({name:t.data.name,address:t.data.address,chainId:t.data.chainId,metadata:t.data.metadata}),{mode:"created",abiOmitted:t.data.abiOmitted===!0})}async function BY(t,e){const n=await O0(),r=il(t.data.address),o=n.find(s=>s.chainId===t.data.chainId&&il(s.address)===r);if(o)return{mode:"matched",existingId:o.id};const i=await B3({name:t.data.name,symbol:t.data.symbol,decimals:t.data.decimals,chainId:t.data.chainId,address:t.data.address,type:t.data.type}),a=i[i.length-1];if(e?.folios&&e?.updateFolio){for(const s of e.folios)if(s.chainId===Number(t.data.chainId)){const u=s.wallet??[];await e.updateFolio(s.id,{wallet:[...u,{coin:a.id,balance:0n}]})}}return{mode:"created"}}async function LY(t,e){if(t.t==="contact"||t.t==="profile")return DY(t);if(t.t==="contract")return MY(t);if(t.t==="coin")return BY(t,e);throw new Error("Unsupported payload type")}function FY({open:t,onClose:e,onDecoded:n}){return ct.useEffect(()=>{if(!t)return;const r=o=>{o.key==="Escape"&&e()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,e]),!t||typeof document>"u"?null:rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:e,style:{position:"fixed",inset:0,zIndex:2147483646,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)"}}),v.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:16},onClick:e,children:v.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-border bg-card shadow-xl",onClick:r=>r.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[v.jsx("div",{className:"text-sm font-semibold",children:"Scan QR code"}),v.jsx(lo,{size:"sm",variant:"outline",onClick:e,children:"Close"})]}),v.jsx("div",{className:"p-2",children:v.jsx(kY,{onDecoded:r=>{n(r),e()}})})]})})]}),document.body)}function jY(){const{signOut:t}=vv(),[e,n]=ct.useState(!1),r=ct.useRef(null),[o,i]=ct.useState({top:0,right:0});function a(){const s=!e;if(s&&r.current){const u=r.current.getBoundingClientRect(),f=u.bottom+8,d=Math.max(8,window.innerWidth-u.right);i({top:f,right:d})}n(s)}return ct.useEffect(()=>{if(!e)return;const s=u=>{u.key==="Escape"&&n(!1)};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e]),ct.useEffect(()=>{if(!e)return;const s=()=>{if(!r.current)return;const u=r.current.getBoundingClientRect(),f=Math.max(8,window.innerWidth-u.right),d=u.bottom+8;i({top:d,right:f})};return window.addEventListener("resize",s),window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("resize",s),window.removeEventListener("scroll",s,!0)}},[e]),v.jsxs(v.Fragment,{children:[v.jsx(lo,{ref:r,size:"sm",variant:"outline",onClick:a,children:"Menu"}),e&&typeof document<"u"&&rn.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{onClick:()=>n(!1),style:{position:"fixed",inset:0,zIndex:9998,backgroundColor:"rgba(0,0,0,0.5)"}}),v.jsxs("div",{className:"rounded-xl border border-border bg-card shadow-lg",style:{position:"fixed",zIndex:9999,top:o.top,right:o.right,left:"auto",width:208,boxShadow:"0 10px 30px rgba(0,0,0,0.15)",padding:4},onClick:s=>s.stopPropagation(),children:[v.jsx(Yi,{to:"/dashboard",label:"Home",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/transactions",label:"Transactions",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/addressbook",label:"Address Book",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/contacts",label:"Contacts",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/contracts",label:"Smart Contracts",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/coins",label:"Coins",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/legal/terms",label:"Terms",onSelect:()=>n(!1)}),v.jsx(Yi,{to:"/legal/privacy",label:"Privacy",onSelect:()=>n(!1)}),v.jsx("div",{className:"my-1 border-t border-border"}),v.jsx("button",{className:"block w-full rounded-lg px-3 py-2 text-left text-sm text-red-600 hover:bg-neutral-100",onClick:()=>{n(!1),t()},children:"Log out"})]})]}),document.body)]})}function Yi({to:t,label:e,onSelect:n}){return v.jsx(Os,{to:t,onClick:n,className:({isActive:r})=>`block rounded-lg px-3 py-2 text-sm ${r?"bg-neutral-900 text-white":"hover:bg-neutral-100"}`,children:e})}function zY({children:t,address:e,domain:n,onOpenScan:r}){return v.jsxs("div",{className:"min-h-[100dvh] bg-background text-foreground",children:[v.jsx("header",{className:"sticky top-0 z-30 border-b border-border bg-background/95 backdrop-blur",children:v.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-3",children:[v.jsx(Cu,{to:"/dashboard",className:"flex items-center gap-2",children:v.jsx("img",{src:vC,alt:"QuantumAccount",style:{height:32,width:"auto"}})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(lo,{size:"sm",variant:"outline",onClick:r,children:"Scan"}),"",v.jsx(jY,{}),"",v.jsx(HY,{domain:n})]})]})}),v.jsx("main",{className:`mx-auto grid max-w-6xl gap-6 px-4 py-6
  pb-[calc(56px+env(safe-area-inset-bottom))]
  lg:pb-6
  lg:grid-cols-[220px_1fr]`,children:v.jsx("section",{className:"min-h-[60dvh]",children:t})}),v.jsx(UY,{})]})}function $Y(){const[t,e]=ct.useState(null),[n,r]=ct.useState("ETHEREUM SEPOLIA"),[o,i]=ct.useState(null),[a,s]=ct.useState(!1),{folios:u,updateFolio:f}=my(),d=ct.useCallback(async h=>{try{const m=yD(h),g=await LY(m,{folios:u,updateFolio:f});console.log("[QR] import result:",g)}catch(m){console.error("[QR] import failed:",m)}},[u,f]);return ct.useEffect(()=>{let h=!1;return(async()=>{try{console.log("[Wallet] Initialising");const m=await JU();console.log("[Wallet] Ready with address:",m),h||e(m)}catch(m){console.error("[Wallet] Init failed:",m),h||i(m?.message??"Unknown wallet init error")}})(),()=>{h=!0}},[]),v.jsxs(v.Fragment,{children:[v.jsx(FY,{open:a,onClose:()=>s(!1),onDecoded:d}),v.jsx(zY,{address:t,domain:n,onOpenScan:()=>s(!0),children:o?v.jsxs("div",{className:"p-6 text-red-700",children:[v.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Wallet initialisation failed"}),v.jsx("p",{className:"mb-2",children:o}),v.jsx("p",{className:"text-sm text-neutral-600",children:"Check the console for details."})]}):t?v.jsxs(t8,{children:[v.jsx(dr,{index:!0,element:v.jsx(Ix,{})}),v.jsx(dr,{path:"dashboard",element:v.jsx(Ix,{})}),v.jsx(dr,{path:"transactions",element:v.jsx(CH,{})}),v.jsx(dr,{path:"contacts",element:v.jsx(kD,{})}),v.jsx(dr,{path:"contracts",element:v.jsx(ED,{})}),v.jsx(dr,{path:"coins",element:v.jsx(yU,{})}),v.jsx(dr,{path:"addressbook",element:v.jsx(QT,{})}),v.jsx(dr,{path:"legal/terms",element:v.jsx(__,{})}),v.jsx(dr,{path:"legal/privacy",element:v.jsx(C_,{})})]}):v.jsx("div",{className:"p-6",children:"Initialising QuantumAccount wallet"})})]})}function UY(){return v.jsx("div",{className:"fixed inset-x-0 bottom-0 z-20 border-t border-border bg-background pb-[env(safe-area-inset-bottom)]",children:v.jsxs("div",{className:"mx-auto grid h-14 max-w-md grid-cols-4 gap-2 px-2 text-center text-xs text-muted items-center",children:[v.jsx(Os,{to:"/dashboard",children:"Home"}),v.jsx(Os,{to:"/transactions",children:"Transactions"}),v.jsx(Os,{to:"/legal/terms",children:"T&C"}),v.jsx(Os,{to:"/legal/privacy",children:"Privacy"})]})})}function HY({domain:t}){return v.jsx(lo,{size:"sm",variant:"outline",children:t})}function VY(){const{firebaseUser:t,loading:e}=vv();return e?v.jsx("div",{className:"min-h-dvh flex items-center justify-center text-sm text-muted-foreground",children:"Loading"}):t?v.jsx($Y,{}):v.jsx(kS,{to:"/login",replace:!0})}function GY(){return v.jsx(oI,{children:v.jsx(BZ,{children:v.jsx(jZ,{children:v.jsxs(t8,{children:[v.jsx(dr,{path:"login",element:v.jsx(LZ,{})}),v.jsx(dr,{path:"legal/terms",element:v.jsx(__,{})}),v.jsx(dr,{path:"legal/privacy",element:v.jsx(C_,{})}),v.jsx(dr,{path:"/*",element:v.jsx(VY,{})})]})})})})}LA.createRoot(document.getElementById("root")).render(v.jsx(ct.StrictMode,{children:v.jsx(GY,{})}));export{fe as B,xu as H,wj as a,Uo as b,K0 as c,EL as d,Ci as e,zo as f,Sy as g,W0 as i,Q0 as l,zn as s};
