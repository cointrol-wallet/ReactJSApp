const vc="modulepreload",Ec=function(e){return"/"+e},Ws={},qo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Ec(u),u in Ws)return;Ws[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":vc,f||(l.as="script"),l.crossOrigin="",l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),f)return new Promise((h,b)=>{l.addEventListener("load",h),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Pc="1.1.0";let te=class Ir extends Error{constructor(t,n={}){const r=n.cause instanceof Ir?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ir&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Pc}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Fe(e,t){return e.exec(t)?.groups}const Vo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Wo=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Zo=/^\(.+?\).*?$/,Zs=/^tuple(?<array>(\[(\d*)\])*)$/;function Sr(e){let t=e.type;if(Zs.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Sr(o),s<n-1&&(t+=", ")}const r=Fe(Zs,e.type);return t+=`)${r?.array??""}`,Sr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function dt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Sr(s),r!==n-1&&(t+=", ")}return t}function Nn(e){return e.type==="function"?`function ${e.name}(${dt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${dt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${dt(e.inputs)})`:e.type==="error"?`error ${e.name}(${dt(e.inputs)})`:e.type==="constructor"?`constructor(${dt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Yo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $c(e){return Yo.test(e)}function Ac(e){return Fe(Yo,e)}const Ko=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Bc(e){return Ko.test(e)}function Ic(e){return Fe(Ko,e)}const Jo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Sc(e){return Jo.test(e)}function Tc(e){return Fe(Jo,e)}const Xo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ln(e){return Xo.test(e)}function kc(e){return Fe(Xo,e)}const Qo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Nc(e){return Qo.test(e)}function Oc(e){return Fe(Qo,e)}const ei=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Rc(e){return ei.test(e)}function Cc(e){return Fe(ei,e)}const Fc=/^receive\(\) external payable$/;function Mc(e){return Fc.test(e)}const Ys=new Set(["memory","indexed","storage","calldata"]),zc=new Set(["indexed"]),Tr=new Set(["calldata","memory","storage"]);class Lc extends te{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Uc extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class jc extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class _c extends te{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Gc extends te{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Dc extends te{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Hc extends te{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class qc extends te{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Vc extends te{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class At extends te{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Wc extends te{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Zc extends te{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Yc extends te{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Kc extends te{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Jc(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const or=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function kr(e,t={}){if(Sc(e))return Xc(e,t);if(Bc(e))return Qc(e,t);if($c(e))return eu(e,t);if(Nc(e))return tu(e,t);if(Rc(e))return nu(e);if(Mc(e))return{type:"receive",stateMutability:"payable"};throw new Wc({signature:e})}function Xc(e,t={}){const n=Tc(e);if(!n)throw new At({signature:e,type:"function"});const r=re(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Oe(r[a],{modifiers:Tr,structs:t,type:"function"}));const i=[];if(n.returns){const a=re(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Oe(a[u],{modifiers:Tr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Qc(e,t={}){const n=Ic(e);if(!n)throw new At({signature:e,type:"event"});const r=re(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Oe(r[i],{modifiers:zc,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function eu(e,t={}){const n=Ac(e);if(!n)throw new At({signature:e,type:"error"});const r=re(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Oe(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function tu(e,t={}){const n=Oc(e);if(!n)throw new At({signature:e,type:"constructor"});const r=re(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Oe(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function nu(e){const t=Cc(e);if(!t)throw new At({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ru=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,su=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ou=/^u?int$/;function Oe(e,t){const n=Jc(e,t?.type,t?.structs);if(or.has(n))return or.get(n);const r=Zo.test(e),s=Fe(r?su:ru,e);if(!s)throw new Gc({param:e});if(s.name&&au(s.name))throw new Dc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=re(s.type),l=[],h=d.length;for(let b=0;b<h;b++)l.push(Oe(d[b],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(ou.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!ti(c))throw new jc({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Hc({param:e,type:t?.type,modifier:s.modifier});if(Tr.has(s.modifier)&&!cu(c,!!s.array))throw new qc({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return or.set(n,f),f}function re(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?re(a,[...t,n.trim()]):re(a,t,`${n}${i}`,r);case"(":return re(a,t,`${n}${i}`,r+1);case")":return re(a,t,`${n}${i}`,r-1);default:return re(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Kc({current:n,depth:r});return t.push(n.trim()),t}function ti(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Vo.test(e)||Wo.test(e)}const iu=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function au(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Vo.test(e)||Wo.test(e)||iu.test(e)}function cu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function cs(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Ln(a))continue;const c=kc(a);if(!c)throw new At({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const m=Oe(b,{type:"struct"});f.push(m)}if(!f.length)throw new Zc({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=ni(c,t)}return r}const uu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ni(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Zo.test(i.type))r.push(i);else{const c=Fe(uu,i.type);if(!c?.type)throw new Vc({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Yc({type:f});r.push({...i,type:`tuple${u??""}`,components:ni(t[f]??[],t,new Set([...n,f]))})}else if(ti(f))r.push(i);else throw new Uc({type:f})}}return r}function ri(e){const t=cs(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Ln(o)||n.push(kr(o,t))}return n}function Ks(e){let t;if(typeof e=="string")t=kr(e);else{const n=cs(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Ln(o)){t=kr(o,n);break}}}if(!t)throw new Lc({signature:e});return t}function Js(e){const t=[];if(typeof e=="string"){const n=re(e),r=n.length;for(let s=0;s<r;s++)t.push(Oe(n[s],{modifiers:Ys}))}else{const n=cs(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Ln(o))continue;const i=re(o),a=i.length;for(let c=0;c<a;c++)t.push(Oe(i[c],{modifiers:Ys,structs:n}))}}if(t.length===0)throw new _c({params:e});return t}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function le(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Eu(e.type);return`${e.name}(${Un(e.inputs,{includeName:t})})`}function Un(e,{includeName:t=!1}={}){return e?e.map(n=>fu(n,{includeName:t})).join(t?", ":","):""}function fu(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Un(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function he(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function D(e){return he(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const si="2.40.2";let ir={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${si}`},P=class Nr extends Error{constructor(t,n={}){const r=n.cause instanceof Nr?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Nr&&n.cause.docsPath||n.docsPath,o=ir.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...ir.version?[`Version: ${ir.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=si}walk(t){return oi(this,t)}};function oi(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?oi(e.cause,t):t?null:e}class du extends P{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Xs extends P{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ii extends P{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Un(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class un extends P{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class lu extends P{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class hu extends P{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${D(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class bu extends P{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class pu extends P{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Qs extends P{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class ai extends P{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class mu extends P{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class ci extends P{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class eo extends P{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class wt extends P{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ui extends P{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class yu extends P{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class gu extends P{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${le(t.abiItem)}\`, and`,`\`${n.type}\` in \`${le(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let wu=class extends P{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Ft extends P{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Un(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class jn extends P{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${le(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class xu extends P{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class vu extends P{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let fi=class extends P{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Eu extends P{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Pu extends P{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let di=class extends P{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},li=class extends P{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class to extends P{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Bt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ue(e,{dir:t,size:n}):$u(e,{dir:t,size:n})}function Ue(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new li({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function $u(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new li({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let hi=class extends P{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Au=class extends P{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Bu extends P{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Iu=class extends P{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Ye(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ge(e,{size:t}){if(D(e)>t)throw new Iu({givenSize:D(e),maxSize:t})}function Pe(e,t={}){const{signed:n}=t;t.size&&ge(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Su(e,t={}){let n=e;if(t.size&&(ge(n,{size:t.size}),n=Ye(n)),Ye(n)==="0x00")return!1;if(Ye(n)==="0x01")return!0;throw new Bu(n)}function Re(e,t={}){return Number(Pe(e,t))}const Tu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function je(e,t={}){return typeof e=="number"||typeof e=="bigint"?z(e,t):typeof e=="string"?Mt(e,t):typeof e=="boolean"?bi(e,t):q(e,t)}function bi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ge(n,{size:t.size}),Bt(n,{size:t.size})):n}function q(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Tu[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ge(r,{size:t.size}),Bt(r,{dir:"right",size:t.size})):r}function z(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new hi({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Bt(a,{size:r}):a}const ku=new TextEncoder;function Mt(e,t={}){const n=ku.encode(e);return q(n,t)}const Nu=new TextEncoder;function It(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ru(e,t):typeof e=="boolean"?Ou(e,t):he(e)?$e(e,t):Ke(e,t)}function Ou(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ge(n,{size:t.size}),Bt(n,{size:t.size})):n}const Ae={zero:48,nine:57,A:65,F:70,a:97,f:102};function no(e){if(e>=Ae.zero&&e<=Ae.nine)return e-Ae.zero;if(e>=Ae.A&&e<=Ae.F)return e-(Ae.A-10);if(e>=Ae.a&&e<=Ae.f)return e-(Ae.a-10)}function $e(e,t={}){let n=e;t.size&&(ge(n,{size:t.size}),n=Bt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=no(r.charCodeAt(a++)),u=no(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new P(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Ru(e,t){const n=z(e,t);return $e(n)}function Ke(e,t={}){const n=Nu.encode(e);return typeof t.size=="number"?(ge(n,{size:t.size}),Bt(n,{dir:"right",size:t.size})):n}const An=BigInt(2**32-1),ro=BigInt(32);function Cu(e,t=!1){return t?{h:Number(e&An),l:Number(e>>ro&An)}:{h:Number(e>>ro&An)|0,l:Number(e&An)|0}}function Fu(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=Cu(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Mu=(e,t,n)=>e<<n|t>>>32-n,zu=(e,t,n)=>t<<n|e>>>32-n,Lu=(e,t,n)=>t<<n-32|e>>>64-n,Uu=(e,t,n)=>e<<n-32|t>>>64-n,ut=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ju(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function zt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Qe(e,...t){if(!ju(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _u(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zt(e.outputLen),zt(e.blockLen)}function xt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function pi(e,t){Qe(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Gu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function vt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ar(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function xe(e,t){return e<<32-t|e>>>t}const Du=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Hu(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function qu(e){for(let t=0;t<e.length;t++)e[t]=Hu(e[t]);return e}const so=Du?e=>e:qu;function Vu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function _n(e){return typeof e=="string"&&(e=Vu(e)),Qe(e),e}function Wu(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Qe(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class us{}function mi(e){const t=r=>e().update(_n(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Zu(e=32){if(ut&&typeof ut.getRandomValues=="function")return ut.getRandomValues(new Uint8Array(e));if(ut&&typeof ut.randomBytes=="function")return Uint8Array.from(ut.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Yu=BigInt(0),Rt=BigInt(1),Ku=BigInt(2),Ju=BigInt(7),Xu=BigInt(256),Qu=BigInt(113),yi=[],gi=[],wi=[];for(let e=0,t=Rt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],yi.push(2*(5*r+n)),gi.push((e+1)*(e+2)/2%64);let s=Yu;for(let o=0;o<7;o++)t=(t<<Rt^(t>>Ju)*Qu)%Xu,t&Ku&&(s^=Rt<<(Rt<<BigInt(o))-Rt);wi.push(s)}const xi=Fu(wi,!0),e0=xi[0],t0=xi[1],oo=(e,t,n)=>n>32?Lu(e,t,n):Mu(e,t,n),io=(e,t,n)=>n>32?Uu(e,t,n):zu(e,t,n);function n0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=oo(u,f,1)^n[a],l=io(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=gi[i],c=oo(s,o,a),u=io(s,o,a),f=yi[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=e0[r],e[1]^=t0[r]}vt(n)}class fs extends us{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,zt(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Gu(this.state)}clone(){return this._cloneInto()}keccak(){so(this.state32),n0(this.state32,this.rounds),so(this.state32),this.posOut=0,this.pos=0}update(t){xt(this),t=_n(t),Qe(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){xt(this,!1),Qe(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return zt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(pi(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,vt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new fs(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const r0=(e,t,n)=>mi(()=>new fs(t,e,n)),vi=r0(1,136,256/8);function W(e,t){const n=t||"hex",r=vi(he(e,{strict:!1})?It(e):e);return n==="bytes"?r:je(r)}const s0=e=>W(It(e));function o0(e){return s0(e)}function i0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new P("Unable to normalize signature.");return s}const a0=e=>{const t=typeof e=="string"?e:Nn(e);return i0(t)};function Ei(e){return o0(a0(e))}const Gn=Ei;let _e=class extends P{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Dn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const cr=new Dn(8192);function Hn(e,t){if(cr.has(`${e}.${t}`))return cr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=W(Ke(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return cr.set(`${e}.${t}`,o),o}function Pi(e,t){if(!ue(e,{strict:!1}))throw new _e({address:e});return Hn(e,t)}const c0=/^0x[a-fA-F0-9]{40}$/,ur=new Dn(8192);function ue(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ur.has(r))return ur.get(r);const s=c0.test(e)?e.toLowerCase()===e?!0:n?Hn(e)===e:!0:!1;return ur.set(r,s),s}function be(e){return typeof e[0]=="string"?St(e):u0(e)}function u0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function St(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Et(e,t,n,{strict:r}={}){return he(e,{strict:!1})?f0(e,t,n,{strict:r}):Bi(e,t,n,{strict:r})}function $i(e,t){if(typeof t=="number"&&t>0&&t>D(e)-1)throw new di({offset:t,position:"start",size:D(e)})}function Ai(e,t,n){if(typeof t=="number"&&typeof n=="number"&&D(e)!==n-t)throw new di({offset:n,position:"end",size:D(e)})}function Bi(e,t,n,{strict:r}={}){$i(e,t);const s=e.slice(t,n);return r&&Ai(s,t,n),s}function f0(e,t,n,{strict:r}={}){$i(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ai(s,t,n),s}const d0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ii=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function He(e,t){if(e.length!==t.length)throw new bu({expectedLength:e.length,givenLength:t.length});const n=l0({params:e,values:t}),r=ls(n);return r.length===0?"0x":r}function l0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ds({param:e[r],value:t[r]}));return n}function ds({param:e,value:t}){const n=hs(e.type);if(n){const[r,s]=n;return b0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return w0(t,{param:e});if(e.type==="address")return h0(t);if(e.type==="bool")return m0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ii.exec(e.type)??[];return y0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return p0(t,{param:e});if(e.type==="string")return g0(t);throw new xu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ls(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=D(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(z(t+s,{size:32})),r.push(a),s+=D(a)):n.push(a)}return be([...n,...r])}function h0(e){if(!ue(e))throw new _e({address:e});return{dynamic:!1,encoded:Ue(e.toLowerCase())}}function b0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new fi(e);if(!r&&e.length!==t)throw new lu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=ds({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=ls(o);if(r){const a=z(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?be([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:be(o.map(({encoded:i})=>i))}}function p0(e,{param:t}){const[,n]=t.type.split("bytes"),r=D(e);if(!n){let s=e;return r%32!==0&&(s=Ue(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:be([Ue(z(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new hu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ue(e,{dir:"right"})}}function m0(e){if(typeof e!="boolean")throw new P(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ue(bi(e))}}function y0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new hi({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:z(e,{size:32,signed:t})}}function g0(e){const t=Mt(e),n=Math.ceil(D(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ue(Et(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:be([Ue(z(D(t),{size:32})),...r])}}function w0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=ds({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ls(r):be(r.map(({encoded:s})=>s))}}function hs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const fn=e=>Et(Ei(e),0,4);function st(e){const{abi:t,args:n=[],name:r}=e,s=he(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?fn(a)===r:a.type==="event"?Gn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Or(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Si(a.inputs,i.inputs,n);if(u)throw new gu({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Or(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ue(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Or(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Or(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Si(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Si(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ue(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ue(n[r],{strict:!1}):!1)return i}}const ao="/docs/contract/encodeEventTopics";function dn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=st({abi:t,name:n});if(!c)throw new eo(n,{docsPath:ao});s=c}if(s.type!=="event")throw new eo(void 0,{docsPath:ao});const o=le(s),i=Gn(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>co({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?co({param:f,value:u[d]}):null)??[])}return[i,...a]}function co({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return W(It(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Pu(e.type);return He([e],[t])}function qn(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Ti(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=qn(e,{method:"eth_newFilter"}),f=o?dn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?z(i):i,toBlock:typeof c=="bigint"?z(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function se(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const uo="/docs/contract/encodeFunctionData";function x0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=st({abi:t,args:n,name:r});if(!o)throw new wt(r,{docsPath:uo});s=o}if(s.type!=="function")throw new wt(void 0,{docsPath:uo});return{abi:[s],functionName:fn(le(s))}}function we(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:x0(e),s=n[0],o=r,i="inputs"in s&&s.inputs?He(s.inputs,t??[]):void 0;return St([o,i??"0x"])}const v0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ki={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},E0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let fo=class extends P{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ni=class extends P{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},P0=class extends P{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const $0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new P0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ni({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new fo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new fo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function bs(e,{recursiveReadLimit:t=8192}={}){const n=Object.create($0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function A0(e,t={}){typeof t.size<"u"&&ge(e,{size:t.size});const n=q(e,t);return Pe(n,t)}function B0(e,t={}){let n=e;if(typeof t.size<"u"&&(ge(n,{size:t.size}),n=Ye(n)),n.length>1||n[0]>1)throw new Au(n);return!!n[0]}function ke(e,t={}){typeof t.size<"u"&&ge(e,{size:t.size});const n=q(e,t);return Re(n,t)}function I0(e,t={}){let n=e;return typeof t.size<"u"&&(ge(n,{size:t.size}),n=Ye(n,{dir:"right"})),new TextDecoder().decode(n)}function ln(e,t){const n=typeof t=="string"?$e(t):t,r=bs(n);if(D(n)===0&&e.length>0)throw new un;if(D(t)&&D(t)<32)throw new ii({data:typeof t=="string"?t:q(t),params:e,size:D(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=pt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function pt(e,t,{staticPosition:n}){const r=hs(t.type);if(r){const[s,o]=r;return T0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return R0(e,t,{staticPosition:n});if(t.type==="address")return S0(e);if(t.type==="bool")return k0(e);if(t.type.startsWith("bytes"))return N0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return O0(e,t);if(t.type==="string")return C0(e,{staticPosition:n});throw new vu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const lo=32,Rr=32;function S0(e){const t=e.readBytes(32);return[Hn(q(Bi(t,-20))),32]}function T0(e,t,{length:n,staticPosition:r}){if(!n){const i=ke(e.readBytes(Rr)),a=r+i,c=a+lo;e.setPosition(a);const u=ke(e.readBytes(lo)),f=Lt(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,m]=pt(e,t,{staticPosition:c});d+=m,l.push(b)}return e.setPosition(r+32),[l,32]}if(Lt(t)){const i=ke(e.readBytes(Rr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=pt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=pt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function k0(e){return[B0(e.readBytes(32),{size:32}),32]}function N0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ke(e.readBytes(32));e.setPosition(n+i);const a=ke(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[q(c),32]}return[q(e.readBytes(Number.parseInt(s,10),32)),32]}function O0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?A0(s,{signed:n}):ke(s,{signed:n}),32]}function R0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Lt(t)){const i=ke(e.readBytes(Rr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=pt(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=pt(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function C0(e,{staticPosition:t}){const n=ke(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ke(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=I0(Ye(o));return e.setPosition(t+32),[i,32]}function Lt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Lt);const n=hs(e.type);return!!(n&&Lt({...e,type:n[1]}))}function Oi(e){const{abi:t,data:n}=e,r=Et(n,0,4);if(r==="0x")throw new un;const o=[...t||[],ki,E0].find(i=>i.type==="error"&&r===fn(le(i)));if(!o)throw new ai(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?ln(o.inputs,Et(n,4)):void 0,errorName:o.name}}const H=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Ri({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?H(t[o]):t[o]}`).join(", ")})`}const Ci={gwei:9,wei:18},F0={ether:-9,wei:9};function Fi(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function ps(e,t="wei"){return Fi(e,Ci[t])}function ee(e,t="wei"){return Fi(e,F0[t])}class M0 extends P{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class z0 extends P{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ho(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function L0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ho(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ho(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function hn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class U0 extends P{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",hn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class j0 extends P{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=hn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${ps(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ee(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ee(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ee(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Mi extends P{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class zi extends P{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class _0 extends P{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class G0 extends P{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const D0=e=>e,bn=e=>e;class Li extends P{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const b=n?se(n):void 0;let m=hn({from:b?.address,to:d,value:typeof l<"u"&&`${ps(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ee(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ee(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ee(u)} gwei`,nonce:f});h&&(m+=`
${L0(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ui extends P{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=st({abi:n,args:r,name:i}),u=c?Ri({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?le(c,{includeName:!0}):void 0,d=hn({address:s&&D0(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Cr extends P{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Oi({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=v0[h]}else{const h=f?le(f,{includeName:!0}):void 0,b=f&&l?Ri({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof ai&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class H0 extends P{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class q0 extends P{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Vn extends P{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Je extends P{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${bn(i)}`,t&&`Request body: ${H(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class ms extends P{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${bn(r)}`,`Request body: ${H(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class bo extends P{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${bn(n)}`,`Request body: ${H(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const V0=-1;class ne extends P{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof ms?t.code:n??V0}}class ie extends ne{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ut extends ne{constructor(t){super(t,{code:Ut.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class jt extends ne{constructor(t){super(t,{code:jt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class _t extends ne{constructor(t,{method:n}={}){super(t,{code:_t.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(_t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Gt extends ne{constructor(t){super(t,{code:Gt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class et extends ne{constructor(t){super(t,{code:et.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ge extends ne{constructor(t){super(t,{code:Ge.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ge,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Dt extends ne{constructor(t){super(t,{code:Dt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ht extends ne{constructor(t){super(t,{code:Ht.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class qt extends ne{constructor(t){super(t,{code:qt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class We extends ne{constructor(t,{method:n}={}){super(t,{code:We.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(We,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Pt extends ne{constructor(t){super(t,{code:Pt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Vt extends ne{constructor(t){super(t,{code:Vt.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class mt extends ie{constructor(t){super(t,{code:mt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Wt extends ie{constructor(t){super(t,{code:Wt.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Zt extends ie{constructor(t,{method:n}={}){super(t,{code:Zt.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Yt extends ie{constructor(t){super(t,{code:Yt.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Kt extends ie{constructor(t){super(t,{code:Kt.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Jt extends ie{constructor(t){super(t,{code:Jt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Xt extends ie{constructor(t){super(t,{code:Xt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Qt extends ie{constructor(t){super(t,{code:Qt.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class en extends ie{constructor(t){super(t,{code:en.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class tn extends ie{constructor(t){super(t,{code:tn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class nn extends ie{constructor(t){super(t,{code:nn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class rn extends ie{constructor(t){super(t,{code:rn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class sn extends ie{constructor(t){super(t,{code:sn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class W0 extends ne{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Z0=3;function $t(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Vn?e:e instanceof P?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof un?new H0({functionName:o}):[Z0,et.code].includes(c)&&(u||f||d||l)||c===Ge.code&&f==="execution reverted"&&u?new Cr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof ms?f:l??d}):e;return new Ui(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function Y0(e){const t=W(`0x${e.substring(4)}`).substring(26);return Hn(`0x${t}`)}async function K0({hash:e,signature:t}){const n=he(e)?e:je(e),{secp256k1:r}=await qo(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>N1);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=po(h);return new r.Signature(Pe(u),Pe(f)).addRecoveryBit(b)}const i=he(t)?t:je(t);if(D(i)!==65)throw new Error("invalid signature length");const a=Re(`0x${i.slice(130)}`),c=po(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function po(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ji({hash:e,signature:t}){return Y0(await K0({hash:e,signature:t}))}function J0(e,t="hex"){const n=_i(e),r=bs(new Uint8Array(n.length));return n.encode(r),t==="hex"?q(r.bytes):r.bytes}function _i(e){return Array.isArray(e)?X0(e.map(t=>_i(t))):Q0(e)}function X0(e){const t=e.reduce((s,o)=>s+o.length,0),n=Gi(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Q0(e){const t=typeof e=="string"?$e(e):e,n=Gi(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Gi(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new P("Length is too large.")}function ef(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=W(St(["0x05",J0([t?z(t):"0x",s,n?z(n):"0x"])]));return r==="bytes"?$e(o):o}async function Di(e){const{authorization:t,signature:n}=e;return ji({hash:ef(t),signature:n??t})}class tf extends P{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=hn({from:n?.address,to:d,value:typeof l<"u"&&`${ps(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ee(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ee(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ee(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class lt extends P{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class On extends P{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ee(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(On,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Fr extends P{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ee(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Fr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Mr extends P{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class zr extends P{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Lr extends P{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Lr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ur extends P{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ur,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class jr extends P{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class _r extends P{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(_r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Gr extends P{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Gr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Rn extends P{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ee(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ee(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Rn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class pn extends P{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Wn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof P?e.walk(s=>s?.code===lt.code):e;return r instanceof P?new lt({cause:e,message:r.details}):lt.nodeMessage.test(n)?new lt({cause:e,message:e.details}):On.nodeMessage.test(n)?new On({cause:e,maxFeePerGas:t?.maxFeePerGas}):Fr.nodeMessage.test(n)?new Fr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Mr.nodeMessage.test(n)?new Mr({cause:e,nonce:t?.nonce}):zr.nodeMessage.test(n)?new zr({cause:e,nonce:t?.nonce}):Lr.nodeMessage.test(n)?new Lr({cause:e,nonce:t?.nonce}):Ur.nodeMessage.test(n)?new Ur({cause:e}):jr.nodeMessage.test(n)?new jr({cause:e,gas:t?.gas}):_r.nodeMessage.test(n)?new _r({cause:e,gas:t?.gas}):Gr.nodeMessage.test(n)?new Gr({cause:e}):Rn.nodeMessage.test(n)?new Rn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new pn({cause:e})}function nf(e,{docsPath:t,...n}){const r=(()=>{const s=Wn(e,n);return s instanceof pn?e:s})();return new tf(r,{docsPath:t,...n})}function Zn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const rf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function mn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=sf(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>q(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=z(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=z(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=z(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=z(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=z(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=z(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=rf[e.type]),typeof e.value<"u"&&(n.value=z(e.value)),n}function sf(e){return e.map(t=>({address:t.address,r:t.r?z(BigInt(t.r)):t.r,s:t.s?z(BigInt(t.s)):t.s,chainId:z(t.chainId),nonce:z(t.nonce),...typeof t.yParity<"u"?{yParity:z(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:z(t.v)}:{}}))}function mo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new to({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new to({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function of(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=z(t)),n!==void 0&&(i.nonce=z(n)),r!==void 0&&(i.state=mo(r)),s!==void 0){if(i.state)throw new z0;i.stateDiff=mo(s)}return i}function ys(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ue(n,{strict:!1}))throw new _e({address:n});if(t[n])throw new M0({address:n});t[n]=of(r)}return t}const af=2n**256n-1n;function Tt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?se(t):void 0;if(o&&!ue(o.address))throw new _e({address:o.address});if(s&&!ue(s))throw new _e({address:s});if(n&&n>af)throw new On({maxFeePerGas:n});if(r&&n&&r>n)throw new Rn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class Hi extends P{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class gs extends P{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class cf extends P{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ee(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class qi extends P{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Vi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ws(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Re(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Re(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Vi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=uf(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function uf(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Wi(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:ws(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function de(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?z(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new qi({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Wi)(a,"getBlock")}async function xs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ff(e,t){return Zi(e,t)}async function Zi(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await M(e,de,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Pe(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):M(e,de,"getBlock")({}),M(e,xs,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new gs;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function df(e,t){return Dr(e,t)}async function Dr(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Hi;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await M(e,de,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new gs;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Zi(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await M(e,xs,"getGasPrice")({}))}}async function Yi(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?z(r):n]},{dedupe:!!r});return Re(s)}function Ki(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>$e(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>q(o))}function Ji(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>$e(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>$e(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>q(i))}function lf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function hf(e,t,n){return e&t^~e&n}function bf(e,t,n){return e&t^e&n^t&n}class pf extends us{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=ar(this.buffer)}update(t){xt(this),t=_n(t),Qe(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=ar(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){xt(this),pi(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,vt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;lf(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=ar(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const ze=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Le=new Uint32Array(64);class yf extends pf{constructor(t=32){super(64,t,8,!1),this.A=ze[0]|0,this.B=ze[1]|0,this.C=ze[2]|0,this.D=ze[3]|0,this.E=ze[4]|0,this.F=ze[5]|0,this.G=ze[6]|0,this.H=ze[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Le[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Le[d-15],h=Le[d-2],b=xe(l,7)^xe(l,18)^l>>>3,m=xe(h,17)^xe(h,19)^h>>>10;Le[d]=m+Le[d-7]+b+Le[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=xe(a,6)^xe(a,11)^xe(a,25),h=f+l+hf(a,c,u)+mf[d]+Le[d]|0,m=(xe(r,2)^xe(r,13)^xe(r,22))+bf(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){vt(Le)}destroy(){this.set(0,0,0,0,0,0,0,0),vt(this.buffer)}}const Xi=mi(()=>new yf),gf=Xi;function wf(e,t){return gf(he(e,{strict:!1})?It(e):e)}function xf(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=wf(t);return s.set([n],0),r==="bytes"?s:q(s)}function vf(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(xf({commitment:o,to:r,version:n}));return s}const yo=6,Qi=32,vs=4096,ea=Qi*vs,go=ea*yo-1-1*vs*yo;class Ef extends P{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Pf extends P{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function $f(e){const t=typeof e.data=="string"?$e(e.data):e.data,n=D(t);if(!n)throw new Pf;if(n>go)throw new Ef({maxSize:go,size:n});const r=[];let s=!0,o=0;for(;s;){const i=bs(new Uint8Array(ea));let a=0;for(;a<vs;){const c=t.slice(o,o+(Qi-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>q(i.bytes))}function Af(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??$f({data:t}),o=e.commitments??Ki({blobs:s,kzg:n,to:r}),i=e.proofs??Ji({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Bf(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new U0({transaction:e})}function If(e,{docsPath:t,...n}){const r=(()=>{const s=Wn(e,n);return s instanceof pn?e:s})();return new j0(r,{docsPath:t,...n})}async function Es(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Re(t)}async function ta(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,nonceManager:m,to:w,type:x,value:B,...y}=t,p=await(async()=>{if(!n||!m)return b;const S=se(n),O=o?o.id:await M(e,Es,"getChainId")({});return await m.consume({address:S.address,chainId:O,client:e})})();Tt(t);const g=o?.formatters?.transactionRequest?.format,v=(g||mn)({...Zn(y,{format:g}),account:n?se(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,to:w,type:x,value:B},"fillTransaction");try{const S=await e.request({method:"eth_fillTransaction",params:[v]}),E=(o?.formatters?.transaction?.format||ws)(S.tx);delete E.blockHash,delete E.blockNumber,delete E.r,delete E.s,delete E.transactionIndex,delete E.v,delete E.yParity,E.data=E.input,E.gas&&(E.gas=t.gas??E.gas),E.gasPrice&&(E.gasPrice=t.gasPrice??E.gasPrice),E.maxFeePerBlobGas&&(E.maxFeePerBlobGas=t.maxFeePerBlobGas??E.maxFeePerBlobGas),E.maxFeePerGas&&(E.maxFeePerGas=t.maxFeePerGas??E.maxFeePerGas),E.maxPriorityFeePerGas&&(E.maxPriorityFeePerGas=t.maxPriorityFeePerGas??E.maxPriorityFeePerGas),E.nonce&&(E.nonce=t.nonce??E.nonce);const k=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const I=await M(e,de,"getBlock")({});return o.fees.baseFeeMultiplier({block:I,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(k<1)throw new Hi;const R=10**(k.toString().split(".")[1]?.length??0),j=I=>I*BigInt(Math.ceil(k*R))/BigInt(R);return E.maxFeePerGas&&!t.maxFeePerGas&&(E.maxFeePerGas=j(E.maxFeePerGas)),E.gasPrice&&!t.gasPrice&&(E.gasPrice=j(E.gasPrice)),{raw:S.raw,transaction:{from:v.from,...E}}}catch(S){throw If(S,{...t,chain:e.chain})}}const Sf=["blobVersionedHashes","chainId","fees","gas","nonce","type"],wo=new Map,fr=new Dn(128);async function na(e,t){const r=fr.get(e.uid)!==!1&&["fees","gas"].some(y=>t.parameters?.includes(y))?await M(e,ta,"fillTransaction")(t).then(y=>{const{chainId:p,from:g,gas:$,gasPrice:v,nonce:S,maxFeePerBlobGas:O,maxFeePerGas:E,maxPriorityFeePerGas:k,type:N}=y.transaction;return fr.set(e.uid,!0),{...t,chainId:p,from:g,gas:$,gasPrice:v,nonce:S,maxFeePerBlobGas:O,maxFeePerGas:E,maxPriorityFeePerGas:k,type:N}}).catch(y=>{const p=y;return(p.cause.name==="MethodNotFoundRpcError"||p.cause.name==="MethodNotSupportedRpcError")&&fr.set(e.uid,!1),t}):t,{account:s=e.account,blobs:o,chain:i,gas:a,kzg:c,nonce:u,nonceManager:f,parameters:d=Sf,type:l}=r,h=s&&se(s),b={...r,...h?{from:h?.address}:{}};let m;async function w(){return m||(m=await M(e,de,"getBlock")({blockTag:"latest"}),m)}let x;async function B(){return x||(i?i.id:typeof b.chainId<"u"?b.chainId:(x=await M(e,Es,"getChainId")({}),x))}if(d.includes("nonce")&&typeof u>"u"&&h)if(f){const y=await B();b.nonce=await f.consume({address:h.address,chainId:y,client:e})}else b.nonce=await M(e,Yi,"getTransactionCount")({address:h.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&o&&c){const y=Ki({blobs:o,kzg:c});if(d.includes("blobVersionedHashes")){const p=vf({commitments:y,to:"hex"});b.blobVersionedHashes=p}if(d.includes("sidecars")){const p=Ji({blobs:o,commitments:y,kzg:c}),g=Af({blobs:o,commitments:y,proofs:p,to:"hex"});b.sidecars=g}}if(d.includes("chainId")&&(b.chainId=await B()),(d.includes("fees")||d.includes("type"))&&typeof l>"u")try{b.type=Bf(b)}catch{let y=wo.get(e.uid);typeof y>"u"&&(y=typeof(await w())?.baseFeePerGas=="bigint",wo.set(e.uid,y)),b.type=y?"eip1559":"legacy"}if(d.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const y=await w(),{maxFeePerGas:p,maxPriorityFeePerGas:g}=await Dr(e,{block:y,chain:i,request:b});if(typeof b.maxPriorityFeePerGas>"u"&&b.maxFeePerGas&&b.maxFeePerGas<g)throw new cf({maxPriorityFeePerGas:g});b.maxPriorityFeePerGas=g,b.maxFeePerGas=p}}else{if(typeof b.maxFeePerGas<"u"||typeof b.maxPriorityFeePerGas<"u")throw new gs;if(typeof b.gasPrice>"u"){const y=await w(),{gasPrice:p}=await Dr(e,{block:y,chain:i,request:b,type:"legacy"});b.gasPrice=p}}return d.includes("gas")&&typeof a>"u"&&(b.gas=await M(e,Ps,"estimateGas")({...b,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),Tt(b),delete b.parameters,b}async function Ps(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?se(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:d,data:l,gas:h,gasPrice:b,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:B,value:y,stateOverride:p,...g}=r?await na(e,{...t,parameters:o}):t,v=(typeof f=="bigint"?z(f):void 0)||d,S=ys(p),O=await(async()=>{if(g.to)return g.to;if(a&&a.length>0)return await Di({authorization:a[0]}).catch(()=>{throw new P("`to` is required. Could not infer from `authorizationList`")})})();Tt(t);const E=e.chain?.formatters?.transactionRequest?.format,N=(E||mn)({...Zn(g,{format:E}),account:s,accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,data:l,gas:h,gasPrice:b,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:B,to:O,value:y},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:S?[N,v??e.experimental_blockTag??"latest",S]:v?[N,v]:[N]}))}catch(i){throw nf(i,{...t,account:s,chain:e.chain})}}async function Tf(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=we({abi:n,args:s,functionName:o});try{return await M(e,Ps,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?se(a.account):void 0;throw $t(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function yn(e,t){if(!ue(e,{strict:!1}))throw new _e({address:e});if(!ue(t,{strict:!1}))throw new _e({address:t});return e.toLowerCase()===t.toLowerCase()}const xo="/docs/contract/decodeEventLog";function $s(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new mu({docsPath:xo});const c=t.find(m=>m.type==="event"&&i===Gn(le(m)));if(!(c&&"name"in c)||c.type!=="event")throw new ci(i,{docsPath:xo});const{name:u,inputs:f}=c,d=f?.some(m=>!("name"in m&&m.name)),l=d?[]:{},h=f.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[w,x]=h[m],B=a[m];if(!B)throw new jn({abiItem:c,param:w});l[d?x:w.name||x]=kf({param:w,value:B})}const b=f.filter(m=>!("indexed"in m&&m.indexed));if(b.length>0){if(n&&n!=="0x")try{const m=ln(b,n);if(m)if(d)for(let w=0;w<f.length;w++)l[w]=l[w]??m.shift();else for(let w=0;w<b.length;w++)l[b[w].name]=m[w]}catch(m){if(o)throw m instanceof ii||m instanceof Ni?new Ft({abiItem:c,data:n,params:b,size:D(n)}):m}else if(o)throw new Ft({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function kf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(ln([e],t)||[])[0]}function As(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===Gn(u));if(!a)return null;const c=$s({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!Nf({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof ci)return null;if(a instanceof Ft||a instanceof jn){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Nf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?yn(i,a):o.type==="string"||o.type==="bytes"?W(It(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Ce(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Bs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(m=>dn({abi:[m],eventName:m.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?z(r):r,toBlock:typeof s=="bigint"?z(s):s}]});const h=l.map(b=>Ce(b));return f?As({abi:f,args:a,logs:h,strict:u}):h}async function ra(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?st({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return M(e,Bs,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const dr="/docs/contract/decodeFunctionResult";function ot(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=st({abi:t,args:n,name:r});if(!a)throw new wt(r,{docsPath:dr});o=a}if(o.type!=="function")throw new wt(void 0,{docsPath:dr});if(!o.outputs)throw new ui(o.name,{docsPath:dr});const i=ln(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Is=BigInt(0),Hr=BigInt(1);function gn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ss(e){if(!gn(e))throw new Error("Uint8Array expected")}function on(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Bn(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Is:BigInt("0x"+e)}const oa=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Of=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function an(e){if(Ss(e),oa)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Of[e[n]];return t}const Be={_0:48,_9:57,A:65,F:70,a:97,f:102};function vo(e){if(e>=Be._0&&e<=Be._9)return e-Be._0;if(e>=Be.A&&e<=Be.F)return e-(Be.A-10);if(e>=Be.a&&e<=Be.f)return e-(Be.a-10)}function Cn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(oa)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=vo(e.charCodeAt(o)),a=vo(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Xe(e){return sa(an(e))}function ia(e){return Ss(e),sa(an(Uint8Array.from(e).reverse()))}function wn(e,t){return Cn(e.toString(16).padStart(t*2,"0"))}function aa(e,t){return wn(e,t).reverse()}function ce(e,t,n){let r;if(typeof t=="string")try{r=Cn(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(gn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Fn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ss(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const lr=e=>typeof e=="bigint"&&Is<=e;function Ts(e,t,n){return lr(e)&&lr(t)&&lr(n)&&t<=e&&e<n}function yt(e,t,n,r){if(!Ts(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Rf(e){let t;for(t=0;e>Is;e>>=Hr,t+=1);return t}const Yn=e=>(Hr<<BigInt(e))-Hr,hr=e=>new Uint8Array(e),Eo=e=>Uint8Array.from(e);function Cf(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=hr(e),s=hr(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=hr(0))=>{s=a(Eo([0]),d),r=a(),d.length!==0&&(s=a(Eo([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return Fn(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const Ff={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||gn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Kn(e,t,n={}){const r=(s,o,i)=>{const a=Ff[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Po(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Mf="0.1.1";function zf(){return Mf}class U extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof U){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof U&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${zf()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return ca(this,t)}}function ca(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ca(e.cause,t):t?null:e}function xn(e,t){if(ht(e)>t)throw new ed({givenSize:ht(e),maxSize:t})}const Ie={zero:48,nine:57,A:65,F:70,a:97,f:102};function $o(e){if(e>=Ie.zero&&e<=Ie.nine)return e-Ie.zero;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function Lf(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new td({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function ua(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Jn(e,t){if(oe(e)>t)throw new ad({givenSize:oe(e),maxSize:t})}function Uf(e,t){if(typeof t=="number"&&t>0&&t>oe(e)-1)throw new ga({offset:t,position:"start",size:oe(e)})}function jf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&oe(e)!==n-t)throw new ga({offset:n,position:"end",size:oe(e)})}function fa(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new cd({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const _f="#__bigint";function da(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+_f:s,n)}const Gf=new TextDecoder,Df=new TextEncoder;function Hf(e){return e instanceof Uint8Array?e:typeof e=="string"?la(e):qf(e)}function qf(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function la(e,t={}){const{size:n}=t;let r=e;n&&(Jn(e,n),r=nt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=$o(s.charCodeAt(c++)),f=$o(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function Vf(e,t={}){const{size:n}=t,r=Df.encode(e);return typeof n=="number"?(xn(r,n),Wf(r,n)):r}function Wf(e,t){return Lf(e,{dir:"right",size:t})}function ht(e){return e.length}function Zf(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Yf(e,t={}){const{size:n}=t;typeof n<"u"&&xn(e,n);const r=me(e,t);return pa(r,t)}function Kf(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(xn(r,n),r=ha(r)),r.length>1||r[0]>1)throw new Qf(r);return!!r[0]}function Ne(e,t={}){const{size:n}=t;typeof n<"u"&&xn(e,n);const r=me(e,t);return ma(r,t)}function Jf(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(xn(r,n),r=Xf(r)),Gf.decode(r)}function ha(e){return ua(e,{dir:"left"})}function Xf(e){return ua(e,{dir:"right"})}class Qf extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let ed=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},td=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const nd=new TextEncoder,rd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sd(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ao(e);if(typeof e!="string")throw new Ao(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Bo(e);if(!e.startsWith("0x"))throw new Bo(e)}function pe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function od(e){return e instanceof Uint8Array?me(e):Array.isArray(e)?me(new Uint8Array(e)):e}function ba(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Jn(n,t.size),tt(n,t.size)):n}function me(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=rd[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Jn(r,t.size),nt(r,t.size)):r}function Y(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new ya({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?tt(c,r):c}function ks(e,t={}){return me(nd.encode(e),t)}function tt(e,t){return fa(e,{dir:"left",size:t})}function nt(e,t){return fa(e,{dir:"right",size:t})}function Ee(e,t,n,r={}){const{strict:s}=r;Uf(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&jf(o,t,n),o}function oe(e){return Math.ceil((e.length-2)/2)}function pa(e,t={}){const{signed:n}=t;t.size&&Jn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function ma(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:pa(e,t))}function id(e,t={}){const{strict:n=!1}=t;try{return sd(e,{strict:n}),!0}catch{return!1}}class ya extends U{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ao extends U{constructor(t){super(`Value \`${typeof t=="object"?da(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Bo extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class ad extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ga extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class cd extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function ud(e){return{address:e.address,amount:Y(e.amount),index:Y(e.index),validatorIndex:Y(e.validatorIndex)}}function wa(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Y(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Y(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Y(e.gasLimit)},...typeof e.number=="bigint"&&{number:Y(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Y(e.prevRandao)},...typeof e.time=="bigint"&&{time:Y(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(ud)}}}const Mn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],qr=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],xa=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],va=[...xa,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],fd=[...xa,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Io=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],So=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ea=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],To=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Yh=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],dd="0x82ad56cb",Pa="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ld="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",hd="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ns="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Vr extends P{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class $a extends P{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const br="/docs/contract/encodeDeployData";function Os(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new du({docsPath:br});if(!("inputs"in s))throw new Xs({docsPath:br});if(!s.inputs||s.inputs.length===0)throw new Xs({docsPath:br});const o=He(s.inputs,n);return St([r,o])}function kt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Vr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Vr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Aa(e,{docsPath:t,...n}){const r=(()=>{const s=Wn(e,n);return s instanceof pn?e:s})();return new Li(r,{docsPath:t,...n})}function Ba(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const pr=new Map;function Ia({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b?.(l)}})},i=()=>pr.delete(t),a=()=>c().map(({args:f})=>f),c=()=>pr.get(t)||[],u=f=>pr.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:d,resolve:l,reject:h}=Ba();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}async function vn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:B,nonce:y,to:p,value:g,stateOverride:$,...v}=t,S=n?se(n):void 0;if(f&&(l||h))throw new P("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&p)throw new P("Cannot provide both `code` & `to` as parameters.");const O=f&&d,E=l&&h&&p&&d,k=O||E,N=O?Sa({code:f,data:d}):E?md({data:d,factory:l,factoryData:h,to:p}):d;try{Tt(t);const j=(typeof o=="bigint"?z(o):void 0)||i,I=u?wa(u):void 0,A=ys($),C=e.chain?.formatters?.transactionRequest?.format,F=(C||mn)({...Zn(v,{format:C}),accessList:a,account:S,authorizationList:r,blobs:c,data:N,gas:b,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:B,nonce:y,to:k?void 0:p,value:g},"call");if(s&&bd({request:F})&&!A&&!I)try{return await pd(e,{...F,blockNumber:o,blockTag:i})}catch(G){if(!(G instanceof $a)&&!(G instanceof Vr))throw G}const L=(()=>{const G=[F,j];return A&&I?[...G,A,I]:A?[...G,A]:I?[...G,{},I]:G})(),_=await e.request({method:"eth_call",params:L});return _==="0x"?{data:void 0}:{data:_}}catch(R){const j=yd(R),{offchainLookup:I,offchainLookupSignature:A}=await qo(async()=>{const{offchainLookup:C,offchainLookupSignature:T}=await Promise.resolve().then(()=>pl);return{offchainLookup:C,offchainLookupSignature:T}},void 0);if(e.ccipRead!==!1&&j?.slice(0,10)===A&&p)return{data:await I(e,{data:j,to:p})};throw k&&j?.slice(0,10)==="0x101bb98d"?new q0({factory:l}):Aa(R,{...t,account:S,chain:e.chain})}}function bd({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(dd)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function pd(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return kt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new $a})(),d=(typeof o=="bigint"?z(o):void 0)||i,{schedule:l}=Ia({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((x,{data:B})=>x+(B.length-2),0)>n*2},fn:async m=>{const w=m.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),x=we({abi:Mn,args:[w],functionName:"aggregate3"}),B=await e.request({method:"eth_call",params:[{...u===null?{data:Sa({code:Ns,data:x})}:{to:u,data:x}},d]});return ot({abi:Mn,args:[w],functionName:"aggregate3",data:B||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new Vn({data:h});return h==="0x"?{data:void 0}:{data:h}}function Sa(e){const{code:t,data:n}=e;return Os({abi:ri(["constructor(bytes, bytes)"]),bytecode:Pa,args:[t,n]})}function md(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Os({abi:ri(["constructor(address, bytes, address, bytes)"]),bytecode:ld,args:[s,t,n,r]})}function yd(e){if(!(e instanceof P))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function ye(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=we({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,vn,"call")({...i,data:a,to:r});return ot({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw $t(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function gd(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?se(a.account):e.account,u=we({abi:n,args:s,functionName:i});try{const{data:f}=await M(e,vn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=ot({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw $t(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const mr=new Map,ko=new Map;let wd=0;function De(e,t,n){const r=++wd,s=()=>mr.get(e)||[],o=()=>{const f=s();mr.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=ko.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(mr.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&ko.set(e,u),i}async function Wr(e){return new Promise(t=>setTimeout(t,e))}function En(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await Wr(c);const u=async()=>{s&&(await e({unpoll:o}),await Wr(r),u())};u()})(),o}const xd=new Map,vd=new Map;function Ed(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,xd),r=t(e,vd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Pd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ed(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const $d=e=>`blockNumber.${e}`;async function Pn(e,{cacheTime:t=e.cacheTime}={}){const n=await Pd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:$d(e.uid),cacheTime:t});return BigInt(n)}async function Xn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ce(o));return!("abi"in t)||!t.abi?s:As({abi:t.abi,logs:s,strict:n})}async function Qn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ad(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const w=l??!1,x=H(["watchContractEvent",r,s,o,e.uid,i,d,w,a]);return De(x,{onLogs:u,onError:c},B=>{let y;a!==void 0&&(y=a-1n);let p,g=!1;const $=En(async()=>{if(!g){try{p=await M(e,Ti,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:w,fromBlock:a})}catch{}g=!0;return}try{let v;if(p)v=await M(e,Xn,"getFilterChanges")({filter:p});else{const S=await M(e,Pn,"getBlockNumber")({});y&&y<S?v=await M(e,ra,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:y+1n,toBlock:S,strict:w}):v=[],y=S}if(v.length===0)return;if(o)B.onLogs(v);else for(const S of v)B.onLogs([S])}catch(v){p&&v instanceof Ge&&(g=!1),B.onError?.(v)}},{emitOnBegin:!0,interval:d});return async()=>{p&&await M(e,Qn,"uninstallFilter")({filter:p}),$()}})})():(()=>{const w=l??!1,x=H(["watchContractEvent",r,s,o,e.uid,i,d,w]);let B=!0,y=()=>B=!1;return De(x,{onLogs:u,onError:c},p=>((async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),$=i?dn({abi:n,eventName:i,args:s}):[],{unsubscribe:v}=await g.subscribe({params:["logs",{address:r,topics:$}],onData(S){if(!B)return;const O=S.result;try{const{eventName:E,args:k}=$s({abi:n,data:O.data,topics:O.topics,strict:l}),N=Ce(O,{args:k,eventName:E});p.onLogs([N])}catch(E){let k,N;if(E instanceof Ft||E instanceof jn){if(l)return;k=E.abiItem.name,N=E.abiItem.inputs?.some(j=>!("name"in j&&j.name))}const R=Ce(O,{args:N?[]:{},eventName:k});p.onLogs([R])}},onError(S){p.onError?.(S)}});y=v,B||y()}catch(g){c?.(g)}})(),()=>y()))})()}async function Bd(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function Zr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await Wr(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const Id={"0x0":"reverted","0x1":"success"};function Ta(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ce(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Re(e.transactionIndex):null,status:e.status?Id[e.status]:null,type:e.type?Vi[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Yr=256;let In=Yr,Sn;function ka(e=11){if(!Sn||In+e>Yr*2){Sn="",In=0;for(let t=0;t<Yr;t++)Sn+=(256+Math.random()*256|0).toString(16).substring(1)}return Sn.substring(In,In+++e)}function Sd(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?se(e.account):void 0,{config:h,request:b,value:m}=e.transport({account:l,chain:n,pollingInterval:f}),w={...h,...m},x={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:b,transport:w,type:i,uid:ka(),...a?{experimental_blockTag:a}:{}};function B(y){return p=>{const g=p(y);for(const v in x)delete g[v];const $={...y,...g};return Object.assign($,{extend:B($)})}}return Object.assign(x,{extend:B(x)})}function Rs(e){if(!(e instanceof P))return!1;const t=e.walk(n=>n instanceof Cr);return t instanceof Cr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Td(e){const{abi:t,data:n}=e,r=Et(n,0,4),s=t.find(o=>o.type==="function"&&r===fn(le(o)));if(!s)throw new yu(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ln(s.inputs,Et(n,4)):void 0}}const yr="/docs/contract/encodeErrorResult";function No(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=st({abi:t,args:r,name:n});if(!c)throw new Qs(n,{docsPath:yr});s=c}if(s.type!=="error")throw new Qs(void 0,{docsPath:yr});const o=le(s),i=fn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new pu(s.name,{docsPath:yr});a=He(s.inputs,r)}return St([i,a])}const gr="/docs/contract/encodeFunctionResult";function kd(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=st({abi:t,name:n});if(!i)throw new wt(n,{docsPath:gr});s=i}if(s.type!=="function")throw new wt(void 0,{docsPath:gr});if(!s.outputs)throw new ui(s.name,{docsPath:gr});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new fi(r)})();return He(s.outputs,o)}const $n="x-batch-gateway:true";async function Na(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Td({abi:qr,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes($n)?await Na({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Nd(c)}})),kd({abi:qr,functionName:"query",result:[s,o]})}function Nd(e){return e.name==="HttpRequestError"&&e.status?No({abi:qr,errorName:"HttpError",args:[e.status,e.shortMessage]}):No({abi:[ki],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Oa(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return he(t)?t:null}function Kr(e){let t=new Uint8Array(32).fill(0);if(!e)return q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Oa(n[r]),o=s?It(s):W(Ke(n[r]),"bytes");t=W(be([t,o]),"bytes")}return q(t)}function Od(e){return`[${e.slice(2)}]`}function Rd(e){const t=new Uint8Array(32).fill(0);return e?Oa(e)||W(Ke(e)):q(t)}function Cs(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ke(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Ke(s[o]);i.byteLength>255&&(i=Ke(Od(Rd(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Cd(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return kt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[Kr(o),BigInt(s)]:[Kr(o)];try{const l=we({abi:So,functionName:"addr",args:d}),h={address:u,abi:va,functionName:"resolveWithGateways",args:[je(Cs(o)),l,i??[$n]],blockNumber:n,blockTag:r},m=await M(e,ye,"readContract")(h);if(m[0]==="0x")return null;const w=ot({abi:So,args:d,functionName:"addr",data:m[0]});return w==="0x"||Ye(w)==="0x00"?null:w}catch(l){if(a)throw l;if(Rs(l))return null;throw l}}class Fd extends P{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ct extends P{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Fs extends P{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Md extends P{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const zd=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ld=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ud=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,jd=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function _d(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Oo(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ra({uri:e,gatewayUrls:t}){const n=Ud.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Oo(t?.ipfs,"https://ipfs.io"),s=Oo(t?.arweave,"https://arweave.net"),o=e.match(zd),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Ld.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(jd,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Fs({uri:e})}function Ca(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Fd({data:e});return e.image||e.image_url||e.image_data}async function Gd({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ms({gatewayUrls:e,uri:Ca(n)})}catch{throw new Fs({uri:t})}}async function Ms({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ra({uri:t,gatewayUrls:e});if(r||await _d(n))return n;throw new Fs({uri:t})}function Dd(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ct({reason:"Only EIP-155 supported"});if(!i)throw new Ct({reason:"Chain ID not found"});if(!c)throw new Ct({reason:"Contract address not found"});if(!s)throw new Ct({reason:"Token ID not found"});if(!a)throw new Ct({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Hd(e,{nft:t}){if(t.namespace==="erc721")return ye(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ye(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Md({namespace:t.namespace})}async function qd(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Vd(e,{gatewayUrls:t,record:n}):Ms({uri:n,gatewayUrls:t})}async function Vd(e,{gatewayUrls:t,record:n}){const r=Dd(n),s=await Hd(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Ra({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Ms({uri:Ca(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Gd({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Fa(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return kt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:va,args:[je(Cs(o)),we({abi:Io,functionName:"text",args:[Kr(o),s]}),i??[$n]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await M(e,ye,"readContract")(d);if(h[0]==="0x")return null;const b=ot({abi:Io,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(Rs(d))return null;throw d}}async function Wd(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await M(e,Fa,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await qd(e,{record:c,gatewayUrls:r})}catch{return null}}async function Zd(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return kt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:fd,args:[n,o,i??[$n]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=M(e,ye,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Rs(f))return null;throw f}}async function Yd(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return kt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,ye,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[je(Cs(s))],blockNumber:n,blockTag:r});return c}async function Ma(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,m=n?se(n):void 0;try{Tt(t);const x=(typeof r=="bigint"?z(r):void 0)||s,B=e.chain?.formatters?.transactionRequest?.format,p=(B||mn)({...Zn(b,{format:B}),account:m,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),g=await e.request({method:"eth_createAccessList",params:[p,x]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(w){throw Aa(w,{...t,account:m,chain:e.chain})}}async function Kd(e){const t=qn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function za(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=qn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>dn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?z(o):o,toBlock:typeof a=="bigint"?z(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function La(e){const t=qn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Jd(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?z(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Xd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Qd(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?z(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Re(o)}async function Jr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?z(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class el extends P{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function tl(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await M(e,ye,"readContract")({abi:nl,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new el({address:n}):i}}const nl=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function rl(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function sl(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?z(n):void 0,i=await e.request({method:"eth_feeHistory",params:[z(t),o||r,s]},{dedupe:!!o});return rl(i)}async function ol(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ce(o));return t.abi?As({abi:t.abi,logs:s,strict:n}):s}async function il({address:e,authorization:t,signature:n}){return yn(Pi(e),await Di({authorization:t,signature:n}))}const Tn=new Dn(8192);function al(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Tn.get(n))return Tn.get(n);const r=e().finally(()=>Tn.delete(n));return Tn.set(n,r),r}function cl(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new We(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new We(new Error("method not supported"),{method:u});const f=s?Mt(`${c}.${H(n)}`):void 0;return al(()=>Zr(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case Ut.code:throw new Ut(l);case jt.code:throw new jt(l);case _t.code:throw new _t(l,{method:n.method});case Gt.code:throw new Gt(l);case et.code:throw new et(l);case Ge.code:throw new Ge(l);case Dt.code:throw new Dt(l);case Ht.code:throw new Ht(l);case qt.code:throw new qt(l);case We.code:throw new We(l,{method:n.method});case Pt.code:throw new Pt(l);case Vt.code:throw new Vt(l);case mt.code:throw new mt(l);case Wt.code:throw new Wt(l);case Zt.code:throw new Zt(l);case Yt.code:throw new Yt(l);case Kt.code:throw new Kt(l);case Jt.code:throw new Jt(l);case Xt.code:throw new Xt(l);case Qt.code:throw new Qt(l);case en.code:throw new en(l);case tn.code:throw new tn(l);case nn.code:throw new nn(l);case rn.code:throw new rn(l);case sn.code:throw new sn(l);case 5e3:throw new mt(l);default:throw d instanceof P?d:new W0(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof Je){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>ul(d)}),{enabled:s,id:f})}}function ul(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Pt.code||e.code===et.code:e instanceof Je&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class fl extends P{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${bn(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class dl extends P{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${bn(n)}`,`Response: ${H(t)}`],name:"OffchainLookupResponseMalformedError"})}}class ll extends P{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const hl="0x556f1830",Ua={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function bl(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Oi({data:r,abi:[Ua]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:ja;try{if(!yn(s,i))throw new ll({sender:i,to:s});const h=a.includes($n)?await Na({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:b}=await vn(e,{blockNumber:t,blockTag:n,data:be([u,He([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new fl({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function ja({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new Je({body:a,details:f?.error?H(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!he(f)){r=new dl({result:f,url:o});continue}return f}catch(u){r=new Je({body:a,details:u.message,url:o})}}throw r}const pl=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:ja,offchainLookup:bl,offchainLookupAbiItem:Ua,offchainLookupSignature:hl},Symbol.toStringTag,{value:"Module"}));function ml(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function yl(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ro=yl();function gl(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:i=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const l=await ml(async({signal:b})=>{const m={...c,body:Array.isArray(r)?H(r.map(y=>({jsonrpc:"2.0",id:y.id??Ro.take(),...y}))):H({jsonrpc:"2.0",id:r.id??Ro.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(a>0?b:null)},w=new Request(e,m),x=await o?.(w,m)??{...m,url:e};return await s(x.url??e,x)},{errorInstance:new bo({body:r,url:e}),timeout:a,signal:!0});i&&await i(l);let h;if(l.headers.get("Content-Type")?.startsWith("application/json"))h=await l.json();else{h=await l.text();try{h=JSON.parse(h||"{}")}catch(b){if(l.ok)throw b;h={error:h}}}if(!l.ok)throw new Je({body:r,details:H(h.error)||l.statusText,headers:l.headers,status:l.status,url:e});return h}catch(l){throw l instanceof Je||l instanceof bo?l:new Je({body:r,cause:l,url:e})}}}}const wl=`Ethereum Signed Message:
`;function xl(e){const t=typeof e=="string"?Mt(e):typeof e.raw=="string"?e.raw:q(e.raw),n=Mt(`${wl}${D(t)}`);return be([n,t])}function _a(e,t){return W(xl(e),t)}class vl extends P{constructor({domain:t}){super(`Invalid domain "${H(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class El extends P{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Pl extends P{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function $l(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(Ii);if(l&&(typeof d=="number"||typeof d=="bigint")){const[m,w,x]=l;z(d,{signed:w==="int",size:Number.parseInt(x,10)/8})}if(f==="address"&&typeof d=="string"&&!ue(d))throw new _e({address:d});const h=f.match(d0);if(h){const[m,w]=h;if(w&&D(d)!==Number.parseInt(w,10))throw new wu({expectedSize:Number.parseInt(w,10),givenSize:D(d)})}const b=s[f];b&&(Bl(f),o(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new vl({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new El({primaryType:r,types:s})}function Al({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Bl(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Pl({type:e})}function Il(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Al({domain:t}),...e.types};$l({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Sl({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Ga({data:n,primaryType:r,types:s})),W(be(o))}function Sl({domain:e,types:t}){return Ga({data:e,primaryType:"EIP712Domain",types:t})}function Ga({data:e,primaryType:t,types:n}){const r=Da({data:e,primaryType:t,types:n});return W(r)}function Da({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Tl({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=qa({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return He(r,s)}function Tl({primaryType:e,types:t}){const n=je(kl({primaryType:e,types:t}));return W(n)}function kl({primaryType:e,types:t}){let n="";const r=Ha({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Ha({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Ha({primaryType:o.type,types:t},n);return n}function qa({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},W(Da({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},W(r)];if(n==="string")return[{type:"bytes32"},W(je(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>qa({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},W(He(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class Nl extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ol={checksum:new Nl(8192)},wr=Ol.checksum;function Va(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=vi(Hf(e));return n==="Bytes"?r:me(r)}const Rl=/^0x[a-fA-F0-9]{40}$/;function er(e,t={}){const{strict:n=!0}=t;if(!Rl.test(e))throw new Co({address:e,cause:new Cl});if(n){if(e.toLowerCase()===e)return;if(Wa(e)!==e)throw new Co({address:e,cause:new Fl})}}function Wa(e){if(wr.has(e))return wr.get(e);er(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Va(Vf(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return wr.set(e,s),s}function Xr(e,t={}){const{strict:n=!0}=t??{};try{return er(e,{strict:n}),!0}catch{return!1}}class Co extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Cl extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Fl extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Ml=/^(.*)\[([0-9]*)\]$/,zl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Za=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Fo=2n**256n-1n;function gt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Us(t.type);if(o){const[i,a]=o;return Ul(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Dl(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Ll(e,{checksum:r});if(t.type==="bool")return jl(e);if(t.type.startsWith("bytes"))return _l(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Gl(e,t);if(t.type==="string")return Hl(e,{staticPosition:s});throw new _s(t.type)}const Mo=32,Qr=32;function Ll(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Wa(o):o)(me(Zf(r,-20))),32]}function Ul(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ne(e.readBytes(Qr)),u=o+c,f=u+Mo;e.setPosition(u);const d=Ne(e.readBytes(Mo)),l=cn(t);let h=0;const b=[];for(let m=0;m<d;++m){e.setPosition(f+(l?m*32:h));const[w,x]=gt(e,t,{checksumAddress:r,staticPosition:f});h+=x,b.push(w)}return e.setPosition(o+32),[b,32]}if(cn(t)){const c=Ne(e.readBytes(Qr)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=gt(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=gt(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function jl(e){return[Kf(e.readBytes(32),{size:32}),32]}function _l(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ne(e.readBytes(32));e.setPosition(n+i);const a=Ne(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[me(c),32]}return[me(e.readBytes(Number.parseInt(s,10),32)),32]}function Gl(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Yf(s,{signed:n}):Ne(s,{signed:n}),32]}function Dl(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(cn(t)){const c=Ne(e.readBytes(Qr)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=gt(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=gt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function Hl(e,{staticPosition:t}){const n=Ne(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ne(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Jf(ha(o));return e.setPosition(t+32),[i,32]}function ql({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(zs({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function zs({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Us(r.type);if(s){const[o,i]=s;return Wl(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Xl(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Vl(n,{checksum:e});if(r.type==="bool")return Yl(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Za.exec(r.type)??[];return Kl(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Zl(n,{type:r.type});if(r.type==="string")return Jl(n);throw new _s(r.type)}function Ls(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=oe(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(Y(t+s,{size:32})),r.push(a),s+=oe(a)):n.push(a)}return pe(...n,...r)}function Vl(e,t){const{checksum:n=!1}=t;return er(e,{strict:n}),{dynamic:!1,encoded:tt(e.toLowerCase())}}function Wl(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new a1(e);if(!o&&e.length!==r)throw new i1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=zs({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Ls(a);if(o){const u=Y(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?pe(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:pe(...a.map(({encoded:c})=>c))}}function Zl(e,{type:t}){const[,n]=t.split("bytes"),r=oe(e);if(!n){let s=e;return r%32!==0&&(s=nt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:pe(tt(Y(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Ka({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:nt(e)}}function Yl(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:tt(ba(e))}}function Kl(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new ya({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Y(e,{size:32,signed:t})}}function Jl(e){const t=ks(e),n=Math.ceil(oe(t)/32),r=[];for(let s=0;s<n;s++)r.push(nt(Ee(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:pe(nt(Y(oe(t),{size:32})),...r)}}function Xl(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=zs({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Ls(o):pe(...o.map(({encoded:i})=>i))}}function Us(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function cn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(cn);const n=Us(e.type);return!!(n&&cn({...e,type:n[1]}))}const Ql={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new t1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new zo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new zo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function e1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ql);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class zo extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class t1 extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class n1 extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function r1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?la(t):t,i=e1(o);if(ht(o)===0&&e.length>0)throw new o1;if(ht(o)&&ht(o)<32)throw new s1({data:typeof t=="string"?t:me(t),parameters:e,size:ht(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=gt(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function js(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Ja({expectedLength:e.length,givenLength:t.length});const s=ql({checksumAddress:r,parameters:e,values:t}),o=Ls(s);return o.length===0?"0x":o}function es(e,t){if(e.length!==t.length)throw new Ja({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(es.encode(s,o))}return pe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return er(c),tt(c.toLowerCase(),s?32:0)}if(n==="string")return ks(r);if(n==="bytes")return r;if(n==="bool")return tt(ba(r),s?32:1);const o=n.match(Za);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return Y(r,{size:s?32:d,signed:u==="int"})}const i=n.match(zl);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Ka({expectedSize:Number.parseInt(u,10),value:r});return nt(r,s?32:0)}const a=n.match(Ml);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":pe(...f)}throw new _s(n)}e.encode=t})(es||(es={}));function Ya(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Js(e):e}class s1 extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${dt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class o1 extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class i1 extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Ka extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${oe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Ja extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class a1 extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class _s extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Xa extends us{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,_u(t);const r=_n(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),vt(o)}update(t){return xt(this),this.iHash.update(t),this}digestInto(t){xt(this),Qe(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Qa=(e,t,n)=>new Xa(e,t).update(n).digest();Qa.create=(e,t)=>new Xa(e,t);const Q=BigInt(0),K=BigInt(1),Ze=BigInt(2),c1=BigInt(3),ec=BigInt(4),tc=BigInt(5),nc=BigInt(8);function X(e,t){const n=e%t;return n>=Q?n:t+n}function ae(e,t,n){let r=e;for(;t-- >Q;)r*=r,r%=n;return r}function ts(e,t){if(e===Q)throw new Error("invert: expected non-zero number");if(t<=Q)throw new Error("invert: expected positive modulus, got "+t);let n=X(e,t),r=t,s=Q,o=K;for(;n!==Q;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==K)throw new Error("invert: does not exist");return X(s,t)}function rc(e,t){const n=(e.ORDER+K)/ec,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function u1(e,t){const n=(e.ORDER-tc)/nc,r=e.mul(t,Ze),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Ze),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function f1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-K,n=0;for(;t%Ze===Q;)t/=Ze,n++;let r=Ze;const s=Gs(e);for(;Lo(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return rc;let o=s.pow(r,t);const i=(t+K)/Ze;return function(c,u){if(c.is0(u))return u;if(Lo(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,m=c.sqr(l);for(;!c.eql(m,c.ONE);)if(b++,m=c.sqr(m),b===f)throw new Error("Cannot find square root");const w=K<<BigInt(f-b-1),x=c.pow(d,w);f=b,d=c.sqr(x),l=c.mul(l,d),h=c.mul(h,x)}return h}}function d1(e){return e%ec===c1?rc:e%nc===tc?u1:f1(e)}const l1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function h1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=l1.reduce((r,s)=>(r[s]="function",r),t);return Kn(e,n)}function b1(e,t,n){if(n<Q)throw new Error("invalid exponent, negatives unsupported");if(n===Q)return e.ONE;if(n===K)return t;let r=e.ONE,s=t;for(;n>Q;)n&K&&(r=e.mul(r,s)),s=e.sqr(s),n>>=K;return r}function sc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Lo(e,t){const n=(e.ORDER-K)/Ze,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function oc(e,t){t!==void 0&&zt(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Gs(e,t,n=!1,r={}){if(e<=Q)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=oc(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Yn(s),ZERO:Q,ONE:K,create:c=>X(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Q<=c&&c<e},is0:c=>c===Q,isOdd:c=>(c&K)===K,neg:c=>X(-c,e),eql:(c,u)=>c===u,sqr:c=>X(c*c,e),add:(c,u)=>X(c+u,e),sub:(c,u)=>X(c-u,e),mul:(c,u)=>X(c*u,e),pow:(c,u)=>b1(a,c,u),div:(c,u)=>X(c*ts(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ts(c,e),sqrt:r.sqrt||(c=>(i||(i=d1(e)),i(a,c))),toBytes:c=>n?aa(c,o):wn(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?ia(c):Xe(c)},invertBatch:c=>sc(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function ic(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ac(e){const t=ic(e);return t+Math.ceil(t/2)}function p1(e,t,n=!1){const r=e.length,s=ic(t),o=ac(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?ia(e):Xe(e),a=X(i,t-K)+K;return n?aa(a,s):wn(a,s)}const Uo=BigInt(0),ns=BigInt(1);function xr(e,t){const n=t.negate();return e?n:t}function cc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function vr(e,t){cc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Yn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function jo(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ns);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function m1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function y1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Er=new WeakMap,uc=new WeakMap;function Pr(e){return uc.get(e)||1}function g1(e,t){return{constTimeNegate:xr,hasPrecomputes(n){return Pr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Uo;)r&ns&&(s=s.add(o)),o=o.double(),r>>=ns;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=vr(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=vr(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=jo(s,c,a);s=u,d?i=i.add(xr(h,r[b])):o=o.add(xr(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=vr(n,t);for(let a=0;a<i.windows&&s!==Uo;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=jo(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Er.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Er.set(r,s(o))),o},wNAFCached(n,r,s){const o=Pr(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Pr(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){cc(r,t),uc.set(n,r),Er.delete(n)}}}function w1(e,t,n,r){m1(n,e),y1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Rf(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Yn(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let m=0;m<o;m++){const w=r[m],x=Number(w>>BigInt(h)&u);f[x]=f[x].add(n[m])}let b=i;for(let m=f.length-1,w=i;m>0;m--)w=w.add(f[m]),b=b.add(w);if(l=l.add(b),h!==0)for(let m=0;m<c;m++)l=l.double()}return l}function fc(e){return h1(e.Fp),Kn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function _o(e){e.lowS!==void 0&&on("lowS",e.lowS),e.prehash!==void 0&&on("prehash",e.prehash)}function x1(e){const t=fc(e);Kn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class v1 extends Error{constructor(t=""){super(t)}}const Se={Err:v1,_tlv:{encode:(e,t)=>{const{Err:n}=Se;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Bn(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Bn(s.length/2|128):"";return Bn(e)+o+s+t},decode(e,t){const{Err:n}=Se;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Se;if(e<Te)throw new t("integer: negative integers are not allowed");let n=Bn(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Se;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Xe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Se,s=ce("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Se,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function $r(e,t){return an(wn(e,t))}const Te=BigInt(0),V=BigInt(1);BigInt(2);const Ar=BigInt(3),E1=BigInt(4);function P1(e){const t=x1(e),{Fp:n}=t,r=Gs(t.n,t.nBitLength),s=t.toBytes||((y,p,g)=>{const $=p.toAffine();return Fn(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),o=t.fromBytes||(y=>{const p=y.subarray(1),g=n.fromBytes(p.subarray(0,n.BYTES)),$=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:g,y:$}});function i(y){const{a:p,b:g}=t,$=n.sqr(y),v=n.mul($,y);return n.add(n.add(v,n.mul(y,p)),g)}function a(y,p){const g=n.sqr(p),$=i(y);return n.eql(g,$)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Ar),E1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(y){return Ts(y,V,t.n)}function d(y){const{allowedPrivateKeyLengths:p,nByteLength:g,wrapPrivateKey:$,n:v}=t;if(p&&typeof y!="bigint"){if(gn(y)&&(y=an(y)),typeof y!="string"||!p.includes(y.length))throw new Error("invalid private key");y=y.padStart(g*2,"0")}let S;try{S=typeof y=="bigint"?y:Xe(ce("private key",y,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof y)}return $&&(S=X(S,v)),yt("private key",S,V,v),S}function l(y){if(!(y instanceof m))throw new Error("ProjectivePoint expected")}const h=Po((y,p)=>{const{px:g,py:$,pz:v}=y;if(n.eql(v,n.ONE))return{x:g,y:$};const S=y.is0();p==null&&(p=S?n.ONE:n.inv(v));const O=n.mul(g,p),E=n.mul($,p),k=n.mul(v,p);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:O,y:E}}),b=Po(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:p,y:g}=y.toAffine();if(!n.isValid(p)||!n.isValid(g))throw new Error("bad point: x or y not FE");if(!a(p,g))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(p,g,$){if(p==null||!n.isValid(p))throw new Error("x required");if(g==null||!n.isValid(g)||n.is0(g))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=p,this.py=g,this.pz=$,Object.freeze(this)}static fromAffine(p){const{x:g,y:$}=p||{};if(!p||!n.isValid(g)||!n.isValid($))throw new Error("invalid affine point");if(p instanceof m)throw new Error("projective point not allowed");const v=S=>n.eql(S,n.ZERO);return v(g)&&v($)?m.ZERO:new m(g,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const g=sc(n,p.map($=>$.pz));return p.map(($,v)=>$.toAffine(g[v])).map(m.fromAffine)}static fromHex(p){const g=m.fromAffine(o(ce("pointHex",p)));return g.assertValidity(),g}static fromPrivateKey(p){return m.BASE.multiply(d(p))}static msm(p,g){return w1(m,r,p,g)}_setWindowSize(p){B.setWindowSize(this,p)}assertValidity(){b(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){l(p);const{px:g,py:$,pz:v}=this,{px:S,py:O,pz:E}=p,k=n.eql(n.mul(g,E),n.mul(S,v)),N=n.eql(n.mul($,E),n.mul(O,v));return k&&N}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:g}=t,$=n.mul(g,Ar),{px:v,py:S,pz:O}=this;let E=n.ZERO,k=n.ZERO,N=n.ZERO,R=n.mul(v,v),j=n.mul(S,S),I=n.mul(O,O),A=n.mul(v,S);return A=n.add(A,A),N=n.mul(v,O),N=n.add(N,N),E=n.mul(p,N),k=n.mul($,I),k=n.add(E,k),E=n.sub(j,k),k=n.add(j,k),k=n.mul(E,k),E=n.mul(A,E),N=n.mul($,N),I=n.mul(p,I),A=n.sub(R,I),A=n.mul(p,A),A=n.add(A,N),N=n.add(R,R),R=n.add(N,R),R=n.add(R,I),R=n.mul(R,A),k=n.add(k,R),I=n.mul(S,O),I=n.add(I,I),R=n.mul(I,A),E=n.sub(E,R),N=n.mul(I,j),N=n.add(N,N),N=n.add(N,N),new m(E,k,N)}add(p){l(p);const{px:g,py:$,pz:v}=this,{px:S,py:O,pz:E}=p;let k=n.ZERO,N=n.ZERO,R=n.ZERO;const j=t.a,I=n.mul(t.b,Ar);let A=n.mul(g,S),C=n.mul($,O),T=n.mul(v,E),F=n.add(g,$),L=n.add(S,O);F=n.mul(F,L),L=n.add(A,C),F=n.sub(F,L),L=n.add(g,v);let _=n.add(S,E);return L=n.mul(L,_),_=n.add(A,T),L=n.sub(L,_),_=n.add($,v),k=n.add(O,E),_=n.mul(_,k),k=n.add(C,T),_=n.sub(_,k),R=n.mul(j,L),k=n.mul(I,T),R=n.add(k,R),k=n.sub(C,R),R=n.add(C,R),N=n.mul(k,R),C=n.add(A,A),C=n.add(C,A),T=n.mul(j,T),L=n.mul(I,L),C=n.add(C,T),T=n.sub(A,T),T=n.mul(j,T),L=n.add(L,T),A=n.mul(C,L),N=n.add(N,A),A=n.mul(_,L),k=n.mul(F,k),k=n.sub(k,A),A=n.mul(F,C),R=n.mul(_,R),R=n.add(R,A),new m(k,N,R)}subtract(p){return this.add(p.negate())}is0(){return this.equals(m.ZERO)}wNAF(p){return B.wNAFCached(this,p,m.normalizeZ)}multiplyUnsafe(p){const{endo:g,n:$}=t;yt("scalar",p,Te,$);const v=m.ZERO;if(p===Te)return v;if(this.is0()||p===V)return this;if(!g||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,p,m.normalizeZ);let{k1neg:S,k1:O,k2neg:E,k2:k}=g.splitScalar(p),N=v,R=v,j=this;for(;O>Te||k>Te;)O&V&&(N=N.add(j)),k&V&&(R=R.add(j)),j=j.double(),O>>=V,k>>=V;return S&&(N=N.negate()),E&&(R=R.negate()),R=new m(n.mul(R.px,g.beta),R.py,R.pz),N.add(R)}multiply(p){const{endo:g,n:$}=t;yt("scalar",p,V,$);let v,S;if(g){const{k1neg:O,k1:E,k2neg:k,k2:N}=g.splitScalar(p);let{p:R,f:j}=this.wNAF(E),{p:I,f:A}=this.wNAF(N);R=B.constTimeNegate(O,R),I=B.constTimeNegate(k,I),I=new m(n.mul(I.px,g.beta),I.py,I.pz),v=R.add(I),S=j.add(A)}else{const{p:O,f:E}=this.wNAF(p);v=O,S=E}return m.normalizeZ([v,S])[0]}multiplyAndAddUnsafe(p,g,$){const v=m.BASE,S=(E,k)=>k===Te||k===V||!E.equals(v)?E.multiplyUnsafe(k):E.multiply(k),O=S(this,g).add(S(p,$));return O.is0()?void 0:O}toAffine(p){return h(this,p)}isTorsionFree(){const{h:p,isTorsionFree:g}=t;if(p===V)return!0;if(g)return g(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:g}=t;return p===V?this:g?g(m,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return on("isCompressed",p),this.assertValidity(),s(m,this,p)}toHex(p=!0){return on("isCompressed",p),an(this.toRawBytes(p))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:x}=t,B=g1(m,w?Math.ceil(x/2):x);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function $1(e){const t=fc(e);return Kn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function A1(e){const t=$1(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(I){return X(I,r)}function u(I){return ts(I,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=P1({...t,toBytes(I,A,C){const T=A.toAffine(),F=n.toBytes(T.x),L=Fn;return on("isCompressed",C),C?L(Uint8Array.from([A.hasEvenY()?2:3]),F):L(Uint8Array.from([4]),F,n.toBytes(T.y))},fromBytes(I){const A=I.length,C=I[0],T=I.subarray(1);if(A===i&&(C===2||C===3)){const F=Xe(T);if(!Ts(F,V,n.ORDER))throw new Error("Point is not on curve");const L=l(F);let _;try{_=n.sqrt(L)}catch(J){const Z=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+Z)}const G=(_&V)===V;return(C&1)===1!==G&&(_=n.neg(_)),{x:F,y:_}}else if(A===a&&C===4){const F=n.fromBytes(T.subarray(0,n.BYTES)),L=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:F,y:L}}else{const F=i,L=a;throw new Error("invalid Point, expected length of "+F+", or uncompressed "+L+", got "+A)}}});function b(I){const A=r>>V;return I>A}function m(I){return b(I)?c(-I):I}const w=(I,A,C)=>Xe(I.slice(A,C));class x{constructor(A,C,T){yt("r",A,V,r),yt("s",C,V,r),this.r=A,this.s=C,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(A){const C=s;return A=ce("compactSignature",A,C*2),new x(w(A,0,C),w(A,C,2*C))}static fromDER(A){const{r:C,s:T}=Se.toSig(ce("DER",A));return new x(C,T)}assertValidity(){}addRecoveryBit(A){return new x(this.r,this.s,A)}recoverPublicKey(A){const{r:C,s:T,recovery:F}=this,L=v(ce("msgHash",A));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const _=F===2||F===3?C+t.n:C;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(F&1)===0?"02":"03",fe=f.fromHex(G+$r(_,n.BYTES)),J=u(_),Z=c(-L*J),it=c(T*J),Me=f.BASE.multiplyAndAddUnsafe(fe,Z,it);if(!Me)throw new Error("point at infinify");return Me.assertValidity(),Me}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Cn(this.toDERHex())}toDERHex(){return Se.hexFromSig(this)}toCompactRawBytes(){return Cn(this.toCompactHex())}toCompactHex(){const A=s;return $r(this.r,A)+$r(this.s,A)}}const B={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=ac(t.n);return p1(t.randomBytes(I),t.n)},precompute(I=8,A=f.BASE){return A._setWindowSize(I),A.multiply(BigInt(3)),A}};function y(I,A=!0){return f.fromPrivateKey(I).toRawBytes(A)}function p(I){if(typeof I=="bigint")return!1;if(I instanceof f)return!0;const C=ce("key",I).length,T=n.BYTES,F=T+1,L=2*T+1;if(!(t.allowedPrivateKeyLengths||s===F))return C===F||C===L}function g(I,A,C=!0){if(p(I)===!0)throw new Error("first arg must be private key");if(p(A)===!1)throw new Error("second arg must be public key");return f.fromHex(A).multiply(d(I)).toRawBytes(C)}const $=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const A=Xe(I),C=I.length*8-o;return C>0?A>>BigInt(C):A},v=t.bits2int_modN||function(I){return c($(I))},S=Yn(o);function O(I){return yt("num < 2^"+o,I,Te,S),wn(I,s)}function E(I,A,C=k){if(["recovered","canonical"].some(qe=>qe in C))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:F}=t;let{lowS:L,prehash:_,extraEntropy:G}=C;L==null&&(L=!0),I=ce("msgHash",I),_o(C),_&&(I=ce("prehashed msgHash",T(I)));const fe=v(I),J=d(A),Z=[O(J),O(fe)];if(G!=null&&G!==!1){const qe=G===!0?F(n.BYTES):G;Z.push(ce("extraEntropy",qe))}const it=Fn(...Z),Me=fe;function rr(qe){const at=$(qe);if(!h(at))return;const sr=u(at),Nt=f.BASE.multiply(at).toAffine(),Ve=c(Nt.x);if(Ve===Te)return;const Ot=c(sr*c(Me+Ve*J));if(Ot===Te)return;let ct=(Nt.x===Ve?0:2)|Number(Nt.y&V),Vs=Ot;return L&&b(Ot)&&(Vs=m(Ot),ct^=1),new x(Ve,Vs,ct)}return{seed:it,k2sig:rr}}const k={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};function R(I,A,C=k){const{seed:T,k2sig:F}=E(I,A,C),L=t;return Cf(L.hash.outputLen,L.nByteLength,L.hmac)(T,F)}f.BASE._setWindowSize(8);function j(I,A,C,T=N){const F=I;A=ce("msgHash",A),C=ce("publicKey",C);const{lowS:L,prehash:_,format:G}=T;if(_o(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const fe=typeof F=="string"||gn(F),J=!fe&&!G&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!fe&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,it;try{if(J&&(Z=new x(F.r,F.s)),fe){try{G!=="compact"&&(Z=x.fromDER(F))}catch(ct){if(!(ct instanceof Se.Err))throw ct}!Z&&G!=="der"&&(Z=x.fromCompact(F))}it=f.fromHex(C)}catch{return!1}if(!Z||L&&Z.hasHighS())return!1;_&&(A=t.hash(A));const{r:Me,s:rr}=Z,qe=v(A),at=u(rr),sr=c(qe*at),Nt=c(Me*at),Ve=f.BASE.multiplyAndAddUnsafe(it,sr,Nt)?.toAffine();return Ve?c(Ve.x)===Me:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:g,sign:R,verify:j,ProjectivePoint:f,Signature:x,utils:B}}function B1(e){return{hash:e,hmac:(t,...n)=>Qa(e,t,Wu(...n)),randomBytes:Zu}}function I1(e,t){const n=r=>A1({...e,...B1(r)});return{...n(t),create:n}}const dc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Go=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),S1=BigInt(0),T1=BigInt(1),rs=BigInt(2),Do=(e,t)=>(e+t/rs)/t;function k1(e){const t=dc,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ae(f,n,t)*f%t,l=ae(d,n,t)*f%t,h=ae(l,rs,t)*u%t,b=ae(h,s,t)*h%t,m=ae(b,o,t)*b%t,w=ae(m,a,t)*m%t,x=ae(w,c,t)*w%t,B=ae(x,a,t)*m%t,y=ae(B,n,t)*f%t,p=ae(y,i,t)*b%t,g=ae(p,r,t)*u%t,$=ae(g,rs,t);if(!ss.eql(ss.sqr($),e))throw new Error("Cannot find square root");return $}const ss=Gs(dc,void 0,void 0,{sqrt:k1}),lc=I1({a:S1,b:BigInt(7),Fp:ss,n:Go,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Go,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-T1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Do(o*e,t),c=Do(-r*e,t);let u=X(e-a*n-c*s,t),f=X(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Xi),N1=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:lc},Symbol.toStringTag,{value:"Module"}));function hc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Br({signature:e});if(typeof e.s>"u")throw new Br({signature:e});if(n&&typeof e.yParity>"u")throw new Br({signature:e});if(e.r<0n||e.r>Fo)throw new L1({value:e.r});if(e.s<0n||e.s>Fo)throw new U1({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Hs({value:e.yParity})}function O1(e){return bc(me(e))}function bc(e){if(e.length!==130&&e.length!==132)throw new z1({signature:e});const t=BigInt(Ee(e,0,32)),n=BigInt(Ee(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Ds(s)}catch{throw new Hs({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function R1(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return C1(e)}function C1(e){const t=typeof e=="string"?bc(e):e instanceof Uint8Array?O1(e):typeof e.r=="string"?M1(e):e.v?F1(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return hc(t),t}function F1(e){return{r:e.r,s:e.s,yParity:Ds(e.v)}}function M1(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Ds(n)),typeof r!="number")throw new Hs({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Ds(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new j1({value:e})}class z1 extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${oe(od(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Br extends U{constructor({signature:t}){super(`Signature \`${da(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class L1 extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class U1 extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Hs extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class j1 extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function _1(e,t={}){return typeof e.chainId=="string"?G1(e):{...e,...t.signature}}function G1(e){const{address:t,chainId:n,nonce:r}=e,s=R1(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const D1="0x8010801080108010801080108010801080108010801080108010801080108010",H1=Ya("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function pc(e){if(typeof e=="string"){if(Ee(e,-32)!==D1)throw new W1(e)}else hc(e.authorization)}function q1(e){pc(e);const t=ma(Ee(e,-64,-32)),n=Ee(e,-t-64,-64),r=Ee(e,0,-t-64),[s,o,i]=r1(H1,n);return{authorization:_1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function V1(e){try{return pc(e),!0}catch{return!1}}let W1=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class Z1 extends P{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Y1(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Z1({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[o,i,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${i}.${a}`);c>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Jh(e,t="wei"){return Y1(e,Ci[t])}function K1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function J1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Re(e.nonce):void 0,storageProof:e.storageProof?K1(e.storageProof):void 0}}async function X1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?z(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return J1(a)}async function Q1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?z(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function qs(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){const c=r||"latest",u=n!==void 0?z(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,z(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,z(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,z(a)]},{dedupe:!0})),!f)throw new Mi({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||ws)(f,"getTransaction")}async function eh(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,Pn,"getBlockNumber")({}),t?M(e,qs,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function kn(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new zi({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ta)(n,"getTransactionReceipt")}async function th(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return kt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,m=0;for(let B=0;B<u.length;B++){const{abi:y,address:p,args:g,functionName:$}=u[B];try{const v=we({abi:y,args:g,functionName:$});m+=(v.length-2)/2,f>0&&m>f&&h[b].length>0&&(b++,m=(v.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:v,target:p}]}catch(v){const S=$t(v,{abi:y,address:p,args:g,docsPath:"/docs/contract/multicall",functionName:$,sender:n});if(!s)throw S;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:p}]}}const w=await Promise.allSettled(h.map(B=>M(e,ye,"readContract")({...l===null?{code:Ns}:{address:l},abi:Mn,account:n,args:[B],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),x=[];for(let B=0;B<w.length;B++){const y=w[B];if(y.status==="rejected"){if(!s)throw y.reason;for(let g=0;g<h[B].length;g++)x.push({status:"failure",error:y.reason,result:void 0});continue}const p=y.value;for(let g=0;g<p.length;g++){const{returnData:$,success:v}=p[g],{callData:S}=h[B][g],{abi:O,address:E,functionName:k,args:N}=u[x.length];try{if(S==="0x")throw new un;if(!v)throw new Vn({data:$});const R=ot({abi:O,args:N,data:$,functionName:k});x.push(s?{result:R,status:"success"}:R)}catch(R){const j=$t(R,{abi:O,address:E,args:N,docsPath:"/docs/contract/multicall",functionName:k});if(!s)throw j;x.push({error:j,result:void 0,status:"failure"})}}}if(x.length!==u.length)throw new P("multicall results mismatch");return x}async function os(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?wa(l.blockOverrides):void 0,b=l.calls.map(w=>{const x=w,B=x.account?se(x.account):void 0,y=x.abi?we(x):x.data,p={...x,account:B,data:x.dataSuffix?be([y||"0x",x.dataSuffix]):y,from:x.from??B?.address};return Tt(p),mn(p)}),m=l.stateOverrides?ys(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:m})}const f=(typeof n=="bigint"?z(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...Wi(l),calls:l.calls.map((b,m)=>{const{abi:w,args:x,functionName:B,to:y}=s[h].calls[m],p=b.error?.data??b.returnData,g=BigInt(b.gasUsed),$=b.logs?.map(E=>Ce(E)),v=b.status==="0x1"?"success":"failure",S=w&&v==="success"&&p!=="0x"?ot({abi:w,data:p,functionName:B}):null,O=(()=>{if(v==="success")return;let E;if(b.error?.data==="0x"?E=new un:b.error&&(E=new Vn(b.error)),!!E)return $t(E,{abi:w??[],address:y??"0x",args:x,functionName:B??"<unknown>"})})();return{data:p,gasUsed:g,logs:$,status:v,...v==="success"?{result:S}:{error:O}}})}))}catch(c){const u=c,f=Wn(u,{});throw f instanceof pn?u:f}}function is(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new U("Unable to normalize signature.");return s}function as(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Xr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>as(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>as(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function mc(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return mc(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Xr(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Xr(n[r],{strict:!1}):!1)return i}}function yc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Ks(e):e;return{...r,...n?{hash:bt(r)}:{}}}function tr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=id(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?gc(u)===Ee(t,0,4):u.type==="event"?bt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new zn({name:t});if(i.length===1)return{...i[0],...s?{hash:bt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:bt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?as(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=mc(u.inputs,a.inputs,r);if(d)throw new rh({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new zn({name:t});return{...c,...s?{hash:bt(c)}:{}}}function gc(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return tr(n,r)}return e[0]})();return Ee(bt(t),0,4)}function nh(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return tr(r,s)}return e[0]})(),n=typeof t=="string"?t:Nn(t);return is(n)}function bt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return tr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Va(ks(nh(t)))}class rh extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${is(Nn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${is(Nn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class zn extends U{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function sh(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[ih(o),i]}return e})(),{bytecode:r,args:s}=n;return pe(r,t.inputs?.length&&s?.length?js(t.inputs,s):"0x")}function oh(e){return yc(e)}function ih(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new zn({name:"constructor"});return t}function ah(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Ho(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Ho([t,...r],t.name,{args:n}):t,o=ch(s),i=n.length>0?js(s.inputs,n):void 0;return i?pe(o,i):o}function ft(e,t={}){return yc(e,t)}function Ho(e,t,n){const r=tr(e,t,n);if(r.type!=="function")throw new zn({name:t,type:"function"});return r}function ch(e){return gc(e)}const uh="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ve="0x0000000000000000000000000000000000000000",fh="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function dh(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?se(t.account):void 0;if(i&&!u)throw new P("`account` is required when `traceAssetChanges` is true");const f=u?sh(oh("constructor(bytes, bytes)"),{bytecode:Pa,args:[fh,ah(ft("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:F}=await Ma(e,{account:u.address,...T,data:T.abi?we(T):T.data});return F.map(({address:L,storageKeys:_})=>_.length>0?L:null)})).then(T=>T.flat().filter(Boolean)):[],l=await os(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((T,F)=>({abi:[ft("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:ve,nonce:F})),stateOverrides:[{address:ve,nonce:0}]}]:[],{calls:[...s,{}].map(T=>({...T,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((T,F)=>({abi:[ft("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:ve,nonce:F})),stateOverrides:[{address:ve,nonce:0}]},{calls:d.map((T,F)=>({to:T,abi:[ft("function decimals() returns (uint256)")],functionName:"decimals",from:ve,nonce:F})),stateOverrides:[{address:ve,nonce:0}]},{calls:d.map((T,F)=>({to:T,abi:[ft("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ve,nonce:F})),stateOverrides:[{address:ve,nonce:0}]},{calls:d.map((T,F)=>({to:T,abi:[ft("function symbol() returns (string)")],functionName:"symbol",from:ve,nonce:F})),stateOverrides:[{address:ve,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[b,m,,w,x,B,y,p]=i?l:[],{calls:g,...$}=h,v=g.slice(0,-1)??[],S=b?.calls??[],O=m?.calls??[],E=[...S,...O].map(T=>T.status==="success"?Pe(T.data):null),k=w?.calls??[],N=x?.calls??[],R=[...k,...N].map(T=>T.status==="success"?Pe(T.data):null),j=(B?.calls??[]).map(T=>T.status==="success"?T.result:null),I=(p?.calls??[]).map(T=>T.status==="success"?T.result:null),A=(y?.calls??[]).map(T=>T.status==="success"?T.result:null),C=[];for(const[T,F]of R.entries()){const L=E[T];if(typeof F!="bigint"||typeof L!="bigint")continue;const _=j[T-1],G=I[T-1],fe=A[T-1],J=T===0?{address:uh,decimals:18,symbol:"ETH"}:{address:d[T-1],decimals:fe||_?Number(_??1):void 0,symbol:G??void 0};C.some(Z=>Z.token.address===J.address)||C.push({token:J,value:{pre:L,post:F,diff:F-L}})}return{assetChanges:C,block:$,results:v}}const wc="0x6492649264926492649264926492649264926492649264926492649264926492";function lh(e){if(Ee(e,-32)!==wc)throw new ph(e)}function hh(e){const{data:t,signature:n,to:r}=e;return pe(js(Ya("address, bytes, bytes"),[r,t,n]),wc)}function bh(e){try{return lh(e),!0}catch{return!1}}class ph extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function mh({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new lc.Signature(Pe(e),Pe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:$e(i)}async function nr(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const a=t.signature;return he(a)?a:typeof a=="object"&&"r"in a&&"s"in a?mh(a):q(a)})();try{return V1(i)?await yh(e,{...t,multicallAddress:o,signature:i}):await gh(e,{...t,verifierAddress:s,signature:i})}catch(a){try{if(yn(Pi(n),await ji({hash:r,signature:i})))return!0}catch{}if(a instanceof rt)return!1;throw a}}async function yh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=q1(t.signature);if(await Jr(e,{address:n,blockNumber:r,blockTag:s})===St(["0xef0100",a.address]))return await wh(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:z(a.r,{size:32}),s:z(a.s,{size:32}),yParity:a.yParity};if(!await il({address:n,authorization:l}))throw new rt;const b=await M(e,ye,"readContract")({...i?{address:i}:{code:Ns},authorizationList:[l],abi:Mn,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:we({abi:Ea,functionName:"isValidSignature",args:[o,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new rt}async function gh(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||bh(i)?i:hh({data:s,signature:i,to:r}))(),f=a?{to:a,data:we({abi:To,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Os({abi:To,args:[n,o,u],bytecode:hd}),...c},{data:d}=await M(e,vn,"call")(f).catch(l=>{throw l instanceof Li?new rt:l});if(Su(d??"0x0"))return!0;throw new rt}async function wh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await M(e,ye,"readContract")({address:n,abi:Ea,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Ui?new rt:c})).startsWith("0x1626ba7e"))return!0;throw new rt}class rt extends Error{}async function xh(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=_a(n);return M(e,nr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function vh(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Il({message:i,primaryType:a,types:c,domain:u});return M(e,nr,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function xc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=H(["watchBlockNumber",e.uid,t,n,i]);return De(d,{onBlockNumber:r,onError:s},l=>En(async()=>{try{const h=await M(e,Pn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let b=c+1n;b<h;b++)l.onBlockNumber(b,c),c=b}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=H(["watchBlockNumber",e.uid,t,n]);return De(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(x){if(!h)return;const B=Pe(x.result?.number);l.onBlockNumber(B,c),c=B},onError(x){l.onError?.(x)}});b=w,h||b()}catch(m){s?.(m)}})(),()=>b()})})()}async function Eh(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:g})=>~~(1<<g)*200,timeout:c=18e4}=t,u=H(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,b=!1,m,w;const{promise:x,resolve:B,reject:y}=Ba(),p=c?setTimeout(()=>{w?.(),m?.(),y(new G0({hash:s}))},c):void 0;return m=De(u,{onReplaced:o,resolve:B,reject:y},async g=>{if(h=await M(e,kn,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(p),g.resolve(h),m?.();return}w=M(e,xc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber($){const v=O=>{clearTimeout(p),w?.(),O(),m?.()};let S=$;if(!b)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;v(()=>g.resolve(h));return}if(n&&!d&&(b=!0,await Zr(async()=>{d=await M(e,qs,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:i}),b=!1),h=await M(e,kn,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;v(()=>g.resolve(h))}catch(O){if(O instanceof Mi||O instanceof zi){if(!d){b=!1;return}try{l=d,b=!0;const E=await Zr(()=>M(e,de,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:R})=>R instanceof qi});b=!1;const k=E.transactions.find(({from:R,nonce:j})=>R===l.from&&j===l.nonce);if(!k||(h=await M(e,kn,"getTransactionReceipt")({hash:k.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let N="replaced";k.to===l.to&&k.value===l.value&&k.input===l.input?N="repriced":k.from===k.to&&k.value===0n&&(N="cancelled"),v(()=>{g.onReplaced?.({reason:N,replacedTransaction:l,transaction:k,transactionReceipt:h}),g.resolve(h)})}catch(E){v(()=>g.reject(E))}}else v(()=>g.reject(O))}}})}),x}function Ph(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const b=H(["watchBlocks",e.uid,t,n,r,f,c]);return De(b,{onBlock:s,onError:o},m=>En(async()=>{try{const w=await M(e,de,"getBlock")({blockTag:t,includeTransactions:f});if(w.number!==null&&d?.number!=null){if(w.number===d.number)return;if(w.number-d.number>1&&n)for(let x=d?.number+1n;x<w.number;x++){const B=await M(e,de,"getBlock")({blockNumber:x,includeTransactions:f});m.onBlock(B,d),d=B}}(d?.number==null||t==="pending"&&w?.number==null||w.number!==null&&w.number>d.number)&&(m.onBlock(w,d),d=w)}catch(w){m.onError?.(w)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,m=!0,w=()=>b=!1;return(async()=>{try{r&&M(e,de,"getBlock")({blockTag:t,includeTransactions:f}).then(y=>{b&&m&&(s(y,void 0),m=!1)}).catch(o);const x=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(p=>p.config.type==="webSocket"||p.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:B}=await x.subscribe({params:["newHeads"],async onData(y){if(!b)return;const p=await M(e,de,"getBlock")({blockNumber:y.result?.number,includeTransactions:f}).catch(()=>{});b&&(s(p,d),m=!1,d=p)},onError(y){o?.(y)}});w=B,b||w()}catch(x){o?.(x)}})(),()=>w()})()}function $h(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const w=H(["watchEvent",t,n,r,e.uid,s,f,i]);return De(w,{onLogs:c,onError:a},x=>{let B;i!==void 0&&(B=i-1n);let y,p=!1;const g=En(async()=>{if(!p){try{y=await M(e,za,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}p=!0;return}try{let $;if(y)$=await M(e,Xn,"getFilterChanges")({filter:y});else{const v=await M(e,Pn,"getBlockNumber")({});B&&B!==v?$=await M(e,Bs,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:B+1n,toBlock:v}):$=[],B=v}if($.length===0)return;if(r)x.onLogs($);else for(const v of $)x.onLogs([v])}catch($){y&&$ instanceof Ge&&(p=!1),x.onError?.($)}},{emitOnBegin:!0,interval:f});return async()=>{y&&await M(e,Qn,"uninstallFilter")({filter:y}),g()}})})():(()=>{let w=!0,x=()=>w=!1;return(async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),y=o??(s?[s]:void 0);let p=[];y&&(p=[y.flatMap(v=>dn({abi:[v],eventName:v.name,args:n}))],s&&(p=p[0]));const{unsubscribe:g}=await B.subscribe({params:["logs",{address:t,topics:p}],onData($){if(!w)return;const v=$.result;try{const{eventName:S,args:O}=$s({abi:y??[],data:v.data,topics:v.topics,strict:h}),E=Ce(v,{args:O,eventName:S});c([E])}catch(S){let O,E;if(S instanceof Ft||S instanceof jn){if(d)return;O=S.abiItem.name,E=S.abiItem.inputs?.some(N=>!("name"in N&&N.name))}const k=Ce(v,{args:E?[]:{},eventName:O});c([k])}},onError($){a?.($)}});x=g,w||x()}catch(B){a?.(B)}})(),()=>x()})()}function Ah(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=H(["watchPendingTransactions",e.uid,t,o]);return De(u,{onTransactions:r,onError:n},f=>{let d;const l=En(async()=>{try{if(!d)try{d=await M(e,La,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await M(e,Xn,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const b of h)f.onTransactions([b])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await M(e,Qn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function Bh(e){const{scheme:t,statement:n,...r}=e.match(Ih)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(Sh)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Ih=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Sh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Th(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ue(r.address,{strict:!1})||t&&!yn(r.address,t))return!1}catch{return!1}return!0}async function kh(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Bh(s);if(!f.address||!Th({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=_a(s);return nr(e,{address:f.address,hash:l,signature:a,...u})}async function Nh(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,z(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||Ta)(s);if(i.status==="reverted"&&n)throw new _0({receipt:i});return i}function Oh(e){return{call:t=>vn(e,t),createAccessList:t=>Ma(e,t),createBlockFilter:()=>Kd(e),createContractEventFilter:t=>Ti(e,t),createEventFilter:t=>za(e,t),createPendingTransactionFilter:()=>La(e),estimateContractGas:t=>Tf(e,t),estimateGas:t=>Ps(e,t),getBalance:t=>Jd(e,t),getBlobBaseFee:()=>Xd(e),getBlock:t=>de(e,t),getBlockNumber:t=>Pn(e,t),getBlockTransactionCount:t=>Qd(e,t),getBytecode:t=>Jr(e,t),getChainId:()=>Es(e),getCode:t=>Jr(e,t),getContractEvents:t=>ra(e,t),getEip712Domain:t=>tl(e,t),getEnsAddress:t=>Cd(e,t),getEnsAvatar:t=>Wd(e,t),getEnsName:t=>Zd(e,t),getEnsResolver:t=>Yd(e,t),getEnsText:t=>Fa(e,t),getFeeHistory:t=>sl(e,t),estimateFeesPerGas:t=>df(e,t),getFilterChanges:t=>Xn(e,t),getFilterLogs:t=>ol(e,t),getGasPrice:()=>xs(e),getLogs:t=>Bs(e,t),getProof:t=>X1(e,t),estimateMaxPriorityFeePerGas:t=>ff(e,t),fillTransaction:t=>ta(e,t),getStorageAt:t=>Q1(e,t),getTransaction:t=>qs(e,t),getTransactionConfirmations:t=>eh(e,t),getTransactionCount:t=>Yi(e,t),getTransactionReceipt:t=>kn(e,t),multicall:t=>th(e,t),prepareTransactionRequest:t=>na(e,t),readContract:t=>ye(e,t),sendRawTransaction:t=>Bd(e,t),sendRawTransactionSync:t=>Nh(e,t),simulate:t=>os(e,t),simulateBlocks:t=>os(e,t),simulateCalls:t=>dh(e,t),simulateContract:t=>gd(e,t),verifyHash:t=>nr(e,t),verifyMessage:t=>xh(e,t),verifySiweMessage:t=>kh(e,t),verifyTypedData:t=>vh(e,t),uninstallFilter:t=>Qn(e,t),waitForTransactionReceipt:t=>Eh(e,t),watchBlocks:t=>Ph(e,t),watchBlockNumber:t=>xc(e,t),watchContractEvent:t=>Ad(e,t),watchEvent:t=>$h(e,t),watchPendingTransactions:t=>Ah(e,t)}}function Xh(e){const{key:t="public",name:n="Public Client"}=e;return Sd({...e,key:t,name:n,type:"publicClient"}).extend(Oh)}function Rh({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=ka();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:cl(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}class Ch extends P{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Qh(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:m=1e3,wait:w=0}=typeof n=="object"?n:{},x=t.retryCount??h,B=b??t.timeout??1e4,y=e||l?.rpcUrls.default.http[0];if(!y)throw new Ch;const p=gl(y,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:B});return Rh({key:o,methods:i,name:a,async request({method:g,params:$}){const v={method:g,params:$},{schedule:S}=Ia({id:y,wait:w,shouldSplitBatch(N){return N.length>m},fn:N=>p.request({body:N}),sort:(N,R)=>N.id-R.id}),O=async N=>n?S(N):[await p.request({body:N})],[{error:E,result:k}]=await O(v);if(d)return{error:E,result:k};if(E)throw new ms({body:v,error:E,url:y});return k},retryCount:x,retryDelay:f,timeout:B,type:"http"},{fetchOptions:s,url:y})}}export{qo as _,Bt as a,q as b,St as c,Xh as d,He as e,$e as f,Ue as g,Qh as h,Il as i,Yh as j,W as k,we as l,Jh as m,Js as p,Mt as s,je as t};
